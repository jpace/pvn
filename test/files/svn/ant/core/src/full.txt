------------------------------------------------------------------------
r1199931 | jglick | 2011-11-09 14:41:59 -0500 (Wed, 09 Nov 2011) | 1 line

#51049: <junitreport> mishandled ${line.separator}.
------------------------------------------------------------------------
r1199924 | jglick | 2011-11-09 14:24:45 -0500 (Wed, 09 Nov 2011) | 1 line

JUnitReportTest.testStackTraceLineBreaks was failing for me.
------------------------------------------------------------------------
r1199922 | jglick | 2011-11-09 14:20:04 -0500 (Wed, 09 Nov 2011) | 1 line

JUnitReportTest.testEmptyFile was failing for me.
------------------------------------------------------------------------
r1190244 | bodewig | 2011-10-28 06:48:06 -0400 (Fri, 28 Oct 2011) | 1 line

whitespace only
------------------------------------------------------------------------
r1190243 | bodewig | 2011-10-28 06:46:33 -0400 (Fri, 28 Oct 2011) | 1 line

add an option to suppress the artifical package-info.class files created by <javac>.  PR 52096
------------------------------------------------------------------------
r1190219 | bodewig | 2011-10-28 05:29:14 -0400 (Fri, 28 Oct 2011) | 1 line

make loadfile/resource less noisy for empty resources when asked to be quiet.  PR 52107.
------------------------------------------------------------------------
r1178820 | bodewig | 2011-10-04 10:54:11 -0400 (Tue, 04 Oct 2011) | 1 line

Empty package-info.class is created in wrong directory if no destdir is specified.  PR 51947
------------------------------------------------------------------------
r1177307 | bodewig | 2011-09-29 09:52:19 -0400 (Thu, 29 Sep 2011) | 1 line

Make <move> use tryHardToDelete under the covers
------------------------------------------------------------------------
r1177305 | bodewig | 2011-09-29 09:40:56 -0400 (Thu, 29 Sep 2011) | 1 line

Add an option to <delete> to run the GC before retrying a failed build on non-Windows OSes as well.  Might fix the NFS problem described in PR 45786
------------------------------------------------------------------------
r1159661 | mbenson | 2011-08-19 11:33:56 -0400 (Fri, 19 Aug 2011) | 1 line

provide read access to Mkdir.dir. PR 51684
------------------------------------------------------------------------
r1158470 | jglick | 2011-08-16 19:08:11 -0400 (Tue, 16 Aug 2011) | 1 line

#51668: JAXP regression preventing <junitreport> from working in JDK 7 w/ SecurityManager.
------------------------------------------------------------------------
r1158454 | jglick | 2011-08-16 17:35:49 -0400 (Tue, 16 Aug 2011) | 1 line

Fails to reproduce https://netbeans.org/bugzilla/show_bug.cgi?id=201022 but might as well leave it here.
------------------------------------------------------------------------
r1155197 | bodewig | 2011-08-08 23:28:32 -0400 (Mon, 08 Aug 2011) | 1 line

make AntClassLoader$ResourceEnumeration adhere to the Enumeration contract.  PR 51579
------------------------------------------------------------------------
r1154551 | bodewig | 2011-08-06 13:11:53 -0400 (Sat, 06 Aug 2011) | 1 line

never filter out the first line of the exception stack trace in junit so the failure message is preserved
------------------------------------------------------------------------
r1154190 | bodewig | 2011-08-05 08:42:54 -0400 (Fri, 05 Aug 2011) | 1 line

JUnit's filtertrace swallows the assert failure message if it contains the word 'more' as reported on the user list - http://mail-archives.apache.org/mod_mbox/ant-user/201107.mbox/%3CCAPsH_EDFnhkW4Y4r87U2jmN2gKPAyK6ZJX5F-4ohC6tJ9rXi6Q@mail.gmail.com%3E
------------------------------------------------------------------------
r1154107 | bodewig | 2011-08-05 03:33:25 -0400 (Fri, 05 Aug 2011) | 1 line

there is an off-by-one error in the loop that searches for the 'end of central directory record'
------------------------------------------------------------------------
r1153485 | bodewig | 2011-08-03 09:40:35 -0400 (Wed, 03 Aug 2011) | 1 line

finalize deflater instance in ZipOutputStream.
------------------------------------------------------------------------
r1151714 | bodewig | 2011-07-27 23:44:27 -0400 (Wed, 27 Jul 2011) | 1 line

complete task cleanup, likely not necessary but looks better
------------------------------------------------------------------------
r1151473 | bodewig | 2011-07-27 10:08:00 -0400 (Wed, 27 Jul 2011) | 1 line

restore RCW id once augment has performed its job so it can be reused by other targets.  PR 50894
------------------------------------------------------------------------
r1151388 | bodewig | 2011-07-27 04:55:00 -0400 (Wed, 27 Jul 2011) | 1 line

no reason to keep a reference to the enclosing Restrict instance
------------------------------------------------------------------------
r1151386 | bodewig | 2011-07-27 04:50:44 -0400 (Wed, 27 Jul 2011) | 1 line

when working on resources <sync> forgot about the source resources that are not out-of date.  PR 51462
------------------------------------------------------------------------
r1151369 | bodewig | 2011-07-27 03:34:45 -0400 (Wed, 27 Jul 2011) | 1 line

support multiple resource collections in sync.  PR 51462
------------------------------------------------------------------------
r1151269 | hibou | 2011-07-26 18:02:37 -0400 (Tue, 26 Jul 2011) | 3 lines

BR 51161:
 - don't close System.in otherwise it won't be readable anymore

------------------------------------------------------------------------
r1150331 | hibou | 2011-07-24 06:35:58 -0400 (Sun, 24 Jul 2011) | 4 lines

BR 41986
 - add a quiet attribute to the copy task to not print warning messages
Thanks to Timoteo Ohara

------------------------------------------------------------------------
r1148910 | jglick | 2011-07-20 15:22:19 -0400 (Wed, 20 Jul 2011) | 1 line

FindBugs.
------------------------------------------------------------------------
r1146031 | bodewig | 2011-07-13 09:55:43 -0400 (Wed, 13 Jul 2011) | 1 line

merge tracking
------------------------------------------------------------------------
r1146020 | bodewig | 2011-07-13 09:44:20 -0400 (Wed, 13 Jul 2011) | 1 line

clean up Inflater instance as some JDKs won't do it for us.  PR 42696.  Submitted by Mounir
------------------------------------------------------------------------
r1140351 | jglick | 2011-06-27 18:38:55 -0400 (Mon, 27 Jun 2011) | 2 lines

Using apparently official URL base, at least according to the HTTP redirect.

------------------------------------------------------------------------
r1097584 | hibou | 2011-04-28 15:39:53 -0400 (Thu, 28 Apr 2011) | 3 lines

Fix for BR #48789.
Handle an IOE with "Pipe broken" just like a one with "Write end dead". They are raised for the same reason but not at the same time.

------------------------------------------------------------------------
r1097261 | hibou | 2011-04-27 18:14:03 -0400 (Wed, 27 Apr 2011) | 2 lines

Revert commit #1095768 on java.xml and fix the redirector to not funnel streams if there is an errorProperty set

------------------------------------------------------------------------
r1097260 | hibou | 2011-04-27 18:11:54 -0400 (Wed, 27 Apr 2011) | 2 lines

Improve javadoc

------------------------------------------------------------------------
r1096209 | antoine | 2011-04-23 15:25:54 -0400 (Sat, 23 Apr 2011) | 1 line

Missing space between finished and timestamp in task/target finish message from ProfileLogger, bugrep 51109
------------------------------------------------------------------------
r1095784 | antoine | 2011-04-21 13:49:28 -0400 (Thu, 21 Apr 2011) | 1 line

accept sh.exe from env.Path as well as from env.PATH to be able to run the tests
------------------------------------------------------------------------
r1095768 | antoine | 2011-04-21 12:18:32 -0400 (Thu, 21 Apr 2011) | 1 line

tweaking tests affecting by having made flush a no-op in fixing bug 50507
------------------------------------------------------------------------
r1095736 | antoine | 2011-04-21 10:57:02 -0400 (Thu, 21 Apr 2011) | 1 line

Exec task may mix the stderr and stdout output while logging it. Bugzilla 50507
------------------------------------------------------------------------
r1095270 | bodewig | 2011-04-20 01:10:21 -0400 (Wed, 20 Apr 2011) | 1 line

raise a more useful error when a class cannot be loaded because of a SecurityException in the hasmethod condition.  PR 51035.
------------------------------------------------------------------------
r1095224 | antoine | 2011-04-19 18:04:37 -0400 (Tue, 19 Apr 2011) | 1 line

I had hardcoded the test.can.run property, also I had emptied the cleanup
------------------------------------------------------------------------
r1095222 | antoine | 2011-04-19 17:45:54 -0400 (Tue, 19 Apr 2011) | 1 line

creating test for bugrep 50507 Exec task may mix the stderr and stdout output while logging it
------------------------------------------------------------------------
r1092610 | bodewig | 2011-04-15 03:24:35 -0400 (Fri, 15 Apr 2011) | 1 line

commons-net trunk has removed all static final ints from FTPReply
------------------------------------------------------------------------
r1090450 | mbenson | 2011-04-08 17:19:47 -0400 (Fri, 08 Apr 2011) | 1 line

readFully(), then index into a char[], rather than calling substring(1) after each read() call
------------------------------------------------------------------------
r1090431 | mbenson | 2011-04-08 16:27:04 -0400 (Fri, 08 Apr 2011) | 1 line

Bug 51044 - Allow a <propertyset> in an <expandproperties> filter
------------------------------------------------------------------------
r1090430 | mbenson | 2011-04-08 16:22:41 -0400 (Fri, 08 Apr 2011) | 1 line

sp
------------------------------------------------------------------------
r1090366 | mbenson | 2011-04-08 13:54:50 -0400 (Fri, 08 Apr 2011) | 1 line

add basic functionality test for expandproperties filter
------------------------------------------------------------------------
r1090356 | mbenson | 2011-04-08 13:27:16 -0400 (Fri, 08 Apr 2011) | 1 line

javadoc
------------------------------------------------------------------------
r1090354 | mbenson | 2011-04-08 13:20:08 -0400 (Fri, 08 Apr 2011) | 1 line

Resource collection implementation of mapped PropertySet returned unusable resources.
------------------------------------------------------------------------
r1090350 | mbenson | 2011-04-08 12:53:48 -0400 (Fri, 08 Apr 2011) | 1 line

add a basic resources test, plus a failing test demonstrating that propertysets with mappers don't function properly wrt returning resource iterators
------------------------------------------------------------------------
r1090340 | mbenson | 2011-04-08 12:39:50 -0400 (Fri, 08 Apr 2011) | 1 line

move propertyset test to antunit
------------------------------------------------------------------------
r1090325 | mbenson | 2011-04-08 12:24:19 -0400 (Fri, 08 Apr 2011) | 1 line

fix fileResource specified using basedir/name attributes
------------------------------------------------------------------------
r1090323 | mbenson | 2011-04-08 12:21:12 -0400 (Fri, 08 Apr 2011) | 1 line

add (failing) testcase that exposes a current weakness of fileResource
------------------------------------------------------------------------
r1090319 | mbenson | 2011-04-08 12:16:30 -0400 (Fri, 08 Apr 2011) | 1 line

ws consistency
------------------------------------------------------------------------
r1090317 | mbenson | 2011-04-08 12:12:30 -0400 (Fri, 08 Apr 2011) | 1 line

allow to specify name when using concat as a resource
------------------------------------------------------------------------
r1090304 | mbenson | 2011-04-08 11:45:49 -0400 (Fri, 08 Apr 2011) | 1 line

typos
------------------------------------------------------------------------
r1086741 | hibou | 2011-03-29 16:59:05 -0400 (Tue, 29 Mar 2011) | 2 lines

BR 50960. Use autoflush so that content get pushed to the forked application

------------------------------------------------------------------------
r1080590 | jglick | 2011-03-11 09:59:22 -0500 (Fri, 11 Mar 2011) | 2 lines

URL update.

------------------------------------------------------------------------
r1079580 | hibou | 2011-03-08 17:24:44 -0500 (Tue, 08 Mar 2011) | 3 lines

Bug #50866:
 - the prefix was not propagated to imported resources within included resources.

------------------------------------------------------------------------
r1079430 | bodewig | 2011-03-08 11:49:16 -0500 (Tue, 08 Mar 2011) | 1 line

use setproxy inside splash in order to fix PR 50888
------------------------------------------------------------------------
r1077973 | antoine | 2011-03-04 09:43:26 -0500 (Fri, 04 Mar 2011) | 1 line

fixing test for gump
------------------------------------------------------------------------
r1077809 | antoine | 2011-03-04 00:31:16 -0500 (Fri, 04 Mar 2011) | 1 line

testCompilerNotFound is not relevant if the class folder containing the adapter is on the system classpath like in Gump
------------------------------------------------------------------------
r1077808 | antoine | 2011-03-04 00:26:39 -0500 (Fri, 04 Mar 2011) | 1 line

testAdapterNotFound was failing in gump because the adapter in the gump environment is systematically on the classpath
------------------------------------------------------------------------
r1076106 | antoine | 2011-03-02 00:09:17 -0500 (Wed, 02 Mar 2011) | 1 line

antunit-base.xml was not imported from this file, but needed to define some properties like 
------------------------------------------------------------------------
r1076104 | antoine | 2011-03-01 23:54:04 -0500 (Tue, 01 Mar 2011) | 1 line

intervert execution order of tearDown and antunit-base.tearDown
------------------------------------------------------------------------
r1075735 | bodewig | 2011-03-01 04:12:05 -0500 (Tue, 01 Mar 2011) | 1 line

redirect makes test fail on my machine
------------------------------------------------------------------------
r1075705 | bodewig | 2011-03-01 03:41:49 -0500 (Tue, 01 Mar 2011) | 1 line

sync with build.xml
------------------------------------------------------------------------
r1075703 | bodewig | 2011-03-01 03:40:09 -0500 (Tue, 01 Mar 2011) | 1 line

consistency
------------------------------------------------------------------------
r1075702 | bodewig | 2011-03-01 03:39:43 -0500 (Tue, 01 Mar 2011) | 1 line

redundant delete
------------------------------------------------------------------------
r1075701 | bodewig | 2011-03-01 03:39:05 -0500 (Tue, 01 Mar 2011) | 1 line

try a bit harder to delete used jars
------------------------------------------------------------------------
r1075664 | antoine | 2011-03-01 00:20:57 -0500 (Tue, 01 Mar 2011) | 1 line

changes in order to get tests to pass under gump; resources paths used have to be standardized
------------------------------------------------------------------------
r1075177 | antoine | 2011-02-27 18:13:30 -0500 (Sun, 27 Feb 2011) | 1 line

PR 50716. Here is a case where optimizing a loop by using a variable for the upper bound of the loop breaks an existing test case RhinoTest.
------------------------------------------------------------------------
r1071420 | maartenc | 2011-02-16 17:10:16 -0500 (Wed, 16 Feb 2011) | 1 line

Fixed typing error.
------------------------------------------------------------------------
r1066975 | bodewig | 2011-02-03 16:13:10 -0500 (Thu, 03 Feb 2011) | 1 line

actually make use of the final variable
------------------------------------------------------------------------
r1066968 | bodewig | 2011-02-03 16:02:41 -0500 (Thu, 03 Feb 2011) | 1 line

tearDown target has been removed from propertyhelper-test
------------------------------------------------------------------------
r1066963 | bodewig | 2011-02-03 16:00:00 -0500 (Thu, 03 Feb 2011) | 1 line

microoptimizations.  PR 50716
------------------------------------------------------------------------
r1065204 | bodewig | 2011-01-30 02:23:47 -0500 (Sun, 30 Jan 2011) | 1 line

Maillogger ignored starttls property.  PR 50668
------------------------------------------------------------------------
r1063224 | bodewig | 2011-01-25 06:00:20 -0500 (Tue, 25 Jan 2011) | 1 line

Actually implement inputstring and document inputproperty.  PR 50576
------------------------------------------------------------------------
r1062724 | bodewig | 2011-01-24 05:42:55 -0500 (Mon, 24 Jan 2011) | 1 line

embrace antunit-base here as well
------------------------------------------------------------------------
r1062723 | bodewig | 2011-01-24 05:37:55 -0500 (Mon, 24 Jan 2011) | 1 line

embrace antunit-base
------------------------------------------------------------------------
r1062337 | bodewig | 2011-01-23 02:08:23 -0500 (Sun, 23 Jan 2011) | 1 line

reduce the number of different directories tests compile classes to
------------------------------------------------------------------------
r1061822 | bodewig | 2011-01-21 09:33:47 -0500 (Fri, 21 Jan 2011) | 1 line

fall back to system properties for build.sysclasspath if there is no project instance
------------------------------------------------------------------------
r1061156 | bodewig | 2011-01-20 03:25:35 -0500 (Thu, 20 Jan 2011) | 1 line

Give build.sysclasspath a chance to influence a forked VM's bootclasspath even if the user didn't supply one herself
------------------------------------------------------------------------
r1058854 | bodewig | 2011-01-14 00:14:52 -0500 (Fri, 14 Jan 2011) | 1 line

the -source magic was broken for 1.5 and 1.6.  PR 50578
------------------------------------------------------------------------
r1057294 | antoine | 2011-01-10 13:10:17 -0500 (Mon, 10 Jan 2011) | 1 line

fixing typo
------------------------------------------------------------------------
r1056313 | antoine | 2011-01-07 08:49:18 -0500 (Fri, 07 Jan 2011) | 1 line

update of complete-ant-cmd.pl suggested by Ondra Medeksee http://mail-archives.apache.org/mod_mbox/ant-user/201101.mbox/%3CAANLkTinbngSscXy5nAQJaCRQPcVHJQqRJSyuzdneyene@mail.gmail.com%3E
------------------------------------------------------------------------
r1055487 | jglick | 2011-01-05 10:17:59 -0500 (Wed, 05 Jan 2011) | 2 lines

#50543: decodeUri broken for non-ASCII chars in input.

------------------------------------------------------------------------
r1055418 | bodewig | 2011-01-05 06:18:26 -0500 (Wed, 05 Jan 2011) | 1 line

add maxmemory attribute to javacc and friends.  PR 50513
------------------------------------------------------------------------
r1055099 | jglick | 2011-01-04 11:49:45 -0500 (Tue, 04 Jan 2011) | 2 lines

testFailNone (now renamed testTestMethods) was passing without actually doing anything.

------------------------------------------------------------------------
r1054711 | antoine | 2011-01-03 13:56:52 -0500 (Mon, 03 Jan 2011) | 1 line

fix for bug 50515, incorrect unicode escapes in propertyfile task
------------------------------------------------------------------------
r1054686 | antoine | 2011-01-03 12:04:41 -0500 (Mon, 03 Jan 2011) | 1 line

adding a reference to the bug report
------------------------------------------------------------------------
r1054685 | antoine | 2011-01-03 12:02:54 -0500 (Mon, 03 Jan 2011) | 1 line

test for bug 50515
------------------------------------------------------------------------
r1052727 | antoine | 2010-12-24 18:37:35 -0500 (Fri, 24 Dec 2010) | 1 line

bumping version up to 1.8.3 for next release preparation
------------------------------------------------------------------------
r1052404 | maartenc | 2010-12-23 17:51:20 -0500 (Thu, 23 Dec 2010) | 1 line

Spelling corrections.
------------------------------------------------------------------------
r1051163 | antoine | 2010-12-20 11:06:58 -0500 (Mon, 20 Dec 2010) | 1 line

rolling back changes of revision 1045376 in order to generate a second 1.8.2 release candidate
------------------------------------------------------------------------
r1050993 | antoine | 2010-12-20 00:28:04 -0500 (Mon, 20 Dec 2010) | 1 line

needed for execution of single methods according to email of Jesse Glick. Bugzilla 34748.reference of the email http://mail-archives.apache.org/mod_mbox/ant-dev/201012.mbox/%3Cloom.20101217T222806-442@post.gmane.org%3E
------------------------------------------------------------------------
r1049295 | antoine | 2010-12-14 16:42:42 -0500 (Tue, 14 Dec 2010) | 1 line

another change in order not to get any warnings during JavaDoc generation when preparing releases
------------------------------------------------------------------------
r1045376 | antoine | 2010-12-13 16:13:14 -0500 (Mon, 13 Dec 2010) | 1 line

preparing for the next release
------------------------------------------------------------------------
r1045304 | antoine | 2010-12-13 14:00:18 -0500 (Mon, 13 Dec 2010) | 1 line

preparation for the 1.8.2 release
------------------------------------------------------------------------
r1045116 | bodewig | 2010-12-13 08:44:48 -0500 (Mon, 13 Dec 2010) | 1 line

improve performance of VectorSet#add - PR 50200
------------------------------------------------------------------------
r1043813 | antoine | 2010-12-08 20:34:54 -0500 (Wed, 08 Dec 2010) | 1 line

get 100% passing tests under Windows jdk 1.5 - the JRE 1.5 is not able to open a jar URL when the jar is in a path containing an exclamation mark in the middle
------------------------------------------------------------------------
r1043505 | antoine | 2010-12-08 11:38:39 -0500 (Wed, 08 Dec 2010) | 1 line

fixing warnings in javadoc generation
------------------------------------------------------------------------
r1040874 | bodewig | 2010-12-01 00:25:48 -0500 (Wed, 01 Dec 2010) | 1 line

create a more predictable order in copy.  PR 50297.
------------------------------------------------------------------------
r1040627 | bodewig | 2010-11-30 11:39:53 -0500 (Tue, 30 Nov 2010) | 1 line

A Hashtable subclass that works like a LinkedHashMap.  Will be useful for PR 50297
------------------------------------------------------------------------
r1040173 | bodewig | 2010-11-29 11:27:52 -0500 (Mon, 29 Nov 2010) | 1 line

whitespace
------------------------------------------------------------------------
r1040171 | bodewig | 2010-11-29 11:25:31 -0500 (Mon, 29 Nov 2010) | 1 line

forgot to add file need to close PR 48829.
------------------------------------------------------------------------
r1040170 | bodewig | 2010-11-29 11:23:51 -0500 (Mon, 29 Nov 2010) | 1 line

support sources with extensions other than .java in javac.  Submitted by Andrew Eisenberg.  PR 48829.
------------------------------------------------------------------------
r1040148 | bodewig | 2010-11-29 10:28:17 -0500 (Mon, 29 Nov 2010) | 1 line

Use a class not present in libgcj to detect Java 1.6 - PR 50256
------------------------------------------------------------------------
r1039413 | bodewig | 2010-11-26 10:27:51 -0500 (Fri, 26 Nov 2010) | 1 line

keep case of env var keys the user has added
------------------------------------------------------------------------
r1039400 | bodewig | 2010-11-26 10:01:46 -0500 (Fri, 26 Nov 2010) | 1 line

provide a Map based method to access environment variables and use that.  Don't use System.getenv() on OpenVMS.  PR 49366
------------------------------------------------------------------------
r1037691 | bodewig | 2010-11-22 07:27:03 -0500 (Mon, 22 Nov 2010) | 1 line

fix a bunch of warnings you get when building on Harmony which uses Eclipse's compiler.  There are still lots (more than 100) of deprecation warnings and warnings about missing serialversionids that I have ignored.
------------------------------------------------------------------------
r1037667 | bodewig | 2010-11-22 05:43:32 -0500 (Mon, 22 Nov 2010) | 1 line

fixup -source for OpenJDK7's javac
------------------------------------------------------------------------
r1037607 | bodewig | 2010-11-22 00:29:43 -0500 (Mon, 22 Nov 2010) | 1 line

detect Java7 features
------------------------------------------------------------------------
r1036906 | bodewig | 2010-11-19 10:47:48 -0500 (Fri, 19 Nov 2010) | 1 line

restrict impact of fix for PR 50295 on 'good' VMs to an additional syscall for empty directories rather than an additional call for every directory
------------------------------------------------------------------------
r1036905 | bodewig | 2010-11-19 10:44:38 -0500 (Fri, 19 Nov 2010) | 1 line

Make DirectoryScanner work on buggy JVMs where File.list() returns an empty array rather than null for files.  PR 50295.  Submitted by Daniel Smith
------------------------------------------------------------------------
r1036586 | jhm | 2010-11-18 14:34:38 -0500 (Thu, 18 Nov 2010) | 1 line

typo + whitespace
------------------------------------------------------------------------
r1035336 | hibou | 2010-11-15 11:09:41 -0500 (Mon, 15 Nov 2010) | 1 line

remove useless import
------------------------------------------------------------------------
r1035335 | hibou | 2010-11-15 11:09:07 -0500 (Mon, 15 Nov 2010) | 1 line

Make an enum like class for the values of the missing extension point behavior
------------------------------------------------------------------------
r1034687 | bodewig | 2010-11-13 02:07:25 -0500 (Sat, 13 Nov 2010) | 1 line

trademark
------------------------------------------------------------------------
r1033587 | bodewig | 2010-11-10 11:53:35 -0500 (Wed, 10 Nov 2010) | 1 line

detect Apache Harmony
------------------------------------------------------------------------
r1033569 | bodewig | 2010-11-10 11:27:04 -0500 (Wed, 10 Nov 2010) | 1 line

print whether Kaffe/gcj have been detected in -diagnostics
------------------------------------------------------------------------
r1033513 | jglick | 2010-11-10 10:23:51 -0500 (Wed, 10 Nov 2010) | 3 lines

Compilability under JDK 1.4/5 too, sigh.
(Cannot verify since Ant is unbuildable on Linux under JDK 1.4 anyway, due to NIO bug worked around in 1.8.2.)

------------------------------------------------------------------------
r1033505 | jglick | 2010-11-10 09:59:11 -0500 (Wed, 10 Nov 2010) | 2 lines

JDK 7 compilability.

------------------------------------------------------------------------
r1033073 | hibou | 2010-11-09 11:34:09 -0500 (Tue, 09 Nov 2010) | 1 line

fix grammar
------------------------------------------------------------------------
r1033072 | hibou | 2010-11-09 11:33:47 -0500 (Tue, 09 Nov 2010) | 1 line

fix my english
------------------------------------------------------------------------
r1032990 | hibou | 2010-11-09 09:14:36 -0500 (Tue, 09 Nov 2010) | 1 line

unit test, doc and fix for the bindtargets task
------------------------------------------------------------------------
r1032931 | hibou | 2010-11-09 06:35:56 -0500 (Tue, 09 Nov 2010) | 2 lines

If there is -d, debug mode, make the -p, project help, print the dependencies of the targets
This will help debugging extension points
------------------------------------------------------------------------
r1032923 | hibou | 2010-11-09 06:12:18 -0500 (Tue, 09 Nov 2010) | 1 line

add some comment about some type parameter
------------------------------------------------------------------------
r1032922 | hibou | 2010-11-09 06:08:31 -0500 (Tue, 09 Nov 2010) | 2 lines

Add a task to bind a target to an extension point.
doc and unit test still to do.
------------------------------------------------------------------------
r1032188 | antoine | 2010-11-06 20:02:57 -0400 (Sat, 06 Nov 2010) | 1 line

fix for bug 50217, NPE in ftp chmod
------------------------------------------------------------------------
r1028816 | bodewig | 2010-10-29 11:57:24 -0400 (Fri, 29 Oct 2010) | 1 line

make it a sentence
------------------------------------------------------------------------
r1028815 | bodewig | 2010-10-29 11:56:44 -0400 (Fri, 29 Oct 2010) | 1 line

comments and indentation only
------------------------------------------------------------------------
r1028813 | bodewig | 2010-10-29 11:52:23 -0400 (Fri, 29 Oct 2010) | 1 line

zip's whenempty doesn't look at non-filesets at all.  PR 50115
------------------------------------------------------------------------
r1028755 | stevel | 2010-10-29 10:05:05 -0400 (Fri, 29 Oct 2010) | 1 line

Bugzilla Report 48835 StringUtils.parseHumanSizes() should turn parse failures into  BuildExceptions.
------------------------------------------------------------------------
r1028749 | stevel | 2010-10-29 10:00:37 -0400 (Fri, 29 Oct 2010) | 1 line

JUnit XMLResultAggregator logs the stack trace of caught IO exceptions in verbose runs. Bugzilla Report 48836.
------------------------------------------------------------------------
r1027431 | bodewig | 2010-10-26 05:49:56 -0400 (Tue, 26 Oct 2010) | 1 line

write all buffered data to the stream in TarOutputStream#finish.  PR 50014
------------------------------------------------------------------------
r1027179 | bodewig | 2010-10-25 12:06:12 -0400 (Mon, 25 Oct 2010) | 1 line

preserve linefeed-style in propertyfile task.  PR 50049
------------------------------------------------------------------------
r1027142 | bodewig | 2010-10-25 10:34:48 -0400 (Mon, 25 Oct 2010) | 1 line

the package name ends at the last dot of a classname, not the first.  PR 45227.
------------------------------------------------------------------------
r1027125 | bodewig | 2010-10-25 10:04:38 -0400 (Mon, 25 Oct 2010) | 1 line

don't allow tasks to finish in <parallel> when the manual says 'execution is terminated'.  PR 49527
------------------------------------------------------------------------
r1027103 | bodewig | 2010-10-25 09:12:33 -0400 (Mon, 25 Oct 2010) | 1 line

allow more path 'views' of a file as elements inside <checksum>s pattern.  PR 50114
------------------------------------------------------------------------
r1027025 | bodewig | 2010-10-25 06:08:35 -0400 (Mon, 25 Oct 2010) | 1 line

add support for gchj to javah.  PR 50149.  Submitted by Bernhard Rosenkraenzer
------------------------------------------------------------------------
r1027006 | bodewig | 2010-10-25 05:41:34 -0400 (Mon, 25 Oct 2010) | 1 line

sort imports
------------------------------------------------------------------------
r1027003 | bodewig | 2010-10-25 05:40:29 -0400 (Mon, 25 Oct 2010) | 1 line

properly close streams.  PR 50136
------------------------------------------------------------------------
r1027000 | bodewig | 2010-10-25 05:34:00 -0400 (Mon, 25 Oct 2010) | 1 line

don't ignore fileset's errorOnMissingDir in <delete>
------------------------------------------------------------------------
r1026991 | bodewig | 2010-10-25 05:18:40 -0400 (Mon, 25 Oct 2010) | 1 line

passing testcase for PR 50115
------------------------------------------------------------------------
r1026986 | bodewig | 2010-10-25 05:12:04 -0400 (Mon, 25 Oct 2010) | 1 line

whitespace
------------------------------------------------------------------------
r1026982 | bodewig | 2010-10-25 05:09:52 -0400 (Mon, 25 Oct 2010) | 1 line

don't rely on IntorspectionHelper normalizing file names in signjar.  PR 50081.
------------------------------------------------------------------------
r1026334 | bodewig | 2010-10-22 10:08:09 -0400 (Fri, 22 Oct 2010) | 1 line

move bulk of signjar tests to AntUnit tests
------------------------------------------------------------------------
r1024417 | antoine | 2010-10-19 17:23:22 -0400 (Tue, 19 Oct 2010) | 1 line

ant.bat exit strategy improvements and issues, Bugzilla 41039, patch supplied by Mark DeLaFranier
------------------------------------------------------------------------
r1004210 | bodewig | 2010-10-04 07:52:02 -0400 (Mon, 04 Oct 2010) | 1 line

these files are not needed for a working CVS repository
------------------------------------------------------------------------
r1002465 | bodewig | 2010-09-29 00:28:06 -0400 (Wed, 29 Sep 2010) | 1 line

implement Closeable in AntClassLoader5
------------------------------------------------------------------------
r1002462 | bodewig | 2010-09-29 00:15:43 -0400 (Wed, 29 Sep 2010) | 1 line

move jars that are created during tests but cannot be deleted to a directory inside the build dir rather than java.io.tmpdir
------------------------------------------------------------------------
r1001756 | bodewig | 2010-09-27 10:33:08 -0400 (Mon, 27 Sep 2010) | 1 line

according to the javadocs of JarURLConnection the separator is !/ not ! - this allows dealing with jars in directories that contain a ! in their name, as long as it is not at the end of the directory name.  PR 50007
------------------------------------------------------------------------
r999439 | bodewig | 2010-09-21 10:41:41 -0400 (Tue, 21 Sep 2010) | 1 line

eos-new isn't that new anymore
------------------------------------------------------------------------
r999368 | bodewig | 2010-09-21 08:07:29 -0400 (Tue, 21 Sep 2010) | 1 line

don't swallow first arg if CLASSPATH isn't set.  PR 49963.  Submitted by Devon C. Miller
------------------------------------------------------------------------
r999131 | maartenc | 2010-09-20 17:55:11 -0400 (Mon, 20 Sep 2010) | 1 line

Fixed typo in developer-scm-url.
------------------------------------------------------------------------
r998962 | bodewig | 2010-09-20 11:51:18 -0400 (Mon, 20 Sep 2010) | 1 line

Add a mapper similar to wget --cut-dirs, based on user-list discussion initiated by Michael Ludwig
------------------------------------------------------------------------
r990865 | jkf | 2010-08-30 13:03:27 -0400 (Mon, 30 Aug 2010) | 1 line

Forward lookup will no longer give back ip address split in host and domain. On gump apparently the ip address cannot be resolved to the real hostname.
------------------------------------------------------------------------
r990692 | jkf | 2010-08-30 00:05:46 -0400 (Mon, 30 Aug 2010) | 2 lines

fixed error in patch committed yesterday.
Site Local with address no longer overwrites global without.
------------------------------------------------------------------------
r990653 | jkf | 2010-08-29 17:07:29 -0400 (Sun, 29 Aug 2010) | 2 lines

Bugzilla 49513, reported by jks/iname 
Availability of hostname is now taken into consideration when selecting a local address.
------------------------------------------------------------------------
r989700 | bodewig | 2010-08-26 10:08:38 -0400 (Thu, 26 Aug 2010) | 1 line

Add license information to parent POM
------------------------------------------------------------------------
r988095 | bodewig | 2010-08-23 07:57:37 -0400 (Mon, 23 Aug 2010) | 1 line

NPE in Project.setDefault.  PR 49803
------------------------------------------------------------------------
r987139 | bodewig | 2010-08-19 08:21:03 -0400 (Thu, 19 Aug 2010) | 1 line

allow test listener events to be enabled by an attribute or a magic property - disable them by default
------------------------------------------------------------------------
r986668 | hibou | 2010-08-18 09:38:15 -0400 (Wed, 18 Aug 2010) | 4 lines

bug #49119:
 - put the fix back again but only for input which is not a string or a file
 - and a unit test

------------------------------------------------------------------------
r986457 | bodewig | 2010-08-17 15:16:19 -0400 (Tue, 17 Aug 2010) | 1 line

support casesensitive in linecontainsregexp and casesensitive, multiline and singleline in containsregexp.  PR 49764
------------------------------------------------------------------------
r986445 | bodewig | 2010-08-17 14:30:52 -0400 (Tue, 17 Aug 2010) | 1 line

merge redundant code
------------------------------------------------------------------------
r986290 | bodewig | 2010-08-17 08:22:07 -0400 (Tue, 17 Aug 2010) | 1 line

allow copy/@tofile to be used with non-file resources.  PR 49756
------------------------------------------------------------------------
r986232 | bodewig | 2010-08-17 04:00:39 -0400 (Tue, 17 Aug 2010) | 1 line

clean up after test
------------------------------------------------------------------------
r986226 | bodewig | 2010-08-17 03:57:18 -0400 (Tue, 17 Aug 2010) | 1 line

Avoid NPE in createTempFile if no prfix has been specified.  PR 49755
------------------------------------------------------------------------
r985957 | jglick | 2010-08-16 10:26:38 -0400 (Mon, 16 Aug 2010) | 2 lines

New builder location.

------------------------------------------------------------------------
r985652 | hibou | 2010-08-15 06:39:34 -0400 (Sun, 15 Aug 2010) | 2 lines

Give a name to the thread

------------------------------------------------------------------------
r985640 | hibou | 2010-08-15 05:32:28 -0400 (Sun, 15 Aug 2010) | 2 lines

r985632 : actually it is breaking unit test, reverting

------------------------------------------------------------------------
r985632 | hibou | 2010-08-15 05:09:37 -0400 (Sun, 15 Aug 2010) | 3 lines

Bug #49119 :
A forked <java> task is creating a pumping thread on the input stream. The read was made blocking, so the pumping thread is still blocked after <java> finished. So it will steal the first flushed charaters from the input stream. Making the pumping non blocking fixed the issue.

------------------------------------------------------------------------
r983308 | bodewig | 2010-08-07 16:43:21 -0400 (Sat, 07 Aug 2010) | 1 line

<jar doesn't merge manifests that come from zipfilesets with prefix.  PR 49605
------------------------------------------------------------------------
r982773 | bodewig | 2010-08-05 16:44:30 -0400 (Thu, 05 Aug 2010) | 1 line

nested redirectors and parrallel-apply don't mix well - PR 49594
------------------------------------------------------------------------
r982731 | bodewig | 2010-08-05 14:53:14 -0400 (Thu, 05 Aug 2010) | 1 line

DNS changes
------------------------------------------------------------------------
r982730 | bodewig | 2010-08-05 14:51:52 -0400 (Thu, 05 Aug 2010) | 1 line

unused variable
------------------------------------------------------------------------
r982729 | bodewig | 2010-08-05 14:45:11 -0400 (Thu, 05 Aug 2010) | 1 line

better fix for bug 49271 as suggested by Jesse
------------------------------------------------------------------------
r982469 | bodewig | 2010-08-05 00:55:55 -0400 (Thu, 05 Aug 2010) | 1 line

add Git, Mercurial and Bazaar files/dirs to defaultexcludes.  Submitted by Ville Skyttä.  PR 49624
------------------------------------------------------------------------
r981165 | bodewig | 2010-08-01 02:22:59 -0400 (Sun, 01 Aug 2010) | 1 line

vmgump doesn't resolve www.apache.org properly
------------------------------------------------------------------------
r980536 | hibou | 2010-07-29 14:33:17 -0400 (Thu, 29 Jul 2010) | 3 lines

- make the import task able to switch the project helper
- introduce a <projecthelper> task to install project helpers dynamically, especially usefull for unit testing

------------------------------------------------------------------------
r980127 | bodewig | 2010-07-28 13:08:37 -0400 (Wed, 28 Jul 2010) | 1 line

something seems to be wrong with vmgump's hostname resolution - allow for alternative real host names
------------------------------------------------------------------------
r965363 | bodewig | 2010-07-19 02:27:03 -0400 (Mon, 19 Jul 2010) | 1 line

host of ASF webs has changed
------------------------------------------------------------------------
r963687 | bodewig | 2010-07-13 07:58:59 -0400 (Tue, 13 Jul 2010) | 1 line

Resources#toString relies on cache too much.  PR 49588
------------------------------------------------------------------------
r962492 | bodewig | 2010-07-09 07:53:00 -0400 (Fri, 09 Jul 2010) | 1 line

move POM used by Gump to Gump's part of the ASF repository
------------------------------------------------------------------------
r962483 | bodewig | 2010-07-09 07:04:49 -0400 (Fri, 09 Jul 2010) | 1 line

multiple parallel mkdirs could make each other fail.  PR 49572
------------------------------------------------------------------------
r961380 | jglick | 2010-07-07 09:59:37 -0400 (Wed, 07 Jul 2010) | 2 lines

JUnitTaskTest.testFailureRecorder failure (on JDK 1.4) after rev 960931.

------------------------------------------------------------------------
r960950 | jglick | 2010-07-06 13:26:04 -0400 (Tue, 06 Jul 2010) | 7 lines

Hackish way of making NetRexxC.jar available to the Maven build without using a public repo.
Easy enough to run fetch.xml during Maven build, but complicated by fact that
system-scope dependencies are checked for existence before plugins get a chance
to run. Also complicated a bit by the fact that adding a plugin dependency to
maven-antrun-plugin (on commons-net:commons-net:1.4.0) does not seem to suffice
to let Ant load the <ftp> task (which does not support nested <classpath>).

------------------------------------------------------------------------
r960931 | jglick | 2010-07-06 12:16:27 -0400 (Tue, 06 Jul 2010) | 2 lines

Fixing various dependencies, mostly from FindBugs, some from the NetBeans editor.

------------------------------------------------------------------------
r960917 | jglick | 2010-07-06 11:33:47 -0400 (Tue, 06 Jul 2010) | 2 lines

JAI is in fact available in a nondefault public Maven repository, so use that.

------------------------------------------------------------------------
r960770 | bodewig | 2010-07-05 23:51:43 -0400 (Mon, 05 Jul 2010) | 1 line

relocation is causing different problems
------------------------------------------------------------------------
r960574 | bodewig | 2010-07-05 08:06:57 -0400 (Mon, 05 Jul 2010) | 1 line

a POM to help Gump - Ant 1.6.5's POM lacks a dependency on ant-launcher
------------------------------------------------------------------------
r959177 | bodewig | 2010-06-29 23:36:57 -0400 (Tue, 29 Jun 2010) | 1 line

simplify fix for PR 49373
------------------------------------------------------------------------
r959175 | bodewig | 2010-06-29 23:25:26 -0400 (Tue, 29 Jun 2010) | 1 line

revert local change that should never have been committed
------------------------------------------------------------------------
r959173 | bodewig | 2010-06-29 23:21:29 -0400 (Tue, 29 Jun 2010) | 1 line

address efficiency concerns
------------------------------------------------------------------------
r959019 | bodewig | 2010-06-29 12:16:41 -0400 (Tue, 29 Jun 2010) | 1 line

reinstate prefix handling of property task at the expense of even more state in a thread-unfriendly class and with a new attribute on two tasks to make everybody happy.  PR 49373.
------------------------------------------------------------------------
r958857 | bodewig | 2010-06-29 03:46:06 -0400 (Tue, 29 Jun 2010) | 1 line

properly encode whitespace in attribute values
------------------------------------------------------------------------
r958704 | hibou | 2010-06-28 16:22:30 -0400 (Mon, 28 Jun 2010) | 2 lines

make the flush of the error stream actually flush

------------------------------------------------------------------------
r958669 | hibou | 2010-06-28 14:23:31 -0400 (Mon, 28 Jun 2010) | 2 lines

Fix a perf issue with <restrict>: it now loads only necessary resources

------------------------------------------------------------------------
r957607 | jglick | 2010-06-24 12:19:35 -0400 (Thu, 24 Jun 2010) | 4 lines

Make 'mvn clean test-compile' finish, though tests when run still have a lot of failures.
(As usual, we suffer from a lot of complexity due to the monolithic source root;
include/exclude lists in POMs are surely still far from accurate.)

------------------------------------------------------------------------
r957594 | jglick | 2010-06-24 12:01:09 -0400 (Thu, 24 Jun 2010) | 2 lines

Added display names to POMs.

------------------------------------------------------------------------
r957585 | jglick | 2010-06-24 11:47:23 -0400 (Thu, 24 Jun 2010) | 3 lines

Record location of Hudson job in POM.
(For example, NetBeans can use this to automatically display build results when project is open.)

------------------------------------------------------------------------
r957442 | bodewig | 2010-06-24 03:39:11 -0400 (Thu, 24 Jun 2010) | 1 line

log a warning message if File#setLastModified fails.  PR 49485
------------------------------------------------------------------------
r957441 | bodewig | 2010-06-24 03:33:35 -0400 (Thu, 24 Jun 2010) | 1 line

Use FileUtils#setFileLastModified instead of File#setLastModified
------------------------------------------------------------------------
r957170 | bodewig | 2010-06-23 08:15:13 -0400 (Wed, 23 Jun 2010) | 1 line

allow targets to deal with missing extension points.  PR 49473.  Submitted by Danny Yates.
------------------------------------------------------------------------
r955909 | bodewig | 2010-06-18 05:37:07 -0400 (Fri, 18 Jun 2010) | 1 line

don't warn about multiple versions of Ant if the CLASSPATH entries really point to the same JAR.  PR 49041
------------------------------------------------------------------------
r955896 | bodewig | 2010-06-18 05:03:34 -0400 (Fri, 18 Jun 2010) | 1 line

Support wildcards in CLASSPATH.  PR 46842.  Based on patch by Mike Murray.
------------------------------------------------------------------------
r955633 | bodewig | 2010-06-17 11:19:54 -0400 (Thu, 17 Jun 2010) | 1 line

some more tests
------------------------------------------------------------------------
r955506 | bodewig | 2010-06-17 04:40:37 -0400 (Thu, 17 Jun 2010) | 1 line

Java 1.4
------------------------------------------------------------------------
r955226 | bodewig | 2010-06-16 09:42:39 -0400 (Wed, 16 Jun 2010) | 1 line

use a better approach to encode CDATA end markers in CDATA sections as suggested by Mark Lassau and Wikipedia.  PR 49404
------------------------------------------------------------------------
r955166 | bodewig | 2010-06-16 05:36:08 -0400 (Wed, 16 Jun 2010) | 1 line

use a more robust approach that doesn't rely on stream redirections
------------------------------------------------------------------------
r954939 | bodewig | 2010-06-15 11:46:16 -0400 (Tue, 15 Jun 2010) | 1 line

resolve properties defined via -propertyfile against each other.  PR 18732
------------------------------------------------------------------------
r954802 | bodewig | 2010-06-15 06:43:37 -0400 (Tue, 15 Jun 2010) | 1 line

unconditionally encode & as &amp; in DOMElementWriter.  PR 49404
------------------------------------------------------------------------
r954785 | bodewig | 2010-06-15 06:08:49 -0400 (Tue, 15 Jun 2010) | 1 line

allow file names to be 'fixed in case' on Windows.  PR 41948
------------------------------------------------------------------------
r954484 | jglick | 2010-06-14 10:29:36 -0400 (Mon, 14 Jun 2010) | 2 lines

#49418: produce HTML output for stdout/stderr from <junitreport> to declare encoding.

------------------------------------------------------------------------
r953840 | jglick | 2010-06-11 15:11:16 -0400 (Fri, 11 Jun 2010) | 2 lines

Seems to be necessary to build ant-junit4.jar separately.

------------------------------------------------------------------------
r953809 | jglick | 2010-06-11 14:30:09 -0400 (Fri, 11 Jun 2010) | 2 lines

#49430: trying to work around NIO bug in JDK 1.4.

------------------------------------------------------------------------
r953761 | jglick | 2010-06-11 12:38:33 -0400 (Fri, 11 Jun 2010) | 2 lines

#34748: run individual test methods.

------------------------------------------------------------------------
r953594 | bodewig | 2010-06-11 03:33:07 -0400 (Fri, 11 Jun 2010) | 1 line

<javac> faild for long command lines on OS/2.  PR 49425.  Submitted by <dmik DOT for MINUS maillists AT hugaida DOT com>
------------------------------------------------------------------------
r953381 | bodewig | 2010-06-10 12:32:50 -0400 (Thu, 10 Jun 2010) | 1 line

remove redundant assertions, they are already contained in testantOnRemoteShare
------------------------------------------------------------------------
r953375 | bodewig | 2010-06-10 12:26:25 -0400 (Thu, 10 Jun 2010) | 1 line

test failed on Windows
------------------------------------------------------------------------
r953366 | bodewig | 2010-06-10 12:09:07 -0400 (Thu, 10 Jun 2010) | 1 line

Test failed on Windows, don't know why I never noticed before
------------------------------------------------------------------------
r953281 | bodewig | 2010-06-10 07:30:57 -0400 (Thu, 10 Jun 2010) | 1 line

don't scan directories that are excluded recursively - this used to be done everywhere except for the (most common) case where the directory itself was not explicitly included.  PR 49420
------------------------------------------------------------------------
r953261 | bodewig | 2010-06-10 05:28:46 -0400 (Thu, 10 Jun 2010) | 1 line

provide file name when you fail to delete the temporary file.  PR 49419
------------------------------------------------------------------------
r953257 | bodewig | 2010-06-10 05:24:13 -0400 (Thu, 10 Jun 2010) | 1 line

try a little harder when deleting temporary files in <junit>
------------------------------------------------------------------------
r953046 | bodewig | 2010-06-09 11:44:46 -0400 (Wed, 09 Jun 2010) | 1 line

some JUnit tests to verify/falsify http://mail-archives.apache.org/mod_mbox/ant-user/201006.mbox/%3C28829117.post@talk.nabble.com%3E
------------------------------------------------------------------------
r952674 | bodewig | 2010-06-08 11:06:00 -0400 (Tue, 08 Jun 2010) | 1 line

failing test for issue 49404
------------------------------------------------------------------------
r948853 | jglick | 2010-05-27 10:46:15 -0400 (Thu, 27 May 2010) | 2 lines

Use System.getenv where available. Faster and more reliable than /usr/bin/env and its ilk.

------------------------------------------------------------------------
r948667 | bodewig | 2010-05-27 00:33:36 -0400 (Thu, 27 May 2010) | 1 line

drop version check now that ant-nodeps.jar has been removed
------------------------------------------------------------------------
r948562 | jglick | 2010-05-26 16:04:40 -0400 (Wed, 26 May 2010) | 4 lines

Merging ant-nodeps.jar into ant.jar.
Not at all sure that the POMs are now correct; very hard to tell with a monolithic source tree.
Consolidation in manual to follow.

------------------------------------------------------------------------
r948561 | jglick | 2010-05-26 16:00:55 -0400 (Wed, 26 May 2010) | 2 lines

Apparent typo.

------------------------------------------------------------------------
r948558 | jglick | 2010-05-26 15:50:25 -0400 (Wed, 26 May 2010) | 2 lines

JMF no longer needed since javax.sound is in JDK; suggesting fetch.xml for nonstandard deps.

------------------------------------------------------------------------
r948556 | jglick | 2010-05-26 15:47:54 -0400 (Wed, 26 May 2010) | 2 lines

Can now compile against regular JDK.

------------------------------------------------------------------------
r948555 | jglick | 2010-05-26 15:45:52 -0400 (Wed, 26 May 2010) | 2 lines

1.1.3 is the version currently downloaded.

------------------------------------------------------------------------
r947689 | jglick | 2010-05-24 12:01:06 -0400 (Mon, 24 May 2010) | 2 lines

Continued spelling fix from 947340.

------------------------------------------------------------------------
r947340 | jkf | 2010-05-22 18:05:31 -0400 (Sat, 22 May 2010) | 1 line

fix spelling error in var name
------------------------------------------------------------------------
r947339 | jkf | 2010-05-22 18:00:52 -0400 (Sat, 22 May 2010) | 1 line

pr 49326. Sun JVM tries to mmap the entire file during a copy. For large files this is not feasible. We now explicitly request to copy at most 16 MiB per request.
------------------------------------------------------------------------
r945041 | bodewig | 2010-05-17 05:23:03 -0400 (Mon, 17 May 2010) | 1 line

merge fix for PR 49296
------------------------------------------------------------------------
r945039 | bodewig | 2010-05-17 05:17:19 -0400 (Mon, 17 May 2010) | 1 line

ftp download fails for certain setups.  PR 49296.  Based on patch by Kristof Neirynck
------------------------------------------------------------------------
r945023 | bodewig | 2010-05-17 04:39:42 -0400 (Mon, 17 May 2010) | 1 line

<checksum>'s totalproperty doesn't work with repeated file names.  PR 36748
------------------------------------------------------------------------
r943929 | jkf | 2010-05-13 12:26:25 -0400 (Thu, 13 May 2010) | 4 lines

Pr 49279, DemuxInputStream.read() should return unsigned values
(mandated by contract of InputStream)


------------------------------------------------------------------------
r943143 | bodewig | 2010-05-11 11:16:53 -0400 (Tue, 11 May 2010) | 1 line

<xslt> ignores classpath when defaulting to TraX.  PR 49271
------------------------------------------------------------------------
r943087 | bodewig | 2010-05-11 07:25:37 -0400 (Tue, 11 May 2010) | 1 line

JDK 1.4
------------------------------------------------------------------------
r943074 | bodewig | 2010-05-11 06:27:04 -0400 (Tue, 11 May 2010) | 1 line

try to make javamail use the specified port even when using SSL.  Bugzilla Report 49267
------------------------------------------------------------------------
r943072 | bodewig | 2010-05-11 06:12:23 -0400 (Tue, 11 May 2010) | 1 line

testcase for concat's overwrite attribute
------------------------------------------------------------------------
r943070 | bodewig | 2010-05-11 06:06:19 -0400 (Tue, 11 May 2010) | 1 line

wrong assignment after I renamed the parameter.  Unfortunately there doesn't seem to be a testcase that catches the error
------------------------------------------------------------------------
r943068 | bodewig | 2010-05-11 05:49:14 -0400 (Tue, 11 May 2010) | 1 line

deal with read-only dest files in echo and concat.
------------------------------------------------------------------------
r943056 | bodewig | 2010-05-11 05:13:27 -0400 (Tue, 11 May 2010) | 1 line

Make <move> behave consistently for read-only destinations.  PR 49261
------------------------------------------------------------------------
r942752 | bodewig | 2010-05-10 10:35:56 -0400 (Mon, 10 May 2010) | 1 line

be consistent when it comes to overwriting read-only files, add an option to do just that to <copy>.  PR 49261
------------------------------------------------------------------------
r942680 | bodewig | 2010-05-10 04:12:23 -0400 (Mon, 10 May 2010) | 1 line

adapt to version change
------------------------------------------------------------------------
r942284 | antoine | 2010-05-07 20:16:25 -0400 (Fri, 07 May 2010) | 1 line

bump version
------------------------------------------------------------------------
r942085 | bodewig | 2010-05-07 10:32:09 -0400 (Fri, 07 May 2010) | 1 line

testcase for PR 49261
------------------------------------------------------------------------
r940377 | jhm | 2010-05-03 02:09:20 -0400 (Mon, 03 May 2010) | 1 line

typo; thanks to Jean-Baptiste Nivoit
------------------------------------------------------------------------
r939839 | antoine | 2010-04-30 17:57:57 -0400 (Fri, 30 Apr 2010) | 1 line

preparation for ant 1.8.1 build
------------------------------------------------------------------------
r938315 | bodewig | 2010-04-27 00:06:37 -0400 (Tue, 27 Apr 2010) | 1 line

extension-point doesn't work with import.  PR 48804
------------------------------------------------------------------------
r937187 | bodewig | 2010-04-23 04:28:10 -0400 (Fri, 23 Apr 2010) | 1 line

telnet and rexec have been broken.  PR 49173.  Based on patch submitted by James Wartell
------------------------------------------------------------------------
r936784 | bodewig | 2010-04-22 07:18:08 -0400 (Thu, 22 Apr 2010) | 1 line

don't warn about duplicate project names if importing the same URL twice.  PR 49162
------------------------------------------------------------------------
r936720 | bodewig | 2010-04-22 06:05:47 -0400 (Thu, 22 Apr 2010) | 1 line

looks as if bug 41948 was reappearing on Win7, needs further inverstigation - add some diagnostics
------------------------------------------------------------------------
r936386 | mbenson | 2010-04-21 12:18:26 -0400 (Wed, 21 Apr 2010) | 1 line

loglevel
------------------------------------------------------------------------
r936382 | mbenson | 2010-04-21 12:08:10 -0400 (Wed, 21 Apr 2010) | 3 lines

Added the augment task to manipulate existing references via Ant's basic introspection mechanisms.


------------------------------------------------------------------------
r936200 | bodewig | 2010-04-21 04:30:59 -0400 (Wed, 21 Apr 2010) | 1 line

Add enableMultipleMappings and cache attributes to mappedresources
------------------------------------------------------------------------
r935493 | bodewig | 2010-04-19 05:36:02 -0400 (Mon, 19 Apr 2010) | 1 line

I was tempted to remove reflection because the comment said 1.3 but loadFromXML is a Java5 method
------------------------------------------------------------------------
r935488 | bodewig | 2010-04-19 05:23:31 -0400 (Mon, 19 Apr 2010) | 1 line

extract constant
------------------------------------------------------------------------
r935069 | bodewig | 2010-04-16 16:18:51 -0400 (Fri, 16 Apr 2010) | 1 line

isSymbolicLink throws a NPE if invoked for the file system root
------------------------------------------------------------------------
r935064 | bodewig | 2010-04-16 16:03:33 -0400 (Fri, 16 Apr 2010) | 1 line

File("foo").getParent() is null if "foo" is a symbolic link - File("./foo").getParent() is not.  PR 49137.
------------------------------------------------------------------------
r933630 | bodewig | 2010-04-13 10:26:35 -0400 (Tue, 13 Apr 2010) | 1 line

jar filesetmanifest=merge only worked for an OS where filesep == /.  PR 49090
------------------------------------------------------------------------
r933479 | bodewig | 2010-04-13 00:10:19 -0400 (Tue, 13 Apr 2010) | 1 line

remove test file we must not distribute.  PR 49080
------------------------------------------------------------------------
r933352 | mbenson | 2010-04-12 14:34:56 -0400 (Mon, 12 Apr 2010) | 1 line

add serialVersionUID
------------------------------------------------------------------------
r933350 | mbenson | 2010-04-12 14:24:10 -0400 (Mon, 12 Apr 2010) | 5 lines

Now that we are on Java 1.4, track RuntimeConfigurable attributes using
a LinkedHashMap instead of List/Map combination.  Priority of 'refid' preserved;
bug whereby setting an attribute multiple times would add it multiple times
to the attribute names list is also corrected.

------------------------------------------------------------------------
r933337 | mbenson | 2010-04-12 14:10:31 -0400 (Mon, 12 Apr 2010) | 1 line

remove unused rsel ns declaration
------------------------------------------------------------------------
r932588 | mbenson | 2010-04-09 16:37:46 -0400 (Fri, 09 Apr 2010) | 5 lines

problems 49079, 48961

Address indexOf inefficiency in PropertyHelper default propertyexpander implementation.


------------------------------------------------------------------------
r932456 | mbenson | 2010-04-09 11:14:50 -0400 (Fri, 09 Apr 2010) | 6 lines

problems 49079, 48961

Address indexOf inefficiency in PropertyHelper embedded skip-double-dollar propertyexpander
implementation.


------------------------------------------------------------------------
r932445 | bodewig | 2010-04-09 10:59:38 -0400 (Fri, 09 Apr 2010) | 1 line

Most probably fix Issue 48972, will close it once I can enable the test and verify the fix (works with a different server)
------------------------------------------------------------------------
r932242 | bodewig | 2010-04-09 00:45:52 -0400 (Fri, 09 Apr 2010) | 1 line

whitespace
------------------------------------------------------------------------
r932241 | bodewig | 2010-04-09 00:43:38 -0400 (Fri, 09 Apr 2010) | 1 line

make failonerror work as expected when copying to a file instead of a directory
------------------------------------------------------------------------
r928006 | jglick | 2010-03-26 14:28:46 -0400 (Fri, 26 Mar 2010) | 2 lines

Doubled slashes in includes.

------------------------------------------------------------------------
r928005 | jglick | 2010-03-26 14:27:54 -0400 (Fri, 26 Mar 2010) | 2 lines

Proven to be useful to pick up just one feature of BigProjectLogger without all the chrome.

------------------------------------------------------------------------
r927753 | bodewig | 2010-03-26 05:59:20 -0400 (Fri, 26 Mar 2010) | 1 line

speed up fast executions (where the process finishes in way less than a second) like attrib.  PR 48734
------------------------------------------------------------------------
r927494 | bodewig | 2010-03-25 12:45:00 -0400 (Thu, 25 Mar 2010) | 1 line

rmic's sourcebase is broken.  PR 48970.
------------------------------------------------------------------------
r927416 | bodewig | 2010-03-25 10:14:53 -0400 (Thu, 25 Mar 2010) | 1 line

bash completion failes if ant throws an exception.  Submitted by Omer Shapira.  PR 48980
------------------------------------------------------------------------
r926465 | bodewig | 2010-03-23 01:26:11 -0400 (Tue, 23 Mar 2010) | 1 line

reject empty test names.  Submitted by Clark Archer.  PR 43586
------------------------------------------------------------------------
r924683 | bodewig | 2010-03-18 06:19:51 -0400 (Thu, 18 Mar 2010) | 1 line

remove tabs
------------------------------------------------------------------------
r924548 | antoine | 2010-03-17 19:07:39 -0400 (Wed, 17 Mar 2010) | 1 line

test for bug 48932, socket closed
------------------------------------------------------------------------
r924533 | antoine | 2010-03-17 18:38:44 -0400 (Wed, 17 Mar 2010) | 1 line

bugzilla 48932, IO error sending mail with plain mimetype, socket closed
------------------------------------------------------------------------
r922179 | jkf | 2010-03-12 03:44:54 -0500 (Fri, 12 Mar 2010) | 4 lines

problem 48894

1) buffer size management is present in FileChannel, so we do not need to impose any limit.
2) bus error in gij when requested copy size > remaining file size (this is a bug in gij that will not be triggered anymore by ant from this line)
------------------------------------------------------------------------
r921184 | antoine | 2010-03-09 18:09:35 -0500 (Tue, 09 Mar 2010) | 1 line

fix for Bug 48876, ANT_CMD_LINE_ARGS are rippling through lower level Ant usage
------------------------------------------------------------------------
r920591 | antoine | 2010-03-08 19:30:54 -0500 (Mon, 08 Mar 2010) | 2 lines

it looks like the name of www.apache.org has changed to eos from aurora, the IP address from 192.87.106.226 to 140.211.11.130

------------------------------------------------------------------------
r919327 | bodewig | 2010-03-05 03:03:23 -0500 (Fri, 05 Mar 2010) | 1 line

unused imports
------------------------------------------------------------------------
r919018 | bodewig | 2010-03-04 10:16:49 -0500 (Thu, 04 Mar 2010) | 1 line

embrace java.util.jar.  PR 48853
------------------------------------------------------------------------
r918989 | bodewig | 2010-03-04 08:47:35 -0500 (Thu, 04 Mar 2010) | 1 line

reduce performance loss in AntClassLoader from 1000% to about 50%.  PR 48853
------------------------------------------------------------------------
r918979 | bodewig | 2010-03-04 08:17:33 -0500 (Thu, 04 Mar 2010) | 1 line

test that shows Ant 1.8.0's findClass to take 10x the time of Ant 1.7.1's version
------------------------------------------------------------------------
r918321 | antoine | 2010-03-02 23:10:55 -0500 (Tue, 02 Mar 2010) | 1 line

available classname is nicer for a class actually
------------------------------------------------------------------------
r918319 | antoine | 2010-03-02 23:02:52 -0500 (Tue, 02 Mar 2010) | 1 line

make available detect the gump conditions
------------------------------------------------------------------------
r918317 | antoine | 2010-03-02 22:45:47 -0500 (Tue, 02 Mar 2010) | 1 line

typo
------------------------------------------------------------------------
r918096 | bodewig | 2010-03-02 11:05:35 -0500 (Tue, 02 Mar 2010) | 1 line

using JDK 1.6 on Windows D:\ has a valid canonical path even if the drive is not ready
------------------------------------------------------------------------
r917956 | bodewig | 2010-03-02 06:03:41 -0500 (Tue, 02 Mar 2010) | 1 line

allow AntUnit tests to pass on Windows even if the created jar cannot be deleted.  This will likely leave test.jar lying around in $TEMP on Windows.
------------------------------------------------------------------------
r917817 | antoine | 2010-03-01 19:15:44 -0500 (Mon, 01 Mar 2010) | 6 lines

fix for bug 48789 -  Pipe broken. 
This is an issue that we have been experiencing in the gump runs on Ubuntu.
The tests below will hopefully be fixed by this checkin. 
src/tests/antunit/taskdefs/exec/apply-test.xml : testRedirector13 and testRedirector14 
src/tests/antunit/taskdefs/exec/exec-test.xml  : test-redirector-outputfilterchain-errorfilterchain

------------------------------------------------------------------------
r917583 | stevel | 2010-03-01 11:44:48 -0500 (Mon, 01 Mar 2010) | 1 line

Bug 48834 -  BuildFileTest.assertPropertyUnset() could fail with a slightly more meaningful error message
------------------------------------------------------------------------
r917574 | stevel | 2010-03-01 11:33:47 -0500 (Mon, 01 Mar 2010) | 1 line

Bug 48833 -  NPE in <get>
------------------------------------------------------------------------
r917354 | antoine | 2010-02-28 21:02:53 -0500 (Sun, 28 Feb 2010) | 1 line

hopefully make the tests pass in gump's module test-ant-no-xerces
------------------------------------------------------------------------
r916761 | antoine | 2010-02-26 12:13:57 -0500 (Fri, 26 Feb 2010) | 1 line

removing the stylebook task
------------------------------------------------------------------------
r916536 | mbenson | 2010-02-25 21:11:12 -0500 (Thu, 25 Feb 2010) | 1 line

add test demonstrating omission of nonexistent resources
------------------------------------------------------------------------
r916460 | mbenson | 2010-02-25 16:13:27 -0500 (Thu, 25 Feb 2010) | 1 line

Added forcestring attribute to equals condition
------------------------------------------------------------------------
r916443 | mbenson | 2010-02-25 15:42:20 -0500 (Thu, 25 Feb 2010) | 1 line

sp
------------------------------------------------------------------------
r916442 | mbenson | 2010-02-25 15:41:46 -0500 (Thu, 25 Feb 2010) | 1 line

sp
------------------------------------------------------------------------
r916372 | mbenson | 2010-02-25 12:47:07 -0500 (Thu, 25 Feb 2010) | 1 line

Bug 48816 - If <concat>'s first resourcecollection child is a <resources>, any subsequently added child resourcecollection joins the first
------------------------------------------------------------------------
r916369 | mbenson | 2010-02-25 12:41:24 -0500 (Thu, 25 Feb 2010) | 1 line

failing test for bug 48816
------------------------------------------------------------------------
r916121 | mbenson | 2010-02-24 23:36:20 -0500 (Wed, 24 Feb 2010) | 1 line

PropertyResource will effectively proxy another Resource if ${name} evaluates to a Resource object.
------------------------------------------------------------------------
r916120 | mbenson | 2010-02-24 23:31:57 -0500 (Wed, 24 Feb 2010) | 1 line

Add resource attribute to length task.
------------------------------------------------------------------------
r916107 | mbenson | 2010-02-24 22:33:51 -0500 (Wed, 24 Feb 2010) | 1 line

test last property wins
------------------------------------------------------------------------
r916051 | mbenson | 2010-02-24 19:06:04 -0500 (Wed, 24 Feb 2010) | 1 line

add prefix attribute to loadproperties task + more tests
------------------------------------------------------------------------
r916044 | mbenson | 2010-02-24 18:53:34 -0500 (Wed, 24 Feb 2010) | 1 line

null guard
------------------------------------------------------------------------
r916043 | mbenson | 2010-02-24 18:46:24 -0500 (Wed, 24 Feb 2010) | 1 line

antunitize LoadProperties JUnit tests
------------------------------------------------------------------------
r915994 | mbenson | 2010-02-24 17:04:26 -0500 (Wed, 24 Feb 2010) | 1 line

remove empty directories
------------------------------------------------------------------------
r915993 | mbenson | 2010-02-24 17:03:12 -0500 (Wed, 24 Feb 2010) | 1 line

remove temp antunit overridden target
------------------------------------------------------------------------
r915992 | mbenson | 2010-02-24 16:59:36 -0500 (Wed, 24 Feb 2010) | 1 line

unused import
------------------------------------------------------------------------
r915991 | mbenson | 2010-02-24 16:59:13 -0500 (Wed, 24 Feb 2010) | 1 line

antunit-ize exec test to minimize number of layers at work
------------------------------------------------------------------------
r915863 | bodewig | 2010-02-24 11:52:16 -0500 (Wed, 24 Feb 2010) | 1 line

enforce property immutability when resolving properties read as a map
------------------------------------------------------------------------
r915834 | bodewig | 2010-02-24 10:47:14 -0500 (Wed, 24 Feb 2010) | 1 line

testcase for PR 48768
------------------------------------------------------------------------
r912635 | mbenson | 2010-02-22 10:50:15 -0500 (Mon, 22 Feb 2010) | 1 line

sp
------------------------------------------------------------------------
r912627 | mbenson | 2010-02-22 10:41:05 -0500 (Mon, 22 Feb 2010) | 1 line

tearDown
------------------------------------------------------------------------
r912610 | peterreilly | 2010-02-22 10:24:02 -0500 (Mon, 22 Feb 2010) | 1 line

BZ48768: invalid ignoring of property setting in property file
------------------------------------------------------------------------
r912484 | bodewig | 2010-02-22 00:27:22 -0500 (Mon, 22 Feb 2010) | 1 line

untabify
------------------------------------------------------------------------
r912470 | antoine | 2010-02-21 21:48:27 -0500 (Sun, 21 Feb 2010) | 1 line

Fixing SymlinkTest#testSymbolicLinkUtilsMethods on Mac. Removing special handling of the Mac platform in this test case.
------------------------------------------------------------------------
r912463 | antoine | 2010-02-21 21:11:10 -0500 (Sun, 21 Feb 2010) | 1 line

Bug 48788 -  add removeKeepExtension option to NetRexxC task - patch submitted by Patric Bechtel (bechtel at ipcon dot de)
------------------------------------------------------------------------
r912298 | antoine | 2010-02-21 01:06:11 -0500 (Sun, 21 Feb 2010) | 2 lines

Fix for bug 48746, "exec task sometimes inserts extraneous newlines"

------------------------------------------------------------------------
r912258 | antoine | 2010-02-20 18:57:59 -0500 (Sat, 20 Feb 2010) | 4 lines

fix getClassLocation method in Diagnostics class. Bug 48782. Reported by Torsten Werner. Patch by Ludovic Claude.
	


------------------------------------------------------------------------
r911741 | bodewig | 2010-02-19 03:47:43 -0500 (Fri, 19 Feb 2010) | 1 line

EFS in APPNOTE.TXT stands for 'Early Feature Specification' so our usage of it as 'use the general purpose field to signal UTF8' is wrong.
------------------------------------------------------------------------
r911648 | jglick | 2010-02-18 18:41:55 -0500 (Thu, 18 Feb 2010) | 1 line

Removing ant-trax.jar and folding TraXLiaison into ant-nodeps.jar.
------------------------------------------------------------------------
r911561 | jglick | 2010-02-18 15:33:12 -0500 (Thu, 18 Feb 2010) | 2 lines

Removing stale references to xercesImpl.jar and xml-apis.jar.

------------------------------------------------------------------------
r911324 | bodewig | 2010-02-18 06:00:58 -0500 (Thu, 18 Feb 2010) | 1 line

As Jesse points out, equalsIgnoreCase is not locale-sensitive
------------------------------------------------------------------------
r911105 | mbenson | 2010-02-17 12:36:50 -0500 (Wed, 17 Feb 2010) | 1 line

remove what appear to be the last of my formerly habitual uppercase HTML CODE tags ;)
------------------------------------------------------------------------
r910997 | bodewig | 2010-02-17 09:39:42 -0500 (Wed, 17 Feb 2010) | 1 line

round out test and document the bug
------------------------------------------------------------------------
r910989 | bodewig | 2010-02-17 09:21:57 -0500 (Wed, 17 Feb 2010) | 1 line

VectorSet#remove doesn't work if the vector is at its capacity
------------------------------------------------------------------------
r910988 | bodewig | 2010-02-17 09:21:10 -0500 (Wed, 17 Feb 2010) | 1 line

typo
------------------------------------------------------------------------
r910955 | bodewig | 2010-02-17 07:58:50 -0500 (Wed, 17 Feb 2010) | 1 line

if user input is compared to fixed strings in a case insensitive manner we should use the default locale.  Use Locale.ENGLISH consistently
------------------------------------------------------------------------
r910889 | bodewig | 2010-02-17 05:05:08 -0500 (Wed, 17 Feb 2010) | 1 line

Change more List#contains() cases, most of the changes are unlikely to have a real performance impact since the lists usually are too small
------------------------------------------------------------------------
r910875 | bodewig | 2010-02-17 04:15:17 -0500 (Wed, 17 Feb 2010) | 1 line

typo
------------------------------------------------------------------------
r910874 | bodewig | 2010-02-17 04:14:55 -0500 (Wed, 17 Feb 2010) | 1 line

embrace Java 1.4 and use LinkedHashMap instead of a Hashtable and a separate index to keep insert order
------------------------------------------------------------------------
r910832 | bodewig | 2010-02-17 00:35:49 -0500 (Wed, 17 Feb 2010) | 1 line

a few more O(n) lookups where O(1) would be possible - optional tasks not checked, yet
------------------------------------------------------------------------
r910825 | bodewig | 2010-02-17 00:09:50 -0500 (Wed, 17 Feb 2010) | 1 line

better use the full potential of a Hashtable.  PR 48755.  Submitted by Marc Bevand.
------------------------------------------------------------------------
r910537 | bodewig | 2010-02-16 09:41:11 -0500 (Tue, 16 Feb 2010) | 1 line

accept a wider range of existing zip archives by being more lenient when parsing extra fields
------------------------------------------------------------------------
r910162 | bodewig | 2010-02-15 00:21:17 -0500 (Mon, 15 Feb 2010) | 1 line

trivial duplicate=fail test
------------------------------------------------------------------------
r909962 | antoine | 2010-02-13 21:18:35 -0500 (Sat, 13 Feb 2010) | 1 line

fix javadoc warnings
------------------------------------------------------------------------
r909469 | bodewig | 2010-02-12 10:49:57 -0500 (Fri, 12 Feb 2010) | 1 line

make comparision locale insensitive
------------------------------------------------------------------------
r909397 | bodewig | 2010-02-12 08:26:20 -0500 (Fri, 12 Feb 2010) | 1 line

testcase demonstrating PR 48734
------------------------------------------------------------------------
r908500 | bodewig | 2010-02-10 08:45:01 -0500 (Wed, 10 Feb 2010) | 1 line

make war-test use more of antunit-base's infrastructure
------------------------------------------------------------------------
r908494 | bodewig | 2010-02-10 08:31:55 -0500 (Wed, 10 Feb 2010) | 1 line

add a test for <war> to guard against a bug like 6836 from <ear>
------------------------------------------------------------------------
r908493 | bodewig | 2010-02-10 08:28:09 -0500 (Wed, 10 Feb 2010) | 1 line

make war-test use more of antunit-base's infrastructure
------------------------------------------------------------------------
r908464 | bodewig | 2010-02-10 07:09:08 -0500 (Wed, 10 Feb 2010) | 1 line

fix regression in <ear> that would allow multiple application.xml files.  PR 6836
------------------------------------------------------------------------
r908356 | bodewig | 2010-02-10 00:37:30 -0500 (Wed, 10 Feb 2010) | 1 line

filesmatch throws NPE when comparing texts and the second one has fewer lines.  PR 48715
------------------------------------------------------------------------
r908354 | bodewig | 2010-02-10 00:19:14 -0500 (Wed, 10 Feb 2010) | 1 line

(silently) failing testcase for 6836
------------------------------------------------------------------------
r908053 | bodewig | 2010-02-09 09:32:33 -0500 (Tue, 09 Feb 2010) | 1 line

test failed on Windows
------------------------------------------------------------------------
r908035 | bodewig | 2010-02-09 08:58:27 -0500 (Tue, 09 Feb 2010) | 1 line

Avoid ConcurrentModificationException when iteratong over life-maps.  PR 48310
------------------------------------------------------------------------
r908033 | bodewig | 2010-02-09 08:57:33 -0500 (Tue, 09 Feb 2010) | 1 line

bump version
------------------------------------------------------------------------
r906953 | bodewig | 2010-02-05 09:44:05 -0500 (Fri, 05 Feb 2010) | 1 line

fix markup in examples
------------------------------------------------------------------------
r906952 | bodewig | 2010-02-05 09:39:50 -0500 (Fri, 05 Feb 2010) | 1 line

document sortfilter
------------------------------------------------------------------------
r905217 | bodewig | 2010-02-01 04:11:56 -0500 (Mon, 01 Feb 2010) | 1 line

flush will be called in any case, make this more explicit
------------------------------------------------------------------------
r905216 | bodewig | 2010-02-01 04:01:55 -0500 (Mon, 01 Feb 2010) | 1 line

extract method
------------------------------------------------------------------------
r905214 | bodewig | 2010-02-01 03:56:37 -0500 (Mon, 01 Feb 2010) | 1 line

More FileUtils.close and a moved flush operation in XMLJUnitresultFormatter
------------------------------------------------------------------------
r905180 | bodewig | 2010-02-01 00:36:35 -0500 (Mon, 01 Feb 2010) | 1 line

whitespace
------------------------------------------------------------------------
r905179 | bodewig | 2010-02-01 00:35:08 -0500 (Mon, 01 Feb 2010) | 1 line

a few more places where FileUtils.close can be used + a few places where a BufferedWriter might be unflushed when the underlying stream gets closed.
------------------------------------------------------------------------
r905136 | antoine | 2010-01-31 18:13:49 -0500 (Sun, 31 Jan 2010) | 1 line

JUnit stack traces were missing when filtertrace="on", the default. Reported by N C, see http://marc.info/?l=ant-user&m=126488326902069&w=1 and http://marc.info/?l=ant-dev&m=126491578731948&w=2
------------------------------------------------------------------------
r904546 | bodewig | 2010-01-29 11:25:49 -0500 (Fri, 29 Jan 2010) | 1 line

sound doesn't work on Java6.  Submitted by Ed Brannin.  PR 48637
------------------------------------------------------------------------
r904217 | mbenson | 2010-01-28 14:16:14 -0500 (Thu, 28 Jan 2010) | 1 line

javadoc
------------------------------------------------------------------------
r904214 | mbenson | 2010-01-28 13:56:50 -0500 (Thu, 28 Jan 2010) | 1 line

javadoc/formatting/protected constructors for abstract classes
------------------------------------------------------------------------
r904213 | mbenson | 2010-01-28 13:53:10 -0500 (Thu, 28 Jan 2010) | 1 line

Mapper-aware selectors (depends, different, present) now accept typedef'd FileNameMappers
------------------------------------------------------------------------
r903337 | antoine | 2010-01-26 12:41:27 -0500 (Tue, 26 Jan 2010) | 1 line

fix for bug 48186 ant.bat file ignores -noclasspath if it is the first parameter supplied by Ken Southerland.
------------------------------------------------------------------------
r902004 | bodewig | 2010-01-22 00:40:57 -0500 (Fri, 22 Jan 2010) | 1 line

Don't add new Date comments each time the file is written.  PR 48558
------------------------------------------------------------------------
r902000 | bodewig | 2010-01-22 00:14:15 -0500 (Fri, 22 Jan 2010) | 1 line

don't add the same comment over and over again.  Related to PR 48558
------------------------------------------------------------------------
r901537 | bodewig | 2010-01-21 00:36:46 -0500 (Thu, 21 Jan 2010) | 1 line

only add a newline before the first new property rather than every new one
------------------------------------------------------------------------
r901218 | stevel | 2010-01-20 09:41:43 -0500 (Wed, 20 Jan 2010) | 2 lines

<scp> task didn't report build file location when a remote operation failed
   Bugzilla Report 48578.
------------------------------------------------------------------------
r901063 | bodewig | 2010-01-20 00:07:05 -0500 (Wed, 20 Jan 2010) | 1 line

make new zipFile signature final
------------------------------------------------------------------------
r900082 | bodewig | 2010-01-17 05:01:17 -0500 (Sun, 17 Jan 2010) | 1 line

try to make ZipExtraField change in zip backwards compatible for subclasses that override zipFile.  PR 48541
------------------------------------------------------------------------
r900064 | bodewig | 2010-01-17 01:45:31 -0500 (Sun, 17 Jan 2010) | 1 line

really preserve extra fields
------------------------------------------------------------------------
r899757 | antoine | 2010-01-15 14:04:29 -0500 (Fri, 15 Jan 2010) | 1 line

update of poms to make compile
------------------------------------------------------------------------
r898183 | bodewig | 2010-01-12 00:25:34 -0500 (Tue, 12 Jan 2010) | 1 line

try to delete temporary files in fixcrlf.  PR 48506.
------------------------------------------------------------------------
r897758 | bodewig | 2010-01-11 00:36:55 -0500 (Mon, 11 Jan 2010) | 1 line

appendtolines -> suffixlines
------------------------------------------------------------------------
r897744 | antoine | 2010-01-10 22:13:22 -0500 (Sun, 10 Jan 2010) | 1 line

update POMS
------------------------------------------------------------------------
r896847 | bodewig | 2010-01-07 06:07:22 -0500 (Thu, 07 Jan 2010) | 1 line

missing license headers
------------------------------------------------------------------------
r896829 | bodewig | 2010-01-07 05:09:47 -0500 (Thu, 07 Jan 2010) | 1 line

follow Jesse's suggestion and use ant.core.lib - make testBasicOperation platform independent
------------------------------------------------------------------------
r896823 | bodewig | 2010-01-07 04:48:05 -0500 (Thu, 07 Jan 2010) | 1 line

additional testcase
------------------------------------------------------------------------
r896194 | antoine | 2010-01-05 15:02:47 -0500 (Tue, 05 Jan 2010) | 1 line

preparation for ant1.8.0RC1 release
------------------------------------------------------------------------
r896123 | antoine | 2010-01-05 11:43:52 -0500 (Tue, 05 Jan 2010) | 1 line

removing ant-weblogic and ant-starteam
------------------------------------------------------------------------
r895567 | bodewig | 2010-01-04 00:57:17 -0500 (Mon, 04 Jan 2010) | 1 line

target-group -> extension-point
------------------------------------------------------------------------
r894464 | bodewig | 2009-12-29 13:55:18 -0500 (Tue, 29 Dec 2009) | 1 line

copy-paste error + @since
------------------------------------------------------------------------
r894462 | bodewig | 2009-12-29 13:49:53 -0500 (Tue, 29 Dec 2009) | 1 line

complement prefixlines with appendtolines
------------------------------------------------------------------------
r894459 | bodewig | 2009-12-29 13:22:59 -0500 (Tue, 29 Dec 2009) | 1 line

document resourcelist and make it available
------------------------------------------------------------------------
r894458 | bodewig | 2009-12-29 12:55:47 -0500 (Tue, 29 Dec 2009) | 1 line

functional tests for resourcelist
------------------------------------------------------------------------
r894449 | bodewig | 2009-12-29 12:28:34 -0500 (Tue, 29 Dec 2009) | 1 line

reference handling tests for ResourceList
------------------------------------------------------------------------
r893843 | bodewig | 2009-12-25 03:46:08 -0500 (Fri, 25 Dec 2009) | 1 line

a resource collection that reads its members from a list file/resource.  Untested and undocumented, likely to be pushed to 1.8.1 unless I'll finish it in time for the RC1
------------------------------------------------------------------------
r893422 | kevj | 2009-12-23 03:01:29 -0500 (Wed, 23 Dec 2009) | 1 line

-remove unused import
------------------------------------------------------------------------
r893417 | kevj | 2009-12-23 02:45:46 -0500 (Wed, 23 Dec 2009) | 1 line

-fix typo
------------------------------------------------------------------------
r890827 | bodewig | 2009-12-15 10:27:11 -0500 (Tue, 15 Dec 2009) | 1 line

try a bit harder to close the archive when reading a build file.  Since that still doesn't work, add a task to brutally close jars and use it in import-url-test
------------------------------------------------------------------------
r888888 | bodewig | 2009-12-09 12:40:18 -0500 (Wed, 09 Dec 2009) | 1 line

add a debug log statement to increase pressure on GC and hope to avoid PR 42696
------------------------------------------------------------------------
r887990 | bodewig | 2009-12-07 11:30:43 -0500 (Mon, 07 Dec 2009) | 1 line

take advantage of FileUtils
------------------------------------------------------------------------
r887838 | bodewig | 2009-12-07 00:28:50 -0500 (Mon, 07 Dec 2009) | 1 line

Make sure hashvalue algorithm of modified selector reads the files completely.  Submitted by Nathan Beyer.  PR 48313.
------------------------------------------------------------------------
r885684 | kevj | 2009-12-01 02:41:40 -0500 (Tue, 01 Dec 2009) | 1 line

allow scp verbose flag to actually log info - also makes ssh more chatty
------------------------------------------------------------------------
r883514 | jglick | 2009-11-23 16:57:19 -0500 (Mon, 23 Nov 2009) | 4 lines

Trying to improve on r881624 robustness fix:
1. Use FileUtils.tryHardToDelete to delete possibly corrupt properties file.
2. Do not try to delete until after closing output stream.

------------------------------------------------------------------------
r881627 | jglick | 2009-11-17 18:56:21 -0500 (Tue, 17 Nov 2009) | 4 lines

Fixing fix for OOME in <subant>.
Was getting wrapped in BuildException by both DispatchUtils.execute and Project.executeSortedTargets.
Instead of trying to prevent wrapping, which is difficult to enforce, just die on wrapped hard errors.

------------------------------------------------------------------------
r881624 | jglick | 2009-11-17 18:39:22 -0500 (Tue, 17 Nov 2009) | 17 lines

Trying to improve robustness in <subant> and <propertyfile>.
Observed a long-running build randomly failing with text like this:
[propertyfile] Updating property file: .../whatever.properties
      [subant] Failure for target 'something' of: ...module1/build.xml
      [subant] The following error occurred while executing this line:
      [subant] .../something.xml:123: java.lang.OutOfMemoryError: GC overhead limit exceeded
      [subant] Failure for target 'something' of: ...module2/build.xml
      [subant] The following error occurred while executing this line:
      [subant] ...module2/build.xml:12: The following error occurred while executing this line:
      [subant] .../something.xml:123: Syntax error in property: ${some.prope
      [subant] Failure for target 'something' of: ...module3/build.xml [etc., hundreds of times]
Turns out that whatever.properties had been truncated at exactly 24k characters, in the middle of a line.
Fixing <propertyfile> to therefore collect all of what it plans to write, then write it.
Also trying to make <subant> actually stop the build when it gets OOME, rather than continuing
(probably in vain) just because failonerror="false" (which is intended to catch "normal" problems).
ThreadDeath should also be rethrown, not logged as a subscript failure.

------------------------------------------------------------------------
r880590 | bodewig | 2009-11-16 00:32:43 -0500 (Mon, 16 Nov 2009) | 1 line

support creating url resources relative to other URLs
------------------------------------------------------------------------
r836334 | bodewig | 2009-11-15 02:25:03 -0500 (Sun, 15 Nov 2009) | 1 line

Fix import's file attribute if file is imported from URL, test it, document it.  Note to self - url resource needs a way to create relative urls.  Not to self - the duplication in the manual pages for import and include must stop.
------------------------------------------------------------------------
r835835 | jhm | 2009-11-13 08:00:42 -0500 (Fri, 13 Nov 2009) | 1 line

Try for CI-build: use another tmp.dir
------------------------------------------------------------------------
r834772 | bodewig | 2009-11-11 00:32:15 -0500 (Wed, 11 Nov 2009) | 1 line

make import support resource collections.  PR 22269
------------------------------------------------------------------------
r834354 | bodewig | 2009-11-10 00:28:45 -0500 (Tue, 10 Nov 2009) | 1 line

All instances of the same scriptdef task shared a single ScriptRunner, causing problems in multithreaded situations.  Submitted by Valentino Miazzo.  PR 41602
------------------------------------------------------------------------
r832990 | bodewig | 2009-11-04 23:38:16 -0500 (Wed, 04 Nov 2009) | 1 line

allow import of FileProvider or URLProvider resources
------------------------------------------------------------------------
r830859 | gscokart | 2009-10-29 04:40:26 -0400 (Thu, 29 Oct 2009) | 1 line

Mark field final (not strictly required, but looks better)
------------------------------------------------------------------------
r830244 | bodewig | 2009-10-27 12:44:56 -0400 (Tue, 27 Oct 2009) | 1 line

make javaresource an URLProvider
------------------------------------------------------------------------
r830209 | bodewig | 2009-10-27 10:39:48 -0400 (Tue, 27 Oct 2009) | 1 line

Use URLProvider instead of URLResource
------------------------------------------------------------------------
r829947 | hibou | 2009-10-26 16:43:58 -0400 (Mon, 26 Oct 2009) | 3 lines

- use the project helper repository for antlib too
- change the ProjectHelper API to start using Resource instead of URL or File

------------------------------------------------------------------------
r829311 | bodewig | 2009-10-24 02:25:03 -0400 (Sat, 24 Oct 2009) | 1 line

Only store the command's output with no decoration in sshexec's outputproperty if the command attribute is used.  PR 48040
------------------------------------------------------------------------
r829307 | bodewig | 2009-10-24 01:28:12 -0400 (Sat, 24 Oct 2009) | 1 line

Same fix as for AncestorAnalyzer - make code compile with BCEL's trunk
------------------------------------------------------------------------
r828141 | bodewig | 2009-10-21 14:50:28 -0400 (Wed, 21 Oct 2009) | 1 line

tar doesn't always recognize the target isn't up to date.  PR 48035
------------------------------------------------------------------------
r827887 | bodewig | 2009-10-21 01:40:07 -0400 (Wed, 21 Oct 2009) | 1 line

adapt to BCEL change, see dist-ant's Gump build failure
------------------------------------------------------------------------
r823395 | bodewig | 2009-10-08 23:56:28 -0400 (Thu, 08 Oct 2009) | 1 line

Make if/unless und junit test children use the same logic as target's if/unless
------------------------------------------------------------------------
r823158 | bodewig | 2009-10-08 08:58:42 -0400 (Thu, 08 Oct 2009) | 1 line

Make junit's formatter if/unless behave like target's if/unless
------------------------------------------------------------------------
r823150 | bodewig | 2009-10-08 08:42:48 -0400 (Thu, 08 Oct 2009) | 1 line

make funtest even less visible
------------------------------------------------------------------------
r823136 | bodewig | 2009-10-08 07:54:22 -0400 (Thu, 08 Oct 2009) | 1 line

properly indicate the oldgnu format for tar entries with long file names.  PR 47653.  Submitted by Lorenz Diener
------------------------------------------------------------------------
r822118 | bodewig | 2009-10-06 00:30:37 -0400 (Tue, 06 Oct 2009) | 1 line

use the same logic as target for xslt's param element's if/unless attribute
------------------------------------------------------------------------
r821847 | bodewig | 2009-10-05 11:29:42 -0400 (Mon, 05 Oct 2009) | 1 line

make select selector and include/exclude use the same logic as target for if/unless
------------------------------------------------------------------------
r821845 | bodewig | 2009-10-05 11:28:35 -0400 (Mon, 05 Oct 2009) | 1 line

provide project instance to internally created types
------------------------------------------------------------------------
r821836 | bodewig | 2009-10-05 11:21:41 -0400 (Mon, 05 Oct 2009) | 1 line

better deal with null projects
------------------------------------------------------------------------
r821803 | bodewig | 2009-10-05 10:02:08 -0400 (Mon, 05 Oct 2009) | 1 line

behavior when property value is neither true nor false
------------------------------------------------------------------------
r821677 | bodewig | 2009-10-05 00:33:36 -0400 (Mon, 05 Oct 2009) | 1 line

fix logging logic
------------------------------------------------------------------------
r821676 | bodewig | 2009-10-05 00:18:34 -0400 (Mon, 05 Oct 2009) | 1 line

Make fail task use the same if/unless logic as target
------------------------------------------------------------------------
r821675 | bodewig | 2009-10-05 00:04:31 -0400 (Mon, 05 Oct 2009) | 1 line

Move "don't check conditions if the attribute hasn't been set at all" logic
------------------------------------------------------------------------
r820881 | bodewig | 2009-10-02 00:20:18 -0400 (Fri, 02 Oct 2009) | 1 line

Make target's if/unless treat true/false strings as booleans
------------------------------------------------------------------------
r819571 | bodewig | 2009-09-28 11:01:07 -0400 (Mon, 28 Sep 2009) | 1 line

Add missing license
------------------------------------------------------------------------
r819570 | bodewig | 2009-09-28 11:00:34 -0400 (Mon, 28 Sep 2009) | 1 line

create fresh instances in each invocation of getHelpers.  Needed by ProjectHelper implementations that keep state and cannot be reused, like ProjectHelper2
------------------------------------------------------------------------
r819565 | bodewig | 2009-09-28 10:44:29 -0400 (Mon, 28 Sep 2009) | 1 line

whitespace and a typo
------------------------------------------------------------------------
r819556 | bodewig | 2009-09-28 10:27:24 -0400 (Mon, 28 Sep 2009) | 1 line

Syntax error.  PR 47911
------------------------------------------------------------------------
r819284 | hibou | 2009-09-27 06:59:48 -0400 (Sun, 27 Sep 2009) | 2 lines

PR 47830 : implementation of the ProjectHelperRepository to make Ant able to choose a ProjectHelper, and some doc about it

------------------------------------------------------------------------
r818447 | bodewig | 2009-09-24 07:13:52 -0400 (Thu, 24 Sep 2009) | 1 line

things you didn't know target could do ;-)
------------------------------------------------------------------------
r818394 | bodewig | 2009-09-24 03:38:53 -0400 (Thu, 24 Sep 2009) | 1 line

and aurora has a different address
------------------------------------------------------------------------
r818390 | bodewig | 2009-09-24 03:30:07 -0400 (Thu, 24 Sep 2009) | 1 line

www.ao is aurora for now
------------------------------------------------------------------------
r818389 | bodewig | 2009-09-24 03:29:33 -0400 (Thu, 24 Sep 2009) | 1 line

GlobMapper's from attribute was broken, too
------------------------------------------------------------------------
r818143 | bodewig | 2009-09-23 11:40:32 -0400 (Wed, 23 Sep 2009) | 1 line

improve logging
------------------------------------------------------------------------
r818135 | bodewig | 2009-09-23 11:07:44 -0400 (Wed, 23 Sep 2009) | 1 line

oops
------------------------------------------------------------------------
r818133 | bodewig | 2009-09-23 11:06:24 -0400 (Wed, 23 Sep 2009) | 1 line

test with more than one resource
------------------------------------------------------------------------
r818129 | bodewig | 2009-09-23 10:54:18 -0400 (Wed, 23 Sep 2009) | 1 line

Make <get> support resource collections and mappers
------------------------------------------------------------------------
r817702 | bodewig | 2009-09-22 11:48:46 -0400 (Tue, 22 Sep 2009) | 1 line

URLProvider interface
------------------------------------------------------------------------
r816591 | bodewig | 2009-09-18 07:57:04 -0400 (Fri, 18 Sep 2009) | 1 line

handleDirSep on name selector.  PR 47858
------------------------------------------------------------------------
r816153 | bodewig | 2009-09-17 07:59:26 -0400 (Thu, 17 Sep 2009) | 1 line

implement a new ${ant.refid:} syntax to expand project references as properties
------------------------------------------------------------------------
r816139 | bodewig | 2009-09-17 07:18:17 -0400 (Thu, 17 Sep 2009) | 1 line

enable test
------------------------------------------------------------------------
r815680 | bodewig | 2009-09-16 05:16:03 -0400 (Wed, 16 Sep 2009) | 1 line

Passing tests for PR 47844
------------------------------------------------------------------------
r815599 | bodewig | 2009-09-16 00:11:21 -0400 (Wed, 16 Sep 2009) | 1 line

Close all input streams when unzipping, Submitted by David Schlosnagle, PR 42696
------------------------------------------------------------------------
r813759 | bodewig | 2009-09-11 06:16:34 -0400 (Fri, 11 Sep 2009) | 1 line

convenience constructor
------------------------------------------------------------------------
r812881 | jhm | 2009-09-09 06:54:28 -0400 (Wed, 09 Sep 2009) | 1 line

Calculate relative paths.
------------------------------------------------------------------------
r812866 | jhm | 2009-09-09 06:01:02 -0400 (Wed, 09 Sep 2009) | 1 line

testcase for <property location>
------------------------------------------------------------------------
r812758 | bodewig | 2009-09-08 23:48:55 -0400 (Tue, 08 Sep 2009) | 1 line

better move the check into the 'this is Windows' block
------------------------------------------------------------------------
r812573 | bodewig | 2009-09-08 12:16:54 -0400 (Tue, 08 Sep 2009) | 1 line

Use FileUtils.getRelativePath which knows how to deal with drive letters.  PR 44499
------------------------------------------------------------------------
r811656 | bodewig | 2009-09-05 10:38:32 -0400 (Sat, 05 Sep 2009) | 1 line

whitespace
------------------------------------------------------------------------
r811435 | bodewig | 2009-09-04 11:02:39 -0400 (Fri, 04 Sep 2009) | 1 line

plug some more classloader leaks and mark those places where a leak remains and I don't see an obvious way to fix it
------------------------------------------------------------------------
r811376 | bodewig | 2009-09-04 09:02:02 -0400 (Fri, 04 Sep 2009) | 1 line

compiler adapter as nested element in javac, rmic, native2ascii and javah.  Document package-info.java stuff in javac manual page.
------------------------------------------------------------------------
r811335 | bodewig | 2009-09-04 06:10:16 -0400 (Fri, 04 Sep 2009) | 1 line

fix some javadoc warnings
------------------------------------------------------------------------
r811318 | bodewig | 2009-09-04 05:26:43 -0400 (Fri, 04 Sep 2009) | 1 line

method level Javadocs for PropertyHelper
------------------------------------------------------------------------
r811283 | bodewig | 2009-09-04 04:41:56 -0400 (Fri, 04 Sep 2009) | 1 line

Improve PropertyHelper documentation
------------------------------------------------------------------------
r811240 | bodewig | 2009-09-04 04:02:49 -0400 (Fri, 04 Sep 2009) | 1 line

document PropertyExpander and helpers, some minor optimizations in ParseProperties
------------------------------------------------------------------------
r810793 | bodewig | 2009-09-03 03:26:20 -0400 (Thu, 03 Sep 2009) | 1 line

whitespace and make method paarameters final
------------------------------------------------------------------------
r810791 | bodewig | 2009-09-03 03:23:59 -0400 (Thu, 03 Sep 2009) | 1 line

extract method
------------------------------------------------------------------------
r810790 | bodewig | 2009-09-03 03:06:58 -0400 (Thu, 03 Sep 2009) | 1 line

clean up classloaders if things go wrong as well
------------------------------------------------------------------------
r810080 | bodewig | 2009-09-01 10:56:06 -0400 (Tue, 01 Sep 2009) | 1 line

filterchains leak classloaders,  PR 45439
------------------------------------------------------------------------
r810065 | bodewig | 2009-09-01 10:13:23 -0400 (Tue, 01 Sep 2009) | 1 line

Oops, logic was backwards.  Clean up classloader unless it is added as a reference later.
------------------------------------------------------------------------
r810063 | bodewig | 2009-09-01 10:10:12 -0400 (Tue, 01 Sep 2009) | 1 line

ensure classloaders get cleaned up when no longer needed
------------------------------------------------------------------------
r810061 | bodewig | 2009-09-01 10:01:21 -0400 (Tue, 01 Sep 2009) | 1 line

backwards compatibility
------------------------------------------------------------------------
r810060 | bodewig | 2009-09-01 10:00:17 -0400 (Tue, 01 Sep 2009) | 1 line

add a parentFirst attribute to javaresource so you can load resources from the specified classpath instead of the system classpath.  PR 41369
------------------------------------------------------------------------
r810025 | bodewig | 2009-09-01 09:26:30 -0400 (Tue, 01 Sep 2009) | 1 line

Make javaresource and friends honor build.sysclasspath
------------------------------------------------------------------------
r809976 | bodewig | 2009-09-01 07:28:23 -0400 (Tue, 01 Sep 2009) | 1 line

failing test for PR 26917, not sure whether this is a bug
------------------------------------------------------------------------
r809956 | bodewig | 2009-09-01 06:19:43 -0400 (Tue, 01 Sep 2009) | 1 line

simplify propertyhelper usage
------------------------------------------------------------------------
r809955 | bodewig | 2009-09-01 06:19:15 -0400 (Tue, 01 Sep 2009) | 1 line

wrong classname
------------------------------------------------------------------------
r809624 | bodewig | 2009-08-31 11:20:27 -0400 (Mon, 31 Aug 2009) | 1 line

whitespace
------------------------------------------------------------------------
r809623 | bodewig | 2009-08-31 11:19:47 -0400 (Mon, 31 Aug 2009) | 1 line

make nested text in <property> less intrusive on existing build files
------------------------------------------------------------------------
r809473 | gscokart | 2009-08-31 02:51:46 -0400 (Mon, 31 Aug 2009) | 1 line

provides more precise error message in case of failure
------------------------------------------------------------------------
r809467 | bodewig | 2009-08-31 02:32:41 -0400 (Mon, 31 Aug 2009) | 1 line

Passing test for PR 47755
------------------------------------------------------------------------
r808770 | bodewig | 2009-08-28 02:27:21 -0400 (Fri, 28 Aug 2009) | 1 line

Caching of system classpath breaks environments where directories that are part of CLASSPATH get created during build (Gump, for example).
------------------------------------------------------------------------
r808746 | bodewig | 2009-08-28 00:04:37 -0400 (Fri, 28 Aug 2009) | 1 line

getResourceCollections is useful for composition of resource collections as well
------------------------------------------------------------------------
r808449 | bodewig | 2009-08-27 11:09:50 -0400 (Thu, 27 Aug 2009) | 1 line

support nested text in <property>.  PR 32917.  Submitted by Alexey Solofnenko
------------------------------------------------------------------------
r808444 | bodewig | 2009-08-27 10:58:21 -0400 (Thu, 27 Aug 2009) | 1 line

@since
------------------------------------------------------------------------
r808421 | bodewig | 2009-08-27 10:08:13 -0400 (Thu, 27 Aug 2009) | 1 line

Optionally enable caching for <path>.  Should help in situations like PR 45696
------------------------------------------------------------------------
r808398 | bodewig | 2009-08-27 08:29:27 -0400 (Thu, 27 Aug 2009) | 1 line

make stuff needed by FTPTaskMirrorImpl public
------------------------------------------------------------------------
r808350 | bodewig | 2009-08-27 06:14:07 -0400 (Thu, 27 Aug 2009) | 1 line

refactored <ftp> so commons-net may be loaded via a separate classloader.  Based on patch by Greg Roodt in PR 45860.  Not really tested, yet, therefore I haven't changed defaults.properties so far
------------------------------------------------------------------------
r808310 | bodewig | 2009-08-27 03:52:50 -0400 (Thu, 27 Aug 2009) | 1 line

allow rootfilesets with a dir other than the dir attribute of the classfileset.  PR 37763.  Submitted by Alexei Yudichev
------------------------------------------------------------------------
r808306 | bodewig | 2009-08-27 03:22:29 -0400 (Thu, 27 Aug 2009) | 1 line

Hey, TokenFilters can be used in filterchains with no effort, didn't know that
------------------------------------------------------------------------
r808304 | bodewig | 2009-08-27 03:17:24 -0400 (Thu, 27 Aug 2009) | 1 line

UniqFilter is not only simpler if implemented as a TokenFilter, it is even more useful as well
------------------------------------------------------------------------
r808262 | bodewig | 2009-08-26 22:59:15 -0400 (Wed, 26 Aug 2009) | 1 line

provide access to compression method
------------------------------------------------------------------------
r808169 | jglick | 2009-08-26 16:19:20 -0400 (Wed, 26 Aug 2009) | 2 lines

Taking advantage of Throwable.cause.

------------------------------------------------------------------------
r808163 | jglick | 2009-08-26 15:42:25 -0400 (Wed, 26 Aug 2009) | 2 lines

More cleanup of pre-1.4 code and docs.

------------------------------------------------------------------------
r808156 | jglick | 2009-08-26 14:48:21 -0400 (Wed, 26 Aug 2009) | 3 lines

Some miscellaneous updates given that JDK 1.4 can be assumed.
The biggest outstanding JDK 1.3 code is in Locator but I am scared to touch it.

------------------------------------------------------------------------
r808143 | jglick | 2009-08-26 14:03:13 -0400 (Wed, 26 Aug 2009) | 2 lines

Unmappable character, anyway incorrect acc. to <http://en.wiktionary.org/wiki/via#Etymology_2>.

------------------------------------------------------------------------
r808018 | bodewig | 2009-08-26 10:14:12 -0400 (Wed, 26 Aug 2009) | 1 line

Now that we have sort, throw in uniq as well
------------------------------------------------------------------------
r808009 | bodewig | 2009-08-26 09:42:14 -0400 (Wed, 26 Aug 2009) | 1 line

new filter sortfilter by David Leal.  PR 40504
------------------------------------------------------------------------
r807960 | bodewig | 2009-08-26 07:03:10 -0400 (Wed, 26 Aug 2009) | 1 line

create parent directory of archive in <zip> and <tar> if needed.  PR 45377.  Based on patch by Remie Bolte
------------------------------------------------------------------------
r807953 | bodewig | 2009-08-26 06:26:35 -0400 (Wed, 26 Aug 2009) | 1 line

Add httpusecaches attribute to <get>.  PR 41891
------------------------------------------------------------------------
r807633 | bodewig | 2009-08-25 09:52:17 -0400 (Tue, 25 Aug 2009) | 1 line

Add mapper support to <image>.  PR 23243.  Submitted by Rob Oxspring
------------------------------------------------------------------------
r807523 | bodewig | 2009-08-25 04:50:37 -0400 (Tue, 25 Aug 2009) | 1 line

Use NIO when copying files without filtering.  PR 30094.  Submitted by J Bleijenbergh and Robin Verduijn
------------------------------------------------------------------------
r807513 | bodewig | 2009-08-25 04:04:14 -0400 (Tue, 25 Aug 2009) | 1 line

Make preserveLeadingSlashes in tar work again, was broken by revision 755231
------------------------------------------------------------------------
r807505 | bodewig | 2009-08-25 03:39:48 -0400 (Tue, 25 Aug 2009) | 1 line

document limitations of build started event.  PR 47730
------------------------------------------------------------------------
r807234 | bodewig | 2009-08-24 10:24:51 -0400 (Mon, 24 Aug 2009) | 1 line

rowcountproperty for <sql>.  PR 40923
------------------------------------------------------------------------
r807230 | bodewig | 2009-08-24 10:12:59 -0400 (Mon, 24 Aug 2009) | 1 line

It may be better to set the property before an exception is thrown
------------------------------------------------------------------------
r807228 | bodewig | 2009-08-24 10:09:35 -0400 (Mon, 24 Aug 2009) | 1 line

errorproperty and warningproperty for <sql>.  Submitted by Andrew Stevens.  PR 38807
------------------------------------------------------------------------
r807189 | bodewig | 2009-08-24 08:40:12 -0400 (Mon, 24 Aug 2009) | 1 line

Test for Gump was not sufficient
------------------------------------------------------------------------
r806790 | bodewig | 2009-08-22 01:56:29 -0400 (Sat, 22 Aug 2009) | 1 line

resourceexists condition
------------------------------------------------------------------------
r806593 | bodewig | 2009-08-21 11:15:12 -0400 (Fri, 21 Aug 2009) | 1 line

tests can't pass in Gump because Xerces is pushed into the bootstrap classloader
------------------------------------------------------------------------
r806579 | bodewig | 2009-08-21 10:57:24 -0400 (Fri, 21 Aug 2009) | 1 line

take advantage of caching in Resources
------------------------------------------------------------------------
r806571 | bodewig | 2009-08-21 10:30:54 -0400 (Fri, 21 Aug 2009) | 1 line

document @since for resources/@cache
------------------------------------------------------------------------
r806570 | bodewig | 2009-08-21 10:29:51 -0400 (Fri, 21 Aug 2009) | 1 line

provide proper control over caching in <resources>
------------------------------------------------------------------------
r806553 | bodewig | 2009-08-21 09:52:35 -0400 (Fri, 21 Aug 2009) | 1 line

wrong bug number
------------------------------------------------------------------------
r806550 | bodewig | 2009-08-21 09:45:19 -0400 (Fri, 21 Aug 2009) | 1 line

passing test for PRs 39122 and 44300
------------------------------------------------------------------------
r806528 | bodewig | 2009-08-21 08:38:17 -0400 (Fri, 21 Aug 2009) | 1 line

document that targets should have unique locations.  PR 47640
------------------------------------------------------------------------
r806471 | bodewig | 2009-08-21 05:15:45 -0400 (Fri, 21 Aug 2009) | 1 line

cache iterator in Resources if asked for size
------------------------------------------------------------------------
r806442 | bodewig | 2009-08-21 03:59:55 -0400 (Fri, 21 Aug 2009) | 1 line

delete was scanning the same fileset three times, making modified selector useless.  PR 43574
------------------------------------------------------------------------
r806174 | bodewig | 2009-08-20 09:52:09 -0400 (Thu, 20 Aug 2009) | 1 line

allow Class-Path attributes to be merged and optionally be flattened.  PR 39655
------------------------------------------------------------------------
r806154 | jhm | 2009-08-20 09:01:18 -0400 (Thu, 20 Aug 2009) | 1 line

<propertyfile> now support deletion of entries
------------------------------------------------------------------------
r806149 | bodewig | 2009-08-20 08:48:06 -0400 (Thu, 20 Aug 2009) | 1 line

tests for manifest merging
------------------------------------------------------------------------
r806037 | bodewig | 2009-08-19 23:56:27 -0400 (Wed, 19 Aug 2009) | 1 line

really return the group id, not the user id in getGid
------------------------------------------------------------------------
r806035 | bodewig | 2009-08-19 23:47:14 -0400 (Wed, 19 Aug 2009) | 1 line

make sure the entry has been read when looking for uid/gid and so on
------------------------------------------------------------------------
r805463 | bodewig | 2009-08-18 11:44:32 -0400 (Tue, 18 Aug 2009) | 1 line

the update attribute of the modified selector was ignored.  PR 32597
------------------------------------------------------------------------
r805423 | bodewig | 2009-08-18 10:13:27 -0400 (Tue, 18 Aug 2009) | 1 line

zips and jars use / as separator, so weblogicdeploymenttool may fail on Windows.  PR 35649
------------------------------------------------------------------------
r805415 | bodewig | 2009-08-18 09:55:46 -0400 (Tue, 18 Aug 2009) | 1 line

option to suppress FAILED lines in JUnit log output.  PR 35073
------------------------------------------------------------------------
r805387 | bodewig | 2009-08-18 08:39:15 -0400 (Tue, 18 Aug 2009) | 1 line

passing test for PR 47666
------------------------------------------------------------------------
r805382 | bodewig | 2009-08-18 08:18:20 -0400 (Tue, 18 Aug 2009) | 1 line

improve nested-record patch.  PR 41368.  Submitted by Gene-Sung Chung
------------------------------------------------------------------------
r805355 | bodewig | 2009-08-18 06:57:16 -0400 (Tue, 18 Aug 2009) | 1 line

whitespace
------------------------------------------------------------------------
r805354 | bodewig | 2009-08-18 06:55:36 -0400 (Tue, 18 Aug 2009) | 1 line

clear compilelist in rmic before execute, not afterwards - just like javac does.  PR 21089
------------------------------------------------------------------------
r805353 | bodewig | 2009-08-18 06:51:51 -0400 (Tue, 18 Aug 2009) | 1 line

Add a listfiles attribute to rmic.  PR 24359
------------------------------------------------------------------------
r805320 | bodewig | 2009-08-18 04:29:01 -0400 (Tue, 18 Aug 2009) | 1 line

add a destdir attribute to rmic so generated stubs or whatever can be put into a different place.  PR 20699.  Submitted by Mark A. Ziesemer
------------------------------------------------------------------------
r805270 | bodewig | 2009-08-17 23:54:41 -0400 (Mon, 17 Aug 2009) | 1 line

some extra verbose diagnostics
------------------------------------------------------------------------
r805265 | bodewig | 2009-08-17 23:08:20 -0400 (Mon, 17 Aug 2009) | 1 line

new islastmodified condition
------------------------------------------------------------------------
r805014 | bodewig | 2009-08-17 11:46:09 -0400 (Mon, 17 Aug 2009) | 1 line

allow setting of arbitrary JDBC connection properties.  PR 33452
------------------------------------------------------------------------
r804902 | bodewig | 2009-08-17 04:43:05 -0400 (Mon, 17 Aug 2009) | 1 line

log something when expand doesn't extract a file that doesn#t match the patterns
------------------------------------------------------------------------
r804430 | bodewig | 2009-08-14 23:42:35 -0400 (Fri, 14 Aug 2009) | 1 line

expose native encoding constant
------------------------------------------------------------------------
r803830 | bodewig | 2009-08-13 06:15:03 -0400 (Thu, 13 Aug 2009) | 1 line

make ftp task compile against commons-net 2.0 and 1.4.1.  PR 47669.  Submitted by Alexander Kurtakov
------------------------------------------------------------------------
r803739 | jglick | 2009-08-12 19:16:08 -0400 (Wed, 12 Aug 2009) | 2 lines

#43398 revisited: display full stack traces for non-BuildException's, even inside <ant>.

------------------------------------------------------------------------
r803726 | jglick | 2009-08-12 18:20:12 -0400 (Wed, 12 Aug 2009) | 2 lines

Handle case that test is run on Windows.

------------------------------------------------------------------------
r803701 | jglick | 2009-08-12 16:29:17 -0400 (Wed, 12 Aug 2009) | 2 lines

Writing test for #43398, which is not satisfactorily fixed.

------------------------------------------------------------------------
r802486 | bodewig | 2009-08-09 01:18:00 -0400 (Sun, 09 Aug 2009) | 1 line

fall back to java.vm.version if java.runtime.version cannot be found
------------------------------------------------------------------------
r801814 | bodewig | 2009-08-06 16:35:20 -0400 (Thu, 06 Aug 2009) | 1 line

executable?
------------------------------------------------------------------------
r801813 | bodewig | 2009-08-06 16:30:15 -0400 (Thu, 06 Aug 2009) | 1 line

executable?
------------------------------------------------------------------------
r801286 | bodewig | 2009-08-05 12:23:04 -0400 (Wed, 05 Aug 2009) | 1 line

support FileProvider in ZipResource
------------------------------------------------------------------------
r801248 | bodewig | 2009-08-05 10:58:24 -0400 (Wed, 05 Aug 2009) | 1 line

oops, didn't mean to replace the vendor property
------------------------------------------------------------------------
r801246 | bodewig | 2009-08-05 10:54:17 -0400 (Wed, 05 Aug 2009) | 1 line

Use java.runtime.version instead of java.vm.version in Created-By manifest attribute.  Submitted by Gilbert Rebhan.  PR 47632
------------------------------------------------------------------------
r801014 | jglick | 2009-08-04 19:19:12 -0400 (Tue, 04 Aug 2009) | 2 lines

Missing space in error message.

------------------------------------------------------------------------
r800678 | bodewig | 2009-08-04 01:38:43 -0400 (Tue, 04 Aug 2009) | 1 line

fix NPE when logging an exception without message.  PR 47623.
------------------------------------------------------------------------
r799730 | bodewig | 2009-07-31 16:04:31 -0400 (Fri, 31 Jul 2009) | 1 line

provide access to encoding stuff in unzip, hide it in untar
------------------------------------------------------------------------
r799711 | jglick | 2009-07-31 15:28:49 -0400 (Fri, 31 Jul 2009) | 4 lines

Depending on exactly how you run 'ant test', its classpath could contain different things; legitimate for ${ant.core.lib} to be a classes dir.
(Would be better if the main build script actually ensured that it was testing the classes just compiled and controlled the test CP;
unless you do e.g. 'CLASSPATH=lib/optional/junit-3.8.2.jar ./bootstrap.sh test' it does not seem to work,
because '/usr/bin/ant test' actually runs tests against /usr/lib/ant.jar etc. Quite a mess.)
------------------------------------------------------------------------
r799651 | bodewig | 2009-07-31 12:06:31 -0400 (Fri, 31 Jul 2009) | 1 line

whitespace
------------------------------------------------------------------------
r799650 | bodewig | 2009-07-31 12:04:30 -0400 (Fri, 31 Jul 2009) | 1 line

use the same logic as getResource in getResourceAsStream.  PR 44103
------------------------------------------------------------------------
r799302 | bodewig | 2009-07-30 10:57:49 -0400 (Thu, 30 Jul 2009) | 1 line

example for implementing PR 18656
------------------------------------------------------------------------
r799251 | bodewig | 2009-07-30 08:43:30 -0400 (Thu, 30 Jul 2009) | 1 line

passing test for PR 47602
------------------------------------------------------------------------
r798843 | bodewig | 2009-07-29 06:26:39 -0400 (Wed, 29 Jul 2009) | 1 line

simplify
------------------------------------------------------------------------
r798841 | bodewig | 2009-07-29 06:25:50 -0400 (Wed, 29 Jul 2009) | 1 line

Unused variable
------------------------------------------------------------------------
r798840 | bodewig | 2009-07-29 06:25:08 -0400 (Wed, 29 Jul 2009) | 1 line

Huh?
------------------------------------------------------------------------
r798839 | bodewig | 2009-07-29 06:23:59 -0400 (Wed, 29 Jul 2009) | 1 line

make error message more readable
------------------------------------------------------------------------
r798838 | bodewig | 2009-07-29 06:22:58 -0400 (Wed, 29 Jul 2009) | 1 line

report name of corrupt ZIP to System.err,  PR 47593
------------------------------------------------------------------------
r798782 | bodewig | 2009-07-29 00:49:18 -0400 (Wed, 29 Jul 2009) | 1 line

passing testcase for PR 47593
------------------------------------------------------------------------
r798399 | bodewig | 2009-07-28 00:42:28 -0400 (Tue, 28 Jul 2009) | 1 line

print where core and optional classes have been found.  PR 47574.  Make check for optional classes work again after the test task has been removed.
------------------------------------------------------------------------
r797509 | bodewig | 2009-07-24 10:55:05 -0400 (Fri, 24 Jul 2009) | 1 line

configurable number of retries in get, option to skip existing files.  Submitted by David M. Lloyd.  PR 40058
------------------------------------------------------------------------
r797496 | bodewig | 2009-07-24 10:39:17 -0400 (Fri, 24 Jul 2009) | 1 line

configurable display text and more control over progressbar in splash task.  Submitted by Tomasz Bech.  PR 39957
------------------------------------------------------------------------
r796762 | bodewig | 2009-07-22 11:17:00 -0400 (Wed, 22 Jul 2009) | 1 line

allow methods other than GET in http condition.  Submitted by Robert Clark.  PR 30244
------------------------------------------------------------------------
r796730 | bodewig | 2009-07-22 09:58:26 -0400 (Wed, 22 Jul 2009) | 1 line

META-INF is no longer special in grabFiles, thanks Gump
------------------------------------------------------------------------
r796702 | bodewig | 2009-07-22 09:17:16 -0400 (Wed, 22 Jul 2009) | 1 line

properly set CodeSource when loading classes.  PR 20174
------------------------------------------------------------------------
r796667 | bodewig | 2009-07-22 07:13:13 -0400 (Wed, 22 Jul 2009) | 1 line

passing test for PR 43994
------------------------------------------------------------------------
r796649 | bodewig | 2009-07-22 05:51:16 -0400 (Wed, 22 Jul 2009) | 1 line

allow access to parent.  PR 35436
------------------------------------------------------------------------
r796647 | bodewig | 2009-07-22 05:44:52 -0400 (Wed, 22 Jul 2009) | 1 line

override getResources in a new AntClassLoader subclass that will be used consistently when Ant is running on Java5+.  PR 46752
------------------------------------------------------------------------
r796614 | bodewig | 2009-07-22 01:03:35 -0400 (Wed, 22 Jul 2009) | 1 line

make all classes use the same AntClassLoader constructor
------------------------------------------------------------------------
r796192 | bodewig | 2009-07-21 04:58:02 -0400 (Tue, 21 Jul 2009) | 1 line

pretty persistent typo
------------------------------------------------------------------------
r796188 | bodewig | 2009-07-21 04:52:12 -0400 (Tue, 21 Jul 2009) | 1 line

Allow users to specify a classpath when using a custom adapter in javac, rmic, javah or native2ascii.  PR 11143
------------------------------------------------------------------------
r796169 | bodewig | 2009-07-21 03:25:12 -0400 (Tue, 21 Jul 2009) | 1 line

Java 1.2
------------------------------------------------------------------------
r796144 | bodewig | 2009-07-21 01:00:59 -0400 (Tue, 21 Jul 2009) | 1 line

keep escaping XML in stacktraces.  PR 39492
------------------------------------------------------------------------
r794666 | bodewig | 2009-07-16 09:12:00 -0400 (Thu, 16 Jul 2009) | 1 line

fix xmlproperty examples.  PR 43583
------------------------------------------------------------------------
r794639 | bodewig | 2009-07-16 07:49:08 -0400 (Thu, 16 Jul 2009) | 1 line

log stuff when actually creating the archive
------------------------------------------------------------------------
r794630 | bodewig | 2009-07-16 07:24:47 -0400 (Thu, 16 Jul 2009) | 1 line

make update="true" and filesetmanifest="merge" work together.  PR 30751
------------------------------------------------------------------------
r794527 | bodewig | 2009-07-16 01:08:39 -0400 (Thu, 16 Jul 2009) | 1 line

add a delay so new zip is certain to get a more recent timestamp
------------------------------------------------------------------------
r794274 | bodewig | 2009-07-15 10:13:36 -0400 (Wed, 15 Jul 2009) | 1 line

extract method
------------------------------------------------------------------------
r794255 | bodewig | 2009-07-15 09:09:00 -0400 (Wed, 15 Jul 2009) | 1 line

don't compare timestamps on directories but add missing dirs
------------------------------------------------------------------------
r794215 | bodewig | 2009-07-15 06:17:09 -0400 (Wed, 15 Jul 2009) | 1 line

don't ignore directory resources when performing up-to-date checks
------------------------------------------------------------------------
r794214 | bodewig | 2009-07-15 06:15:02 -0400 (Wed, 15 Jul 2009) | 1 line

alphasort directories read from non-FileSet resource collections - DirectoryScanner already sorts them appropriately for FileSets
------------------------------------------------------------------------
r794212 | bodewig | 2009-07-15 06:10:54 -0400 (Wed, 15 Jul 2009) | 1 line

new zip logic bypassed overridden method in jar and broke manifest/index logic
------------------------------------------------------------------------
r794204 | bodewig | 2009-07-15 05:01:48 -0400 (Wed, 15 Jul 2009) | 1 line

preserve ZIP extra fields
------------------------------------------------------------------------
r794198 | bodewig | 2009-07-15 04:53:07 -0400 (Wed, 15 Jul 2009) | 1 line

preserve timestamps for directories added to a zip archive (and potentially zip extra fields as well)
------------------------------------------------------------------------
r794177 | bodewig | 2009-07-15 04:26:37 -0400 (Wed, 15 Jul 2009) | 1 line

refactor zip archive creation logic into smaller chunks
------------------------------------------------------------------------
r793794 | bodewig | 2009-07-14 01:11:36 -0400 (Tue, 14 Jul 2009) | 1 line

tests for PR 43946
------------------------------------------------------------------------
r793792 | bodewig | 2009-07-14 00:51:55 -0400 (Tue, 14 Jul 2009) | 1 line

record task doesn't work properly with subbuilds.  PR 41368.  Submitted by Greg Schueler
------------------------------------------------------------------------
r793787 | bodewig | 2009-07-14 00:28:04 -0400 (Tue, 14 Jul 2009) | 1 line

filesetmanifest=mergewithoutmain didn't work for nested manifests.  PR 29731.
------------------------------------------------------------------------
r793605 | bodewig | 2009-07-13 11:04:35 -0400 (Mon, 13 Jul 2009) | 1 line

Add an executable attribute to rmic.  PR 42132
------------------------------------------------------------------------
r793562 | bodewig | 2009-07-13 07:51:58 -0400 (Mon, 13 Jul 2009) | 1 line

testcases for PR 43114
------------------------------------------------------------------------
r793540 | bodewig | 2009-07-13 06:56:32 -0400 (Mon, 13 Jul 2009) | 1 line

try to unwrap ScriptException - unfortunately it doesn't seem to work - PR 47509
------------------------------------------------------------------------
r793528 | bodewig | 2009-07-13 06:08:35 -0400 (Mon, 13 Jul 2009) | 1 line

check error on remaining PrintWriter instances
------------------------------------------------------------------------
r793516 | bodewig | 2009-07-13 05:35:33 -0400 (Mon, 13 Jul 2009) | 1 line

potential NPEs
------------------------------------------------------------------------
r793510 | bodewig | 2009-07-13 05:06:16 -0400 (Mon, 13 Jul 2009) | 1 line

double buffering
------------------------------------------------------------------------
r793509 | bodewig | 2009-07-13 05:05:18 -0400 (Mon, 13 Jul 2009) | 1 line

whitespace
------------------------------------------------------------------------
r793462 | bodewig | 2009-07-13 01:46:17 -0400 (Mon, 13 Jul 2009) | 1 line

PrintWriter hides exceptions, avoid it
------------------------------------------------------------------------
r793048 | jkf | 2009-07-10 13:37:04 -0400 (Fri, 10 Jul 2009) | 1 line

Also allow redirect from http to https a subset of what was requested in pr 47433. Tests from https to http v.v. have also been executed I couldn't find a https space for public testcases though.
------------------------------------------------------------------------
r792967 | bodewig | 2009-07-10 11:02:08 -0400 (Fri, 10 Jul 2009) | 1 line

make the executable attribute of apt inherited from javac work as expected.  PR 46230
------------------------------------------------------------------------
r792961 | bodewig | 2009-07-10 10:27:06 -0400 (Fri, 10 Jul 2009) | 1 line

whitespace
------------------------------------------------------------------------
r792960 | bodewig | 2009-07-10 10:24:29 -0400 (Fri, 10 Jul 2009) | 1 line

add a new indexMetaInf attribute to <jar>.  PR 47457.
------------------------------------------------------------------------
r792943 | bodewig | 2009-07-10 09:25:41 -0400 (Fri, 10 Jul 2009) | 1 line

add a passing testcase for PR 47470
------------------------------------------------------------------------
r791400 | bodewig | 2009-07-06 03:50:59 -0400 (Mon, 06 Jul 2009) | 1 line

additional tests for new prefix/suffic attributes of command line args.  PR 47365.  Submitted by Martin von Gagern
------------------------------------------------------------------------
r789556 | bodewig | 2009-06-30 00:26:56 -0400 (Tue, 30 Jun 2009) | 1 line

clear out buffer so the last block is always filled with EOF records.  PR 47421
------------------------------------------------------------------------
r789479 | jglick | 2009-06-29 18:42:40 -0400 (Mon, 29 Jun 2009) | 4 lines

Issue a warning in case neither includeantruntime nor build.sysclasspath were set,
since the default gives scripts an implicit environmental dependency which is often unwanted.
See also: http://www.netbeans.org/nonav/issues/show_bug.cgi?id=158958

------------------------------------------------------------------------
r789284 | bodewig | 2009-06-29 06:46:56 -0400 (Mon, 29 Jun 2009) | 1 line

don't put test files into the source tree
------------------------------------------------------------------------
r789271 | bodewig | 2009-06-29 05:41:37 -0400 (Mon, 29 Jun 2009) | 1 line

add prefix and suffix attributes to apply's srcfile and targetfile elements.  PR 45625
------------------------------------------------------------------------
r788677 | bodewig | 2009-06-26 08:41:50 -0400 (Fri, 26 Jun 2009) | 1 line

prefix and suffix attributes for command line arguments, PR 47365, submitted by Martin von Gagern
------------------------------------------------------------------------
r786515 | bodewig | 2009-06-19 10:08:56 -0400 (Fri, 19 Jun 2009) | 1 line

explicitly set encoding to iso-8859-1 since this is what Properties.load expects
------------------------------------------------------------------------
r786506 | bodewig | 2009-06-19 09:45:58 -0400 (Fri, 19 Jun 2009) | 1 line

loadproperties' encoding attribute is broken.  PR 47382
------------------------------------------------------------------------
r786504 | bodewig | 2009-06-19 09:27:21 -0400 (Fri, 19 Jun 2009) | 1 line

Don't ignore missing resources in copy when failOnError is true.  PR 47362
------------------------------------------------------------------------
r784128 | bodewig | 2009-06-12 10:08:54 -0400 (Fri, 12 Jun 2009) | 1 line

test fails in 'svn export'ed directories
------------------------------------------------------------------------
r783050 | bodewig | 2009-06-09 11:48:29 -0400 (Tue, 09 Jun 2009) | 1 line

really add setbeans attribute to scriptmapper/filter/condition.  PR 47336
------------------------------------------------------------------------
r782990 | bodewig | 2009-06-09 09:08:48 -0400 (Tue, 09 Jun 2009) | 1 line

pass on IOException from Runtime.exec as the old code did - and as promised by the javadocs.  This fixes ant-contrib's tests in Gump.
------------------------------------------------------------------------
r782943 | bodewig | 2009-06-09 06:09:02 -0400 (Tue, 09 Jun 2009) | 1 line

show that .svn is excluded by default, independent of platform
------------------------------------------------------------------------
r782935 | bodewig | 2009-06-09 05:56:23 -0400 (Tue, 09 Jun 2009) | 1 line

whitespace
------------------------------------------------------------------------
r782934 | bodewig | 2009-06-09 05:55:36 -0400 (Tue, 09 Jun 2009) | 1 line

clean up test files/dirs
------------------------------------------------------------------------
r781357 | bodewig | 2009-06-03 09:02:37 -0400 (Wed, 03 Jun 2009) | 1 line

replacetokens failed if stream ends in begintoken.  PR 47306.
------------------------------------------------------------------------
r775914 | bodewig | 2009-05-18 08:10:02 -0400 (Mon, 18 May 2009) | 1 line

javadoc creation of Ant's own sources failed on JDK 1.4.  PR 46731.  Patch submitted by Martin von Gagern
------------------------------------------------------------------------
r775912 | bodewig | 2009-05-18 08:02:30 -0400 (Mon, 18 May 2009) | 1 line

whitespace
------------------------------------------------------------------------
r775911 | bodewig | 2009-05-18 08:00:31 -0400 (Mon, 18 May 2009) | 1 line

testcase for PR 47196
------------------------------------------------------------------------
r773568 | bodewig | 2009-05-11 10:06:02 -0400 (Mon, 11 May 2009) | 1 line

tests for PR 47168
------------------------------------------------------------------------
r772636 | bodewig | 2009-05-07 08:33:49 -0400 (Thu, 07 May 2009) | 1 line

make test pass for me - it could be that ASF's infrastructure is using Geo-IP information in DNS, though
------------------------------------------------------------------------
r772606 | bodewig | 2009-05-07 06:58:29 -0400 (Thu, 07 May 2009) | 1 line

special handling of IllegalArgumentExceptions in attribute setters for better error messages.  PR 47129
------------------------------------------------------------------------
r772543 | bodewig | 2009-05-07 04:19:29 -0400 (Thu, 07 May 2009) | 1 line

honor failonerror on connection problems.  PR 46829.
------------------------------------------------------------------------
r768513 | jkf | 2009-04-25 06:55:30 -0400 (Sat, 25 Apr 2009) | 2 lines

Remove pre java 1.3 construct.
Remove spawn from Execute (spawn from ExecTask is actually used, the one here was never used)
------------------------------------------------------------------------
r763661 | bodewig | 2009-04-09 10:17:38 -0400 (Thu, 09 Apr 2009) | 1 line

add a force option to signjar.  Based on submission by Pavel Jisl.  PR 46891
------------------------------------------------------------------------
r763652 | bodewig | 2009-04-09 09:47:36 -0400 (Thu, 09 Apr 2009) | 1 line

support MSYS/MingW.  Submitted by Clement OUDOT.  PR 46936
------------------------------------------------------------------------
r761528 | jhm | 2009-04-03 00:55:43 -0400 (Fri, 03 Apr 2009) | 1 line

Better documentation of getSubProjectExecutor()
------------------------------------------------------------------------
r759322 | mbenson | 2009-03-27 15:52:08 -0400 (Fri, 27 Mar 2009) | 1 line

document SecureInputHandler and add to known input handler types
------------------------------------------------------------------------
r759138 | bodewig | 2009-03-27 09:49:42 -0400 (Fri, 27 Mar 2009) | 1 line

Improve bzip2 performance, submitted by Rodrigo Schmidt, PR 24798
------------------------------------------------------------------------
r755473 | bodewig | 2009-03-18 00:40:44 -0400 (Wed, 18 Mar 2009) | 1 line

properly set the size of directories
------------------------------------------------------------------------
r755231 | bodewig | 2009-03-17 08:59:48 -0400 (Tue, 17 Mar 2009) | 1 line

deal with file system roots being added - was leading to IndexOutOfBoundsExceptions in File-arg constructor
------------------------------------------------------------------------
r751695 | stevel | 2009-03-09 10:44:52 -0400 (Mon, 09 Mar 2009) | 2 lines

Bug 46812 -  <tarfileset> no longer takes a fileset ref (regression)
-changed the overrode the Datattype.getCheckedRef() logic in ArchiveFileSet, delegating to the overridden getRef in all such cases; the subclasses all do their fileset imports there. Added a test. Not changed WHATSNEW unless there's evidence that this test fails in Ant1.7.1
------------------------------------------------------------------------
r750311 | bodewig | 2009-03-04 23:38:07 -0500 (Wed, 04 Mar 2009) | 1 line

ensure the same encoding is used for name and comment in all places.  Submitted by Wolfgang Glas
------------------------------------------------------------------------
r750072 | bodewig | 2009-03-04 11:54:39 -0500 (Wed, 04 Mar 2009) | 1 line

even more encoding options for zips
------------------------------------------------------------------------
r749610 | bodewig | 2009-03-03 08:18:45 -0500 (Tue, 03 Mar 2009) | 1 line

Parse central directory part of ZIP extra fields.  PR 46637
------------------------------------------------------------------------
r749527 | bodewig | 2009-03-02 23:29:36 -0500 (Mon, 02 Mar 2009) | 1 line

typos and unused imports
------------------------------------------------------------------------
r749368 | bodewig | 2009-03-02 12:17:09 -0500 (Mon, 02 Mar 2009) | 1 line

improved zip-encoding support for JDK < 1.5, submitted by Wolfgang Glas, merge from commons-compress
------------------------------------------------------------------------
r748780 | bodewig | 2009-02-28 01:15:08 -0500 (Sat, 28 Feb 2009) | 1 line

eol-style
------------------------------------------------------------------------
r748593 | bodewig | 2009-02-27 12:00:59 -0500 (Fri, 27 Feb 2009) | 1 line

provide options for enhanced encoding support in ZIP, document it.  Many thanks to Wolfgang Glas who provided most of the test input as well as patches the new support is based on.
------------------------------------------------------------------------
r748416 | bodewig | 2009-02-27 02:24:51 -0500 (Fri, 27 Feb 2009) | 1 line

fix self-assignment
------------------------------------------------------------------------
r748147 | bodewig | 2009-02-26 08:38:23 -0500 (Thu, 26 Feb 2009) | 1 line

optionally read/write InfoZIP unicode fields, merge from commons-compress
------------------------------------------------------------------------
r747004 | bodewig | 2009-02-23 08:13:48 -0500 (Mon, 23 Feb 2009) | 1 line

sync can cause NPE whith broken symlinks.  PR 46747.  Submitted by skoppehel at intersoft dot de
------------------------------------------------------------------------
r747002 | bodewig | 2009-02-23 08:12:16 -0500 (Mon, 23 Feb 2009) | 1 line

use the desired encoding to decode
------------------------------------------------------------------------
r746934 | bodewig | 2009-02-23 04:08:11 -0500 (Mon, 23 Feb 2009) | 1 line

use nio for decoding of names - merge from commons-compress rev 746933
------------------------------------------------------------------------
r745932 | bodewig | 2009-02-19 12:20:39 -0500 (Thu, 19 Feb 2009) | 1 line

whitespace
------------------------------------------------------------------------
r745930 | bodewig | 2009-02-19 12:19:23 -0500 (Thu, 19 Feb 2009) | 1 line

Support more modern encoding flag where archives signal filenames as UTF-8.  Based on submissions by Wolfgang Glas to commons-compress and TAMURA Kent to Ant.  PR 45548.
------------------------------------------------------------------------
r745884 | bodewig | 2009-02-19 09:29:16 -0500 (Thu, 19 Feb 2009) | 1 line

Adapt to ASF infrastructure change
------------------------------------------------------------------------
r745859 | bodewig | 2009-02-19 08:43:22 -0500 (Thu, 19 Feb 2009) | 1 line

TestCase for new Unicode extra fields, based on submission by Wolfgang Glas.  Merge from commons-compress
------------------------------------------------------------------------
r745537 | bodewig | 2009-02-18 10:21:32 -0500 (Wed, 18 Feb 2009) | 1 line

allow extra fields to be added at the front
------------------------------------------------------------------------
r745531 | bodewig | 2009-02-18 10:01:39 -0500 (Wed, 18 Feb 2009) | 1 line

Add support for InfoZIP invented extra fields for Unicode file names and comments.  Submitted by Wolfgang Glas.  Merge from commons-compress revision 745528
------------------------------------------------------------------------
r745437 | bodewig | 2009-02-18 03:54:20 -0500 (Wed, 18 Feb 2009) | 1 line

linefeeds
------------------------------------------------------------------------
r745433 | stevel | 2009-02-18 03:43:51 -0500 (Wed, 18 Feb 2009) | 1 line

starting the tests for this, fixing the code as the problems show up. Task is not yet ready for use.
------------------------------------------------------------------------
r744861 | bodewig | 2009-02-16 03:36:06 -0500 (Mon, 16 Feb 2009) | 1 line

eol-style
------------------------------------------------------------------------
r744132 | bodewig | 2009-02-13 09:46:02 -0500 (Fri, 13 Feb 2009) | 1 line

JDK 1.4 - unfortunately
------------------------------------------------------------------------
r743910 | jglick | 2009-02-12 17:35:18 -0500 (Thu, 12 Feb 2009) | 2 lines

#43114: ensuring that package-info.class is created/touched when package-info.java is compiled.

------------------------------------------------------------------------
r743227 | bodewig | 2009-02-11 00:02:33 -0500 (Wed, 11 Feb 2009) | 1 line

fix linefeeds
------------------------------------------------------------------------
r742061 | jkf | 2009-02-08 06:33:56 -0500 (Sun, 08 Feb 2009) | 1 line

Bugzilla Report 46659, space missing between define and value in RPM task (verified against help page of rpm).
------------------------------------------------------------------------
r741630 | bodewig | 2009-02-06 11:46:28 -0500 (Fri, 06 Feb 2009) | 1 line

jdk1.4
------------------------------------------------------------------------
r741618 | bodewig | 2009-02-06 11:29:39 -0500 (Fri, 06 Feb 2009) | 1 line

provide a finish method separate from close - merge from commons-compress, this time merging the correct revision
------------------------------------------------------------------------
r741608 | bodewig | 2009-02-06 11:08:55 -0500 (Fri, 06 Feb 2009) | 1 line

provide a finish method separate from close - merge from commons-compress
------------------------------------------------------------------------
r741554 | jkf | 2009-02-06 07:36:48 -0500 (Fri, 06 Feb 2009) | 1 line

Pr 44544: Deadlock between in, out and err in the redirector.
------------------------------------------------------------------------
r741513 | jkf | 2009-02-06 05:27:54 -0500 (Fri, 06 Feb 2009) | 1 line

deprecated since
------------------------------------------------------------------------
r741512 | jkf | 2009-02-06 05:27:22 -0500 (Fri, 06 Feb 2009) | 1 line

Marked the DeweyDecimal in extension package deprecated.
------------------------------------------------------------------------
r741506 | jkf | 2009-02-06 05:21:24 -0500 (Fri, 06 Feb 2009) | 1 line

Deprecated the public DateFormat
------------------------------------------------------------------------
r741505 | jkf | 2009-02-06 05:20:47 -0500 (Fri, 06 Feb 2009) | 1 line

Removed the own implementation for creating a temporary file, in case deletion of temp file fails, added it as candidate for deletion on exit.
------------------------------------------------------------------------
r741089 | bodewig | 2009-02-05 07:30:01 -0500 (Thu, 05 Feb 2009) | 1 line

fix a bunch of findbugs reported problems in the zip, tar and bzip2 classes.  PR 46661
------------------------------------------------------------------------
r740597 | bodewig | 2009-02-03 23:07:25 -0500 (Tue, 03 Feb 2009) | 1 line

indentation changes only
------------------------------------------------------------------------
r740595 | bodewig | 2009-02-03 23:06:09 -0500 (Tue, 03 Feb 2009) | 1 line

fix XMLCatalogTest on Java6
------------------------------------------------------------------------
r740025 | bodewig | 2009-02-02 11:32:01 -0500 (Mon, 02 Feb 2009) | 1 line

Use a real transformation error instead of an XML parsing error in testTransformationError
------------------------------------------------------------------------
r739873 | jkf | 2009-02-01 17:30:48 -0500 (Sun, 01 Feb 2009) | 2 lines

Do not filter out AssertionError bugzilla 45631.
Also some corrections and still avoid inclusion of the AssertionError "Caused by" line as originally present when converting to AssertionFailedError.
------------------------------------------------------------------------
r739865 | jkf | 2009-02-01 17:19:57 -0500 (Sun, 01 Feb 2009) | 1 line

Another thread-unsafe date formatter
------------------------------------------------------------------------
r739577 | jkf | 2009-01-31 12:10:50 -0500 (Sat, 31 Jan 2009) | 1 line

Original toString would always throw a NPE.
------------------------------------------------------------------------
r739575 | jkf | 2009-01-31 11:26:41 -0500 (Sat, 31 Jan 2009) | 1 line

Math.abs(rand.nextInt()) may yield negative value. rand.nextInt(Integer.MAX_VALUE) seems to be what was meant.
------------------------------------------------------------------------
r739572 | jkf | 2009-01-31 11:14:58 -0500 (Sat, 31 Jan 2009) | 1 line

Fixed some obvious errors. (Formatter class is not thread safe, equals from string to another object).
------------------------------------------------------------------------
r739567 | jkf | 2009-01-31 09:54:54 -0500 (Sat, 31 Jan 2009) | 4 lines

Adding task to provide host info, requests in bug reports 31164 and 45861.
	


------------------------------------------------------------------------
r739300 | bodewig | 2009-01-30 10:00:21 -0500 (Fri, 30 Jan 2009) | 1 line

Ignore ZIP extra fields that don't contain the recommended header+length structure - this is what unzip does as well.  PR 42940
------------------------------------------------------------------------
r738872 | bodewig | 2009-01-29 09:55:31 -0500 (Thu, 29 Jan 2009) | 1 line

Include information about the XSLT processor found (if any) in -diagnostics.  PR 46612.
------------------------------------------------------------------------
r738854 | bodewig | 2009-01-29 08:24:42 -0500 (Thu, 29 Jan 2009) | 1 line

fix MIME type
------------------------------------------------------------------------
r738853 | bodewig | 2009-01-29 08:22:58 -0500 (Thu, 29 Jan 2009) | 1 line

Make sure ZIP archive is closed even when a RuntimeExpection occurs.  PR 46559
------------------------------------------------------------------------
r738844 | bodewig | 2009-01-29 07:48:35 -0500 (Thu, 29 Jan 2009) | 1 line

Move the zip package into a Java 1.4 world
------------------------------------------------------------------------
r738761 | bodewig | 2009-01-29 00:23:52 -0500 (Thu, 29 Jan 2009) | 1 line

support source/target on gcj.  PR 46617.  Based on patch by Paweł Zuzelski
------------------------------------------------------------------------
r738412 | bodewig | 2009-01-28 04:22:05 -0500 (Wed, 28 Jan 2009) | 1 line

turn Jesse's testcase in PR 45902 into an AntUnit test (failed before applying revision 738330 and passes after it)
------------------------------------------------------------------------
r738330 | jglick | 2009-01-27 20:17:16 -0500 (Tue, 27 Jan 2009) | 2 lines

#45902: <zip> (without dofilesonly="true") sometimes recreated archives unnecessarily.

------------------------------------------------------------------------
r735676 | bodewig | 2009-01-19 07:27:38 -0500 (Mon, 19 Jan 2009) | 1 line

need to add a path separator after the first path element, not before it
------------------------------------------------------------------------
r735080 | mbenson | 2009-01-16 13:31:01 -0500 (Fri, 16 Jan 2009) | 1 line

restore stuff accidentally blown away
------------------------------------------------------------------------
r734866 | mbenson | 2009-01-15 19:07:54 -0500 (Thu, 15 Jan 2009) | 1 line

PR 46527; sort losing equal entries
------------------------------------------------------------------------
r734864 | mbenson | 2009-01-15 19:05:31 -0500 (Thu, 15 Jan 2009) | 1 line

pathconvert preserveduplicates
------------------------------------------------------------------------
r734819 | mbenson | 2009-01-15 16:18:06 -0500 (Thu, 15 Jan 2009) | 1 line

failing test for PR 46257
------------------------------------------------------------------------
r734788 | mbenson | 2009-01-15 14:43:26 -0500 (Thu, 15 Jan 2009) | 1 line

REALLY antunit-ize the test
------------------------------------------------------------------------
r734784 | mbenson | 2009-01-15 14:34:18 -0500 (Thu, 15 Jan 2009) | 1 line

move resource comparators tests to antunit
------------------------------------------------------------------------
r733729 | bodewig | 2009-01-12 08:18:38 -0500 (Mon, 12 Jan 2009) | 1 line

don't automatically assume a to pattern contains a * in globmapper.  PR 46506.
------------------------------------------------------------------------
r733707 | bodewig | 2009-01-12 07:43:31 -0500 (Mon, 12 Jan 2009) | 1 line

test for PR 46506
------------------------------------------------------------------------
r733706 | bodewig | 2009-01-12 07:38:50 -0500 (Mon, 12 Jan 2009) | 1 line

rename test, remove unneeded tasks, add some assertions
------------------------------------------------------------------------
r732010 | bodewig | 2009-01-06 12:27:01 -0500 (Tue, 06 Jan 2009) | 1 line

tiny refactoring.  Allow JUnit task to be less concerned about formatters (right now formatters could close System.out/err unless they guard against it).
------------------------------------------------------------------------
r731951 | bodewig | 2009-01-06 09:27:37 -0500 (Tue, 06 Jan 2009) | 1 line

most likely fix PR 46480
------------------------------------------------------------------------
r731937 | bodewig | 2009-01-06 08:38:51 -0500 (Tue, 06 Jan 2009) | 1 line

sleep a little longer during tests
------------------------------------------------------------------------
r731889 | bodewig | 2009-01-06 04:27:38 -0500 (Tue, 06 Jan 2009) | 1 line

make checksum's totalproperty platform independent.  PR 36748.
------------------------------------------------------------------------
r731843 | bodewig | 2009-01-06 01:30:42 -0500 (Tue, 06 Jan 2009) | 1 line

testcase for PR 36748
------------------------------------------------------------------------
r728058 | bodewig | 2008-12-19 11:06:29 -0500 (Fri, 19 Dec 2008) | 1 line

Passing test for PR 35634
------------------------------------------------------------------------
r728019 | bodewig | 2008-12-19 08:39:16 -0500 (Fri, 19 Dec 2008) | 1 line

make diagnostics check the file it has just written in order to detect full filesystems.  PR 32676.
------------------------------------------------------------------------
r728016 | bodewig | 2008-12-19 08:20:58 -0500 (Fri, 19 Dec 2008) | 1 line

passing unit test for PR 29460
------------------------------------------------------------------------
r728003 | bodewig | 2008-12-19 06:09:02 -0500 (Fri, 19 Dec 2008) | 1 line

now that slowScan is fixed, I realized that Sync cannot use it.  Full implementation of PR 43159.
------------------------------------------------------------------------
r727993 | bodewig | 2008-12-19 05:18:16 -0500 (Fri, 19 Dec 2008) | 1 line

slow-scan was broken for recursive exclude patterns since contentsExcluded was added about four years ago
------------------------------------------------------------------------
r727978 | bodewig | 2008-12-19 03:42:42 -0500 (Fri, 19 Dec 2008) | 1 line

properly handle non-recursive excludes (breaks one other test because of the same slowscan bug that I'm going to fix later)
------------------------------------------------------------------------
r727977 | bodewig | 2008-12-19 03:37:12 -0500 (Fri, 19 Dec 2008) | 1 line

Avoid slow scan unless it really is required
------------------------------------------------------------------------
r727751 | bodewig | 2008-12-18 10:47:49 -0500 (Thu, 18 Dec 2008) | 1 line

another sync preserveintarget edge case
------------------------------------------------------------------------
r727750 | bodewig | 2008-12-18 10:42:27 -0500 (Thu, 18 Dec 2008) | 1 line

partial implementation of a new preserveemptydirs attribute for sync's preservintarget.  PR 43159.  Unfortunately DirectorScanner.slowScan doesn't work as expected and I'm running out of time before a meeting, so I'm commiting it unfinished.
------------------------------------------------------------------------
r727739 | bodewig | 2008-12-18 10:15:13 -0500 (Thu, 18 Dec 2008) | 1 line

slowscan has been broken, no idea since when.
------------------------------------------------------------------------
r727727 | bodewig | 2008-12-18 09:37:46 -0500 (Thu, 18 Dec 2008) | 1 line

refactor sync tests in preparation for more changes WRT PR 43159
------------------------------------------------------------------------
r724611 | bodewig | 2008-12-09 00:21:38 -0500 (Tue, 09 Dec 2008) | 1 line

test for 42702
------------------------------------------------------------------------
r724610 | bodewig | 2008-12-09 00:18:59 -0500 (Tue, 09 Dec 2008) | 1 line

allow tokens in replacetokens filter to be read from a resource.  PR 42702
------------------------------------------------------------------------
r724400 | bodewig | 2008-12-08 11:48:38 -0500 (Mon, 08 Dec 2008) | 1 line

Resource-enable replacefilterfile and propertyfile attributes f <replace>.  Somewhat related to PR 42702.
------------------------------------------------------------------------
r724397 | bodewig | 2008-12-08 11:30:32 -0500 (Mon, 08 Dec 2008) | 1 line

two propertyhelpers useable for Resource-valued attributes
------------------------------------------------------------------------
r724377 | bodewig | 2008-12-08 10:13:09 -0500 (Mon, 08 Dec 2008) | 1 line

add a failOnNoReplacements attribute to replace.  PR 21064.
------------------------------------------------------------------------
r723790 | bodewig | 2008-12-05 12:04:04 -0500 (Fri, 05 Dec 2008) | 1 line

optionally expand properties in <replace>'s nested elements.  PR 11585.
------------------------------------------------------------------------
r723786 | bodewig | 2008-12-05 11:38:47 -0500 (Fri, 05 Dec 2008) | 1 line

add a preservelastmodified attribute to replace and replaceregexp.  PR 39002.
------------------------------------------------------------------------
r723779 | bodewig | 2008-12-05 11:08:46 -0500 (Fri, 05 Dec 2008) | 1 line

allow token and/or value of replace's replacefilter children to be specified as nested elements.  PR 39568.
------------------------------------------------------------------------
r723766 | bodewig | 2008-12-05 10:38:38 -0500 (Fri, 05 Dec 2008) | 1 line

make <replace> support resource collections.  PR 24062.
------------------------------------------------------------------------
r723730 | bodewig | 2008-12-05 08:24:14 -0500 (Fri, 05 Dec 2008) | 1 line

Take advantage of JDK 1.4 (and 1.2, actually)
------------------------------------------------------------------------
r723583 | bodewig | 2008-12-04 23:59:51 -0500 (Thu, 04 Dec 2008) | 1 line

test for PR 43159
------------------------------------------------------------------------
r723433 | bodewig | 2008-12-04 15:49:09 -0500 (Thu, 04 Dec 2008) | 1 line

test for PR 46341
------------------------------------------------------------------------
r723432 | bodewig | 2008-12-04 15:47:15 -0500 (Thu, 04 Dec 2008) | 1 line

Add resource collection support to replaceregexp.  PR 46341.
------------------------------------------------------------------------
r723422 | bodewig | 2008-12-04 15:15:59 -0500 (Thu, 04 Dec 2008) | 1 line

store remote output in outputproperty even if it fails.  PR 46340.
------------------------------------------------------------------------
r723285 | bodewig | 2008-12-04 05:46:23 -0500 (Thu, 04 Dec 2008) | 1 line

passing tests for PR 36220
------------------------------------------------------------------------
r723283 | bodewig | 2008-12-04 05:43:41 -0500 (Thu, 04 Dec 2008) | 1 line

add a few more debug log statements
------------------------------------------------------------------------
r723272 | bodewig | 2008-12-04 04:54:52 -0500 (Thu, 04 Dec 2008) | 1 line

re-factor depend test a little.
------------------------------------------------------------------------
r723251 | bodewig | 2008-12-04 03:57:46 -0500 (Thu, 04 Dec 2008) | 1 line

re-generate site
------------------------------------------------------------------------
r722972 | bodewig | 2008-12-03 12:04:24 -0500 (Wed, 03 Dec 2008) | 1 line

Add a verbose attribute to dependset.  PR 13681
------------------------------------------------------------------------
r722967 | bodewig | 2008-12-03 11:53:33 -0500 (Wed, 03 Dec 2008) | 1 line

some assertions on dependset's logging
------------------------------------------------------------------------
r722962 | bodewig | 2008-12-03 11:41:01 -0500 (Wed, 03 Dec 2008) | 1 line

use meaningful target names
------------------------------------------------------------------------
r722960 | bodewig | 2008-12-03 11:38:47 -0500 (Wed, 03 Dec 2008) | 1 line

make dependset test more regular
------------------------------------------------------------------------
r722942 | bodewig | 2008-12-03 10:50:20 -0500 (Wed, 03 Dec 2008) | 1 line

don't say a file was modified in the future if it has been modified a second ago.  PR 43665.  Submitted by Kim Hansen.
------------------------------------------------------------------------
r722907 | bodewig | 2008-12-03 09:42:19 -0500 (Wed, 03 Dec 2008) | 1 line

CVS commit made while investigating PR 24569
------------------------------------------------------------------------
r722898 | bodewig | 2008-12-03 09:21:00 -0500 (Wed, 03 Dec 2008) | 1 line

tests for PR 45226
------------------------------------------------------------------------
r722849 | bodewig | 2008-12-03 07:02:30 -0500 (Wed, 03 Dec 2008) | 1 line

Add support for Xalan2 Traces.  PR 36670.
------------------------------------------------------------------------
r722437 | bodewig | 2008-12-02 07:06:32 -0500 (Tue, 02 Dec 2008) | 1 line

refid-audit of indirect subclasses of DataType
------------------------------------------------------------------------
r721976 | bodewig | 2008-12-01 01:08:00 -0500 (Mon, 01 Dec 2008) | 1 line

reference-usage audit on all classes that extend DataType directly
------------------------------------------------------------------------
r721698 | bodewig | 2008-11-29 13:03:29 -0500 (Sat, 29 Nov 2008) | 1 line

simplify
------------------------------------------------------------------------
r721525 | bodewig | 2008-11-28 11:05:23 -0500 (Fri, 28 Nov 2008) | 1 line

document <archives>.  PR 46257.
------------------------------------------------------------------------
r721523 | bodewig | 2008-11-28 10:42:05 -0500 (Fri, 28 Nov 2008) | 1 line

first step of reference-check auditing after I re-understood how things are supposed to work.
------------------------------------------------------------------------
r721510 | bodewig | 2008-11-28 09:46:32 -0500 (Fri, 28 Nov 2008) | 1 line

Add a few more tests - and fix the bugs found by them.
------------------------------------------------------------------------
r721376 | bodewig | 2008-11-28 03:12:12 -0500 (Fri, 28 Nov 2008) | 1 line

some refactoring
------------------------------------------------------------------------
r721345 | bodewig | 2008-11-28 00:38:06 -0500 (Fri, 28 Nov 2008) | 1 line

forgotten new files for svn revision 721344
------------------------------------------------------------------------
r721344 | bodewig | 2008-11-28 00:37:17 -0500 (Fri, 28 Nov 2008) | 1 line

Initial version of a resource collection that extracts archives nested as resources.  PR 46257.
------------------------------------------------------------------------
r720917 | bodewig | 2008-11-26 11:59:47 -0500 (Wed, 26 Nov 2008) | 1 line

Use FileUtils.close
------------------------------------------------------------------------
r720892 | bodewig | 2008-11-26 09:45:10 -0500 (Wed, 26 Nov 2008) | 1 line

Add support for setting system properties in xslt.  PR 36653.
------------------------------------------------------------------------
r720862 | bodewig | 2008-11-26 09:24:01 -0500 (Wed, 26 Nov 2008) | 1 line

Add a failOnNoResources attribute to xslt.  PR 46274.
------------------------------------------------------------------------
r720858 | bodewig | 2008-11-26 09:08:20 -0500 (Wed, 26 Nov 2008) | 1 line

Add failOnError to xslt.  PR 36260.
------------------------------------------------------------------------
r720775 | bodewig | 2008-11-26 04:34:16 -0500 (Wed, 26 Nov 2008) | 1 line

add an option to suppress processor warnings.  PR 18897.
------------------------------------------------------------------------
r720773 | bodewig | 2008-11-26 04:21:17 -0500 (Wed, 26 Nov 2008) | 1 line

Try to load TraX factory via configured classpath.  PR 46172
------------------------------------------------------------------------
r720746 | bodewig | 2008-11-26 00:34:32 -0500 (Wed, 26 Nov 2008) | 1 line

fail early if stylesheet doesn't exist.  PR 34525.
------------------------------------------------------------------------
r720481 | bodewig | 2008-11-25 07:36:00 -0500 (Tue, 25 Nov 2008) | 1 line

add a test for issue 32461
------------------------------------------------------------------------
r720479 | bodewig | 2008-11-25 07:28:21 -0500 (Tue, 25 Nov 2008) | 1 line

Initial AntUnit test for xslt
------------------------------------------------------------------------
r720440 | bodewig | 2008-11-25 03:39:21 -0500 (Tue, 25 Nov 2008) | 1 line

passing testcase for issue 46285
------------------------------------------------------------------------
r720156 | bodewig | 2008-11-24 05:39:46 -0500 (Mon, 24 Nov 2008) | 1 line

Add attributes for javadoc's -docfilessubdirs and -excludedocfilessubdir CLI args.  PR 34455
------------------------------------------------------------------------
r720143 | bodewig | 2008-11-24 04:31:32 -0500 (Mon, 24 Nov 2008) | 1 line

remove non-1.4 stuff from javadoc
------------------------------------------------------------------------
r719582 | bodewig | 2008-11-21 09:09:22 -0500 (Fri, 21 Nov 2008) | 1 line

add an erroronmissingarchive attribute to tar/zipfileset.  PR 46091.
------------------------------------------------------------------------
r719578 | bodewig | 2008-11-21 08:39:17 -0500 (Fri, 21 Nov 2008) | 1 line

use antunit-base
------------------------------------------------------------------------
r719198 | bodewig | 2008-11-20 03:45:52 -0500 (Thu, 20 Nov 2008) | 1 line

allow target-group attribute to use a comma-separated list
------------------------------------------------------------------------
r718943 | bodewig | 2008-11-19 07:42:06 -0500 (Wed, 19 Nov 2008) | 1 line

Add target-group, a special target that must be empty and whose dependency list may be extended by other target(-group)s using their (new) target-group attribute
------------------------------------------------------------------------
r718904 | bodewig | 2008-11-19 03:38:51 -0500 (Wed, 19 Nov 2008) | 1 line

appending may be a bad thing to do for compressed outputs and other subclasses
------------------------------------------------------------------------
r718633 | bodewig | 2008-11-18 10:24:38 -0500 (Tue, 18 Nov 2008) | 1 line

document mappedresources
------------------------------------------------------------------------
r718542 | bodewig | 2008-11-18 05:10:57 -0500 (Tue, 18 Nov 2008) | 1 line

extract a common base class for resource decorators
------------------------------------------------------------------------
r718486 | bodewig | 2008-11-18 00:09:22 -0500 (Tue, 18 Nov 2008) | 1 line

two more places where Appendable can be used
------------------------------------------------------------------------
r718482 | bodewig | 2008-11-17 23:55:25 -0500 (Mon, 17 Nov 2008) | 1 line

re-instante contract of resourceCompare by throwing ClassCastException for non-FileProviders
------------------------------------------------------------------------
r718387 | bodewig | 2008-11-17 16:13:04 -0500 (Mon, 17 Nov 2008) | 1 line

use adapter instead of instanceof checks
------------------------------------------------------------------------
r718263 | bodewig | 2008-11-17 10:47:07 -0500 (Mon, 17 Nov 2008) | 1 line

yes, mapperesources work inside <zip>
------------------------------------------------------------------------
r718260 | bodewig | 2008-11-17 10:16:33 -0500 (Mon, 17 Nov 2008) | 1 line

Add mapped resource collection including test for <copy>
------------------------------------------------------------------------
r718259 | bodewig | 2008-11-17 10:15:07 -0500 (Mon, 17 Nov 2008) | 1 line

Actually, to make it work, MappedResource must not look like a FileProvider at all
------------------------------------------------------------------------
r718230 | bodewig | 2008-11-17 07:27:09 -0500 (Mon, 17 Nov 2008) | 1 line

make it a runtime exception
------------------------------------------------------------------------
r718226 | bodewig | 2008-11-17 06:54:55 -0500 (Mon, 17 Nov 2008) | 1 line

no reason to implement any of those interfaces
------------------------------------------------------------------------
r718212 | bodewig | 2008-11-17 04:42:57 -0500 (Mon, 17 Nov 2008) | 1 line

better choice of exception
------------------------------------------------------------------------
r718211 | bodewig | 2008-11-17 04:41:24 -0500 (Mon, 17 Nov 2008) | 1 line

use adapter for FileProvider instead of instanceof in MappedResource
------------------------------------------------------------------------
r718210 | bodewig | 2008-11-17 04:39:23 -0500 (Mon, 17 Nov 2008) | 1 line

use adapter for Touchable instead of instanceof checks
------------------------------------------------------------------------
r718205 | bodewig | 2008-11-17 04:13:24 -0500 (Mon, 17 Nov 2008) | 1 line

use an adapter to use Appendable instead of instanceof checks
------------------------------------------------------------------------
r718204 | bodewig | 2008-11-17 04:12:53 -0500 (Mon, 17 Nov 2008) | 1 line

add an "as" method to Resource that allows extensions without actually implementing additional interfaces
------------------------------------------------------------------------
r714053 | bodewig | 2008-11-14 11:04:30 -0500 (Fri, 14 Nov 2008) | 1 line

initial, completely non-functional mapped resource.  There must be a better way to support the optional resoucre interfaces!
------------------------------------------------------------------------
r714052 | bodewig | 2008-11-14 11:03:13 -0500 (Fri, 14 Nov 2008) | 1 line

wrong name of constant
------------------------------------------------------------------------
r714025 | bodewig | 2008-11-14 10:12:26 -0500 (Fri, 14 Nov 2008) | 1 line

allow chmod, chgrp, chown and attribute to be used outside of their native environment.  PR 7624
------------------------------------------------------------------------
r713745 | bodewig | 2008-11-13 11:05:47 -0500 (Thu, 13 Nov 2008) | 1 line

make sure prefix isn't set to project name in import.  make sure it is set even when no target has been encountered in include.
------------------------------------------------------------------------
r713671 | bodewig | 2008-11-13 02:44:31 -0500 (Thu, 13 Nov 2008) | 1 line

document that <delete dir=...> doesn't play well with symlinks.  PR 45742.
------------------------------------------------------------------------
r713641 | bodewig | 2008-11-13 00:14:25 -0500 (Thu, 13 Nov 2008) | 1 line

add an attribute that allows symbolic links to be deleted without following them.  PR 36658.
------------------------------------------------------------------------
r713626 | bodewig | 2008-11-12 22:50:53 -0500 (Wed, 12 Nov 2008) | 1 line

keep track of links that haven't been followed
------------------------------------------------------------------------
r713620 | bodewig | 2008-11-12 21:55:17 -0500 (Wed, 12 Nov 2008) | 1 line

rename input-test which is interactive so it doesn't ge run during automated builds
------------------------------------------------------------------------
r713373 | bodewig | 2008-11-12 08:53:57 -0500 (Wed, 12 Nov 2008) | 1 line

Make prefix separator configurable, nest prefixes in include
------------------------------------------------------------------------
r713176 | mbenson | 2008-11-11 16:29:00 -0500 (Tue, 11 Nov 2008) | 1 line

make concat support dest resources
------------------------------------------------------------------------
r713173 | mbenson | 2008-11-11 16:21:57 -0500 (Tue, 11 Nov 2008) | 1 line

add Appendable interface with echo as first supporting task
------------------------------------------------------------------------
r713016 | bodewig | 2008-11-11 06:03:45 -0500 (Tue, 11 Nov 2008) | 1 line

add an <import> variant named <include> that matches EasyAnt's <use>
------------------------------------------------------------------------
r713007 | bodewig | 2008-11-11 04:50:51 -0500 (Tue, 11 Nov 2008) | 1 line

deal with nested invokations
------------------------------------------------------------------------
r713005 | bodewig | 2008-11-11 04:36:51 -0500 (Tue, 11 Nov 2008) | 1 line

add 'as' attribute to <import> in order to control the imported target's prefixes
------------------------------------------------------------------------
r712992 | bodewig | 2008-11-11 03:33:05 -0500 (Tue, 11 Nov 2008) | 1 line

remove some warnings from code that is by now carved into stone
------------------------------------------------------------------------
r712663 | jhm | 2008-11-10 09:24:10 -0500 (Mon, 10 Nov 2008) | 1 line

whitespaces
------------------------------------------------------------------------
r711860 | bodewig | 2008-11-06 09:33:43 -0500 (Thu, 06 Nov 2008) | 1 line

emulate async I/O when processing output of forked processes in order to deal with the case where a child of the forked process outlives its parent.  PR 5003.  Based on a patch by Adam Sotona.
------------------------------------------------------------------------
r711835 | bodewig | 2008-11-06 05:34:11 -0500 (Thu, 06 Nov 2008) | 1 line

Take advantage of Java 1.4
------------------------------------------------------------------------
r711180 | bodewig | 2008-11-04 00:26:02 -0500 (Tue, 04 Nov 2008) | 1 line

log correct directory when failing to delete it
------------------------------------------------------------------------
r710102 | bodewig | 2008-11-03 11:45:39 -0500 (Mon, 03 Nov 2008) | 1 line

whitespace
------------------------------------------------------------------------
r710101 | bodewig | 2008-11-03 11:40:42 -0500 (Mon, 03 Nov 2008) | 1 line

make sure log messages to get emmitted twice in double-pass mode.  PR 39426.
------------------------------------------------------------------------
r710086 | bodewig | 2008-11-03 10:52:36 -0500 (Mon, 03 Nov 2008) | 1 line

Don't use getReference in <isreference> unless really required.  PR 44822.
------------------------------------------------------------------------
r710060 | bodewig | 2008-11-03 09:10:37 -0500 (Mon, 03 Nov 2008) | 1 line

Improve fixcrlf's error messages.  PR 43936.
------------------------------------------------------------------------
r710055 | bodewig | 2008-11-03 08:31:26 -0500 (Mon, 03 Nov 2008) | 1 line

more alarmist warning if launcher jar is missing.  PR 34505.
------------------------------------------------------------------------
r709765 | stevel | 2008-11-01 15:52:10 -0400 (Sat, 01 Nov 2008) | 1 line

Bug 43348: add awareness of FileProvider to ArchiveScanner
------------------------------------------------------------------------
r709764 | stevel | 2008-11-01 15:51:37 -0400 (Sat, 01 Nov 2008) | 1 line

Bug 43348: add awareness of FileProvider to ArchiveFileSet
------------------------------------------------------------------------
r709763 | stevel | 2008-11-01 15:49:37 -0400 (Sat, 01 Nov 2008) | 1 line

Bug 43348: add awareness of FileProvider to ZipScanner; lets us zip from other places.
------------------------------------------------------------------------
r709762 | stevel | 2008-11-01 15:45:32 -0400 (Sat, 01 Nov 2008) | 1 line

Add the classloader in question when we get CNFE problems
------------------------------------------------------------------------
r709760 | stevel | 2008-11-01 15:41:03 -0400 (Sat, 01 Nov 2008) | 1 line

Bug ID 43660: JavaResource returns a null input stream if the resource is missing
------------------------------------------------------------------------
r708948 | bodewig | 2008-10-29 13:39:27 -0400 (Wed, 29 Oct 2008) | 1 line

deal with resources without name in <copy>.  PR 39960.
------------------------------------------------------------------------
r708942 | mbenson | 2008-10-29 13:05:23 -0400 (Wed, 29 Oct 2008) | 1 line

simplify(?); use constants
------------------------------------------------------------------------
r708936 | mbenson | 2008-10-29 12:44:05 -0400 (Wed, 29 Oct 2008) | 1 line

move an antunity test
------------------------------------------------------------------------
r708930 | mbenson | 2008-10-29 12:27:00 -0400 (Wed, 29 Oct 2008) | 1 line

allow custom propertyhelpers to supply a Boolean for Target if/unless as an alternative to specifying a property NAME
------------------------------------------------------------------------
r708927 | mbenson | 2008-10-29 12:20:47 -0400 (Wed, 29 Oct 2008) | 1 line

ws
------------------------------------------------------------------------
r708670 | jglick | 2008-10-28 17:08:05 -0400 (Tue, 28 Oct 2008) | 2 lines

Suppress displaying the stderr prompt for storepass/keypass when we in fact are passing it on stdin.

------------------------------------------------------------------------
r708633 | mbenson | 2008-10-28 14:57:23 -0400 (Tue, 28 Oct 2008) | 1 line

ws
------------------------------------------------------------------------
r708608 | bodewig | 2008-10-28 12:59:43 -0400 (Tue, 28 Oct 2008) | 1 line

test for PR 41464
------------------------------------------------------------------------
r708584 | bodewig | 2008-10-28 10:32:23 -0400 (Tue, 28 Oct 2008) | 1 line

At least try to log the real reason of an error.  PR 26086
------------------------------------------------------------------------
r708217 | bodewig | 2008-10-27 11:16:14 -0400 (Mon, 27 Oct 2008) | 1 line

Make <mail> work for SSL + authentication with javamail 1.4.1.  PR 46063.  Submitted by Craig Richardson
------------------------------------------------------------------------
r708204 | bodewig | 2008-10-27 10:49:00 -0400 (Mon, 27 Oct 2008) | 1 line

allow TaskContainer and DynamicElement(NS) to coexist.  Hijacked PR 41647 for this.
------------------------------------------------------------------------
r707398 | bodewig | 2008-10-23 11:47:35 -0400 (Thu, 23 Oct 2008) | 1 line

make tasks with add(Foo) method play nice with TaskContainer.  PR 41647.
------------------------------------------------------------------------
r707368 | bodewig | 2008-10-23 09:13:36 -0400 (Thu, 23 Oct 2008) | 1 line

Add STARTTLS support to MimeMailer and use it in MailLogger and <mail>.  Part of PR 46063.
------------------------------------------------------------------------
r707360 | bodewig | 2008-10-23 08:33:14 -0400 (Thu, 23 Oct 2008) | 1 line

don't use copypath
------------------------------------------------------------------------
r707124 | mbenson | 2008-10-22 12:32:56 -0400 (Wed, 22 Oct 2008) | 1 line

BZ 46057
------------------------------------------------------------------------
r706674 | bodewig | 2008-10-21 12:04:52 -0400 (Tue, 21 Oct 2008) | 1 line

close streams passed in to zipFile(InputStream, ...).  PR 42632.
------------------------------------------------------------------------
r706580 | bodewig | 2008-10-21 07:33:29 -0400 (Tue, 21 Oct 2008) | 1 line

remove .NET tasks
------------------------------------------------------------------------
r706207 | bodewig | 2008-10-20 06:33:34 -0400 (Mon, 20 Oct 2008) | 1 line

properly deal wih multiple modules specified in the package attribute
------------------------------------------------------------------------
r705649 | bodewig | 2008-10-17 11:53:11 -0400 (Fri, 17 Oct 2008) | 1 line

whitespace
------------------------------------------------------------------------
r705646 | bodewig | 2008-10-17 11:49:19 -0400 (Fri, 17 Oct 2008) | 1 line

support for CVS tags as start/end in cvcchangelog.  Submitted by Rob van Oostrum.  PR 27419.
------------------------------------------------------------------------
r705639 | bodewig | 2008-10-17 11:16:28 -0400 (Fri, 17 Oct 2008) | 1 line

add remote option to use rlog instead of log to cvschangelog.  Submitted by Rob van Oostrum.  PR 27419.
------------------------------------------------------------------------
r705626 | bodewig | 2008-10-17 10:16:26 -0400 (Fri, 17 Oct 2008) | 1 line

allow control over whether <concat> creates a file when there are no resources.  Submitted by Mark Salter.  PR 46010.
------------------------------------------------------------------------
r705452 | bodewig | 2008-10-16 23:49:54 -0400 (Thu, 16 Oct 2008) | 1 line

optimize handling of package names
------------------------------------------------------------------------
r705260 | bodewig | 2008-10-16 11:29:42 -0400 (Thu, 16 Oct 2008) | 1 line

Make cvstagdiff work properly for multiple modules and modules with spaces in their name.  Open for optimization.  PR 33501.
------------------------------------------------------------------------
r705256 | bodewig | 2008-10-16 10:39:24 -0400 (Thu, 16 Oct 2008) | 1 line

support modules with space in their names in <cvs> and <cvschangelog>, will be supported in <cvstagdiff> once PR 35301 is fixed.  PR 38220.
------------------------------------------------------------------------
r705248 | bodewig | 2008-10-16 10:09:54 -0400 (Thu, 16 Oct 2008) | 1 line

test for PR 38583
------------------------------------------------------------------------
r705241 | bodewig | 2008-10-16 09:42:30 -0400 (Thu, 16 Oct 2008) | 1 line

allow cvstagdiff to ignore removed files.  Submitted by Rob van Oostrum.  PR 26257.
------------------------------------------------------------------------
r705238 | bodewig | 2008-10-16 09:26:00 -0400 (Thu, 16 Oct 2008) | 1 line

Make cvsversion work for local repositories as well
------------------------------------------------------------------------
r705232 | bodewig | 2008-10-16 09:00:46 -0400 (Thu, 16 Oct 2008) | 1 line

experimental local CVS repository as a testbed for CVS tests
------------------------------------------------------------------------
r705228 | bodewig | 2008-10-16 08:41:52 -0400 (Thu, 16 Oct 2008) | 1 line

Make port attribute work for some "non-standard" CVS clients.  submitted by Johann Herunter.  PR 30124.
------------------------------------------------------------------------
r705225 | bodewig | 2008-10-16 08:33:44 -0400 (Thu, 16 Oct 2008) | 1 line

Support CVSNT in <cvsversion>, submitted by Andy Wood.  PR 31409.
------------------------------------------------------------------------
r704943 | bodewig | 2008-10-15 11:37:30 -0400 (Wed, 15 Oct 2008) | 1 line

delay expansion of command line args.  PR 31601.
------------------------------------------------------------------------
r704571 | bodewig | 2008-10-14 12:05:17 -0400 (Tue, 14 Oct 2008) | 1 line

subclasses of AssertionErrors are caused by test failures, not errors.  PR 45028.
------------------------------------------------------------------------
r704562 | bodewig | 2008-10-14 11:15:47 -0400 (Tue, 14 Oct 2008) | 1 line

Allow MailLogger to send a fixed email text.  PR 38029.
------------------------------------------------------------------------
r704545 | bodewig | 2008-10-14 10:09:12 -0400 (Tue, 14 Oct 2008) | 1 line

sync Javadocs with supported properties
------------------------------------------------------------------------
r704528 | bodewig | 2008-10-14 09:12:23 -0400 (Tue, 14 Oct 2008) | 1 line

Allow <mail> to ignore bad recipients.  PR 36446.
------------------------------------------------------------------------
r704498 | bodewig | 2008-10-14 08:02:10 -0400 (Tue, 14 Oct 2008) | 1 line

whitespace
------------------------------------------------------------------------
r704496 | bodewig | 2008-10-14 07:59:50 -0400 (Tue, 14 Oct 2008) | 1 line

Fix potential NPE in mailers, remove root cause of NPE reported in PR 44009.
------------------------------------------------------------------------
r704486 | bodewig | 2008-10-14 07:48:43 -0400 (Tue, 14 Oct 2008) | 1 line

<mail>'s auto-encoding-selection was broken.  PR 42389.
------------------------------------------------------------------------
r704471 | bodewig | 2008-10-14 07:28:11 -0400 (Tue, 14 Oct 2008) | 1 line

Add charset and MIME-Type properties to MailLogger.  PR 27211.
------------------------------------------------------------------------
r703546 | mbenson | 2008-10-10 14:22:02 -0400 (Fri, 10 Oct 2008) | 1 line

small refactorings
------------------------------------------------------------------------
r703537 | mbenson | 2008-10-10 13:56:54 -0400 (Fri, 10 Oct 2008) | 1 line

make symlink junit test pass on OS X
------------------------------------------------------------------------
r703516 | bodewig | 2008-10-10 12:20:54 -0400 (Fri, 10 Oct 2008) | 1 line

javadoc fails if bottom/gead contain line breaks.  PR 43342.  Based on patch by Robert Streich.
------------------------------------------------------------------------
r703493 | bodewig | 2008-10-10 11:04:46 -0400 (Fri, 10 Oct 2008) | 1 line

space is not the only whitespace that could show up.  bottom/head are free-form HTML with line breaks, tabs and all that.
------------------------------------------------------------------------
r703355 | jhm | 2008-10-10 04:48:10 -0400 (Fri, 10 Oct 2008) | 1 line

Print failing tests.
------------------------------------------------------------------------
r703321 | bodewig | 2008-10-10 01:02:46 -0400 (Fri, 10 Oct 2008) | 1 line

disabled tests for interaction of delete and symbolic links
------------------------------------------------------------------------
r703318 | bodewig | 2008-10-10 00:49:08 -0400 (Fri, 10 Oct 2008) | 1 line

Move delete method to SymbolicLinkUtils
------------------------------------------------------------------------
r703192 | bodewig | 2008-10-09 11:58:46 -0400 (Thu, 09 Oct 2008) | 1 line

don't swallow original exception.  PR 34633.
------------------------------------------------------------------------
r703153 | bodewig | 2008-10-09 08:25:40 -0400 (Thu, 09 Oct 2008) | 1 line

whitespace
------------------------------------------------------------------------
r703151 | bodewig | 2008-10-09 08:23:19 -0400 (Thu, 09 Oct 2008) | 1 line

use the same logic as <delete> if deletion of a recently closed file fails on Windows during rename.  PR 45960.
------------------------------------------------------------------------
r703146 | bodewig | 2008-10-09 08:00:45 -0400 (Thu, 09 Oct 2008) | 1 line

re-use a pre-allocated stack.  PR 45960.
------------------------------------------------------------------------
r703136 | bodewig | 2008-10-09 07:29:17 -0400 (Thu, 09 Oct 2008) | 1 line

Improve copy documentation,  PR 45944.
------------------------------------------------------------------------
r702907 | bodewig | 2008-10-08 11:20:53 -0400 (Wed, 08 Oct 2008) | 1 line

don't trust Vector's implemenation too much.  Tests passed in JDK 1.4.2 but failed on Java 6, now pass on both.
------------------------------------------------------------------------
r702902 | bodewig | 2008-10-08 11:05:31 -0400 (Wed, 08 Oct 2008) | 1 line

whitespace
------------------------------------------------------------------------
r702901 | bodewig | 2008-10-08 11:04:47 -0400 (Wed, 08 Oct 2008) | 1 line

don't delete classes if the source is not there.  PR 45916
------------------------------------------------------------------------
r702350 | bodewig | 2008-10-07 01:35:58 -0400 (Tue, 07 Oct 2008) | 1 line

factor out symlink methods into a separate utils class
------------------------------------------------------------------------
r702190 | bodewig | 2008-10-06 12:16:38 -0400 (Mon, 06 Oct 2008) | 1 line

whitespace
------------------------------------------------------------------------
r702188 | bodewig | 2008-10-06 12:15:08 -0400 (Mon, 06 Oct 2008) | 1 line

make sure <depend> closes JARs.  PR 45955.
------------------------------------------------------------------------
r702176 | bodewig | 2008-10-06 11:25:46 -0400 (Mon, 06 Oct 2008) | 1 line

(disabled) testcase for Bug 45916
------------------------------------------------------------------------
r702138 | bodewig | 2008-10-06 08:44:29 -0400 (Mon, 06 Oct 2008) | 1 line

(disabled) tests for PR 45944
------------------------------------------------------------------------
r699377 | bodewig | 2008-09-26 11:51:23 -0400 (Fri, 26 Sep 2008) | 1 line

what started as an innocent minor performance improvement of antClassLoader lead to an infinite recursion and thus to a testcase for VectorSet.
------------------------------------------------------------------------
r699336 | bodewig | 2008-09-26 10:19:58 -0400 (Fri, 26 Sep 2008) | 1 line

Allow selectors for remote filesets in <ftp>.  Submitted by Mario Frasca.  PR 44726.  (unfortunately some whitespace changes slipped in as well, sorry for that).
------------------------------------------------------------------------
r699324 | bodewig | 2008-09-26 09:55:26 -0400 (Fri, 26 Sep 2008) | 1 line

Add a maxtime option to <get> to allow it to escape hanging downloads.  PR 45181.
------------------------------------------------------------------------
r699288 | bodewig | 2008-09-26 08:00:51 -0400 (Fri, 26 Sep 2008) | 1 line

Add a firstmatchmapper.  PR 44873.
------------------------------------------------------------------------
r699282 | bodewig | 2008-09-26 07:35:52 -0400 (Fri, 26 Sep 2008) | 1 line

Improve logging.  PR 45716.
------------------------------------------------------------------------
r699263 | bodewig | 2008-09-26 06:52:36 -0400 (Fri, 26 Sep 2008) | 1 line

make order of compositemapper's results predictable.  PR 44873.
------------------------------------------------------------------------
r699251 | bodewig | 2008-09-26 05:53:33 -0400 (Fri, 26 Sep 2008) | 1 line

deprecate reverse attribute.  PR 45845.
------------------------------------------------------------------------
r699002 | bodewig | 2008-09-25 11:28:14 -0400 (Thu, 25 Sep 2008) | 1 line

don't skip the full begin token since it may contain the start of the real begin token.  PR 45094.
------------------------------------------------------------------------
r698979 | bodewig | 2008-09-25 10:15:48 -0400 (Thu, 25 Sep 2008) | 1 line

Passing tests for PR 40457
------------------------------------------------------------------------
r698947 | bodewig | 2008-09-25 08:34:28 -0400 (Thu, 25 Sep 2008) | 1 line

don't add the same file more than once.  PR 45848.
------------------------------------------------------------------------
r698943 | bodewig | 2008-09-25 08:26:31 -0400 (Thu, 25 Sep 2008) | 1 line

only add classpath elements to existing loaders, not to a freshly created one.  PR 45847.
------------------------------------------------------------------------
r698542 | jhm | 2008-09-24 08:34:20 -0400 (Wed, 24 Sep 2008) | 1 line

Change redirect-XMLNS according to Xalans recommendation on http://xml.apache.org/xalan-j/extensionslib.html#redirect.
------------------------------------------------------------------------
r698496 | jhm | 2008-09-24 05:57:04 -0400 (Wed, 24 Sep 2008) | 1 line

Clarification + typo
------------------------------------------------------------------------
r697693 | bodewig | 2008-09-22 03:58:11 -0400 (Mon, 22 Sep 2008) | 1 line

whitespace
------------------------------------------------------------------------
r697692 | bodewig | 2008-09-22 03:57:04 -0400 (Mon, 22 Sep 2008) | 1 line

increase default for numer of times a symlink may be traversed
------------------------------------------------------------------------
r697139 | bodewig | 2008-09-19 11:53:20 -0400 (Fri, 19 Sep 2008) | 1 line

properly handle non-standard chars in key alias.  PR 45820.
------------------------------------------------------------------------
r697133 | bodewig | 2008-09-19 11:28:34 -0400 (Fri, 19 Sep 2008) | 1 line

allow executable of signjar and verifyjat to be configured.  PR 39189.
------------------------------------------------------------------------
r697122 | bodewig | 2008-09-19 11:04:54 -0400 (Fri, 19 Sep 2008) | 1 line

create useable output even if the input is empty.  PR 45836.  Submitted by Tom May.
------------------------------------------------------------------------
r697116 | bodewig | 2008-09-19 10:51:27 -0400 (Fri, 19 Sep 2008) | 1 line

make log more usefull.  PR 45841.
------------------------------------------------------------------------
r697073 | bodewig | 2008-09-19 08:48:58 -0400 (Fri, 19 Sep 2008) | 1 line

no need to clone a linked list to iterate through it
------------------------------------------------------------------------
r697038 | bodewig | 2008-09-19 06:33:29 -0400 (Fri, 19 Sep 2008) | 1 line

alternative scan task that uses resourcecount to isolate memory effect of pathconvert (and its result) from scanning
------------------------------------------------------------------------
r697032 | bodewig | 2008-09-19 06:17:12 -0400 (Fri, 19 Sep 2008) | 1 line

remove memoization which measurably (sp?) hurts performance more than it helps
------------------------------------------------------------------------
r697020 | bodewig | 2008-09-19 05:51:35 -0400 (Fri, 19 Sep 2008) | 1 line

wrong property name
------------------------------------------------------------------------
r696975 | bodewig | 2008-09-19 04:23:24 -0400 (Fri, 19 Sep 2008) | 1 line

optional bigger testbed with an order of magnitude more dirs and files.
------------------------------------------------------------------------
r696917 | bodewig | 2008-09-19 00:29:47 -0400 (Fri, 19 Sep 2008) | 1 line

another test
------------------------------------------------------------------------
r696674 | bodewig | 2008-09-18 11:28:08 -0400 (Thu, 18 Sep 2008) | 1 line

replace protected Vectors with a Vector subclass that has constant time access for contains
------------------------------------------------------------------------
r696612 | bodewig | 2008-09-18 05:21:13 -0400 (Thu, 18 Sep 2008) | 1 line

performance tests for DirectoryScanner
------------------------------------------------------------------------
r696355 | bodewig | 2008-09-17 12:12:53 -0400 (Wed, 17 Sep 2008) | 1 line

Bring back memoization of File.list
------------------------------------------------------------------------
r696348 | bodewig | 2008-09-17 11:53:45 -0400 (Wed, 17 Sep 2008) | 1 line

cleanup
------------------------------------------------------------------------
r696345 | bodewig | 2008-09-17 11:45:13 -0400 (Wed, 17 Sep 2008) | 1 line

avoid redundant tokenization of non-wildcard include patterns as well.
------------------------------------------------------------------------
r696336 | bodewig | 2008-09-17 11:11:28 -0400 (Wed, 17 Sep 2008) | 1 line

avoid redundant tokenization. this is almost complete except for non-wildcard include patterns, will take care of them next.
------------------------------------------------------------------------
r696298 | bodewig | 2008-09-17 09:52:40 -0400 (Wed, 17 Sep 2008) | 1 line

avoid some tokenization (should really pay of in the next iteration/s) and replace recursion with iteration in findFile/isSymLink - right now we lose memoization of File.list but I'll reintroduce this later.
------------------------------------------------------------------------
r696155 | jhm | 2008-09-17 01:28:28 -0400 (Wed, 17 Sep 2008) | 1 line

spelling
------------------------------------------------------------------------
r696146 | bodewig | 2008-09-17 00:27:09 -0400 (Wed, 17 Sep 2008) | 1 line

split PathPattern into two classes, more behavior will be added later
------------------------------------------------------------------------
r696144 | bodewig | 2008-09-17 00:02:33 -0400 (Wed, 17 Sep 2008) | 1 line

minor performace tweaks
------------------------------------------------------------------------
r695865 | bodewig | 2008-09-16 09:21:01 -0400 (Tue, 16 Sep 2008) | 1 line

use the configured ProjectHelper to parse antlib descriptors, if possible,  PR 42208.
------------------------------------------------------------------------
r695827 | bodewig | 2008-09-16 08:20:12 -0400 (Tue, 16 Sep 2008) | 1 line

allow different <mail> tasks to use different smtp hosts.  PR 37970.
------------------------------------------------------------------------
r695797 | bodewig | 2008-09-16 05:47:47 -0400 (Tue, 16 Sep 2008) | 1 line

use sigfile attribute when checking whether a jar is already signed.  PR 44805.  Submitted by Clemens Hammacher.
------------------------------------------------------------------------
r695779 | bodewig | 2008-09-16 05:01:21 -0400 (Tue, 16 Sep 2008) | 1 line

add a fileOnError attribute to <patch>.  PR 44772.  Submitted by Michael Bayne.
------------------------------------------------------------------------
r695402 | bodewig | 2008-09-15 05:54:06 -0400 (Mon, 15 Sep 2008) | 1 line

Avoid repeated tokenization, make DefaultExcludesTest happy.
------------------------------------------------------------------------
r695389 | bodewig | 2008-09-15 05:12:40 -0400 (Mon, 15 Sep 2008) | 1 line

tiny optimization
------------------------------------------------------------------------
r695380 | bodewig | 2008-09-15 04:30:43 -0400 (Mon, 15 Sep 2008) | 1 line

whitespace
------------------------------------------------------------------------
r695379 | bodewig | 2008-09-15 04:28:44 -0400 (Mon, 15 Sep 2008) | 1 line

extract constant
------------------------------------------------------------------------
r695371 | bodewig | 2008-09-15 04:03:31 -0400 (Mon, 15 Sep 2008) | 1 line

some more memoization.  try to ballance memory vs i/o costs.
------------------------------------------------------------------------
r694254 | bodewig | 2008-09-11 09:59:41 -0400 (Thu, 11 Sep 2008) | 1 line

fix tests broken by changed exception message of svn revision 685593
------------------------------------------------------------------------
r693870 | bodewig | 2008-09-10 11:41:49 -0400 (Wed, 10 Sep 2008) | 1 line

don't run into infinite lopps caused by symbolic links.  PR 45499.
------------------------------------------------------------------------
r693846 | bodewig | 2008-09-10 10:01:29 -0400 (Wed, 10 Sep 2008) | 1 line

honor followsymlinks on a fileset's dir as well.  PR 45741.
------------------------------------------------------------------------
r693791 | bodewig | 2008-09-10 07:18:57 -0400 (Wed, 10 Sep 2008) | 1 line

make sure the 'correct' error is reported if the directory doesn't exist.  Sync error messages of DirectoryScanner and AbstractFileSet.
------------------------------------------------------------------------
r693785 | bodewig | 2008-09-10 07:04:50 -0400 (Wed, 10 Sep 2008) | 1 line

some style changes, doc fixes (non-wildcard patterns are store upper-case), some minor optimizations and some additional memoization of File.list() that may actually improve performance
------------------------------------------------------------------------
r693732 | bodewig | 2008-09-10 04:08:23 -0400 (Wed, 10 Sep 2008) | 1 line

remove duplicate code
------------------------------------------------------------------------
r693729 | bodewig | 2008-09-10 04:05:12 -0400 (Wed, 10 Sep 2008) | 1 line

Tests fail in Gump if BSF has been built without JavaScript support.
------------------------------------------------------------------------
r693093 | bodewig | 2008-09-08 09:33:31 -0400 (Mon, 08 Sep 2008) | 1 line

Make test pass on vmgump
------------------------------------------------------------------------
r693081 | bodewig | 2008-09-08 08:44:52 -0400 (Mon, 08 Sep 2008) | 1 line

don't delete plain files with symlink, must have been broken by my last changes to symlink
------------------------------------------------------------------------
r693075 | bodewig | 2008-09-08 08:32:35 -0400 (Mon, 08 Sep 2008) | 1 line

whitespace
------------------------------------------------------------------------
r693071 | bodewig | 2008-09-08 08:23:54 -0400 (Mon, 08 Sep 2008) | 1 line

delete broken symbolic links.  PR 41285
------------------------------------------------------------------------
r692117 | bodewig | 2008-09-04 11:48:01 -0400 (Thu, 04 Sep 2008) | 1 line

whitespace and javadocs
------------------------------------------------------------------------
r692115 | bodewig | 2008-09-04 11:44:24 -0400 (Thu, 04 Sep 2008) | 1 line

fall back to "rm" if target cannot be renamed when deleting a symlink
------------------------------------------------------------------------
r692083 | bodewig | 2008-09-04 11:02:27 -0400 (Thu, 04 Sep 2008) | 1 line

whitespace
------------------------------------------------------------------------
r692082 | bodewig | 2008-09-04 11:01:17 -0400 (Thu, 04 Sep 2008) | 1 line

don't try to re-rename a target that failed to be renamed in the first place.  Related to PR 41525.
------------------------------------------------------------------------
r692081 | bodewig | 2008-09-04 10:57:04 -0400 (Thu, 04 Sep 2008) | 1 line

symlink delete now works if the link points to a parent directory as well.  PR 45743.
------------------------------------------------------------------------
r692047 | bodewig | 2008-09-04 10:28:04 -0400 (Thu, 04 Sep 2008) | 1 line

allow symlink to delete broken links.  Part of PR 41285.
------------------------------------------------------------------------
r691991 | bodewig | 2008-09-04 08:15:55 -0400 (Thu, 04 Sep 2008) | 1 line

fix include pattern to show the behavior
------------------------------------------------------------------------
r691988 | bodewig | 2008-09-04 08:08:20 -0400 (Thu, 04 Sep 2008) | 1 line

Test for symlink loops
------------------------------------------------------------------------
r691955 | bodewig | 2008-09-04 06:02:00 -0400 (Thu, 04 Sep 2008) | 1 line

tests for a basedir that is a symlink itself
------------------------------------------------------------------------
r691954 | bodewig | 2008-09-04 05:55:46 -0400 (Thu, 04 Sep 2008) | 1 line

fix syntax
------------------------------------------------------------------------
r691949 | bodewig | 2008-09-04 05:26:19 -0400 (Thu, 04 Sep 2008) | 1 line

initial tests for dirscanner behavior and symlinks
------------------------------------------------------------------------
r691944 | bodewig | 2008-09-04 05:08:48 -0400 (Thu, 04 Sep 2008) | 1 line

Refactor tests that use antunit-base so they all use the same output dir and share a common cleanup target, output goes to the temp directory.  Fix some inconsistent line-ends as well.
------------------------------------------------------------------------
r691627 | bodewig | 2008-09-03 10:38:35 -0400 (Wed, 03 Sep 2008) | 1 line

ensure TestListenerEvents get labeled even if they span multipl lines.  PR 45411.
------------------------------------------------------------------------
r691622 | bodewig | 2008-09-03 10:17:21 -0400 (Wed, 03 Sep 2008) | 1 line

Tests for PR 45411
------------------------------------------------------------------------
r690986 | bodewig | 2008-09-01 10:54:35 -0400 (Mon, 01 Sep 2008) | 1 line

fix lineends
------------------------------------------------------------------------
r690974 | bodewig | 2008-09-01 10:25:30 -0400 (Mon, 01 Sep 2008) | 1 line

fireTaskFinished delegated to targetFinished
------------------------------------------------------------------------
r690970 | bodewig | 2008-09-01 09:43:18 -0400 (Mon, 01 Sep 2008) | 1 line

close stream so that unit tests can delete the output directory.
------------------------------------------------------------------------
r690969 | bodewig | 2008-09-01 09:40:18 -0400 (Mon, 01 Sep 2008) | 1 line

allowNativeBasedir -> useNativeBasedir. Document it. PR 45711.
------------------------------------------------------------------------
r690716 | mbenson | 2008-08-31 11:53:13 -0400 (Sun, 31 Aug 2008) | 2 lines

Properties aren't necessarily delimited by ${} anymore.

------------------------------------------------------------------------
r690714 | mbenson | 2008-08-31 11:38:38 -0400 (Sun, 31 Aug 2008) | 1 line

Bugzilla 45098: update jar index with no other changes
------------------------------------------------------------------------
r690264 | bodewig | 2008-08-29 10:02:42 -0400 (Fri, 29 Aug 2008) | 1 line

Make copy's protected API backwards compatible to Ant 1.6.5 - PR 45701?
------------------------------------------------------------------------
r690252 | bodewig | 2008-08-29 09:33:07 -0400 (Fri, 29 Aug 2008) | 1 line

whitespace
------------------------------------------------------------------------
r690251 | bodewig | 2008-08-29 09:29:12 -0400 (Fri, 29 Aug 2008) | 1 line

make allowNativeBasedir work even when nested, PR 45711.  fixes PR 30569 at the same time.
------------------------------------------------------------------------
r689751 | bodewig | 2008-08-28 03:56:41 -0400 (Thu, 28 Aug 2008) | 1 line

Add a special listener that tries to invoke tearDown in a test class that caused a timeout or crashed the forked VM.  PR 37241.
------------------------------------------------------------------------
r689477 | bodewig | 2008-08-27 09:24:42 -0400 (Wed, 27 Aug 2008) | 1 line

change command line parser so that version is only printed once - and version as well as diagnostics methods know the current loglevel.  The former is PR 45695, the later useful for 45692.
------------------------------------------------------------------------
r689351 | bodewig | 2008-08-26 23:56:35 -0400 (Tue, 26 Aug 2008) | 1 line

JUnitTestListenerTest removes the out dir and makes JUnitTaskTest fail when run as a nested test.
------------------------------------------------------------------------
r689125 | bodewig | 2008-08-26 12:13:52 -0400 (Tue, 26 Aug 2008) | 1 line

some additional diagnostics
------------------------------------------------------------------------
r689105 | bodewig | 2008-08-26 11:13:37 -0400 (Tue, 26 Aug 2008) | 1 line

properly clean up test directory
------------------------------------------------------------------------
r689104 | bodewig | 2008-08-26 11:02:16 -0400 (Tue, 26 Aug 2008) | 1 line

formatters need to know about VM exits, no matter whether they use a file or not.  PR 37312.
------------------------------------------------------------------------
r689044 | bodewig | 2008-08-26 08:09:27 -0400 (Tue, 26 Aug 2008) | 1 line

Add test for worst case of elapsed time
------------------------------------------------------------------------
r688958 | bodewig | 2008-08-26 00:30:39 -0400 (Tue, 26 Aug 2008) | 1 line

Don't use a thousands separator at all for minutes.  PR 44659.
------------------------------------------------------------------------
r688732 | bodewig | 2008-08-25 10:23:23 -0400 (Mon, 25 Aug 2008) | 1 line

defer self-generated subBuildStarted event until project instance has been configured and basedir has been set.  PR 45607.
------------------------------------------------------------------------
r688729 | bodewig | 2008-08-25 10:04:01 -0400 (Mon, 25 Aug 2008) | 1 line

reallyput the value into the map.
------------------------------------------------------------------------
r688725 | gscokart | 2008-08-25 09:53:06 -0400 (Mon, 25 Aug 2008) | 1 line

Fix possible raise condition when modifying/reading restrictedDefinitions (missing from previous checkin)
------------------------------------------------------------------------
r688715 | gscokart | 2008-08-25 09:10:20 -0400 (Mon, 25 Aug 2008) | 2 lines

Fix possible race condition when modifying/reading restrictedDefinitions

------------------------------------------------------------------------
r688105 | bodewig | 2008-08-22 11:50:29 -0400 (Fri, 22 Aug 2008) | 1 line

Ant disallowed manifest attributes that contained the character 8.  PR 45675.
------------------------------------------------------------------------
r688091 | bodewig | 2008-08-22 11:18:17 -0400 (Fri, 22 Aug 2008) | 1 line

Add namespace support to echoxml.  Based on patch by Joey Richey.  PR 36804.
------------------------------------------------------------------------
r688090 | bodewig | 2008-08-22 11:00:51 -0400 (Fri, 22 Aug 2008) | 1 line

inconsistent linefeeds
------------------------------------------------------------------------
r688084 | bodewig | 2008-08-22 10:02:21 -0400 (Fri, 22 Aug 2008) | 1 line

May need special JUnit4 handling if a suite method has been used as well.  PR 43892.
------------------------------------------------------------------------
r688083 | bodewig | 2008-08-22 09:49:57 -0400 (Fri, 22 Aug 2008) | 1 line

Make sure JunitTestRunners return code is correct when running under JUnit4.  PR 43892.  Submitted by Brian Curnow.
------------------------------------------------------------------------
r687834 | gscokart | 2008-08-21 15:21:01 -0400 (Thu, 21 Aug 2008) | 1 line

add some final keyword to immutable things
------------------------------------------------------------------------
r687832 | gscokart | 2008-08-21 15:06:43 -0400 (Thu, 21 Aug 2008) | 1 line

add some final keyword to immutable things
------------------------------------------------------------------------
r687768 | gscokart | 2008-08-21 10:18:59 -0400 (Thu, 21 Aug 2008) | 1 line

Enhance performance of DirectoryScanner by parsing the patterns only once.  Introduce a PathPattern to do that. (# 44226)
------------------------------------------------------------------------
r687739 | bodewig | 2008-08-21 09:13:30 -0400 (Thu, 21 Aug 2008) | 1 line

testcase for PR 44659
------------------------------------------------------------------------
r687632 | bodewig | 2008-08-21 04:10:45 -0400 (Thu, 21 Aug 2008) | 1 line

typo
------------------------------------------------------------------------
r687620 | bodewig | 2008-08-21 03:57:03 -0400 (Thu, 21 Aug 2008) | 1 line

style
------------------------------------------------------------------------
r687618 | bodewig | 2008-08-21 03:54:49 -0400 (Thu, 21 Aug 2008) | 1 line

typo
------------------------------------------------------------------------
r687617 | bodewig | 2008-08-21 03:54:14 -0400 (Thu, 21 Aug 2008) | 1 line

style
------------------------------------------------------------------------
r687615 | bodewig | 2008-08-21 03:47:29 -0400 (Thu, 21 Aug 2008) | 1 line

Add license
------------------------------------------------------------------------
r687601 | bodewig | 2008-08-21 03:27:27 -0400 (Thu, 21 Aug 2008) | 1 line

line-ends
------------------------------------------------------------------------
r687402 | kevj | 2008-08-20 14:12:57 -0400 (Wed, 20 Aug 2008) | 1 line

apply patch for #36901 LayoutPreservingProprties (includes tests)
------------------------------------------------------------------------
r687362 | bodewig | 2008-08-20 10:45:32 -0400 (Wed, 20 Aug 2008) | 1 line

whitespave
------------------------------------------------------------------------
r687360 | bodewig | 2008-08-20 10:44:14 -0400 (Wed, 20 Aug 2008) | 1 line

Add a new attribute to javadoc to allow URLs for location of offline links.  PR 28881.
------------------------------------------------------------------------
r687358 | gscokart | 2008-08-20 10:40:03 -0400 (Wed, 20 Aug 2008) | 1 line

Thread safety fix in case a macrodef/presetdef is executed in parallel to other type related tasks (like TypeFound conditions or starting a subproject)
------------------------------------------------------------------------
r687325 | gscokart | 2008-08-20 09:28:52 -0400 (Wed, 20 Aug 2008) | 1 line

Thread safety fix (list of delegates were modified and copied concurrently without common lock).  The hashtable is thread safe and not published outside the class, so no need to copy it (synchronize non atomic modification is enought).  However, the list contained in the delegates hashtable are published and should thus be copied.  I put the copy in the add method so that the getDelegates doesn't need to be synchronized.
------------------------------------------------------------------------
r687077 | bodewig | 2008-08-19 11:25:54 -0400 (Tue, 19 Aug 2008) | 1 line

whitespace
------------------------------------------------------------------------
r687075 | bodewig | 2008-08-19 11:13:59 -0400 (Tue, 19 Aug 2008) | 1 line

whitespace
------------------------------------------------------------------------
r687074 | bodewig | 2008-08-19 11:13:30 -0400 (Tue, 19 Aug 2008) | 1 line

whitespace
------------------------------------------------------------------------
r687073 | bodewig | 2008-08-19 11:12:06 -0400 (Tue, 19 Aug 2008) | 1 line

untabify
------------------------------------------------------------------------
r687070 | gscokart | 2008-08-19 11:05:07 -0400 (Tue, 19 Aug 2008) | 1 line

fix very unlikely thread safety issue (may occur if PropertyHelperTask is used in a parallel, which would be a strange use case)
------------------------------------------------------------------------
r687068 | gscokart | 2008-08-19 10:58:13 -0400 (Tue, 19 Aug 2008) | 1 line

Enhance performance of Project.fireMessageLoggedEvent (PR 45651)
------------------------------------------------------------------------
r686775 | bodewig | 2008-08-18 10:48:51 -0400 (Mon, 18 Aug 2008) | 1 line

sometimes an infinite recursion of filters is flagged when there is none.  PR 44226.  Submitted by Adam Bryzak.
------------------------------------------------------------------------
r685890 | bodewig | 2008-08-14 09:36:09 -0400 (Thu, 14 Aug 2008) | 1 line

whitespace
------------------------------------------------------------------------
r685887 | bodewig | 2008-08-14 09:31:20 -0400 (Thu, 14 Aug 2008) | 1 line

support regular expressions in filename and name selectors.  PR 45284.
------------------------------------------------------------------------
r685593 | bodewig | 2008-08-13 11:55:01 -0400 (Wed, 13 Aug 2008) | 1 line

Add readable and writable selectors.  Addresses PR 45081.
------------------------------------------------------------------------
r684745 | bodewig | 2008-08-11 09:49:18 -0400 (Mon, 11 Aug 2008) | 1 line

Make JUnit's output less confusing when a forked VM running more than one test is terminated.  PR 45227.
------------------------------------------------------------------------
r684722 | bodewig | 2008-08-11 07:41:48 -0400 (Mon, 11 Aug 2008) | 1 line

whitespace
------------------------------------------------------------------------
r684721 | bodewig | 2008-08-11 07:40:31 -0400 (Mon, 11 Aug 2008) | 1 line

explicitly guard against nul values, mark to and from attributes as required.  PR 44790.
------------------------------------------------------------------------
r683997 | jglick | 2008-08-08 11:23:17 -0400 (Fri, 08 Aug 2008) | 5 lines

Better error reporting in case a corrupt ZIP file is on the classpath.
Formerly would show a ZipException stack trace but give no indication of which file was responsible.
(Of course it would be better if ZipFile.open itself included the file path in the detail message!)
Cf.: http://www.netbeans.org/nonav/issues/show_bug.cgi?id=142733

------------------------------------------------------------------------
r683965 | bodewig | 2008-08-08 09:50:18 -0400 (Fri, 08 Aug 2008) | 1 line

Test for PR 45227.
------------------------------------------------------------------------
r683961 | bodewig | 2008-08-08 09:20:58 -0400 (Fri, 08 Aug 2008) | 1 line

make sure JAVA_HOME and ANT_HOME are set before passing them to cygpath.  PR 45245.
------------------------------------------------------------------------
r683942 | bodewig | 2008-08-08 07:36:43 -0400 (Fri, 08 Aug 2008) | 1 line

fail early if ZipFile is applied to a non-ZIP archive.  PR 45463.  Suggested by Alison Winters.
------------------------------------------------------------------------
r681761 | mbenson | 2008-08-01 13:43:24 -0400 (Fri, 01 Aug 2008) | 1 line

guard against null Blob
------------------------------------------------------------------------
r680706 | kevj | 2008-07-29 10:15:58 -0400 (Tue, 29 Jul 2008) | 1 line

javadoc spelling
------------------------------------------------------------------------
r677915 | bodewig | 2008-07-18 10:22:55 -0400 (Fri, 18 Jul 2008) | 1 line

whitespace
------------------------------------------------------------------------
r677914 | bodewig | 2008-07-18 10:21:38 -0400 (Fri, 18 Jul 2008) | 1 line

new attribute allowNativeBasedir for <ant>.  Not yet documented.  Not yet complete (doesn't work when basedir is a user or inherited property).  Work in progress.  Needed for PR 30569.
------------------------------------------------------------------------
r677887 | bodewig | 2008-07-18 08:37:34 -0400 (Fri, 18 Jul 2008) | 1 line

avoid excessive StringBuffer.toString calls while waiting for a response string.  PR 34464.  Based on patch by Adam Blinkinsop.
------------------------------------------------------------------------
r677878 | bodewig | 2008-07-18 06:51:30 -0400 (Fri, 18 Jul 2008) | 1 line

New attribute allows stripping of leading path spec from files before extracting them.  PR 28911.
------------------------------------------------------------------------
r677871 | bodewig | 2008-07-18 06:20:36 -0400 (Fri, 18 Jul 2008) | 1 line

add testcase for PR 34764
------------------------------------------------------------------------
r677870 | bodewig | 2008-07-18 06:13:28 -0400 (Fri, 18 Jul 2008) | 1 line

Made up my mind on the fix for PR 35000.  Empty != broken, so make it two separate use cases.
------------------------------------------------------------------------
r677860 | bodewig | 2008-07-18 05:07:25 -0400 (Fri, 18 Jul 2008) | 1 line

more explicit existence chacks in unzip/tar.  PR 44843
------------------------------------------------------------------------
r677597 | bodewig | 2008-07-17 10:44:30 -0400 (Thu, 17 Jul 2008) | 1 line

don't trust permissions read from another ZIP file blindly.  PR 42122.
------------------------------------------------------------------------
r677592 | bodewig | 2008-07-17 10:23:44 -0400 (Thu, 17 Jul 2008) | 1 line

an empty central directory is fine for an empty archive
------------------------------------------------------------------------
r677575 | bodewig | 2008-07-17 09:14:30 -0400 (Thu, 17 Jul 2008) | 1 line

an archive with an empty central directory is broken.  PR 35000.  Submitted by Thomas Aglassinger.
------------------------------------------------------------------------
r677571 | bodewig | 2008-07-17 08:51:49 -0400 (Thu, 17 Jul 2008) | 1 line

Swallow stacktrace of timeout exception.  PR 32853.
------------------------------------------------------------------------
r677532 | bodewig | 2008-07-17 04:22:54 -0400 (Thu, 17 Jul 2008) | 1 line

SSH keyfiles can be password-less.  PR 33718.
------------------------------------------------------------------------
r677518 | bodewig | 2008-07-17 03:20:44 -0400 (Thu, 17 Jul 2008) | 1 line

use configured local DTDs in Iplanet deployment tool.  PR 31876.  Submitted by Daniel Henrique.
------------------------------------------------------------------------
r677516 | bodewig | 2008-07-17 03:11:25 -0400 (Thu, 17 Jul 2008) | 1 line

Don't rely on Java verifier when checking for JavaMail in mail task.  PR 31969.  Submitted by Kev Jackson.
------------------------------------------------------------------------
r677514 | bodewig | 2008-07-17 02:58:39 -0400 (Thu, 17 Jul 2008) | 1 line

More sanity in CBZip2*Stream if the streams are empty.  PR 32200. Submitted by Kevin Jackson.
------------------------------------------------------------------------
r677384 | mbenson | 2008-07-16 15:21:57 -0400 (Wed, 16 Jul 2008) | 1 line

since
------------------------------------------------------------------------
r677383 | mbenson | 2008-07-16 15:20:02 -0400 (Wed, 16 Jul 2008) | 1 line

<sql> "output" attribute now supports any Resource in addition to a file.
------------------------------------------------------------------------
r677355 | mbenson | 2008-07-16 13:32:44 -0400 (Wed, 16 Jul 2008) | 1 line

<echo> supports an "output" Resource attribute as an alternative to "file".
------------------------------------------------------------------------
r677352 | mbenson | 2008-07-16 13:23:25 -0400 (Wed, 16 Jul 2008) | 1 line

convenience constructor
------------------------------------------------------------------------
r677351 | mbenson | 2008-07-16 13:22:51 -0400 (Wed, 16 Jul 2008) | 1 line

note on string trimming for length task
------------------------------------------------------------------------
r677347 | mbenson | 2008-07-16 13:19:01 -0400 (Wed, 16 Jul 2008) | 1 line

resources/fileproviders
------------------------------------------------------------------------
r677307 | bodewig | 2008-07-16 11:30:27 -0400 (Wed, 16 Jul 2008) | 1 line

(failing) AntUnit test for bug 30542
------------------------------------------------------------------------
r677296 | bodewig | 2008-07-16 10:51:21 -0400 (Wed, 16 Jul 2008) | 1 line

note working directory for forked compilers.  PR 30542.
------------------------------------------------------------------------
r677272 | bodewig | 2008-07-16 08:58:10 -0400 (Wed, 16 Jul 2008) | 1 line

feed Deflater smaller chunks because it seems to copy around the data a lot.  PR 45396.
------------------------------------------------------------------------
r677219 | bodewig | 2008-07-16 05:54:19 -0400 (Wed, 16 Jul 2008) | 1 line

New task sshsession.  PR 43083.  Submitted by David S. Johnson
------------------------------------------------------------------------
r677211 | bodewig | 2008-07-16 05:32:52 -0400 (Wed, 16 Jul 2008) | 1 line

Create remoteDir if needed, More meaningful error when exception occurs.  PR 42781.  Submitted by Eduard Wirch.
------------------------------------------------------------------------
r677206 | bodewig | 2008-07-16 05:17:42 -0400 (Wed, 16 Jul 2008) | 1 line

fail with a meaningful error of remoteDir is not parseable.  PR 42770.  Submitted by Scott Johnson
------------------------------------------------------------------------
r677187 | bodewig | 2008-07-16 04:07:44 -0400 (Wed, 16 Jul 2008) | 1 line

Add preservelastmodified to scp.  PR 33939.  Based on patch by Sandra Metz.
------------------------------------------------------------------------
r676906 | bodewig | 2008-07-15 09:14:26 -0400 (Tue, 15 Jul 2008) | 1 line

Add input to sshexec.  PR 39197.  Based on patch by Robert Anderson.
------------------------------------------------------------------------
r676603 | bodewig | 2008-07-14 10:31:25 -0400 (Mon, 14 Jul 2008) | 1 line

allow ftp remote verification to be disabled.  PR 35471.  Suggested by Viacheslav Garmash.
------------------------------------------------------------------------
r676595 | bodewig | 2008-07-14 10:07:07 -0400 (Mon, 14 Jul 2008) | 1 line

log where directories get created
------------------------------------------------------------------------
r676591 | bodewig | 2008-07-14 09:53:31 -0400 (Mon, 14 Jul 2008) | 1 line

log where ftp is going to
------------------------------------------------------------------------
r676560 | bodewig | 2008-07-14 07:59:12 -0400 (Mon, 14 Jul 2008) | 1 line

Allow more control over CSV output.  PR 35627.
------------------------------------------------------------------------
r676191 | mbenson | 2008-07-12 11:37:54 -0400 (Sat, 12 Jul 2008) | 1 line

doc/test global locals
------------------------------------------------------------------------
r676096 | mbenson | 2008-07-11 19:06:41 -0400 (Fri, 11 Jul 2008) | 1 line

add loadproperties tests; bugzilla 45372
------------------------------------------------------------------------
r676095 | mbenson | 2008-07-11 19:05:26 -0400 (Fri, 11 Jul 2008) | 1 line

add local properties; bugzilla 23942
------------------------------------------------------------------------
r675997 | mbenson | 2008-07-11 11:51:38 -0400 (Fri, 11 Jul 2008) | 1 line

threadsafety warning
------------------------------------------------------------------------
r675996 | mbenson | 2008-07-11 11:48:43 -0400 (Fri, 11 Jul 2008) | 1 line

since; ws
------------------------------------------------------------------------
r675993 | bodewig | 2008-07-11 11:45:53 -0400 (Fri, 11 Jul 2008) | 1 line

XmlLogger could lose messages when parallel is used.  PR 25734.  Based on analysis and patch by Craig Sandvik
------------------------------------------------------------------------
r675968 | bodewig | 2008-07-11 10:41:33 -0400 (Fri, 11 Jul 2008) | 1 line

allow SQLWarnings to stop <sql>.  PR 41836.
------------------------------------------------------------------------
r675962 | bodewig | 2008-07-11 10:26:32 -0400 (Fri, 11 Jul 2008) | 1 line

new showWarnings attribute that makes <sql> display SQLWarnings - if any.  PR 41836
------------------------------------------------------------------------
r675954 | bodewig | 2008-07-11 09:58:38 -0400 (Fri, 11 Jul 2008) | 1 line

allow a more lenient matching mode when searching for delimiters in <sql>
------------------------------------------------------------------------
r675949 | bodewig | 2008-07-11 09:35:50 -0400 (Fri, 11 Jul 2008) | 1 line

work on PR 26459 - in progress (fighting with the tests and my environment)
------------------------------------------------------------------------
r675917 | bodewig | 2008-07-11 06:59:48 -0400 (Fri, 11 Jul 2008) | 1 line

Allow ant to continue even if <sql> fails to connect to the database.  PR 36712.
------------------------------------------------------------------------
r675913 | bodewig | 2008-07-11 06:43:13 -0400 (Fri, 11 Jul 2008) | 1 line

document null return value
------------------------------------------------------------------------
r675911 | bodewig | 2008-07-11 06:40:44 -0400 (Fri, 11 Jul 2008) | 1 line

Avoid NPE if database doesn't match expected vendor
------------------------------------------------------------------------
r675909 | bodewig | 2008-07-11 06:31:17 -0400 (Fri, 11 Jul 2008) | 1 line

fix resultset und update count logic in sql.  PRs 32168 and 36265.
------------------------------------------------------------------------
r675894 | bodewig | 2008-07-11 05:52:31 -0400 (Fri, 11 Jul 2008) | 1 line

Allow subclasses to modify the connection and statement instances used by <sql> or to access the cached instances.  PR 27178.  Submitted by Mike Davis
------------------------------------------------------------------------
r675844 | bodewig | 2008-07-11 03:13:41 -0400 (Fri, 11 Jul 2008) | 1 line

mark shell scripts as Unix line-ends explicitly
------------------------------------------------------------------------
r675843 | bodewig | 2008-07-11 03:09:14 -0400 (Fri, 11 Jul 2008) | 1 line

mark shell scripts as Unix line-ends explicitly
------------------------------------------------------------------------
r675842 | bodewig | 2008-07-11 03:00:56 -0400 (Fri, 11 Jul 2008) | 1 line

More cases whete includeJavaRuntime="false" may fail for gcj.  PR 34638.
------------------------------------------------------------------------
r675623 | bodewig | 2008-07-10 11:57:56 -0400 (Thu, 10 Jul 2008) | 1 line

properly detect MacOS X when running inside OpenJDK.  Bugzilla Issue 44889
------------------------------------------------------------------------
r675605 | bodewig | 2008-07-10 11:03:11 -0400 (Thu, 10 Jul 2008) | 1 line

properly deal with multiple arguments to java2iioparams.  PR 27444.
------------------------------------------------------------------------
r675603 | bodewig | 2008-07-10 10:54:20 -0400 (Thu, 10 Jul 2008) | 1 line

clean up previous state when building multiple ejbjars in Borlands Appserver.  PR 26921.  Submitted by David leRoy.
------------------------------------------------------------------------
r675579 | bodewig | 2008-07-10 10:06:44 -0400 (Thu, 10 Jul 2008) | 1 line

sql's onerror='stop' shouldn't make the task fail.  PR 24668.  Based on a patch by Dante Briones.
------------------------------------------------------------------------
r673813 | mbenson | 2008-07-03 17:19:13 -0400 (Thu, 03 Jul 2008) | 1 line

disable ErrorInCase check on osx
------------------------------------------------------------------------
r673467 | mbenson | 2008-07-02 15:02:51 -0400 (Wed, 02 Jul 2008) | 1 line

type any
------------------------------------------------------------------------
r673435 | mbenson | 2008-07-02 12:30:30 -0400 (Wed, 02 Jul 2008) | 1 line

ws/sp
------------------------------------------------------------------------
r672908 | mbenson | 2008-06-30 16:46:32 -0400 (Mon, 30 Jun 2008) | 1 line

tearDown
------------------------------------------------------------------------
r672902 | mbenson | 2008-06-30 16:37:37 -0400 (Mon, 30 Jun 2008) | 1 line

trivial
------------------------------------------------------------------------
r672840 | mbenson | 2008-06-30 13:51:35 -0400 (Mon, 30 Jun 2008) | 1 line

add subclass hook
------------------------------------------------------------------------
r672023 | mbenson | 2008-06-26 16:39:30 -0400 (Thu, 26 Jun 2008) | 1 line

sp
------------------------------------------------------------------------
r671691 | mbenson | 2008-06-25 19:39:21 -0400 (Wed, 25 Jun 2008) | 1 line

ws
------------------------------------------------------------------------
r671690 | mbenson | 2008-06-25 19:39:01 -0400 (Wed, 25 Jun 2008) | 1 line

add Project to FileResourceIterator
------------------------------------------------------------------------
r671689 | mbenson | 2008-06-25 19:34:33 -0400 (Wed, 25 Jun 2008) | 1 line

ws
------------------------------------------------------------------------
r671687 | mbenson | 2008-06-25 19:34:08 -0400 (Wed, 25 Jun 2008) | 1 line

simplify
------------------------------------------------------------------------
r671686 | mbenson | 2008-06-25 19:32:55 -0400 (Wed, 25 Jun 2008) | 1 line

fix bug I introduced
------------------------------------------------------------------------
r671685 | mbenson | 2008-06-25 19:32:27 -0400 (Wed, 25 Jun 2008) | 1 line

sp
------------------------------------------------------------------------
r671299 | mbenson | 2008-06-24 15:02:06 -0400 (Tue, 24 Jun 2008) | 1 line

bugzilla [45271]; process nonexistent resources with length mode=each
------------------------------------------------------------------------
r671298 | mbenson | 2008-06-24 15:00:33 -0400 (Tue, 24 Jun 2008) | 1 line

FileProvider changes
------------------------------------------------------------------------
r671018 | bodewig | 2008-06-24 00:29:40 -0400 (Tue, 24 Jun 2008) | 1 line

fix NPE when running inside a container that puts non-String values inside the system properties
------------------------------------------------------------------------
r669848 | bodewig | 2008-06-20 06:37:44 -0400 (Fri, 20 Jun 2008) | 1 line

assign final variable initialized only once
------------------------------------------------------------------------
r669470 | bodewig | 2008-06-19 08:37:29 -0400 (Thu, 19 Jun 2008) | 1 line

One more File.toURL case
------------------------------------------------------------------------
r669465 | bodewig | 2008-06-19 08:20:50 -0400 (Thu, 19 Jun 2008) | 1 line

whitespace changes
------------------------------------------------------------------------
r669464 | bodewig | 2008-06-19 08:20:12 -0400 (Thu, 19 Jun 2008) | 1 line

Remove synchronization around logging of messages in order to avoid potential deadlock - see PR 45194
------------------------------------------------------------------------
r669453 | bodewig | 2008-06-19 07:43:00 -0400 (Thu, 19 Jun 2008) | 1 line

Add a test that fails if we allow a logger to recursively log messages
------------------------------------------------------------------------
r669426 | bodewig | 2008-06-19 04:42:59 -0400 (Thu, 19 Jun 2008) | 1 line

Add a separate lock for the BuildListener collection
------------------------------------------------------------------------
r669421 | bodewig | 2008-06-19 04:15:14 -0400 (Thu, 19 Jun 2008) | 1 line

finer grained synchronization of current Thread task handling, only lock the threads table but do so consistently
------------------------------------------------------------------------
r669416 | bodewig | 2008-06-19 04:09:39 -0400 (Thu, 19 Jun 2008) | 1 line

remove synchronization in addReference since getReferences hands out an un-synchronized table anyway
------------------------------------------------------------------------
r668730 | mbenson | 2008-06-17 12:29:08 -0400 (Tue, 17 Jun 2008) | 1 line

extract ContentTransformingResource from CompressedResource
------------------------------------------------------------------------
r668724 | mbenson | 2008-06-17 12:04:18 -0400 (Tue, 17 Jun 2008) | 1 line

[43348] Use FileProvider interface
------------------------------------------------------------------------
r668719 | mbenson | 2008-06-17 11:57:55 -0400 (Tue, 17 Jun 2008) | 1 line

version
------------------------------------------------------------------------
r668718 | mbenson | 2008-06-17 11:57:20 -0400 (Tue, 17 Jun 2008) | 1 line

helper method
------------------------------------------------------------------------
r668713 | mbenson | 2008-06-17 11:40:32 -0400 (Tue, 17 Jun 2008) | 1 line

unused
------------------------------------------------------------------------
r668712 | mbenson | 2008-06-17 11:37:28 -0400 (Tue, 17 Jun 2008) | 1 line

oops
------------------------------------------------------------------------
r668704 | mbenson | 2008-06-17 11:15:27 -0400 (Tue, 17 Jun 2008) | 1 line

unused
------------------------------------------------------------------------
r668701 | mbenson | 2008-06-17 11:00:39 -0400 (Tue, 17 Jun 2008) | 1 line

constant
------------------------------------------------------------------------
r668698 | mbenson | 2008-06-17 10:57:58 -0400 (Tue, 17 Jun 2008) | 1 line

revert broken stuff
------------------------------------------------------------------------
r668686 | mbenson | 2008-06-17 10:47:11 -0400 (Tue, 17 Jun 2008) | 1 line

scale back synchronization
------------------------------------------------------------------------
r668626 | bodewig | 2008-06-17 07:59:21 -0400 (Tue, 17 Jun 2008) | 1 line

whitespace changes
------------------------------------------------------------------------
r668625 | bodewig | 2008-06-17 07:58:55 -0400 (Tue, 17 Jun 2008) | 1 line

Re-order, don't even enter the try block if there is nothing to do
------------------------------------------------------------------------
r668624 | bodewig | 2008-06-17 07:53:34 -0400 (Tue, 17 Jun 2008) | 1 line

Use FileUtils, should fix PR 45190
------------------------------------------------------------------------
r667588 | stevel | 2008-06-13 12:38:37 -0400 (Fri, 13 Jun 2008) | 1 line

extra diags when expand and untar fail
------------------------------------------------------------------------
r667587 | stevel | 2008-06-13 12:37:25 -0400 (Fri, 13 Jun 2008) | 1 line

add some useful diagnostics messages when sftp fails.
------------------------------------------------------------------------
r664607 | kevj | 2008-06-08 22:53:16 -0400 (Sun, 08 Jun 2008) | 1 line

-getDocumentElement instead of getFirstChild().getNextSibling()
------------------------------------------------------------------------
r663061 | bodewig | 2008-06-04 06:58:23 -0400 (Wed, 04 Jun 2008) | 1 line

Add a magic property that lists the targets that have been specified in order to run the current project.  Based on patch by Colm Smyth (just like rev663051 was).  PR 44980
------------------------------------------------------------------------
r663051 | bodewig | 2008-06-04 06:34:07 -0400 (Wed, 04 Jun 2008) | 1 line

Add a new property to hold the current project's default target
------------------------------------------------------------------------
r663046 | bodewig | 2008-06-04 06:12:27 -0400 (Wed, 04 Jun 2008) | 1 line

make ant.project.name a magic property
------------------------------------------------------------------------
r659763 | kevj | 2008-05-24 04:00:25 -0400 (Sat, 24 May 2008) | 1 line

-spelling
------------------------------------------------------------------------
r644677 | bodewig | 2008-04-04 06:47:22 -0400 (Fri, 04 Apr 2008) | 1 line

disable FailureRecorder test when running JUnit4
------------------------------------------------------------------------
r644321 | bodewig | 2008-04-03 10:04:13 -0400 (Thu, 03 Apr 2008) | 1 line

whitespace changes only
------------------------------------------------------------------------
r644320 | bodewig | 2008-04-03 10:01:58 -0400 (Thu, 03 Apr 2008) | 1 line

Try to get more information from test failure in Gump
------------------------------------------------------------------------
r644043 | peterreilly | 2008-04-02 16:37:25 -0400 (Wed, 02 Apr 2008) | 1 line

bugzilla 44731: index out of bound in globmapper (due to overlap)
------------------------------------------------------------------------
r644042 | peterreilly | 2008-04-02 16:36:03 -0400 (Wed, 02 Apr 2008) | 1 line

test case for bugzilla 44731 - index out of bounds in globmapper
------------------------------------------------------------------------
r643916 | bodewig | 2008-04-02 10:13:53 -0400 (Wed, 02 Apr 2008) | 1 line

Redirect formatter output to out directory so it can get removed in cleanup target
------------------------------------------------------------------------
r643817 | bodewig | 2008-04-02 05:39:38 -0400 (Wed, 02 Apr 2008) | 1 line

Xalan seems to require explicit encoding specifications when including files, should fix XsltTest and TraxLiaisonTest
------------------------------------------------------------------------
r643735 | bodewig | 2008-04-02 00:29:53 -0400 (Wed, 02 Apr 2008) | 1 line

fix JspcTest by making the test file well-formed again
------------------------------------------------------------------------
r643274 | bodewig | 2008-04-01 00:30:25 -0400 (Tue, 01 Apr 2008) | 1 line

the path doesn't look that way on Unix
------------------------------------------------------------------------
r643076 | jglick | 2008-03-31 13:34:31 -0400 (Mon, 31 Mar 2008) | 2 lines

Adding test case and further note for #42263 w.r.t. ${ant.core.lib} propagation.

------------------------------------------------------------------------
r641903 | peterreilly | 2008-03-27 13:09:53 -0400 (Thu, 27 Mar 2008) | 1 line

Bugzilla 44689: NPE with multiple targets and id's in task
------------------------------------------------------------------------
r640118 | peterreilly | 2008-03-22 19:05:37 -0400 (Sat, 22 Mar 2008) | 1 line

fix for 43799: ManifestClassPath cannot traverse system root
------------------------------------------------------------------------
r640099 | peterreilly | 2008-03-22 18:23:44 -0400 (Sat, 22 Mar 2008) | 1 line

fix unit test
------------------------------------------------------------------------
r639876 | peterreilly | 2008-03-21 17:52:08 -0400 (Fri, 21 Mar 2008) | 1 line

add some missing depends
------------------------------------------------------------------------
r637939 | bodewig | 2008-03-17 11:27:42 -0400 (Mon, 17 Mar 2008) | 1 line

merge license additions from 1.7 branch (i.e. revs 637870 to 637914)
------------------------------------------------------------------------
r633480 | bodewig | 2008-03-04 09:14:42 -0500 (Tue, 04 Mar 2008) | 1 line

normalize build file name. In essence, turn relative file names given on the command line into absolute ones.  Submitted by: Justin Vallon.  PR: 44323
------------------------------------------------------------------------
r633476 | bodewig | 2008-03-04 08:58:33 -0500 (Tue, 04 Mar 2008) | 1 line

add "testcase" for bug 44323
------------------------------------------------------------------------
r633469 | bodewig | 2008-03-04 08:17:50 -0500 (Tue, 04 Mar 2008) | 1 line

Ensure the line-ends match the platforms expectation in UTF-16 case.  I can't seem to find a way that svn will accept UTF-16 and native eol-style, so I fall back to the trusted fixcrlf.
------------------------------------------------------------------------
r633456 | bodewig | 2008-03-04 07:46:20 -0500 (Tue, 04 Mar 2008) | 1 line

excess blank caused test failure
------------------------------------------------------------------------
r633454 | bodewig | 2008-03-04 07:42:46 -0500 (Tue, 04 Mar 2008) | 1 line

Test failed on Windows since the file has never been created (and thus never had the wrong case)
------------------------------------------------------------------------
r633442 | bodewig | 2008-03-04 07:15:00 -0500 (Tue, 04 Mar 2008) | 1 line

skip scripty AntUnit tests if BSF/javax.script are not there
------------------------------------------------------------------------
r631430 | mbenson | 2008-02-26 18:59:16 -0500 (Tue, 26 Feb 2008) | 1 line

bz 44493 <sql> task cannot differentiate between "no resources specified" and "no resources found"
------------------------------------------------------------------------
r631263 | stevel | 2008-02-26 10:52:51 -0500 (Tue, 26 Feb 2008) | 1 line

Bug 42275 running ant off a network share can cause Ant to fail
------------------------------------------------------------------------
r630093 | bodewig | 2008-02-22 00:27:39 -0500 (Fri, 22 Feb 2008) | 1 line

track JUnit change in WHATSNEW, bump copyright year, add some Javadocs to new JUnit methods
------------------------------------------------------------------------
r628990 | bodewig | 2008-02-19 00:11:38 -0500 (Tue, 19 Feb 2008) | 1 line

fix part of Cactus problems with the refactored JUnit task of 1.7.0: create the "delegate" as needed instead of in execute()
------------------------------------------------------------------------
r628959 | kevj | 2008-02-18 20:48:11 -0500 (Mon, 18 Feb 2008) | 1 line

-just testing netbeans
------------------------------------------------------------------------
r617470 | jhm | 2008-02-01 05:54:44 -0500 (Fri, 01 Feb 2008) | 1 line

Make code following the documentation.
------------------------------------------------------------------------
r617356 | jhm | 2008-02-01 01:37:19 -0500 (Fri, 01 Feb 2008) | 1 line

Helper class for checking task configurations.
------------------------------------------------------------------------
r615452 | peterreilly | 2008-01-26 09:22:48 -0500 (Sat, 26 Jan 2008) | 1 line

checkstyle
------------------------------------------------------------------------
r612467 | stevel | 2008-01-16 09:14:59 -0500 (Wed, 16 Jan 2008) | 1 line

BugID 44239: Add ability of resource classes to act as factories for relative resources
------------------------------------------------------------------------
r612091 | jhm | 2008-01-15 07:06:19 -0500 (Tue, 15 Jan 2008) | 2 lines

- spelling
- a sentence was incomplete (missing additional docs?)
------------------------------------------------------------------------
r612083 | stevel | 2008-01-15 06:14:52 -0500 (Tue, 15 Jan 2008) | 1 line

Bug# 44242 Add <funtest> task for functional testing
------------------------------------------------------------------------
r612079 | stevel | 2008-01-15 06:06:13 -0500 (Tue, 15 Jan 2008) | 1 line

bug 44241 add JavaConstantResource to read string constants.
------------------------------------------------------------------------
r612078 | stevel | 2008-01-15 06:03:59 -0500 (Tue, 15 Jan 2008) | 1 line

BugID 44240 factor out classpath support from JavaResource  into an Abstract resource
------------------------------------------------------------------------
r608999 | jkf | 2008-01-04 15:48:55 -0500 (Fri, 04 Jan 2008) | 1 line

improved lay-out + add since ant 1.7.1 instead of 1.8
------------------------------------------------------------------------
r608939 | jkf | 2008-01-04 12:45:12 -0500 (Fri, 04 Jan 2008) | 1 line

request from cactus team, backward incompatible change in FileUtils made backward compatible
------------------------------------------------------------------------
r605926 | jhm | 2007-12-20 08:44:53 -0500 (Thu, 20 Dec 2007) | 2 lines

* update javadoc
* remove double blanks
------------------------------------------------------------------------
r600702 | jglick | 2007-12-03 16:50:19 -0500 (Mon, 03 Dec 2007) | 2 lines

Missing space between clauses.

------------------------------------------------------------------------
r598323 | jhm | 2007-11-26 10:56:33 -0500 (Mon, 26 Nov 2007) | 1 line

FIX: on windows the css is not included (wrong path was calculated)
------------------------------------------------------------------------
r597455 | stevel | 2007-11-22 12:11:26 -0500 (Thu, 22 Nov 2007) | 2 lines

Bugzilla Bug 43624
symlink task failonerror="false" does not stop build from failing when 'ln' command returns non-zero
------------------------------------------------------------------------
r597452 | stevel | 2007-11-22 12:05:51 -0500 (Thu, 22 Nov 2007) | 1 line

bit of tuning
------------------------------------------------------------------------
r597397 | stevel | 2007-11-22 07:43:25 -0500 (Thu, 22 Nov 2007) | 1 line

Bug 43936: <fixcrlf> errors are unhelpful
------------------------------------------------------------------------
r597087 | stevel | 2007-11-21 08:51:00 -0500 (Wed, 21 Nov 2007) | 1 line

pulling out unneeded this. references in everything but the constructors/initialisers. No other changes.
------------------------------------------------------------------------
r597084 | stevel | 2007-11-21 08:41:27 -0500 (Wed, 21 Nov 2007) | 1 line

pulling out unneeded this. references in everything but the constructors
------------------------------------------------------------------------
r594469 | kevj | 2007-11-13 05:18:24 -0500 (Tue, 13 Nov 2007) | 1 line

-correct setCreateFile to use provided flag
------------------------------------------------------------------------
r594016 | kevj | 2007-11-11 22:15:32 -0500 (Sun, 11 Nov 2007) | 1 line

-comment WLrmic tests
------------------------------------------------------------------------
r593991 | peterreilly | 2007-11-11 18:27:31 -0500 (Sun, 11 Nov 2007) | 1 line

some javadoc
------------------------------------------------------------------------
r593042 | kevj | 2007-11-08 02:08:10 -0500 (Thu, 08 Nov 2007) | 1 line

-use astext="true" so the test passes
------------------------------------------------------------------------
r593032 | kevj | 2007-11-08 01:16:55 -0500 (Thu, 08 Nov 2007) | 1 line

-make encoding tests pass on windows
------------------------------------------------------------------------
r593031 | kevj | 2007-11-08 01:15:34 -0500 (Thu, 08 Nov 2007) | 1 line

-output for windows test
------------------------------------------------------------------------
r593021 | kevj | 2007-11-08 00:43:14 -0500 (Thu, 08 Nov 2007) | 1 line

-use StringUtils
------------------------------------------------------------------------
r592846 | jhm | 2007-11-07 13:26:39 -0500 (Wed, 07 Nov 2007) | 2 lines

- remove some unused (internal) variables
- remove unused imports
------------------------------------------------------------------------
r592845 | jhm | 2007-11-07 13:26:07 -0500 (Wed, 07 Nov 2007) | 1 line

Remove use of deprecated constructor calls: Reference(String) and Reference()
------------------------------------------------------------------------
r592844 | jhm | 2007-11-07 13:24:08 -0500 (Wed, 07 Nov 2007) | 1 line

use static methods in a static way
------------------------------------------------------------------------
r592841 | jhm | 2007-11-07 13:23:08 -0500 (Wed, 07 Nov 2007) | 1 line

fix some "serialVersionUID" warnings
------------------------------------------------------------------------
r592514 | mbenson | 2007-11-06 13:29:37 -0500 (Tue, 06 Nov 2007) | 1 line

oops; introduced NPE
------------------------------------------------------------------------
r592499 | mbenson | 2007-11-06 12:45:55 -0500 (Tue, 06 Nov 2007) | 1 line

BZ 43799 / touch sees e.g. empty fs as unspecified args
------------------------------------------------------------------------
r592498 | mbenson | 2007-11-06 12:45:13 -0500 (Tue, 06 Nov 2007) | 1 line

add failing test for BZ 43799
------------------------------------------------------------------------
r592497 | mbenson | 2007-11-06 12:43:21 -0500 (Tue, 06 Nov 2007) | 1 line

ws
------------------------------------------------------------------------
r591427 | peterreilly | 2007-11-02 15:07:06 -0400 (Fri, 02 Nov 2007) | 1 line

some javadoc
------------------------------------------------------------------------
r591425 | peterreilly | 2007-11-02 14:56:20 -0400 (Fri, 02 Nov 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r591341 | mbenson | 2007-11-02 10:11:44 -0400 (Fri, 02 Nov 2007) | 1 line

default access precedent for testcase access
------------------------------------------------------------------------
r591304 | stevel | 2007-11-02 07:13:39 -0400 (Fri, 02 Nov 2007) | 1 line

Bug ID 43780: weblogic RMIC fails on ant1.7.0
------------------------------------------------------------------------
r591042 | mbenson | 2007-11-01 11:09:20 -0400 (Thu, 01 Nov 2007) | 1 line

fmting
------------------------------------------------------------------------
r591040 | stevel | 2007-11-01 11:02:20 -0400 (Thu, 01 Nov 2007) | 1 line

test changes to handle windows systems better
------------------------------------------------------------------------
r591037 | stevel | 2007-11-01 10:58:49 -0400 (Thu, 01 Nov 2007) | 1 line

test changes to handle windows systems better
------------------------------------------------------------------------
r591013 | stevel | 2007-11-01 10:06:39 -0400 (Thu, 01 Nov 2007) | 3 lines

defect 38732; rmic task doesn't work with -Xnew and JDK 6.0

turning the test off on java6, as it damages the XML parser
------------------------------------------------------------------------
r590998 | stevel | 2007-11-01 09:29:23 -0400 (Thu, 01 Nov 2007) | 1 line

no, I'm  rolling this back. Let's wait and see what the tests I'm running at work on something similar say.
------------------------------------------------------------------------
r590990 | stevel | 2007-11-01 09:12:49 -0400 (Thu, 01 Nov 2007) | 1 line

read the javadocs on wait(long) to see why this change was made
------------------------------------------------------------------------
r590988 | stevel | 2007-11-01 09:00:02 -0400 (Thu, 01 Nov 2007) | 1 line

make it impossible to have a null notify value
------------------------------------------------------------------------
r589767 | stevel | 2007-10-29 13:44:21 -0400 (Mon, 29 Oct 2007) | 4 lines

new test tasks, not declared yet -so they dont exist-

<funtest> for functional testing
<blockfor> is waitfor that throws a BuildTimeoutException when it times out
------------------------------------------------------------------------
r589763 | stevel | 2007-10-29 13:41:35 -0400 (Mon, 29 Oct 2007) | 1 line

discussion on junit triggered me to look at this task; fix some things the IDE warned about on localisation.
------------------------------------------------------------------------
r589762 | stevel | 2007-10-29 13:40:51 -0400 (Mon, 29 Oct 2007) | 1 line

javadoc
------------------------------------------------------------------------
r589755 | stevel | 2007-10-29 13:30:28 -0400 (Mon, 29 Oct 2007) | 1 line

javdoc
------------------------------------------------------------------------
r589715 | jhm | 2007-10-29 12:19:14 -0400 (Mon, 29 Oct 2007) | 1 line

Two constructors: for easier use and (then needed) for reflection.
------------------------------------------------------------------------
r587874 | jhm | 2007-10-24 08:25:33 -0400 (Wed, 24 Oct 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r587872 | jhm | 2007-10-24 08:20:01 -0400 (Wed, 24 Oct 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r587863 | jhm | 2007-10-24 08:08:17 -0400 (Wed, 24 Oct 2007) | 1 line

JavaDoc
------------------------------------------------------------------------
r587855 | jhm | 2007-10-24 07:26:02 -0400 (Wed, 24 Oct 2007) | 1 line

New attribute: <xmlproperty delimiter=""/>
------------------------------------------------------------------------
r587844 | jhm | 2007-10-24 06:05:46 -0400 (Wed, 24 Oct 2007) | 15 lines

FailureRecorder
* remove duplicate "no-op" statement (javadoc + code)
* use BuildListener for writing at the end of <junit> instead of overwriting the file all the time
* minor comment edit
* pass project reference to <junit> nested elements (eg listener)
* order methods by interfaces
* some log messages in the recorder
* can use Ant properties for setting the location

FormatterElement
* don't set the project reference if there is already one

build.xml
* use ant property instead of system property for configuring FailureRecorder

------------------------------------------------------------------------
r585908 | peterreilly | 2007-10-18 05:13:41 -0400 (Thu, 18 Oct 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r585108 | stevel | 2007-10-16 06:50:59 -0400 (Tue, 16 Oct 2007) | 1 line

Bug ID 43635 <xslt> task can't be used more than once with a file stylesheet
------------------------------------------------------------------------
r585106 | stevel | 2007-10-16 06:48:13 -0400 (Tue, 16 Oct 2007) | 1 line

seems to me these should be synchronized
------------------------------------------------------------------------
r583884 | peterreilly | 2007-10-11 13:10:16 -0400 (Thu, 11 Oct 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r583364 | jhm | 2007-10-10 02:06:39 -0400 (Wed, 10 Oct 2007) | 1 line

typo
------------------------------------------------------------------------
r582709 | kevj | 2007-10-08 00:32:32 -0400 (Mon, 08 Oct 2007) | 1 line

-bugzilla #32062, allow javah to use filesets
------------------------------------------------------------------------
r582708 | kevj | 2007-10-08 00:32:04 -0400 (Mon, 08 Oct 2007) | 1 line

-bugzilla #32062, allow javah to use filesets
------------------------------------------------------------------------
r582707 | kevj | 2007-10-08 00:31:23 -0400 (Mon, 08 Oct 2007) | 1 line

-bugzilla #32062, allow javah to use filesets
------------------------------------------------------------------------
r582364 | jglick | 2007-10-05 13:53:03 -0400 (Fri, 05 Oct 2007) | 1 line

Javadoc clarification for Resource.getLastModified.
------------------------------------------------------------------------
r582162 | peterreilly | 2007-10-05 05:32:10 -0400 (Fri, 05 Oct 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r582160 | peterreilly | 2007-10-05 05:30:14 -0400 (Fri, 05 Oct 2007) | 1 line

fix for SelectorUtils.isOutOfDate for non-file resources
------------------------------------------------------------------------
r581748 | jglick | 2007-10-03 19:44:10 -0400 (Wed, 03 Oct 2007) | 13 lines

Various microoptimizations to reduce I/O load of common tasks, esp. no-op <javac> and <depend>.
Many inner loops altered to make just 1-2 system calls rather than 4-5.
You can easily see how wasteful the previous code was, and find the culprits,
by patching r/o java.io.File methods and adding to -Xbootclasspath/p (or use AspectJ). E.g.:

public boolean isDirectory() {
  System.err.println("isDirectory: " + this); if (Math.random() < .01) Thread.dumpStack();
  // as before...
}

Ant still makes an order of magnitude more system calls to do what seem like simple operations
than you would think necessary, but this patch should at least improve the situation.

------------------------------------------------------------------------
r581623 | peterreilly | 2007-10-03 11:22:59 -0400 (Wed, 03 Oct 2007) | 1 line

remove inner assignments, functionize some code
------------------------------------------------------------------------
r581599 | peterreilly | 2007-10-03 09:48:26 -0400 (Wed, 03 Oct 2007) | 1 line

checkstyle: remove inner assignment
------------------------------------------------------------------------
r581587 | peterreilly | 2007-10-03 08:49:47 -0400 (Wed, 03 Oct 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r581576 | kevj | 2007-10-03 07:58:38 -0400 (Wed, 03 Oct 2007) | 2 lines

-open session once for a command resource not each command
-bugzilla 43437 don't make properties immutable
------------------------------------------------------------------------
r581394 | jglick | 2007-10-02 17:38:20 -0400 (Tue, 02 Oct 2007) | 6 lines

Silly little optimization: <javac> was taking time quadratic in fileset size.
Unfortunately this is not the only place in Ant where List.contains is called;
DirectoryScanner.processIncluded seems to be as bad.
Alas, someone long ago made protected Vector fields in DS, and it seems too late to change them now:
even changing to ArrayList would break subclasses like FTP which call addElement!

------------------------------------------------------------------------
r581377 | jglick | 2007-10-02 16:47:50 -0400 (Tue, 02 Oct 2007) | 2 lines

Removing empty package.

------------------------------------------------------------------------
r581076 | jglick | 2007-10-01 17:35:46 -0400 (Mon, 01 Oct 2007) | 2 lines

#43398: always print stack trace for non-BuildException's.

------------------------------------------------------------------------
r581055 | jkf | 2007-10-01 16:07:17 -0400 (Mon, 01 Oct 2007) | 1 line

pr 43521, @ in filename not allowed anymore since @ allowed in password.
------------------------------------------------------------------------
r580393 | peterreilly | 2007-09-28 11:47:45 -0400 (Fri, 28 Sep 2007) | 1 line

fix scoping
------------------------------------------------------------------------
r580348 | peterreilly | 2007-09-28 09:35:41 -0400 (Fri, 28 Sep 2007) | 1 line

checkstyle: remove inner assignment
------------------------------------------------------------------------
r580302 | peterreilly | 2007-09-28 07:13:19 -0400 (Fri, 28 Sep 2007) | 1 line

checkstyle: remove inner assignment
------------------------------------------------------------------------
r579978 | peterreilly | 2007-09-27 07:31:30 -0400 (Thu, 27 Sep 2007) | 1 line

more inner assignments
------------------------------------------------------------------------
r579975 | peterreilly | 2007-09-27 07:05:21 -0400 (Thu, 27 Sep 2007) | 1 line

remove a couple of inner assignments
------------------------------------------------------------------------
r579953 | peterreilly | 2007-09-27 05:11:21 -0400 (Thu, 27 Sep 2007) | 1 line

magicnumbers
------------------------------------------------------------------------
r579929 | jhm | 2007-09-27 03:18:20 -0400 (Thu, 27 Sep 2007) | 3 lines

* Better name for magic numbers: use 'prefix' instead of 'start'
* codestyle: getX() { return x; } ==> into multiple lines
* merge javadoc
------------------------------------------------------------------------
r579712 | peterreilly | 2007-09-26 12:50:10 -0400 (Wed, 26 Sep 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r579316 | peterreilly | 2007-09-25 13:07:10 -0400 (Tue, 25 Sep 2007) | 1 line

removing starteam code
------------------------------------------------------------------------
r579278 | peterreilly | 2007-09-25 10:50:09 -0400 (Tue, 25 Sep 2007) | 1 line

magic number
------------------------------------------------------------------------
r579273 | peterreilly | 2007-09-25 10:47:57 -0400 (Tue, 25 Sep 2007) | 1 line

trailing ws
------------------------------------------------------------------------
r579270 | peterreilly | 2007-09-25 10:44:48 -0400 (Tue, 25 Sep 2007) | 1 line

magic numbers
------------------------------------------------------------------------
r579266 | peterreilly | 2007-09-25 10:38:40 -0400 (Tue, 25 Sep 2007) | 1 line

magic number
------------------------------------------------------------------------
r579263 | peterreilly | 2007-09-25 10:36:32 -0400 (Tue, 25 Sep 2007) | 1 line

trailing ws
------------------------------------------------------------------------
r578882 | peterreilly | 2007-09-24 13:19:44 -0400 (Mon, 24 Sep 2007) | 1 line

removing weblogic
------------------------------------------------------------------------
r578832 | jhm | 2007-09-24 10:32:37 -0400 (Mon, 24 Sep 2007) | 1 line

Use StringUtils.removeSuffix()
------------------------------------------------------------------------
r578773 | jhm | 2007-09-24 08:04:43 -0400 (Mon, 24 Sep 2007) | 1 line

Use StringUtils.removeSuffix()
------------------------------------------------------------------------
r578769 | peterreilly | 2007-09-24 07:56:34 -0400 (Mon, 24 Sep 2007) | 8 lines

Some cleanups of property expansion
* extact expand property from PropertyExpander
* extact resolve property map from Property task
* remove use of ThreadLocal from Property task
* remove need of cloning of PropertyHelper when resolving properties
  in a map.


------------------------------------------------------------------------
r578739 | peterreilly | 2007-09-24 06:00:00 -0400 (Mon, 24 Sep 2007) | 1 line

more magic numbers
------------------------------------------------------------------------
r578730 | peterreilly | 2007-09-24 05:40:26 -0400 (Mon, 24 Sep 2007) | 1 line

magic numbers
------------------------------------------------------------------------
r578729 | peterreilly | 2007-09-24 05:37:59 -0400 (Mon, 24 Sep 2007) | 1 line

trailing ws
------------------------------------------------------------------------
r578575 | jkf | 2007-09-23 10:55:49 -0400 (Sun, 23 Sep 2007) | 1 line

Watchdog may have yield negative wait time.
------------------------------------------------------------------------
r578199 | peterreilly | 2007-09-21 12:33:43 -0400 (Fri, 21 Sep 2007) | 1 line

magic numbers
------------------------------------------------------------------------
r577781 | jhm | 2007-09-20 10:51:11 -0400 (Thu, 20 Sep 2007) | 2 lines

* Test for removeSuffix()
* Test + Impl of removePrefix()
------------------------------------------------------------------------
r577772 | jhm | 2007-09-20 10:33:40 -0400 (Thu, 20 Sep 2007) | 1 line

Factor removeSuffix() out.
------------------------------------------------------------------------
r577765 | jhm | 2007-09-20 10:26:16 -0400 (Thu, 20 Sep 2007) | 1 line

Use better constant names.
------------------------------------------------------------------------
r577684 | peterreilly | 2007-09-20 07:12:37 -0400 (Thu, 20 Sep 2007) | 1 line

more magic num
------------------------------------------------------------------------
r577364 | peterreilly | 2007-09-19 12:53:41 -0400 (Wed, 19 Sep 2007) | 1 line

more magic numbers
------------------------------------------------------------------------
r577308 | peterreilly | 2007-09-19 10:07:35 -0400 (Wed, 19 Sep 2007) | 1 line

more magic numbers
------------------------------------------------------------------------
r577307 | peterreilly | 2007-09-19 10:05:07 -0400 (Wed, 19 Sep 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r577281 | stevel | 2007-09-19 08:29:39 -0400 (Wed, 19 Sep 2007) | 4 lines

bugzilla ID 38199, symlink fails on second call
bugzilla ID 43426, <symlink> cant create a symlink over a file

solution is the same: opt for ln -sf after trying to do it internally. We could perhaps drop all ant deletion operations, for a much simpler operation.
------------------------------------------------------------------------
r577279 | stevel | 2007-09-19 08:28:01 -0400 (Wed, 19 Sep 2007) | 1 line

make this synchronized, especially the pop
------------------------------------------------------------------------
r577263 | peterreilly | 2007-09-19 08:04:42 -0400 (Wed, 19 Sep 2007) | 1 line

magicnumbers
------------------------------------------------------------------------
r577262 | peterreilly | 2007-09-19 08:01:33 -0400 (Wed, 19 Sep 2007) | 1 line

trailing ws
------------------------------------------------------------------------
r577261 | peterreilly | 2007-09-19 08:00:46 -0400 (Wed, 19 Sep 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r576769 | stevel | 2007-09-18 04:17:13 -0400 (Tue, 18 Sep 2007) | 1 line

bug ID 43348:  	add FileProvider interface for file providing resources
------------------------------------------------------------------------
r576370 | peterreilly | 2007-09-17 07:13:48 -0400 (Mon, 17 Sep 2007) | 1 line

magic numbers
------------------------------------------------------------------------
r576176 | jkf | 2007-09-16 17:08:08 -0400 (Sun, 16 Sep 2007) | 2 lines

Improved InterruptException handling, especially from Parallel task. Should also solve Pr 42924.

------------------------------------------------------------------------
r576173 | jkf | 2007-09-16 16:54:17 -0400 (Sun, 16 Sep 2007) | 1 line

Added a basic profiling logger.
------------------------------------------------------------------------
r575874 | kevj | 2007-09-15 00:49:24 -0400 (Sat, 15 Sep 2007) | 1 line

-remove extra whitespace
------------------------------------------------------------------------
r575728 | peterreilly | 2007-09-14 11:45:54 -0400 (Fri, 14 Sep 2007) | 1 line

checkstyle - magic numbers
------------------------------------------------------------------------
r575726 | peterreilly | 2007-09-14 11:44:33 -0400 (Fri, 14 Sep 2007) | 1 line

more checkstyle
------------------------------------------------------------------------
r575667 | peterreilly | 2007-09-14 09:12:31 -0400 (Fri, 14 Sep 2007) | 1 line

opps
------------------------------------------------------------------------
r575634 | peterreilly | 2007-09-14 07:39:21 -0400 (Fri, 14 Sep 2007) | 1 line

magic numbers
------------------------------------------------------------------------
r575511 | kevj | 2007-09-13 21:48:47 -0400 (Thu, 13 Sep 2007) | 1 line

-use isClosed instead of isEOF, bugzilla #43092
------------------------------------------------------------------------
r574889 | peterreilly | 2007-09-12 07:35:15 -0400 (Wed, 12 Sep 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r574554 | jhm | 2007-09-11 07:36:53 -0400 (Tue, 11 Sep 2007) | 7 lines

* Refactoring of FailureRecorder: use of a helper class instead of helper methods
* FailureRecorder creates better names in the generated testcase
* just put in into Ant 1.8.0
* sorting of the failed tests
* javadoc
* update the manual

------------------------------------------------------------------------
r574381 | jkf | 2007-09-10 17:38:52 -0400 (Mon, 10 Sep 2007) | 1 line

TempFile changes (ctd)
------------------------------------------------------------------------
r574360 | jkf | 2007-09-10 16:19:38 -0400 (Mon, 10 Sep 2007) | 1 line

TempFile changes (ctd)
------------------------------------------------------------------------
r574339 | jkf | 2007-09-10 15:15:27 -0400 (Mon, 10 Sep 2007) | 1 line

pr33969: tempfile task / FileUtils.createTempFile now actually creates the file.
------------------------------------------------------------------------
r574313 | jkf | 2007-09-10 13:43:31 -0400 (Mon, 10 Sep 2007) | 1 line

pr 41724: FTP task fail, FTPClient may return null in its arrays.
------------------------------------------------------------------------
r574302 | mbenson | 2007-09-10 13:13:35 -0400 (Mon, 10 Sep 2007) | 1 line

equals BC to support subclasses :/
------------------------------------------------------------------------
r573855 | jkf | 2007-09-08 11:24:40 -0400 (Sat, 08 Sep 2007) | 1 line

Pr 43330, suppress printing of cvs password in case it is given on the command line.
------------------------------------------------------------------------
r573642 | peterreilly | 2007-09-07 13:52:29 -0400 (Fri, 07 Sep 2007) | 1 line

add a method to see if a nested element is supported via reflection
------------------------------------------------------------------------
r573537 | peterreilly | 2007-09-07 06:52:29 -0400 (Fri, 07 Sep 2007) | 1 line

Bugzilla: 43324 stackoverflow
------------------------------------------------------------------------
r572616 | peterreilly | 2007-09-04 07:06:15 -0400 (Tue, 04 Sep 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r572565 | peterreilly | 2007-09-04 03:51:08 -0400 (Tue, 04 Sep 2007) | 1 line

opps
------------------------------------------------------------------------
r572446 | peterreilly | 2007-09-03 19:11:04 -0400 (Mon, 03 Sep 2007) | 1 line

remove a deffered test
------------------------------------------------------------------------
r572445 | peterreilly | 2007-09-03 19:06:03 -0400 (Mon, 03 Sep 2007) | 1 line

now 1.8.0
------------------------------------------------------------------------
r572374 | peterreilly | 2007-09-03 11:56:16 -0400 (Mon, 03 Sep 2007) | 1 line

remove resolution for references that are not resolved during normal runtime execution
------------------------------------------------------------------------
r572363 | peterreilly | 2007-09-03 11:29:45 -0400 (Mon, 03 Sep 2007) | 1 line

revert readfully change, add in safeReadFully
------------------------------------------------------------------------
r572332 | peterreilly | 2007-09-03 09:35:13 -0400 (Mon, 03 Sep 2007) | 1 line

opps
------------------------------------------------------------------------
r572329 | peterreilly | 2007-09-03 09:29:04 -0400 (Mon, 03 Sep 2007) | 1 line

change some usages that assumed null from readfully
------------------------------------------------------------------------
r572302 | peterreilly | 2007-09-03 08:57:52 -0400 (Mon, 03 Sep 2007) | 1 line

Bugzilla 43292: filtermapper could throw an NPE. - change FileUtils to return an empty string rather than null for zero-length files
------------------------------------------------------------------------
r571970 | jkf | 2007-09-02 08:53:16 -0400 (Sun, 02 Sep 2007) | 1 line

Improvement of handling mappers in the touch task. datetime and millis now take precedence over the timestamp on the original file. Bugzilla report 43235.
------------------------------------------------------------------------
r569089 | peterreilly | 2007-08-23 13:58:32 -0400 (Thu, 23 Aug 2007) | 1 line

magic numbers
------------------------------------------------------------------------
r568885 | peterreilly | 2007-08-23 04:28:39 -0400 (Thu, 23 Aug 2007) | 1 line

more magic numbers
------------------------------------------------------------------------
r568876 | peterreilly | 2007-08-23 04:12:13 -0400 (Thu, 23 Aug 2007) | 1 line

place the cleanup code in a finally clause
------------------------------------------------------------------------
r568704 | peterreilly | 2007-08-22 13:09:55 -0400 (Wed, 22 Aug 2007) | 1 line

remove some magic numbers
------------------------------------------------------------------------
r568635 | mbenson | 2007-08-22 10:54:34 -0400 (Wed, 22 Aug 2007) | 1 line

demonstrate missingdir fileset exists but is empty
------------------------------------------------------------------------
r568592 | peterreilly | 2007-08-22 08:43:51 -0400 (Wed, 22 Aug 2007) | 1 line

trailing spaces
------------------------------------------------------------------------
r568520 | peterreilly | 2007-08-22 04:58:52 -0400 (Wed, 22 Aug 2007) | 1 line

eol-style
------------------------------------------------------------------------
r568511 | peterreilly | 2007-08-22 04:42:11 -0400 (Wed, 22 Aug 2007) | 1 line

allow a propertyevalulator to signal that it 'owns' the property, but the property is not set
------------------------------------------------------------------------
r568510 | peterreilly | 2007-08-22 04:40:54 -0400 (Wed, 22 Aug 2007) | 1 line

adding null return
------------------------------------------------------------------------
r568503 | peterreilly | 2007-08-22 04:25:58 -0400 (Wed, 22 Aug 2007) | 1 line

Bugzilla 43114:  package-info.java repeatedly compiled
------------------------------------------------------------------------
r568495 | peterreilly | 2007-08-22 04:16:49 -0400 (Wed, 22 Aug 2007) | 1 line

Bugzilla 11270: add errorOnMissingDir attribute to fileset
------------------------------------------------------------------------
r568204 | peterreilly | 2007-08-21 13:39:20 -0400 (Tue, 21 Aug 2007) | 1 line

opps
------------------------------------------------------------------------
r568201 | peterreilly | 2007-08-21 13:21:45 -0400 (Tue, 21 Aug 2007) | 1 line

checkstyle: some magic numbers
------------------------------------------------------------------------
r568200 | peterreilly | 2007-08-21 13:19:50 -0400 (Tue, 21 Aug 2007) | 1 line

allow redundant throws, do not allow illegalimport
------------------------------------------------------------------------
r568096 | peterreilly | 2007-08-21 08:26:21 -0400 (Tue, 21 Aug 2007) | 6 lines

Allow reflection on setX(Object x) to be an xml attribute
Normally x will be of String type, however with the new
PropertyHelper, x may be of other types. 
  x="${el:path.main}" for example.


------------------------------------------------------------------------
r567752 | peterreilly | 2007-08-20 13:00:06 -0400 (Mon, 20 Aug 2007) | 1 line

add in property delegate to set properties
------------------------------------------------------------------------
r567747 | peterreilly | 2007-08-20 12:44:58 -0400 (Mon, 20 Aug 2007) | 1 line

add some helper methods on PropertyHelper to access the get/get methods
------------------------------------------------------------------------
r567744 | peterreilly | 2007-08-20 12:34:24 -0400 (Mon, 20 Aug 2007) | 1 line

fix for bugzilla 43121 - war task inconsistent bahaviour
------------------------------------------------------------------------
r567600 | peterreilly | 2007-08-20 04:36:17 -0400 (Mon, 20 Aug 2007) | 1 line

make a big method a little smaller
------------------------------------------------------------------------
r567595 | peterreilly | 2007-08-20 04:32:11 -0400 (Mon, 20 Aug 2007) | 1 line

remove gt 7 param method
------------------------------------------------------------------------
r567593 | peterreilly | 2007-08-20 04:29:12 -0400 (Mon, 20 Aug 2007) | 1 line

reduce size of big method
------------------------------------------------------------------------
r567589 | peterreilly | 2007-08-20 04:19:42 -0400 (Mon, 20 Aug 2007) | 1 line

reducing the size of the big method
------------------------------------------------------------------------
r566990 | peterreilly | 2007-08-17 05:54:07 -0400 (Fri, 17 Aug 2007) | 1 line

reduce method length
------------------------------------------------------------------------
r566726 | peterreilly | 2007-08-16 10:21:50 -0400 (Thu, 16 Aug 2007) | 1 line

make huge method in a number of methods
------------------------------------------------------------------------
r566724 | peterreilly | 2007-08-16 10:19:29 -0400 (Thu, 16 Aug 2007) | 1 line

make huge method in a number of methods
------------------------------------------------------------------------
r566707 | jkf | 2007-08-16 09:33:00 -0400 (Thu, 16 Aug 2007) | 1 line

Pr 43016 improved error reporting on nothing to compress.
------------------------------------------------------------------------
r566693 | peterreilly | 2007-08-16 08:57:21 -0400 (Thu, 16 Aug 2007) | 1 line

add in defines for version numbers
------------------------------------------------------------------------
r565113 | peterreilly | 2007-08-12 14:47:13 -0400 (Sun, 12 Aug 2007) | 1 line

opps
------------------------------------------------------------------------
r565104 | peterreilly | 2007-08-12 14:24:20 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r565102 | peterreilly | 2007-08-12 14:20:59 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r565097 | peterreilly | 2007-08-12 14:17:35 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r565095 | peterreilly | 2007-08-12 14:14:31 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r565093 | peterreilly | 2007-08-12 14:11:41 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r565091 | peterreilly | 2007-08-12 14:09:18 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r565089 | peterreilly | 2007-08-12 14:07:48 -0400 (Sun, 12 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564923 | peterreilly | 2007-08-11 09:38:27 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564919 | peterreilly | 2007-08-11 08:57:54 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564917 | peterreilly | 2007-08-11 08:57:01 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564915 | peterreilly | 2007-08-11 08:54:11 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle - no point in fixing these violations
------------------------------------------------------------------------
r564912 | peterreilly | 2007-08-11 08:51:20 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564910 | peterreilly | 2007-08-11 08:49:18 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564907 | peterreilly | 2007-08-11 08:46:56 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r564891 | peterreilly | 2007-08-11 06:45:19 -0400 (Sat, 11 Aug 2007) | 1 line

checkstyle: remove trailing ws
------------------------------------------------------------------------
r564788 | peterreilly | 2007-08-10 18:29:39 -0400 (Fri, 10 Aug 2007) | 1 line

unit test for componentdef - well a copy of the resources one without namespaces
------------------------------------------------------------------------
r564787 | peterreilly | 2007-08-10 18:26:22 -0400 (Fri, 10 Aug 2007) | 1 line

adding componentdef code
------------------------------------------------------------------------
r564781 | peterreilly | 2007-08-10 18:13:12 -0400 (Fri, 10 Aug 2007) | 1 line

only run these tests if the optional libs are avail
------------------------------------------------------------------------
r564639 | peterreilly | 2007-08-10 11:58:54 -0400 (Fri, 10 Aug 2007) | 1 line

bugzilla: 43087 typeo fix
------------------------------------------------------------------------
r563734 | bodewig | 2007-08-07 23:55:41 -0400 (Tue, 07 Aug 2007) | 1 line

re-add single-arg signature of assertLogContaining, allows JDependTest to compile
------------------------------------------------------------------------
r563679 | mbenson | 2007-08-07 18:17:43 -0400 (Tue, 07 Aug 2007) | 1 line

remove constructor
------------------------------------------------------------------------
r563403 | jhm | 2007-08-07 02:30:55 -0400 (Tue, 07 Aug 2007) | 1 line

Bug 43048: Testcase. (Failed on Ant 1.7.0 but works for me on HEAD, so no other changes).
------------------------------------------------------------------------
r563053 | jhm | 2007-08-06 03:55:07 -0400 (Mon, 06 Aug 2007) | 7 lines

New JUnit formatter: collects failing test cases (testXXX methods) for a rerun.
* works from command line
* its own JUnit test scenario fails (for - to me - unknown reason)

* BFT has new method 'assertOutputNotContaining' similar to 'assertOutputContaining'


------------------------------------------------------------------------
r559638 | mbenson | 2007-07-25 18:40:12 -0400 (Wed, 25 Jul 2007) | 1 line

fix interface detection; I knew this. :(
------------------------------------------------------------------------
r559637 | mbenson | 2007-07-25 18:38:25 -0400 (Wed, 25 Jul 2007) | 1 line

switch PH access means
------------------------------------------------------------------------
r559634 | mbenson | 2007-07-25 18:34:21 -0400 (Wed, 25 Jul 2007) | 1 line

fmt; FileUtils.close(); remove unnecessary return stmt
------------------------------------------------------------------------
r559393 | jhm | 2007-07-25 06:49:04 -0400 (Wed, 25 Jul 2007) | 1 line

Java 1.3 compatibility. (String.contains() is Java5+)
------------------------------------------------------------------------
r559388 | jhm | 2007-07-25 06:23:08 -0400 (Wed, 25 Jul 2007) | 1 line

organize imports
------------------------------------------------------------------------
r559386 | jhm | 2007-07-25 06:12:58 -0400 (Wed, 25 Jul 2007) | 1 line

<property> now supports xml-based property definition. Bug 42946.
------------------------------------------------------------------------
r559243 | mbenson | 2007-07-24 18:21:59 -0400 (Tue, 24 Jul 2007) | 1 line

defer call to delegateIteratorToList()
------------------------------------------------------------------------
r559237 | mbenson | 2007-07-24 18:07:23 -0400 (Tue, 24 Jul 2007) | 1 line

fix error in circular property detection
------------------------------------------------------------------------
r559096 | mbenson | 2007-07-24 12:32:09 -0400 (Tue, 24 Jul 2007) | 4 lines

Regression: Path subclasses that overrode list() stopped working in
resourceCollection contexts in Ant 1.7.0. Bugzilla 42967.


------------------------------------------------------------------------
r558886 | mbenson | 2007-07-23 18:35:18 -0400 (Mon, 23 Jul 2007) | 1 line

should speed this filter somewhat
------------------------------------------------------------------------
r558071 | peterreilly | 2007-07-20 13:49:22 -0400 (Fri, 20 Jul 2007) | 1 line

checkstyle changes
------------------------------------------------------------------------
r558067 | peterreilly | 2007-07-20 13:39:44 -0400 (Fri, 20 Jul 2007) | 1 line

use the StrictMode enumerated class rather than a string for the setStrict method
------------------------------------------------------------------------
r558058 | peterreilly | 2007-07-20 13:12:38 -0400 (Fri, 20 Jul 2007) | 1 line

Bugzilla: 40776 work-around for javac generics bug
------------------------------------------------------------------------
r557270 | jhm | 2007-07-18 10:11:50 -0400 (Wed, 18 Jul 2007) | 1 line

Spec breaks now can 'fail' the build or just be reported on 'warn' or verbose ('ignore') level.
------------------------------------------------------------------------
r557229 | jhm | 2007-07-18 07:23:40 -0400 (Wed, 18 Jul 2007) | 1 line

Interim solution for "strict" attribute. Change to an enum in a few hours.
------------------------------------------------------------------------
r557221 | peterreilly | 2007-07-18 06:47:12 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r557220 | peterreilly | 2007-07-18 06:46:50 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r557217 | peterreilly | 2007-07-18 06:37:18 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle: 100charlimit
------------------------------------------------------------------------
r557216 | peterreilly | 2007-07-18 06:35:52 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r557215 | peterreilly | 2007-07-18 06:35:16 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle: 100char limit
------------------------------------------------------------------------
r557213 | peterreilly | 2007-07-18 05:59:27 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle - ws and tab
------------------------------------------------------------------------
r557212 | peterreilly | 2007-07-18 05:58:53 -0400 (Wed, 18 Jul 2007) | 1 line

checkstyle
------------------------------------------------------------------------
r557100 | mbenson | 2007-07-17 20:39:42 -0400 (Tue, 17 Jul 2007) | 1 line

add tests for non-string properties
------------------------------------------------------------------------
r557097 | mbenson | 2007-07-17 20:38:21 -0400 (Tue, 17 Jul 2007) | 1 line

non-string properties
------------------------------------------------------------------------
r557063 | mbenson | 2007-07-17 17:37:53 -0400 (Tue, 17 Jul 2007) | 1 line

refactor Properties to use current PH API; allow non-String values
------------------------------------------------------------------------
r557062 | mbenson | 2007-07-17 17:35:26 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r557054 | mbenson | 2007-07-17 17:01:23 -0400 (Tue, 17 Jul 2007) | 1 line

unnecessary cast
------------------------------------------------------------------------
r557045 | mbenson | 2007-07-17 16:20:17 -0400 (Tue, 17 Jul 2007) | 1 line

refine clone()
------------------------------------------------------------------------
r557027 | mbenson | 2007-07-17 14:57:40 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac/accommodate non-String props (convert)
------------------------------------------------------------------------
r557025 | mbenson | 2007-07-17 14:55:42 -0400 (Tue, 17 Jul 2007) | 1 line

Cloneable; update Delegate order on re-add
------------------------------------------------------------------------
r557024 | mbenson | 2007-07-17 14:53:36 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r557021 | mbenson | 2007-07-17 14:47:28 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r557016 | peterreilly | 2007-07-17 14:40:59 -0400 (Tue, 17 Jul 2007) | 1 line

bugzilla 42802: merge back into HEAD
------------------------------------------------------------------------
r557013 | mbenson | 2007-07-17 14:37:53 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r557005 | mbenson | 2007-07-17 14:09:35 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r557003 | mbenson | 2007-07-17 14:07:11 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r556987 | mbenson | 2007-07-17 13:36:28 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r556986 | mbenson | 2007-07-17 13:33:37 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r556984 | mbenson | 2007-07-17 13:31:54 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r556982 | mbenson | 2007-07-17 13:29:30 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r556981 | mbenson | 2007-07-17 13:27:33 -0400 (Tue, 17 Jul 2007) | 1 line

fmt/refac
------------------------------------------------------------------------
r556980 | mbenson | 2007-07-17 13:25:45 -0400 (Tue, 17 Jul 2007) | 1 line

fmting
------------------------------------------------------------------------
r556977 | mbenson | 2007-07-17 13:24:07 -0400 (Tue, 17 Jul 2007) | 1 line

ws
------------------------------------------------------------------------
r555174 | mbenson | 2007-07-11 01:28:04 -0400 (Wed, 11 Jul 2007) | 1 line

add nested delegate ref to PHtask w/ script example
------------------------------------------------------------------------
r554394 | mbenson | 2007-07-08 13:23:25 -0400 (Sun, 08 Jul 2007) | 1 line

BZ 42736: PropertyHelper API changes
------------------------------------------------------------------------
r554390 | mbenson | 2007-07-08 13:12:03 -0400 (Sun, 08 Jul 2007) | 1 line

fmt
------------------------------------------------------------------------
r553857 | jhm | 2007-07-06 08:19:28 -0400 (Fri, 06 Jul 2007) | 1 line

Encourage people to follow the packaging spec.
------------------------------------------------------------------------
r552475 | stevel | 2007-07-02 07:58:07 -0400 (Mon, 02 Jul 2007) | 1 line

I know, lets have a more detailed error message when expand fails than just "expand failed"
------------------------------------------------------------------------
r552350 | mbenson | 2007-07-01 15:01:07 -0400 (Sun, 01 Jul 2007) | 1 line

fix the filename case junk again without relying on OS-level tests; reverting earlier changes
------------------------------------------------------------------------
r552218 | jkf | 2007-06-30 17:59:12 -0400 (Sat, 30 Jun 2007) | 1 line

Reviewed Jar (and parts of Zip) because of BR 42632
------------------------------------------------------------------------
r552208 | jkf | 2007-06-30 16:36:13 -0400 (Sat, 30 Jun 2007) | 1 line

Br 42377, java, failonerror = false, timeout (or other exception) should have nonzero result value. (error value chosen in-line with the Exec task).
------------------------------------------------------------------------
r552156 | mbenson | 2007-06-30 11:05:14 -0400 (Sat, 30 Jun 2007) | 1 line

refactor
------------------------------------------------------------------------
r552042 | mbenson | 2007-06-29 17:50:46 -0400 (Fri, 29 Jun 2007) | 1 line

fmting; tiny refactorings
------------------------------------------------------------------------
r551986 | mbenson | 2007-06-29 14:14:51 -0400 (Fri, 29 Jun 2007) | 1 line

fmting/refactoring
------------------------------------------------------------------------
r551592 | mbenson | 2007-06-28 11:14:04 -0400 (Thu, 28 Jun 2007) | 1 line

<scriptcondition> now prefers evaluation result/return value over value property.
------------------------------------------------------------------------
r551543 | mbenson | 2007-06-28 08:59:54 -0400 (Thu, 28 Jun 2007) | 1 line

javadoc/fmting/refactor
------------------------------------------------------------------------
r551541 | mbenson | 2007-06-28 08:54:31 -0400 (Thu, 28 Jun 2007) | 1 line

unused import
------------------------------------------------------------------------
r551373 | mbenson | 2007-06-27 18:48:06 -0400 (Wed, 27 Jun 2007) | 1 line

align
------------------------------------------------------------------------
r551372 | mbenson | 2007-06-27 18:47:24 -0400 (Wed, 27 Jun 2007) | 1 line

antunitize scriptcondition test
------------------------------------------------------------------------
r551330 | mbenson | 2007-06-27 17:07:19 -0400 (Wed, 27 Jun 2007) | 1 line

fmting/javadoc
------------------------------------------------------------------------
r551328 | mbenson | 2007-06-27 17:06:33 -0400 (Wed, 27 Jun 2007) | 1 line

formatting; unnecessary elses; etc.
------------------------------------------------------------------------
r551323 | mbenson | 2007-06-27 17:02:43 -0400 (Wed, 27 Jun 2007) | 1 line

"rawblobs" attribute added to SQL task.
------------------------------------------------------------------------
r551166 | mbenson | 2007-06-27 10:08:24 -0400 (Wed, 27 Jun 2007) | 1 line

formatting; refactoring
------------------------------------------------------------------------
r550805 | peterreilly | 2007-06-26 09:47:33 -0400 (Tue, 26 Jun 2007) | 1 line

Bugzilla 42739: fix ant script - cd may have output
------------------------------------------------------------------------
r550573 | mbenson | 2007-06-25 14:55:18 -0400 (Mon, 25 Jun 2007) | 1 line

refactoring to ease extension
------------------------------------------------------------------------
r550549 | peterreilly | 2007-06-25 13:01:22 -0400 (Mon, 25 Jun 2007) | 1 line

bugzilla 42735: filepath does not work anymore in <available>
------------------------------------------------------------------------
r549703 | mbenson | 2007-06-22 00:12:02 -0400 (Fri, 22 Jun 2007) | 1 line

fmting
------------------------------------------------------------------------
r549699 | mbenson | 2007-06-21 23:52:02 -0400 (Thu, 21 Jun 2007) | 1 line

formatting & MagicNames
------------------------------------------------------------------------
r549698 | mbenson | 2007-06-21 23:49:44 -0400 (Thu, 21 Jun 2007) | 1 line

sp
------------------------------------------------------------------------
r549685 | mbenson | 2007-06-21 23:12:15 -0400 (Thu, 21 Jun 2007) | 1 line

fmting, fix BZ #41948
------------------------------------------------------------------------
r549684 | mbenson | 2007-06-21 23:10:20 -0400 (Thu, 21 Jun 2007) | 1 line

detect cs
------------------------------------------------------------------------
r549683 | mbenson | 2007-06-21 23:09:25 -0400 (Thu, 21 Jun 2007) | 1 line

refine
------------------------------------------------------------------------
r549681 | mbenson | 2007-06-21 23:08:49 -0400 (Thu, 21 Jun 2007) | 1 line

fmting/max line length, remove unnecessary Java 1.2 compatibility, some unnecessary elses
------------------------------------------------------------------------
r549266 | mbenson | 2007-06-20 17:56:57 -0400 (Wed, 20 Jun 2007) | 1 line

ws
------------------------------------------------------------------------
r549265 | mbenson | 2007-06-20 17:56:34 -0400 (Wed, 20 Jun 2007) | 1 line

ws
------------------------------------------------------------------------
r549264 | mbenson | 2007-06-20 17:56:06 -0400 (Wed, 20 Jun 2007) | 1 line

ws
------------------------------------------------------------------------
r549262 | mbenson | 2007-06-20 17:55:41 -0400 (Wed, 20 Jun 2007) | 1 line

javadoc
------------------------------------------------------------------------
r549261 | mbenson | 2007-06-20 17:55:20 -0400 (Wed, 20 Jun 2007) | 1 line

revert last
------------------------------------------------------------------------
r549258 | mbenson | 2007-06-20 17:50:15 -0400 (Wed, 20 Jun 2007) | 1 line

remove unnecessary catch
------------------------------------------------------------------------
r549256 | mbenson | 2007-06-20 17:45:30 -0400 (Wed, 20 Jun 2007) | 1 line

organize imports; ws; sp
------------------------------------------------------------------------
r549255 | mbenson | 2007-06-20 17:44:46 -0400 (Wed, 20 Jun 2007) | 1 line

ws
------------------------------------------------------------------------
r547411 | mbenson | 2007-06-14 17:27:32 -0400 (Thu, 14 Jun 2007) | 1 line

fmting, add getProject()
------------------------------------------------------------------------
r546132 | stevel | 2007-06-11 08:57:42 -0400 (Mon, 11 Jun 2007) | 1 line

mark some static methods as non-final, as it is implicit from being static
------------------------------------------------------------------------
r545087 | kevj | 2007-06-07 02:59:43 -0400 (Thu, 07 Jun 2007) | 1 line

-use FileUtils.close
------------------------------------------------------------------------
r544708 | kevj | 2007-06-05 22:13:38 -0400 (Tue, 05 Jun 2007) | 1 line

-remove unused import
------------------------------------------------------------------------
r543406 | kevj | 2007-06-01 02:50:36 -0400 (Fri, 01 Jun 2007) | 1 line

-log actual command
------------------------------------------------------------------------
r542818 | peterreilly | 2007-05-30 09:22:13 -0400 (Wed, 30 May 2007) | 1 line

update license
------------------------------------------------------------------------
r542801 | peterreilly | 2007-05-30 07:26:24 -0400 (Wed, 30 May 2007) | 1 line

Bugzilla: 41596, rollback CBZip2OutputStream as it created corrupt files - code is reverted to revision 276208
------------------------------------------------------------------------
r542471 | kevj | 2007-05-29 05:30:47 -0400 (Tue, 29 May 2007) | 1 line

-remove unused import
------------------------------------------------------------------------
r541546 | kevj | 2007-05-25 00:46:27 -0400 (Fri, 25 May 2007) | 1 line

-typo
------------------------------------------------------------------------
r541502 | kevj | 2007-05-24 21:22:30 -0400 (Thu, 24 May 2007) | 1 line

-fix gump
------------------------------------------------------------------------
r540954 | stevel | 2007-05-23 09:42:50 -0400 (Wed, 23 May 2007) | 1 line

Let's make the rpm documentation more complete, shall we?
------------------------------------------------------------------------
r540439 | kevj | 2007-05-22 02:17:45 -0400 (Tue, 22 May 2007) | 1 line

-test for secureinput handling
------------------------------------------------------------------------
r540438 | kevj | 2007-05-22 02:15:02 -0400 (Tue, 22 May 2007) | 1 line

-first pass at a reflection based secure input handler (using Java6 java.io.Console), fallsback to DefaultInputHandler if not available
------------------------------------------------------------------------
r540437 | kevj | 2007-05-22 02:13:22 -0400 (Tue, 22 May 2007) | 1 line

-remove trailing newline
------------------------------------------------------------------------
r540435 | kevj | 2007-05-22 02:11:54 -0400 (Tue, 22 May 2007) | 1 line

-add invokeStatic for static/class methods
------------------------------------------------------------------------
r540164 | mbenson | 2007-05-21 11:10:27 -0400 (Mon, 21 May 2007) | 1 line

bail early for empty search content
------------------------------------------------------------------------
r540101 | stevel | 2007-05-21 06:22:47 -0400 (Mon, 21 May 2007) | 1 line

skip a test that, while failing, doesn't seem to arise in real-life
------------------------------------------------------------------------
r540066 | jhm | 2007-05-21 04:48:15 -0400 (Mon, 21 May 2007) | 1 line

Bug 42319: log-statement if resource.size is 0 and therefore the property is not set.
------------------------------------------------------------------------
r540055 | jhm | 2007-05-21 04:21:02 -0400 (Mon, 21 May 2007) | 1 line

Fix Bug 42397: NPE in <path><files refid>
------------------------------------------------------------------------
r540044 | jhm | 2007-05-21 03:11:59 -0400 (Mon, 21 May 2007) | 1 line

<retry>: Collect former error messages and re-throw them.
------------------------------------------------------------------------
r540043 | jhm | 2007-05-21 03:10:57 -0400 (Mon, 21 May 2007) | 1 line

tabs to whitespace
------------------------------------------------------------------------
r540026 | kevj | 2007-05-21 00:42:34 -0400 (Mon, 21 May 2007) | 1 line

-au version of dirnametest
------------------------------------------------------------------------
r540025 | kevj | 2007-05-21 00:41:49 -0400 (Mon, 21 May 2007) | 1 line

-fix test, build exception messages are different now
------------------------------------------------------------------------
r539850 | kevj | 2007-05-20 05:27:33 -0400 (Sun, 20 May 2007) | 1 line

-indentation
------------------------------------------------------------------------
r539841 | kevj | 2007-05-20 03:57:42 -0400 (Sun, 20 May 2007) | 1 line

-remove extra whitespace
------------------------------------------------------------------------
r539547 | peterreilly | 2007-05-18 14:23:51 -0400 (Fri, 18 May 2007) | 1 line

bugzilla request: 42301 add default for text element in macrodef
------------------------------------------------------------------------
r539477 | stevel | 2007-05-18 10:20:10 -0400 (Fri, 18 May 2007) | 4 lines

Logger work.
The main change is the new BigProjectLogger that makes reading the results of very big chained/nested projects  manageable. 

Some pulling up of helper methods into DefaultLogger, and a bit of cleanup there; plus the appopriate documentation changes
------------------------------------------------------------------------
r539370 | peterreilly | 2007-05-18 06:31:34 -0400 (Fri, 18 May 2007) | 1 line

fx can be used as well as FX for openjfx
------------------------------------------------------------------------
r539331 | kevj | 2007-05-18 04:59:52 -0400 (Fri, 18 May 2007) | 1 line

-extra test
------------------------------------------------------------------------
r539329 | kevj | 2007-05-18 04:58:19 -0400 (Fri, 18 May 2007) | 1 line

-javadoc and break if the task executes cleanly
------------------------------------------------------------------------
r539310 | kevj | 2007-05-18 04:26:39 -0400 (Fri, 18 May 2007) | 1 line

-retry task container
------------------------------------------------------------------------
r539307 | kevj | 2007-05-18 04:24:12 -0400 (Fri, 18 May 2007) | 1 line

-retry task container
------------------------------------------------------------------------
r539306 | kevj | 2007-05-18 04:21:18 -0400 (Fri, 18 May 2007) | 1 line

-retry task container
------------------------------------------------------------------------
r539002 | stevel | 2007-05-17 12:25:44 -0400 (Thu, 17 May 2007) | 1 line

bug 42275...handle failure of File.toURI() by printing the message (too noisy?) and falling back to our own code.
------------------------------------------------------------------------
r538995 | stevel | 2007-05-17 12:16:16 -0400 (Thu, 17 May 2007) | 1 line

bugzilla bug 42263: ${ant.version} not set in <subant>
------------------------------------------------------------------------
r538976 | kevj | 2007-05-17 11:42:12 -0400 (Thu, 17 May 2007) | 1 line

-remove extra whitespace
------------------------------------------------------------------------
r537899 | mbenson | 2007-05-14 12:14:43 -0400 (Mon, 14 May 2007) | 1 line

make resourcecontains handle refids
------------------------------------------------------------------------
r537886 | mbenson | 2007-05-14 11:41:26 -0400 (Mon, 14 May 2007) | 1 line

add test
------------------------------------------------------------------------
r537881 | mbenson | 2007-05-14 11:33:05 -0400 (Mon, 14 May 2007) | 1 line

add test
------------------------------------------------------------------------
r537880 | mbenson | 2007-05-14 11:31:24 -0400 (Mon, 14 May 2007) | 1 line

early exit for empty substring with optional verbose log message
------------------------------------------------------------------------
r537878 | mbenson | 2007-05-14 11:26:02 -0400 (Mon, 14 May 2007) | 1 line

add test
------------------------------------------------------------------------
r537876 | mbenson | 2007-05-14 11:24:44 -0400 (Mon, 14 May 2007) | 1 line

fix failing test
------------------------------------------------------------------------
r537875 | mbenson | 2007-05-14 11:22:04 -0400 (Mon, 14 May 2007) | 1 line

add failing test
------------------------------------------------------------------------
r537874 | mbenson | 2007-05-14 11:20:55 -0400 (Mon, 14 May 2007) | 1 line

add a test
------------------------------------------------------------------------
r537873 | mbenson | 2007-05-14 11:18:41 -0400 (Mon, 14 May 2007) | 1 line

remove assertion of something we're not actually testing here
------------------------------------------------------------------------
r537871 | mbenson | 2007-05-14 11:15:01 -0400 (Mon, 14 May 2007) | 1 line

ws; [delete, touch] => truncate
------------------------------------------------------------------------
r537862 | stevel | 2007-05-14 10:55:14 -0400 (Mon, 14 May 2007) | 1 line

minor javadoc tweaks
------------------------------------------------------------------------
r537859 | mbenson | 2007-05-14 10:44:50 -0400 (Mon, 14 May 2007) | 1 line

ws
------------------------------------------------------------------------
r537347 | kevj | 2007-05-12 02:16:08 -0400 (Sat, 12 May 2007) | 1 line

-new antunit test for echoxml
------------------------------------------------------------------------
r537345 | kevj | 2007-05-12 02:09:48 -0400 (Sat, 12 May 2007) | 1 line

-test for new ResourceContains condition
------------------------------------------------------------------------
r537344 | kevj | 2007-05-12 02:09:06 -0400 (Sat, 12 May 2007) | 1 line

-new ResourceContains condition
------------------------------------------------------------------------
r537343 | kevj | 2007-05-12 02:08:26 -0400 (Sat, 12 May 2007) | 1 line

-remove erroneous space
------------------------------------------------------------------------
r537342 | kevj | 2007-05-12 02:06:29 -0400 (Sat, 12 May 2007) | 1 line

-new ResourceContains condition
------------------------------------------------------------------------
r537334 | kevj | 2007-05-12 00:32:11 -0400 (Sat, 12 May 2007) | 1 line

-doc typo
------------------------------------------------------------------------
r537333 | kevj | 2007-05-12 00:31:40 -0400 (Sat, 12 May 2007) | 1 line

-remove whitespace, use antunit-base.xml
------------------------------------------------------------------------
r537194 | peterreilly | 2007-05-11 10:00:14 -0400 (Fri, 11 May 2007) | 25 lines

Allow javafx to be run.
The current version of openjfx has a requirement
that beans are defined with their types in
the format <bean-name>:<class-name>
Hopefully, this will change, in the meantime
this hack allows openjfx scripts to be run
in ant as follows:
  <script language="FX" manager="javax">
    <classpath>
      <fileset dir="${user.home}/apps/openjfx/trunk/lib"/>
    </classpath>
import javafx.ui.*;
		
     Frame {
            title: "hello"
            width: 200
            height: 50
            content: Label {
                text: "Hello World"
            }
            visible: true
     }
  </script>


------------------------------------------------------------------------
r537023 | mbenson | 2007-05-10 18:35:27 -0400 (Thu, 10 May 2007) | 1 line

exclusivity
------------------------------------------------------------------------
r537021 | mbenson | 2007-05-10 18:30:36 -0400 (Thu, 10 May 2007) | 1 line

striplinecomments comment nested text value
------------------------------------------------------------------------
r537018 | mbenson | 2007-05-10 18:23:57 -0400 (Thu, 10 May 2007) | 1 line

fix (I think) encoding for InputStream from StringResource
------------------------------------------------------------------------
r536878 | mbenson | 2007-05-10 10:50:24 -0400 (Thu, 10 May 2007) | 1 line

add another test
------------------------------------------------------------------------
r536740 | kevj | 2007-05-10 00:42:26 -0400 (Thu, 10 May 2007) | 1 line

-use antunit-base
------------------------------------------------------------------------
r536739 | kevj | 2007-05-10 00:38:02 -0400 (Thu, 10 May 2007) | 1 line

-use antunit-base
------------------------------------------------------------------------
r536592 | mbenson | 2007-05-09 13:12:26 -0400 (Wed, 09 May 2007) | 1 line

concat fixlastline/nested text regression; PR 42369
------------------------------------------------------------------------
r536579 | mbenson | 2007-05-09 12:41:35 -0400 (Wed, 09 May 2007) | 1 line

massive refactorings to Concat: fix failing testcases in HEAD, and implement ResourceCollection
------------------------------------------------------------------------
r536575 | mbenson | 2007-05-09 11:57:43 -0400 (Wed, 09 May 2007) | 1 line

okay, REALLY finish antunitizing the length test
------------------------------------------------------------------------
r536570 | mbenson | 2007-05-09 11:39:56 -0400 (Wed, 09 May 2007) | 1 line

finish antunitizing length test
------------------------------------------------------------------------
r536557 | mbenson | 2007-05-09 11:07:43 -0400 (Wed, 09 May 2007) | 1 line

wtf
------------------------------------------------------------------------
r536552 | mbenson | 2007-05-09 10:51:57 -0400 (Wed, 09 May 2007) | 1 line

antunitize length test
------------------------------------------------------------------------
r536549 | mbenson | 2007-05-09 10:50:24 -0400 (Wed, 09 May 2007) | 1 line

add importable file to give any antunit file a base for running itself
------------------------------------------------------------------------
r536548 | mbenson | 2007-05-09 10:49:46 -0400 (Wed, 09 May 2007) | 1 line

refactorings
------------------------------------------------------------------------
r536536 | mbenson | 2007-05-09 10:08:50 -0400 (Wed, 09 May 2007) | 1 line

if either resource to be compared has an unknown size, we must compare content
------------------------------------------------------------------------
r536358 | mbenson | 2007-05-08 18:30:20 -0400 (Tue, 08 May 2007) | 1 line

constructor with passed-in ProjectComponent and default loglevel
------------------------------------------------------------------------
r536356 | mbenson | 2007-05-08 18:29:24 -0400 (Tue, 08 May 2007) | 1 line

guard against empty name oobe
------------------------------------------------------------------------
r536355 | mbenson | 2007-05-08 18:28:38 -0400 (Tue, 08 May 2007) | 1 line

add a new constructor for programmatic construction of a StringResource with property substitution (will support fixing broken Concat tests)
------------------------------------------------------------------------
r536353 | mbenson | 2007-05-08 18:27:10 -0400 (Tue, 08 May 2007) | 1 line

javadoc
------------------------------------------------------------------------
r536352 | mbenson | 2007-05-08 18:26:17 -0400 (Tue, 08 May 2007) | 1 line

ws/doc/unnecessary else
------------------------------------------------------------------------
r536221 | mbenson | 2007-05-08 11:30:53 -0400 (Tue, 08 May 2007) | 1 line

add assertion message
------------------------------------------------------------------------
r535312 | peterreilly | 2007-05-04 12:14:49 -0400 (Fri, 04 May 2007) | 1 line

Bugzilla 42334: System properties may be none string objects
------------------------------------------------------------------------
r534434 | bodewig | 2007-05-02 08:51:20 -0400 (Wed, 02 May 2007) | 1 line

whitespace
------------------------------------------------------------------------
r534433 | bodewig | 2007-05-02 08:51:02 -0400 (Wed, 02 May 2007) | 1 line

Avoid NPE
------------------------------------------------------------------------
r533567 | stevel | 2007-04-29 18:11:06 -0400 (Sun, 29 Apr 2007) | 1 line

fix the header. Sometimes the IDE get's over enthusiatic, and unless I add some location-awareness plugin, it assumes my laptop is always doing work code.
------------------------------------------------------------------------
r533498 | jkf | 2007-04-29 09:00:17 -0400 (Sun, 29 Apr 2007) | 1 line

Pr: 42259 inspired on optimization suggested by Tom Brus
------------------------------------------------------------------------
r533464 | kevj | 2007-04-29 01:10:13 -0400 (Sun, 29 Apr 2007) | 1 line

-use FileUtils.close
------------------------------------------------------------------------
r533214 | stevel | 2007-04-27 16:40:13 -0400 (Fri, 27 Apr 2007) | 1 line

little bit of code review
------------------------------------------------------------------------
r533122 | mbenson | 2007-04-27 10:38:15 -0400 (Fri, 27 Apr 2007) | 1 line

ws
------------------------------------------------------------------------
r533121 | stevel | 2007-04-27 10:37:56 -0400 (Fri, 27 Apr 2007) | 1 line

Bug #41597; scriptdef should be resource-enabled.
------------------------------------------------------------------------
r533115 | stevel | 2007-04-27 10:20:45 -0400 (Fri, 27 Apr 2007) | 4 lines

bug 42276: support nested text
bug 42277: String resources can have properties double expanded

Nested text is allowed, and property expansion is done at the tail end of a write, not on every read.
------------------------------------------------------------------------
r533113 | stevel | 2007-04-27 10:18:26 -0400 (Fri, 27 Apr 2007) | 1 line

not files, resources
------------------------------------------------------------------------
r533112 | stevel | 2007-04-27 10:17:56 -0400 (Fri, 27 Apr 2007) | 1 line

Bind string resources to projects. There's no bugrep with this, but it is good practise
------------------------------------------------------------------------
r533082 | stevel | 2007-04-27 08:45:53 -0400 (Fri, 27 Apr 2007) | 9 lines

Bug 42275: ant doesnt run from a network share, because of an error when trying to work out where we loaded from.

1. this exception is still raised, but caught and causes ant to skip setting ant.lib.

2. we now have a test class for Locator

3. I've split out the java1.3 support and made it public, so we can test it separately. 

One of the tests is failing, showing the problem is still there. We need to decide what to do about it (ignore, switch to java1.3 code...)
------------------------------------------------------------------------
r533024 | kevj | 2007-04-27 05:03:26 -0400 (Fri, 27 Apr 2007) | 1 line

-fix for bug #42227
------------------------------------------------------------------------
r532325 | stevel | 2007-04-25 07:46:08 -0400 (Wed, 25 Apr 2007) | 1 line

bug ID#42231, a static method is package scoped instead of public
------------------------------------------------------------------------
r532247 | jhm | 2007-04-25 04:14:42 -0400 (Wed, 25 Apr 2007) | 1 line

Bug 41940 : works for JUnit's own runners, but not for Ant's. Ideas?
------------------------------------------------------------------------
r531627 | jkf | 2007-04-23 17:59:16 -0400 (Mon, 23 Apr 2007) | 1 line

whitespace only
------------------------------------------------------------------------
r531625 | jkf | 2007-04-23 17:49:24 -0400 (Mon, 23 Apr 2007) | 1 line

pr 41766 permissions for AllPermission not working correctly.
------------------------------------------------------------------------
r531604 | stevel | 2007-04-23 17:14:23 -0400 (Mon, 23 Apr 2007) | 1 line

typo
------------------------------------------------------------------------
r531603 | stevel | 2007-04-23 17:13:52 -0400 (Mon, 23 Apr 2007) | 1 line

make the name of application.xml a constant, use locale-sensitive case conversion
------------------------------------------------------------------------
r531599 | stevel | 2007-04-23 17:10:42 -0400 (Mon, 23 Apr 2007) | 1 line

BuildExceptions get caught and rethrown
------------------------------------------------------------------------
r531575 | jkf | 2007-04-23 15:48:43 -0400 (Mon, 23 Apr 2007) | 1 line

pr 42179: Delete cannot handle (NPE) fileset without file or directory specified.
------------------------------------------------------------------------
r531486 | stevel | 2007-04-23 10:45:30 -0400 (Mon, 23 Apr 2007) | 6 lines

Very delicate changes to Introspection helper

1. warnings in the javadocs about how sensitive the file is
2. factoring out of the code to handle InvocationTargetExeptions
3. some more javadocs
4. some IDE-hinted warnings about static classes, access modifiers on abstract/private class constructors
------------------------------------------------------------------------
r531485 | stevel | 2007-04-23 10:43:25 -0400 (Mon, 23 Apr 2007) | 1 line

Fix the version logic to work without having hard coded ant versions in there.
------------------------------------------------------------------------
r531483 | stevel | 2007-04-23 10:41:10 -0400 (Mon, 23 Apr 2007) | 1 line

Print out the name of the attribute and its value when there is a conversion error
------------------------------------------------------------------------
r531472 | stevel | 2007-04-23 10:11:46 -0400 (Mon, 23 Apr 2007) | 1 line

Test didnt work on Unix. Assume that ${user.home} is in a partition with some (but finite) space. If anyone runs these tests on a disk array with >1 petabyte, they will still fail.
------------------------------------------------------------------------
r531448 | stevel | 2007-04-23 08:30:32 -0400 (Mon, 23 Apr 2007) | 1 line

correct the comment to match the code -we only check for string args-
------------------------------------------------------------------------
r531427 | stevel | 2007-04-23 07:00:52 -0400 (Mon, 23 Apr 2007) | 1 line

don't drop the underlying cause when thing can't be read
------------------------------------------------------------------------
r531340 | kevj | 2007-04-23 01:52:59 -0400 (Mon, 23 Apr 2007) | 1 line

-fix problem with windows file uris (stupid "Documents and Settings" bloody folder)
------------------------------------------------------------------------
r530818 | jhm | 2007-04-20 10:07:11 -0400 (Fri, 20 Apr 2007) | 1 line

Beautify error message.
------------------------------------------------------------------------
r530664 | jhm | 2007-04-20 02:25:05 -0400 (Fri, 20 Apr 2007) | 1 line

Add tests. Document the regexp for attribute name.
------------------------------------------------------------------------
r530662 | jhm | 2007-04-20 01:59:51 -0400 (Fri, 20 Apr 2007) | 1 line

Check every single character instead of trying using regexp's.
------------------------------------------------------------------------
r530374 | jhm | 2007-04-19 06:49:51 -0400 (Thu, 19 Apr 2007) | 1 line

Validate the name of manifest attributes. ATM only whitespaces are catched, need some help with the regexp version.
------------------------------------------------------------------------
r529855 | bodewig | 2007-04-18 00:17:52 -0400 (Wed, 18 Apr 2007) | 1 line

Java 6's javac doesn't understand -source 1.1 either (found by Gump and the log4j build <http://gump.zones.apache.org/gump/test/logging-log4j-12/logging-log4j-12/gump_work/build_logging-log4j-12_logging-log4j-12.html>)
------------------------------------------------------------------------
r529630 | peterreilly | 2007-04-17 10:53:20 -0400 (Tue, 17 Apr 2007) | 1 line

bugzilla: 42142 add name of missing archive for zipfileset
------------------------------------------------------------------------
r528047 | mbenson | 2007-04-12 13:20:19 -0400 (Thu, 12 Apr 2007) | 1 line

static inner should fix 1.2 probs
------------------------------------------------------------------------
r528046 | mbenson | 2007-04-12 13:16:06 -0400 (Thu, 12 Apr 2007) | 1 line

add test
------------------------------------------------------------------------
r527130 | stevel | 2007-04-10 09:14:40 -0400 (Tue, 10 Apr 2007) | 1 line

adding javadocs. It seems to me that this code could be replaced by deleteChars.indexOf(c)>=0, delegating the loop to the string class itself
------------------------------------------------------------------------
r526722 | jkf | 2007-04-09 08:03:02 -0400 (Mon, 09 Apr 2007) | 1 line

Optimization of the change commited yesterday.
------------------------------------------------------------------------
r526568 | jkf | 2007-04-08 11:29:51 -0400 (Sun, 08 Apr 2007) | 1 line

unused imports / serialverUID
------------------------------------------------------------------------
r526548 | jkf | 2007-04-08 08:43:36 -0400 (Sun, 08 Apr 2007) | 3 lines

Changes after static code analysis.
new Long...longValue  new Int...intValue -> Long.parseLong(..)
and arraycopy to copy arrays
------------------------------------------------------------------------
r526547 | jkf | 2007-04-08 08:42:40 -0400 (Sun, 08 Apr 2007) | 2 lines

Changes after static code analysis.
code changed
------------------------------------------------------------------------
r526545 | jkf | 2007-04-08 08:08:27 -0400 (Sun, 08 Apr 2007) | 2 lines

Changes after static code analysis.
Code totally equivalent
------------------------------------------------------------------------
r526544 | jkf | 2007-04-08 08:07:26 -0400 (Sun, 08 Apr 2007) | 2 lines

Changes after static code analysis.
Code changed.
------------------------------------------------------------------------
r526542 | jkf | 2007-04-08 08:06:38 -0400 (Sun, 08 Apr 2007) | 2 lines

Changes after static code analysis.
Code changed.
------------------------------------------------------------------------
r526541 | jkf | 2007-04-08 08:05:03 -0400 (Sun, 08 Apr 2007) | 2 lines

Changes after static code analysis.
Code changed.
------------------------------------------------------------------------
r526539 | jkf | 2007-04-08 07:54:46 -0400 (Sun, 08 Apr 2007) | 2 lines

Changes after static code analysis.
Code really changed.
------------------------------------------------------------------------
r526485 | jkf | 2007-04-07 17:17:00 -0400 (Sat, 07 Apr 2007) | 1 line

project cannot be null, few lines bewore and next line would throw NPE.
------------------------------------------------------------------------
r526228 | mbenson | 2007-04-06 13:09:48 -0400 (Fri, 06 Apr 2007) | 1 line

Patternset allows nested inverted patternsets using <invert>.
------------------------------------------------------------------------
r524882 | jkf | 2007-04-02 14:37:34 -0400 (Mon, 02 Apr 2007) | 1 line

Test should also pass on other platforms.
------------------------------------------------------------------------
r523867 | antoine | 2007-03-29 18:56:36 -0400 (Thu, 29 Mar 2007) | 1 line

test for Bugzilla 41948
------------------------------------------------------------------------
r523683 | antoine | 2007-03-29 08:21:36 -0400 (Thu, 29 Mar 2007) | 1 line

restore detailed import lines
------------------------------------------------------------------------
r523682 | antoine | 2007-03-29 08:17:54 -0400 (Thu, 29 Mar 2007) | 1 line

adding since tag for new method
------------------------------------------------------------------------
r523681 | antoine | 2007-03-29 08:15:21 -0400 (Thu, 29 Mar 2007) | 1 line

adding a method to find wrong cased files
------------------------------------------------------------------------
r521278 | mbenson | 2007-03-22 10:12:20 -0400 (Thu, 22 Mar 2007) | 1 line

Add IgnoreDependenciesExecutor for weird cases when the user wants to run only the targets explicitly specified.
------------------------------------------------------------------------
r520384 | stevel | 2007-03-20 09:31:41 -0400 (Tue, 20 Mar 2007) | 1 line

no need to mark static methods as final
------------------------------------------------------------------------
r520382 | stevel | 2007-03-20 09:30:24 -0400 (Tue, 20 Mar 2007) | 1 line

bug id 41904; -autoproxy broken.
------------------------------------------------------------------------
r519857 | kevj | 2007-03-19 03:02:30 -0400 (Mon, 19 Mar 2007) | 1 line

-revert to non-reflective close
------------------------------------------------------------------------
r518897 | kevj | 2007-03-16 05:17:02 -0400 (Fri, 16 Mar 2007) | 1 line

-sorry prevent NullPointerException
------------------------------------------------------------------------
r518896 | kevj | 2007-03-16 05:14:06 -0400 (Fri, 16 Mar 2007) | 1 line

-use reflection to avoid duplicated code for close (various things that can be closed)
------------------------------------------------------------------------
r518895 | kevj | 2007-03-16 05:11:27 -0400 (Fri, 16 Mar 2007) | 1 line

-typo (jeez)
------------------------------------------------------------------------
r518894 | kevj | 2007-03-16 05:08:12 -0400 (Fri, 16 Mar 2007) | 1 line

-added simple respondsTo method
------------------------------------------------------------------------
r518872 | kevj | 2007-03-16 02:44:49 -0400 (Fri, 16 Mar 2007) | 1 line

-remove extra space
------------------------------------------------------------------------
r517988 | kevj | 2007-03-13 23:45:19 -0400 (Tue, 13 Mar 2007) | 1 line

-use quiet close methods
------------------------------------------------------------------------
r517628 | kevj | 2007-03-13 06:06:23 -0400 (Tue, 13 Mar 2007) | 1 line

-tiny loop change
------------------------------------------------------------------------
r517627 | kevj | 2007-03-13 06:03:15 -0400 (Tue, 13 Mar 2007) | 1 line

-remove trailing space
------------------------------------------------------------------------
r514625 | jhm | 2007-03-05 04:38:37 -0500 (Mon, 05 Mar 2007) | 1 line

Bug 41742: <junitreport> stylesheets now supports setting the title by <param>s.
------------------------------------------------------------------------
r513903 | mbenson | 2007-03-02 14:32:10 -0500 (Fri, 02 Mar 2007) | 1 line

oops unnecessary import
------------------------------------------------------------------------
r513901 | mbenson | 2007-03-02 14:27:56 -0500 (Fri, 02 Mar 2007) | 1 line

add truncate task
------------------------------------------------------------------------
r513900 | mbenson | 2007-03-02 14:25:56 -0500 (Fri, 02 Mar 2007) | 1 line

use parseHumanSizes for longs.  Allows 'computing terms' for any long.
------------------------------------------------------------------------
r513899 | mbenson | 2007-03-02 14:24:56 -0500 (Fri, 02 Mar 2007) | 1 line

allow parsed human sizes to be prefixed by +/-
------------------------------------------------------------------------
r513829 | mbenson | 2007-03-02 11:25:41 -0500 (Fri, 02 Mar 2007) | 1 line

add <last> resource collection
------------------------------------------------------------------------
r513824 | mbenson | 2007-03-02 11:15:23 -0500 (Fri, 02 Mar 2007) | 1 line

ws
------------------------------------------------------------------------
r513823 | mbenson | 2007-03-02 11:14:57 -0500 (Fri, 02 Mar 2007) | 1 line

spelling and random junk
------------------------------------------------------------------------
r513710 | jhm | 2007-03-02 06:31:53 -0500 (Fri, 02 Mar 2007) | 1 line

<antversion>-TASK evaluates now atLeast and exactly attributes.
------------------------------------------------------------------------
r510794 | antoine | 2007-02-22 22:37:12 -0500 (Thu, 22 Feb 2007) | 1 line

make the tests use another http server as long as the apache infra does not provide the usual headers
------------------------------------------------------------------------
r510750 | antoine | 2007-02-22 20:26:44 -0500 (Thu, 22 Feb 2007) | 1 line

use another web site for the get w/timestamp tests, www.apache.org does not provide Last-Modified information
------------------------------------------------------------------------
r508866 | kevj | 2007-02-17 23:59:27 -0500 (Sat, 17 Feb 2007) | 1 line

-fix error message
------------------------------------------------------------------------
r508865 | kevj | 2007-02-17 23:58:23 -0500 (Sat, 17 Feb 2007) | 1 line

-provide support for a command file to pass to SSHExec - implemented with a FileResource
------------------------------------------------------------------------
r508864 | kevj | 2007-02-17 23:22:44 -0500 (Sat, 17 Feb 2007) | 1 line

-move checkstyle comment
------------------------------------------------------------------------
r506547 | peterreilly | 2007-02-12 12:42:32 -0500 (Mon, 12 Feb 2007) | 1 line

Bugzilla: 41594 copy setnewproperty sanity protection to setproperty
------------------------------------------------------------------------
r505532 | jkf | 2007-02-09 17:17:47 -0500 (Fri, 09 Feb 2007) | 1 line

pr: 41544 Replace task summary output incorrect
------------------------------------------------------------------------
r502509 | kevj | 2007-02-02 00:36:01 -0500 (Fri, 02 Feb 2007) | 1 line

-use FileUtils.close
------------------------------------------------------------------------
r502505 | kevj | 2007-02-02 00:27:57 -0500 (Fri, 02 Feb 2007) | 1 line

-use FileUtils.close
------------------------------------------------------------------------
r500782 | jkf | 2007-01-28 06:52:09 -0500 (Sun, 28 Jan 2007) | 1 line

Test did not chatch the error I made, so updated the test that it does catch the error I made.
------------------------------------------------------------------------
r500777 | jkf | 2007-01-28 05:49:35 -0500 (Sun, 28 Jan 2007) | 1 line

Made an error yesterday evening in order.
------------------------------------------------------------------------
r500692 | jkf | 2007-01-27 18:40:37 -0500 (Sat, 27 Jan 2007) | 1 line

Pr: 41284 dependset throws NullPointerException. Sort is not suitable to sort items in an order that might change during sorting.
------------------------------------------------------------------------
r500620 | jkf | 2007-01-27 16:09:30 -0500 (Sat, 27 Jan 2007) | 2 lines

41411 Bug in org.apache.tools.ant.types.resources.comparators.Date 
Cedomir Igaly
------------------------------------------------------------------------
r499323 | jhm | 2007-01-24 04:10:41 -0500 (Wed, 24 Jan 2007) | 1 line

JDK 1.2 compatibility
------------------------------------------------------------------------
r498961 | bodewig | 2007-01-23 04:06:57 -0500 (Tue, 23 Jan 2007) | 1 line

Don't swallow exception information in P4Base
------------------------------------------------------------------------
r498647 | jhm | 2007-01-22 10:22:48 -0500 (Mon, 22 Jan 2007) | 1 line

Wrong attribute name in the message.
------------------------------------------------------------------------
r498630 | stevel | 2007-01-22 09:53:28 -0500 (Mon, 22 Jan 2007) | 1 line

Not making this a failing test on gump, because its not clear the behaviour is anomalous w.r.t the Xml specifications.
------------------------------------------------------------------------
r498628 | stevel | 2007-01-22 09:51:35 -0500 (Mon, 22 Jan 2007) | 1 line

no point in a public ctor to a package scope class; mention other JVMs in the javadocs
------------------------------------------------------------------------
r498519 | jglick | 2007-01-21 23:04:15 -0500 (Sun, 21 Jan 2007) | 2 lines

#41422: <junit> in Ant 1.7.0 could throw NPE if no <classpath> was defined.

------------------------------------------------------------------------
r497528 | mbenson | 2007-01-18 13:40:51 -0500 (Thu, 18 Jan 2007) | 1 line

fix binary append; BZ 41399
------------------------------------------------------------------------
r497394 | stevel | 2007-01-18 05:56:42 -0500 (Thu, 18 Jan 2007) | 1 line

fix the tests. the problem is some double expansion going on in antunit's assertions
------------------------------------------------------------------------
r497387 | stevel | 2007-01-18 05:33:30 -0500 (Thu, 18 Jan 2007) | 1 line

looking at how xml properties get expanded
------------------------------------------------------------------------
r496879 | stevel | 2007-01-16 17:24:42 -0500 (Tue, 16 Jan 2007) | 1 line

I forgot to add an @since tag when this was added.
------------------------------------------------------------------------
r495399 | stevel | 2007-01-11 17:01:51 -0500 (Thu, 11 Jan 2007) | 1 line

Extra diagnostics. Dump all types in a namespace if the one you ask for isnt known. Good for identifying typos, and helps you differentiate "library not yet loaded" from "task unknown"
------------------------------------------------------------------------
r495340 | mbenson | 2007-01-11 14:21:54 -0500 (Thu, 11 Jan 2007) | 1 line

Synchonization issues in PropertyHelper.  Bugzilla 41353.
------------------------------------------------------------------------
r495229 | stevel | 2007-01-11 09:02:50 -0500 (Thu, 11 Jan 2007) | 1 line

Bug 41349: rmic should strip out -J compiler args when not forking
------------------------------------------------------------------------
r495014 | mbenson | 2007-01-10 17:34:45 -0500 (Wed, 10 Jan 2007) | 2 lines

as discussed on dev@, allow <mapper refid> to refer to a FileNameMapper

------------------------------------------------------------------------
r494953 | mbenson | 2007-01-10 14:48:57 -0500 (Wed, 10 Jan 2007) | 2 lines

when child resource collection added with null Project, it inherits ours

------------------------------------------------------------------------
r494952 | mbenson | 2007-01-10 14:46:47 -0500 (Wed, 10 Jan 2007) | 2 lines

move and publish public static Project getProject(Object)

------------------------------------------------------------------------
r493753 | peterreilly | 2007-01-07 10:35:20 -0500 (Sun, 07 Jan 2007) | 1 line

bugzilla 29143: show previous version in tagdiff.xsl
------------------------------------------------------------------------
r493733 | peterreilly | 2007-01-07 10:04:30 -0500 (Sun, 07 Jan 2007) | 1 line

reduce verbosity of <apply skipemptyfilesets>
------------------------------------------------------------------------
r492463 | jhm | 2007-01-04 04:09:24 -0500 (Thu, 04 Jan 2007) | 1 line

<jspc> is deprecated in favor to Tomcats own jspc task.
------------------------------------------------------------------------
r492317 | stevel | 2007-01-03 16:46:42 -0500 (Wed, 03 Jan 2007) | 1 line

bug 41280 APT Task ignores memoryMaximumSize argument
------------------------------------------------------------------------
r491721 | peterreilly | 2007-01-01 19:20:52 -0500 (Mon, 01 Jan 2007) | 1 line

checkstyle: make method smaller
------------------------------------------------------------------------
r491719 | peterreilly | 2007-01-01 19:19:13 -0500 (Mon, 01 Jan 2007) | 1 line

fix signature of JUnitTask#addClasspathEntry
------------------------------------------------------------------------
r491717 | peterreilly | 2007-01-01 19:11:48 -0500 (Mon, 01 Jan 2007) | 1 line

Bugzilla 41268: rollback 32927
------------------------------------------------------------------------
r491348 | peterreilly | 2006-12-30 18:54:49 -0500 (Sat, 30 Dec 2006) | 1 line

checkstyle: reduce size of method
------------------------------------------------------------------------
r491347 | peterreilly | 2006-12-30 18:51:05 -0500 (Sat, 30 Dec 2006) | 1 line

Bugzilla 41264: douple expansion in <sql>
------------------------------------------------------------------------
r491150 | jglick | 2006-12-29 20:44:10 -0500 (Fri, 29 Dec 2006) | 3 lines

#41264: In Ant 1.7.0, <fileset> in <javadoc> does not by default include
only **/*.java as the documentation claims and earlier revisions did.

------------------------------------------------------------------------
r491046 | peterreilly | 2006-12-29 11:53:55 -0500 (Fri, 29 Dec 2006) | 1 line

checkstyle: reduce method length
------------------------------------------------------------------------
r491045 | peterreilly | 2006-12-29 11:51:56 -0500 (Fri, 29 Dec 2006) | 1 line

Check if classpath used with forked junit contains multi versions of ant
------------------------------------------------------------------------
r491044 | peterreilly | 2006-12-29 11:50:41 -0500 (Fri, 29 Dec 2006) | 1 line

make public haveClasspath
------------------------------------------------------------------------
r491018 | peterreilly | 2006-12-29 09:15:27 -0500 (Fri, 29 Dec 2006) | 1 line

Bugzilla 41158: add classpathref to <whichresource>
------------------------------------------------------------------------
r491016 | peterreilly | 2006-12-29 09:12:11 -0500 (Fri, 29 Dec 2006) | 1 line

svn:eol-style native
------------------------------------------------------------------------
r491014 | peterreilly | 2006-12-29 09:11:13 -0500 (Fri, 29 Dec 2006) | 1 line

tests for classpathref attribute of whichresource
------------------------------------------------------------------------
r491013 | peterreilly | 2006-12-29 09:10:21 -0500 (Fri, 29 Dec 2006) | 1 line

replace a noop test
------------------------------------------------------------------------
r490781 | peterreilly | 2006-12-28 15:08:50 -0500 (Thu, 28 Dec 2006) | 1 line

making method a little smaller
------------------------------------------------------------------------
r490754 | peterreilly | 2006-12-28 11:25:49 -0500 (Thu, 28 Dec 2006) | 1 line

javadoc missing a *
------------------------------------------------------------------------
r490753 | peterreilly | 2006-12-28 11:24:38 -0500 (Thu, 28 Dec 2006) | 1 line

stylecheck
------------------------------------------------------------------------
r490751 | peterreilly | 2006-12-28 11:16:18 -0500 (Thu, 28 Dec 2006) | 1 line

add updated and error property attributes to the javac task
------------------------------------------------------------------------
r490749 | peterreilly | 2006-12-28 11:06:26 -0500 (Thu, 28 Dec 2006) | 1 line

pset svn:eol-style native
------------------------------------------------------------------------
r490748 | peterreilly | 2006-12-28 11:03:45 -0500 (Thu, 28 Dec 2006) | 1 line

tests for errorProperty and updatedProperty of javac
------------------------------------------------------------------------
r490604 | peterreilly | 2006-12-27 18:48:39 -0500 (Wed, 27 Dec 2006) | 1 line

checkstyle: make method a little smaller
------------------------------------------------------------------------
r490602 | peterreilly | 2006-12-27 18:45:01 -0500 (Wed, 27 Dec 2006) | 1 line

checkstyle: make method a little smaller
------------------------------------------------------------------------
r490599 | peterreilly | 2006-12-27 18:41:33 -0500 (Wed, 27 Dec 2006) | 1 line

checkstyle: make the execute method a litte smaller
------------------------------------------------------------------------
r490597 | peterreilly | 2006-12-27 18:37:38 -0500 (Wed, 27 Dec 2006) | 1 line

checkstyle:check off for public method
------------------------------------------------------------------------
r490088 | peterreilly | 2006-12-24 18:37:47 -0500 (Sun, 24 Dec 2006) | 1 line

fix <script> to allow bsf.jar to be in a nested <classpath>
------------------------------------------------------------------------
r490085 | peterreilly | 2006-12-24 18:15:22 -0500 (Sun, 24 Dec 2006) | 1 line

eol-style
------------------------------------------------------------------------
r490082 | peterreilly | 2006-12-24 17:52:42 -0500 (Sun, 24 Dec 2006) | 1 line

Fix BSF path for script
------------------------------------------------------------------------
r490081 | peterreilly | 2006-12-24 17:48:45 -0500 (Sun, 24 Dec 2006) | 1 line

allow path components to be directly added to AntClassLoader
------------------------------------------------------------------------
r489781 | peterreilly | 2006-12-22 17:16:58 -0500 (Fri, 22 Dec 2006) | 1 line

Bugzilla: 41226 Target from imported file listsed twice
------------------------------------------------------------------------
r489767 | jkf | 2006-12-22 16:20:07 -0500 (Fri, 22 Dec 2006) | 1 line

line length + add reason mixing ant versions.
------------------------------------------------------------------------
r489763 | jkf | 2006-12-22 16:00:35 -0500 (Fri, 22 Dec 2006) | 1 line

improved handling of non-existent vmwatcher file.
------------------------------------------------------------------------
r489755 | jkf | 2006-12-22 15:48:17 -0500 (Fri, 22 Dec 2006) | 4 lines

PR 41090: jsch-0.1.30 causes SCP task to hang
Contributed by Atsuhiko Yamanaka
jsch 0.1.30 has improved the stream handling internally and it must be flushed
explicitly.
------------------------------------------------------------------------
r489352 | jhm | 2006-12-21 08:31:11 -0500 (Thu, 21 Dec 2006) | 1 line

Sync the message with the test-value.
------------------------------------------------------------------------
r489348 | jhm | 2006-12-21 08:21:33 -0500 (Thu, 21 Dec 2006) | 1 line

Ups - have forgotten to delete some debug infos ...
------------------------------------------------------------------------
r489345 | jhm | 2006-12-21 08:16:52 -0500 (Thu, 21 Dec 2006) | 1 line

Make <antversion> available as Task.
------------------------------------------------------------------------
r489293 | bodewig | 2006-12-21 04:10:39 -0500 (Thu, 21 Dec 2006) | 1 line

Adapt POMs to new version
------------------------------------------------------------------------
r489292 | bodewig | 2006-12-21 04:09:51 -0500 (Thu, 21 Dec 2006) | 1 line

adapt to new version
------------------------------------------------------------------------
r489122 | jhm | 2006-12-20 10:52:11 -0500 (Wed, 20 Dec 2006) | 1 line

Check if we are online for the online tests (maybe the property is not passed to the test).
------------------------------------------------------------------------
r489097 | jhm | 2006-12-20 09:21:25 -0500 (Wed, 20 Dec 2006) | 1 line

Make the tests runnable on systems without regexp matchers (e.g. JDK 1.2 without ORO).
------------------------------------------------------------------------
r489091 | jhm | 2006-12-20 08:53:58 -0500 (Wed, 20 Dec 2006) | 1 line

organize imports
------------------------------------------------------------------------
r489089 | jhm | 2006-12-20 08:52:08 -0500 (Wed, 20 Dec 2006) | 1 line

Make the tests runnable on systems without regexp matchers (e.g. JDK 1.2 without ORO).
------------------------------------------------------------------------
r488437 | peterreilly | 2006-12-18 16:57:25 -0500 (Mon, 18 Dec 2006) | 1 line

Bugzilla 41201: [jar-task] wrong name for services folder
------------------------------------------------------------------------
r487798 | peterreilly | 2006-12-16 07:18:04 -0500 (Sat, 16 Dec 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r487797 | peterreilly | 2006-12-16 07:17:00 -0500 (Sat, 16 Dec 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r487796 | peterreilly | 2006-12-16 07:16:03 -0500 (Sat, 16 Dec 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r486588 | kevj | 2006-12-13 05:35:59 -0500 (Wed, 13 Dec 2006) | 1 line

-remove unused package/code
------------------------------------------------------------------------
r486582 | kevj | 2006-12-13 05:12:35 -0500 (Wed, 13 Dec 2006) | 1 line

-further refactoring as suggested by peter
------------------------------------------------------------------------
r486570 | kevj | 2006-12-13 04:55:55 -0500 (Wed, 13 Dec 2006) | 1 line

-fix hasfreespace-test to avoid problems on pre jdk6 vms
------------------------------------------------------------------------
r486465 | kevj | 2006-12-12 21:36:23 -0500 (Tue, 12 Dec 2006) | 1 line

-remove Java1.4 specific methods from parseHumanSizes
------------------------------------------------------------------------
r486365 | peterreilly | 2006-12-12 17:15:30 -0500 (Tue, 12 Dec 2006) | 1 line

stop making MacroDef#TemplateElement extend MacroDef#Member - BC reasons, and remore MacroDef#Member
------------------------------------------------------------------------
r486347 | peterreilly | 2006-12-12 16:56:07 -0500 (Tue, 12 Dec 2006) | 1 line

remove the <define> nested element of <macrodef>
------------------------------------------------------------------------
r486168 | kevj | 2006-12-12 09:49:13 -0500 (Tue, 12 Dec 2006) | 1 line

-fix as suggested by DD, should now compile on pre java6 rt.jar
------------------------------------------------------------------------
r486161 | kevj | 2006-12-12 09:24:51 -0500 (Tue, 12 Dec 2006) | 1 line

-fix tabs, add validate method
------------------------------------------------------------------------
r486150 | kevj | 2006-12-12 09:00:47 -0500 (Tue, 12 Dec 2006) | 1 line

-HasFreeSpace condition (java6 only)
------------------------------------------------------------------------
r486148 | kevj | 2006-12-12 08:59:52 -0500 (Tue, 12 Dec 2006) | 1 line

-add HasFreeSpace condition to antlib
------------------------------------------------------------------------
r486147 | kevj | 2006-12-12 08:59:12 -0500 (Tue, 12 Dec 2006) | 1 line

- tests for parseHumanSizes
------------------------------------------------------------------------
r486146 | kevj | 2006-12-12 08:57:36 -0500 (Tue, 12 Dec 2006) | 1 line

- add Human Readable file size 'parsing' method
------------------------------------------------------------------------
r486145 | kevj | 2006-12-12 08:56:18 -0500 (Tue, 12 Dec 2006) | 1 line

- new java6 file uitl class
------------------------------------------------------------------------
r486141 | kevj | 2006-12-12 08:53:13 -0500 (Tue, 12 Dec 2006) | 1 line

-test for hasfreespace condition
------------------------------------------------------------------------
r486129 | kevj | 2006-12-12 08:15:33 -0500 (Tue, 12 Dec 2006) | 1 line

- antunit test for antversion
------------------------------------------------------------------------
r486032 | kevj | 2006-12-12 00:18:34 -0500 (Tue, 12 Dec 2006) | 1 line

- java.util.Service moved to java.util.ServiceLoader in Java6 final
------------------------------------------------------------------------
r485926 | mbenson | 2006-12-11 17:36:06 -0500 (Mon, 11 Dec 2006) | 4 lines

Regression: <path> was evaluating nested content only once, so that it could
not e.g. pick up files that didn't exist the first time through.
Bugzilla 41151.

------------------------------------------------------------------------
r485920 | stevel | 2006-12-11 17:25:29 -0500 (Mon, 11 Dec 2006) | 1 line

automatic proxy handling is only there if -autoproxy is set; marked as such in the docs. -noproxy is removed.
------------------------------------------------------------------------
r485296 | peterreilly | 2006-12-10 17:58:23 -0500 (Sun, 10 Dec 2006) | 1 line

refactor Launcher#run to reduce its line count
------------------------------------------------------------------------
r485295 | peterreilly | 2006-12-10 17:54:07 -0500 (Sun, 10 Dec 2006) | 1 line

retain the original casiness when handing replaceing case insensitive env properties
------------------------------------------------------------------------
r485287 | peterreilly | 2006-12-10 17:24:29 -0500 (Sun, 10 Dec 2006) | 10 lines

Fix for Bugzilla 41049.
This modification stops ComponentHelper from keeping track
of tasks so that they can be invalidated if the task
definition changes. This is not needed anymore as
changes in UnknownElement processing in ant 1.7 mean
that UEs are kept in the Target task/type list, not the
resultant tasks.



------------------------------------------------------------------------
r484850 | mbenson | 2006-12-08 18:43:18 -0500 (Fri, 08 Dec 2006) | 2 lines

last minute; avoid NPE when attempting to map no-name resource. Bugzilla 39960.

------------------------------------------------------------------------
r483908 | kevj | 2006-12-08 05:25:39 -0500 (Fri, 08 Dec 2006) | 1 line

-TODO comments
------------------------------------------------------------------------
r483907 | kevj | 2006-12-08 05:23:19 -0500 (Fri, 08 Dec 2006) | 1 line

-first stab at converting Location test to antunit
------------------------------------------------------------------------
r483892 | kevj | 2006-12-08 04:10:43 -0500 (Fri, 08 Dec 2006) | 1 line

-remove unused import
------------------------------------------------------------------------
r483681 | peterreilly | 2006-12-07 16:48:57 -0500 (Thu, 07 Dec 2006) | 1 line

align script implementation
------------------------------------------------------------------------
r483672 | jglick | 2006-12-07 16:24:20 -0500 (Thu, 07 Dec 2006) | 2 lines

It is now possible to build Ant without BSF and then run using JSR scripting.

------------------------------------------------------------------------
r483668 | jglick | 2006-12-07 16:07:38 -0500 (Thu, 07 Dec 2006) | 2 lines

Correcting typo.

------------------------------------------------------------------------
r483591 | mbenson | 2006-12-07 13:24:13 -0500 (Thu, 07 Dec 2006) | 2 lines

add protected newProject accessor.  Bugzilla 41127.

------------------------------------------------------------------------
r483275 | peterreilly | 2006-12-06 17:48:20 -0500 (Wed, 06 Dec 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r483114 | mbenson | 2006-12-06 10:26:07 -0500 (Wed, 06 Dec 2006) | 2 lines

use ProjectComponent's description

------------------------------------------------------------------------
r482907 | bodewig | 2006-12-06 00:31:01 -0500 (Wed, 06 Dec 2006) | 1 line

Move description attribute from Task to ProjectComponent
------------------------------------------------------------------------
r482645 | peterreilly | 2006-12-05 08:32:31 -0500 (Tue, 05 Dec 2006) | 1 line

opps, return too early
------------------------------------------------------------------------
r482163 | peterreilly | 2006-12-04 08:13:00 -0500 (Mon, 04 Dec 2006) | 1 line

opps: forgot to commit this
------------------------------------------------------------------------
r482069 | bodewig | 2006-12-03 23:51:50 -0500 (Sun, 03 Dec 2006) | 1 line

linefeeds
------------------------------------------------------------------------
r481972 | peterreilly | 2006-12-03 17:57:56 -0500 (Sun, 03 Dec 2006) | 1 line

use helper class, add manager attribute, add classpath
------------------------------------------------------------------------
r481971 | peterreilly | 2006-12-03 17:56:40 -0500 (Sun, 03 Dec 2006) | 1 line

use helper class, add manager attribute
------------------------------------------------------------------------
r481970 | peterreilly | 2006-12-03 17:55:44 -0500 (Sun, 03 Dec 2006) | 1 line

use helper class, add manager attribute
------------------------------------------------------------------------
r481968 | peterreilly | 2006-12-03 17:53:18 -0500 (Sun, 03 Dec 2006) | 1 line

a helper and creator class for script runners
------------------------------------------------------------------------
r481967 | peterreilly | 2006-12-03 17:52:05 -0500 (Sun, 03 Dec 2006) | 1 line

native eol-style
------------------------------------------------------------------------
r481962 | peterreilly | 2006-12-03 17:50:48 -0500 (Sun, 03 Dec 2006) | 1 line

add implementaion for javax script runner
------------------------------------------------------------------------
r481961 | peterreilly | 2006-12-03 17:49:29 -0500 (Sun, 03 Dec 2006) | 1 line

change supportslanguge method
------------------------------------------------------------------------
r481960 | peterreilly | 2006-12-03 17:46:48 -0500 (Sun, 03 Dec 2006) | 1 line

helper methods for class resources
------------------------------------------------------------------------
r481958 | peterreilly | 2006-12-03 17:45:45 -0500 (Sun, 03 Dec 2006) | 1 line

native eol
------------------------------------------------------------------------
r481956 | peterreilly | 2006-12-03 17:42:48 -0500 (Sun, 03 Dec 2006) | 1 line

helper classes for reflection
------------------------------------------------------------------------
r481763 | peterreilly | 2006-12-03 07:16:56 -0500 (Sun, 03 Dec 2006) | 1 line

linelength and 1.5 bootstrap whining
------------------------------------------------------------------------
r481484 | kevj | 2006-12-01 20:34:28 -0500 (Fri, 01 Dec 2006) | 1 line

- remove wrong comment
------------------------------------------------------------------------
r481322 | jglick | 2006-12-01 12:50:46 -0500 (Fri, 01 Dec 2006) | 2 lines

#41058: permit Java 5 enumerations to work like EnumeratedAttribute.

------------------------------------------------------------------------
r481078 | peterreilly | 2006-11-30 16:03:17 -0500 (Thu, 30 Nov 2006) | 1 line

BZ:41080 xmlproperty multi-values overwrite properties
------------------------------------------------------------------------
r481076 | peterreilly | 2006-11-30 15:56:49 -0500 (Thu, 30 Nov 2006) | 1 line

eol-style
------------------------------------------------------------------------
r481074 | peterreilly | 2006-11-30 15:55:22 -0500 (Thu, 30 Nov 2006) | 1 line

added for multi value xmlproperty test
------------------------------------------------------------------------
r481041 | mbenson | 2006-11-30 14:11:04 -0500 (Thu, 30 Nov 2006) | 2 lines

fix NPE in recursive filtering. BZ 41086.

------------------------------------------------------------------------
r480376 | antoine | 2006-11-28 22:38:55 -0500 (Tue, 28 Nov 2006) | 1 line

distribute ant-testutil
------------------------------------------------------------------------
r480364 | antoine | 2006-11-28 22:17:10 -0500 (Tue, 28 Nov 2006) | 1 line

distribute ant-testutil
------------------------------------------------------------------------
r479019 | jkf | 2006-11-24 17:04:58 -0500 (Fri, 24 Nov 2006) | 1 line

Removed superfluous comment
------------------------------------------------------------------------
r479017 | jkf | 2006-11-24 17:02:28 -0500 (Fri, 24 Nov 2006) | 1 line

Pr 40972 Directory Deletion Dont Work Properly
------------------------------------------------------------------------
r478939 | jkf | 2006-11-24 13:50:23 -0500 (Fri, 24 Nov 2006) | 1 line

Fix error found by Dave (and made by me)
------------------------------------------------------------------------
r478700 | peterreilly | 2006-11-23 17:51:44 -0500 (Thu, 23 Nov 2006) | 12 lines

Refactoring ScriptRunner
  * split into general non-bsf dependant part and bsf-dependant part
  * get classloader to be set outside scriptrunner
  * allow script engine to be reused in other scripts (not used in code yet)
  * add api to check if language supported (not used in code yet)
Mods from Bugzilla 40908
  * add clearing of text (not used in code yet)
  * add impl of eval  (not used in code yet)
  * use fileutils reader functionality (note: need to allow
    setting of file encoding)
    

------------------------------------------------------------------------
r478693 | peterreilly | 2006-11-23 17:34:51 -0500 (Thu, 23 Nov 2006) | 1 line

cast null in method call to allow 1.5 generices to not whine
------------------------------------------------------------------------
r478690 | peterreilly | 2006-11-23 17:32:09 -0500 (Thu, 23 Nov 2006) | 1 line

remove unused import
------------------------------------------------------------------------
r477976 | mbenson | 2006-11-21 19:01:13 -0500 (Tue, 21 Nov 2006) | 3 lines

fix regression: dependset fails if target directory does not exist
BZ 40916

------------------------------------------------------------------------
r477975 | mbenson | 2006-11-21 18:58:53 -0500 (Tue, 21 Nov 2006) | 2 lines

move so that temp files have no potential to impact anything

------------------------------------------------------------------------
r477969 | mbenson | 2006-11-21 18:49:59 -0500 (Tue, 21 Nov 2006) | 3 lines

reorder ComponentHelper imports, refactor getElementName to minimize
code duplication

------------------------------------------------------------------------
r477967 | mbenson | 2006-11-21 18:48:18 -0500 (Tue, 21 Nov 2006) | 2 lines

Expose Iterator publicly as a helper to other ResourceCollections

------------------------------------------------------------------------
r477941 | mbenson | 2006-11-21 17:40:43 -0500 (Tue, 21 Nov 2006) | 2 lines

fix failures on cygwin since recent drive letter casing changes

------------------------------------------------------------------------
r477939 | mbenson | 2006-11-21 17:39:46 -0500 (Tue, 21 Nov 2006) | 2 lines

antunit-ize and FIX (they were severely broken) DependSet tests

------------------------------------------------------------------------
r477922 | mbenson | 2006-11-21 17:00:20 -0500 (Tue, 21 Nov 2006) | 2 lines

antunit-ize the bulk of the resourcecollection tests

------------------------------------------------------------------------
r477920 | peterreilly | 2006-11-21 17:00:03 -0500 (Tue, 21 Nov 2006) | 1 line

unittest for adding prefix to a fileset ref
------------------------------------------------------------------------
r477913 | peterreilly | 2006-11-21 16:51:26 -0500 (Tue, 21 Nov 2006) | 1 line

Fix for 41004: prefix with refid
------------------------------------------------------------------------
r477846 | mbenson | 2006-11-21 14:50:08 -0500 (Tue, 21 Nov 2006) | 2 lines

use a single empty iterator instead of multiple instances... it's all the same groove, my man...

------------------------------------------------------------------------
r477837 | mbenson | 2006-11-21 14:21:56 -0500 (Tue, 21 Nov 2006) | 2 lines

move a public method above private and protected; lazily create the child-holding Vector.

------------------------------------------------------------------------
r477343 | peterreilly | 2006-11-20 16:18:41 -0500 (Mon, 20 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r477342 | peterreilly | 2006-11-20 16:17:10 -0500 (Mon, 20 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476693 | kevj | 2006-11-18 22:32:10 -0500 (Sat, 18 Nov 2006) | 1 line

- html -> xhtml
------------------------------------------------------------------------
r476582 | peterreilly | 2006-11-18 13:15:52 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476580 | peterreilly | 2006-11-18 13:13:55 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476579 | peterreilly | 2006-11-18 13:11:27 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476578 | peterreilly | 2006-11-18 13:10:35 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476576 | peterreilly | 2006-11-18 13:07:45 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476575 | peterreilly | 2006-11-18 13:06:30 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476574 | peterreilly | 2006-11-18 13:05:16 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476573 | peterreilly | 2006-11-18 13:01:49 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476571 | peterreilly | 2006-11-18 13:00:30 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476570 | peterreilly | 2006-11-18 12:58:38 -0500 (Sat, 18 Nov 2006) | 1 line

protected
------------------------------------------------------------------------
r476569 | peterreilly | 2006-11-18 12:57:58 -0500 (Sat, 18 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r476230 | jkf | 2006-11-17 12:55:30 -0500 (Fri, 17 Nov 2006) | 1 line

added at least check to JavaEnvUtils (and make use of it)
------------------------------------------------------------------------
r476215 | jkf | 2006-11-17 11:54:21 -0500 (Fri, 17 Nov 2006) | 1 line

Added @since tags
------------------------------------------------------------------------
r475987 | peterreilly | 2006-11-16 18:41:10 -0500 (Thu, 16 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475986 | peterreilly | 2006-11-16 18:39:55 -0500 (Thu, 16 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475983 | peterreilly | 2006-11-16 18:37:30 -0500 (Thu, 16 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475982 | peterreilly | 2006-11-16 18:36:03 -0500 (Thu, 16 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475980 | peterreilly | 2006-11-16 18:33:11 -0500 (Thu, 16 Nov 2006) | 1 line

opps forgot a map
------------------------------------------------------------------------
r475974 | peterreilly | 2006-11-16 18:14:41 -0500 (Thu, 16 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475973 | peterreilly | 2006-11-16 18:13:42 -0500 (Thu, 16 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475969 | peterreilly | 2006-11-16 18:12:09 -0500 (Thu, 16 Nov 2006) | 1 line

trailing spaces
------------------------------------------------------------------------
r475880 | jkf | 2006-11-16 14:13:37 -0500 (Thu, 16 Nov 2006) | 4 lines

Validated under windows only but jdk 1.3 doesn't support the international format classpaths in jar manifests.
(Test building the jars under jdk 1.3 and running them directly using java using jdk 1.5 works, but running
them using java form jkd 1.3 gives errors)

------------------------------------------------------------------------
r475811 | mbenson | 2006-11-16 11:51:37 -0500 (Thu, 16 Nov 2006) | 2 lines

oops

------------------------------------------------------------------------
r475806 | mbenson | 2006-11-16 11:43:47 -0500 (Thu, 16 Nov 2006) | 2 lines

fail on invalid attribute combinations.  BZ 40986.

------------------------------------------------------------------------
r475788 | jkf | 2006-11-16 11:08:45 -0500 (Thu, 16 Nov 2006) | 2 lines

Added logging of stacktraces of exceptions in logmessage when loglevel = debug.
Made first use of this logging in the Delete task.
------------------------------------------------------------------------
r475741 | jkf | 2006-11-16 09:02:53 -0500 (Thu, 16 Nov 2006) | 1 line

Recent change changed captialization of drive letter. (Drive letter should be case insensitive anyway)
------------------------------------------------------------------------
r475733 | jkf | 2006-11-16 08:43:16 -0500 (Thu, 16 Nov 2006) | 2 lines

remove of welcome.html from build.xml and ant-msi.wxs
(how to test ant-msi.wxs?)
------------------------------------------------------------------------
r475206 | antoine | 2006-11-15 06:33:43 -0500 (Wed, 15 Nov 2006) | 4 lines

do not uppercase systematically drive letters in FileUtils#normalize
append drive letter to absolute paths in Locator#fromURI
make FileUtilsTest pass under JDK 1.3

------------------------------------------------------------------------
r475080 | peterreilly | 2006-11-14 19:13:36 -0500 (Tue, 14 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475078 | peterreilly | 2006-11-14 19:11:37 -0500 (Tue, 14 Nov 2006) | 1 line

inheritDoc
------------------------------------------------------------------------
r475076 | peterreilly | 2006-11-14 19:10:27 -0500 (Tue, 14 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475075 | peterreilly | 2006-11-14 19:09:00 -0500 (Tue, 14 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r475073 | peterreilly | 2006-11-14 19:08:00 -0500 (Tue, 14 Nov 2006) | 1 line

fix javadoc
------------------------------------------------------------------------
r475071 | peterreilly | 2006-11-14 19:05:35 -0500 (Tue, 14 Nov 2006) | 1 line

fix javadoc
------------------------------------------------------------------------
r474520 | peterreilly | 2006-11-13 16:11:42 -0500 (Mon, 13 Nov 2006) | 1 line

Bugzilla 38249: add quiet to loadfile
------------------------------------------------------------------------
r474496 | peterreilly | 2006-11-13 15:28:08 -0500 (Mon, 13 Nov 2006) | 1 line

fix javadoc
------------------------------------------------------------------------
r474494 | peterreilly | 2006-11-13 15:27:18 -0500 (Mon, 13 Nov 2006) | 1 line

remove link as import is not used
------------------------------------------------------------------------
r474481 | peterreilly | 2006-11-13 15:09:11 -0500 (Mon, 13 Nov 2006) | 1 line

Bugzilla 40847: possible NPE in Jar.java
------------------------------------------------------------------------
r474379 | mbenson | 2006-11-13 10:57:09 -0500 (Mon, 13 Nov 2006) | 2 lines

equals/hashCode inconsistent for anonymous Comparator; removed both.

------------------------------------------------------------------------
r474080 | peterreilly | 2006-11-12 17:43:14 -0500 (Sun, 12 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r474079 | peterreilly | 2006-11-12 17:39:00 -0500 (Sun, 12 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r474076 | peterreilly | 2006-11-12 17:35:26 -0500 (Sun, 12 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r474075 | peterreilly | 2006-11-12 17:32:27 -0500 (Sun, 12 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r474072 | peterreilly | 2006-11-12 17:30:59 -0500 (Sun, 12 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r474071 | peterreilly | 2006-11-12 17:29:31 -0500 (Sun, 12 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r473823 | peterreilly | 2006-11-11 17:40:53 -0500 (Sat, 11 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r473822 | peterreilly | 2006-11-11 17:39:19 -0500 (Sat, 11 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r473820 | peterreilly | 2006-11-11 17:36:49 -0500 (Sat, 11 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r473819 | peterreilly | 2006-11-11 17:35:25 -0500 (Sat, 11 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r473818 | peterreilly | 2006-11-11 17:33:39 -0500 (Sat, 11 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r473806 | jkf | 2006-11-11 17:05:54 -0500 (Sat, 11 Nov 2006) | 2 lines

br 40949: Test of several resources on 1.3 showed that the compareTo method in the CompressedResource was defective.
HashMap on 1.4+ apparently checks using == before equals. When equals is used the compareTo on the CompressedResource would be called
------------------------------------------------------------------------
r473792 | jkf | 2006-11-11 15:16:43 -0500 (Sat, 11 Nov 2006) | 1 line

Pre JDK 1.4 compatibility (even when compiled on JDK 1.4 or later)
------------------------------------------------------------------------
r473781 | jkf | 2006-11-11 14:45:20 -0500 (Sat, 11 Nov 2006) | 1 line

Avoid JUNIT methods requiring java 1.4 or higher.
------------------------------------------------------------------------
r473560 | peterreilly | 2006-11-10 17:55:30 -0500 (Fri, 10 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r473558 | peterreilly | 2006-11-10 17:53:56 -0500 (Fri, 10 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r473415 | mbenson | 2006-11-10 13:29:44 -0500 (Fri, 10 Nov 2006) | 3 lines

Add innocuous warning message to catch erroneous ref="${refid}" stuff.
Suggested by Tim Ellison.

------------------------------------------------------------------------
r473393 | stevel | 2006-11-10 12:20:05 -0500 (Fri, 10 Nov 2006) | 3 lines

I'm still trying to stabilize the web.xml is optional policy. Maybe we just pull it. Here the problem is that if you try and <war> where there already is one, there may not be an addedWebXmlFile.

I would have thought isInUpdateMode would handle this, but it does not. Instead we remember tht a web.xml file was set on teh command line, and get away with it. I may also downgrade the error to a warning.
------------------------------------------------------------------------
r473115 | peterreilly | 2006-11-09 17:43:04 -0500 (Thu, 09 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r473114 | peterreilly | 2006-11-09 17:42:23 -0500 (Thu, 09 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r473112 | peterreilly | 2006-11-09 17:40:44 -0500 (Thu, 09 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r473108 | peterreilly | 2006-11-09 17:39:14 -0500 (Thu, 09 Nov 2006) | 1 line

checkstyle - mostly javadoc
------------------------------------------------------------------------
r472878 | antoine | 2006-11-09 07:29:37 -0500 (Thu, 09 Nov 2006) | 3 lines

add a license header and a blurb explaining where the poms come from
see http://marc.theaimsgroup.com/?l=ant-dev&m=116168038904889&w=2

------------------------------------------------------------------------
r472761 | antoine | 2006-11-08 22:45:48 -0500 (Wed, 08 Nov 2006) | 4 lines

Incorrect recursion in DOMUtil.listChildNodes()
Bugzilla 40918.


------------------------------------------------------------------------
r472660 | peterreilly | 2006-11-08 17:04:47 -0500 (Wed, 08 Nov 2006) | 1 line

remove tabs
------------------------------------------------------------------------
r472658 | peterreilly | 2006-11-08 16:59:41 -0500 (Wed, 08 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r472657 | peterreilly | 2006-11-08 16:54:45 -0500 (Wed, 08 Nov 2006) | 1 line

opps, allow tests to compile again
------------------------------------------------------------------------
r471921 | peterreilly | 2006-11-06 17:58:45 -0500 (Mon, 06 Nov 2006) | 1 line

trailing spaces
------------------------------------------------------------------------
r471920 | peterreilly | 2006-11-06 17:57:27 -0500 (Mon, 06 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r471919 | peterreilly | 2006-11-06 17:56:24 -0500 (Mon, 06 Nov 2006) | 1 line

javadoc
------------------------------------------------------------------------
r471918 | peterreilly | 2006-11-06 17:55:35 -0500 (Mon, 06 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471909 | peterreilly | 2006-11-06 17:42:36 -0500 (Mon, 06 Nov 2006) | 1 line

Bugzilla 40900, docletpath attribute of javadoc ignored
------------------------------------------------------------------------
r471562 | peterreilly | 2006-11-05 18:03:47 -0500 (Sun, 05 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471561 | peterreilly | 2006-11-05 18:00:57 -0500 (Sun, 05 Nov 2006) | 1 line

trailing spaces
------------------------------------------------------------------------
r471560 | peterreilly | 2006-11-05 18:00:20 -0500 (Sun, 05 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471559 | peterreilly | 2006-11-05 17:58:38 -0500 (Sun, 05 Nov 2006) | 6 lines

Add rule to allow in-line suppression of specific
checkstyle rules.
This will allow code that is kept for backward
compatible reasons to be marked in the code, and
ignored in the checkstyle report.

------------------------------------------------------------------------
r471555 | peterreilly | 2006-11-05 17:51:37 -0500 (Sun, 05 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471554 | peterreilly | 2006-11-05 17:50:17 -0500 (Sun, 05 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471552 | peterreilly | 2006-11-05 17:47:42 -0500 (Sun, 05 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471289 | peterreilly | 2006-11-04 17:50:20 -0500 (Sat, 04 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471288 | peterreilly | 2006-11-04 17:45:07 -0500 (Sat, 04 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r471287 | peterreilly | 2006-11-04 17:42:00 -0500 (Sat, 04 Nov 2006) | 1 line

checkstyle + align hashCode with equals
------------------------------------------------------------------------
r470868 | antoine | 2006-11-03 11:00:47 -0500 (Fri, 03 Nov 2006) | 2 lines

make unit tests pass

------------------------------------------------------------------------
r470776 | scohen | 2006-11-03 07:22:49 -0500 (Fri, 03 Nov 2006) | 1 line

remove line inadvertently introduced during previous fix.
------------------------------------------------------------------------
r470639 | scohen | 2006-11-02 21:57:32 -0500 (Thu, 02 Nov 2006) | 4 lines

Fix bug 40882.

Note that the new test added to EchoTest.java would fail as indicated in the 
defect without the change to DefaultLogger.java.
------------------------------------------------------------------------
r470587 | peterreilly | 2006-11-02 18:02:59 -0500 (Thu, 02 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r470578 | peterreilly | 2006-11-02 17:50:04 -0500 (Thu, 02 Nov 2006) | 1 line

bugzilla 32927: description of javadoc's tag should be optional
------------------------------------------------------------------------
r470134 | peterreilly | 2006-11-01 18:19:33 -0500 (Wed, 01 Nov 2006) | 1 line

bugzilla report 40852: useextenalfile of javadoc now applies to all command line args
------------------------------------------------------------------------
r470130 | peterreilly | 2006-11-01 18:00:52 -0500 (Wed, 01 Nov 2006) | 1 line

checkstyle
------------------------------------------------------------------------
r470125 | jglick | 2006-11-01 17:35:09 -0500 (Wed, 01 Nov 2006) | 2 lines

If someone tries to append a path to itself, choke gracefully, not with a StackOverflowError.

------------------------------------------------------------------------
r470108 | jglick | 2006-11-01 16:33:01 -0500 (Wed, 01 Nov 2006) | 2 lines

#40019 revision: ${user.variant} need not be set.

------------------------------------------------------------------------
r469781 | antoine | 2006-11-01 00:11:27 -0500 (Wed, 01 Nov 2006) | 2 lines

reactivate mergePatterns in AbstractFileSet, implement clone in DataType and ProjectComponent

------------------------------------------------------------------------
r469751 | scohen | 2006-10-31 21:04:27 -0500 (Tue, 31 Oct 2006) | 3 lines

remove from documentation (and from comment in source code) the incorrect
statement that a message attribute or character data within the element is
required.
------------------------------------------------------------------------
r469717 | peterreilly | 2006-10-31 19:13:43 -0500 (Tue, 31 Oct 2006) | 1 line

some checkstyle changes
------------------------------------------------------------------------
r469506 | antoine | 2006-10-31 09:54:29 -0500 (Tue, 31 Oct 2006) | 3 lines

set the groupId of ant from maven to org.apache.ant
as discussed on the repository mailing list

------------------------------------------------------------------------
r469312 | peterreilly | 2006-10-30 18:01:19 -0500 (Mon, 30 Oct 2006) | 1 line

bugzilla 39932: lcp.bat prepended instead of append
------------------------------------------------------------------------
r469303 | peterreilly | 2006-10-30 17:29:35 -0500 (Mon, 30 Oct 2006) | 1 line

Bugzilla 36733, NPE when failure in creating parser
------------------------------------------------------------------------
r469050 | antoine | 2006-10-29 21:53:20 -0500 (Sun, 29 Oct 2006) | 7 lines

fix for 
<javac> fails with NPE when compiling with eclipse ecj 3.1.x
Bugzilla 40839.
root cause of the problem was in org.eclipse.jdt.core.JDTCompiler
method addExtDirs. A FileSet was created without the Project attribute set,
then added to a Path.

------------------------------------------------------------------------
r468781 | antoine | 2006-10-28 18:54:48 -0400 (Sat, 28 Oct 2006) | 2 lines

fix for Bugzilla 40722. Was identified as a directory scanning problem.

------------------------------------------------------------------------
r468724 | antoine | 2006-10-28 15:07:22 -0400 (Sat, 28 Oct 2006) | 3 lines

<delete> doesnt delete when defaultexcludes="false" and no includes is set 
fixed. Bugzilla 40313.

------------------------------------------------------------------------
r468568 | stevel | 2006-10-27 18:33:42 -0400 (Fri, 27 Oct 2006) | 3 lines

Made web.xml non optional again, as it was hiding too many bugs (e.g war files for tomcat 5), but added an attribute to make it optional. 

More tests, especially for updates. One test is disabled because it fails. The task fails if you are pulling in a web.xml on an existing web.xml file via a fileset if update=false, because the fileset version checking is hiding the inclusion of the web.xml file from the war task -its being dropped before we notice. This is not a BC problem. Maybe I should always make web.xml mandatory to stop this behavior arising.
------------------------------------------------------------------------
r468556 | stevel | 2006-10-27 18:08:51 -0400 (Fri, 27 Oct 2006) | 1 line

remove some imports we dont need
------------------------------------------------------------------------
r468181 | stevel | 2006-10-26 19:11:25 -0400 (Thu, 26 Oct 2006) | 1 line

handle security checks on property get gracefully
------------------------------------------------------------------------
r468180 | stevel | 2006-10-26 19:10:10 -0400 (Thu, 26 Oct 2006) | 3 lines

web.xml is now optional in Java EE. I've tweaked <war> to warn but continue if it is omitted, and not to say anything if there is a duplicate reference to the same web.xml, but to complain a lot if there are two conflicting ones (with diagnostics). 

We may want to have an attribute to indicate that a web.xml file is needed, or that we dont want to see the warning message. Say nowebxml="fail", "warn" or "skip", with the default being fail for backwards compatibility. Thoughts? Now is the time to add it...
------------------------------------------------------------------------
r468015 | antoine | 2006-10-26 10:28:00 -0400 (Thu, 26 Oct 2006) | 2 lines

groupId for jsch is com.jcraft

------------------------------------------------------------------------
r467828 | antoine | 2006-10-25 21:39:57 -0400 (Wed, 25 Oct 2006) | 3 lines

add regex attribute to echoproperties task.
Bugzilla 40019.

------------------------------------------------------------------------
r467505 | antoine | 2006-10-24 18:05:19 -0400 (Tue, 24 Oct 2006) | 1 line

remove dependency upon commons-logging/commons-logging
------------------------------------------------------------------------
r467504 | antoine | 2006-10-24 18:04:35 -0400 (Tue, 24 Oct 2006) | 1 line

antlr is a runtime dependency, yes Steve :-)
------------------------------------------------------------------------
r467449 | antoine | 2006-10-24 15:38:47 -0400 (Tue, 24 Oct 2006) | 1 line

jsch 0.1.29 now available in repository
------------------------------------------------------------------------
r467448 | antoine | 2006-10-24 15:37:10 -0400 (Tue, 24 Oct 2006) | 1 line

groupId for jsch 01.29 jsch, not com.jcraft
------------------------------------------------------------------------
r467230 | antoine | 2006-10-23 23:53:00 -0400 (Mon, 23 Oct 2006) | 3 lines

remove the @link, causing a warning when building javadoc,
probably because it is a link to a private method in a private class

------------------------------------------------------------------------
r467207 | antoine | 2006-10-23 23:00:37 -0400 (Mon, 23 Oct 2006) | 3 lines

getting better, I found the xercesImpl and the xml-apis that we are using on the Maven repository.
And I did an upload request for jsch-0.1.29

------------------------------------------------------------------------
r467197 | antoine | 2006-10-23 21:35:51 -0400 (Mon, 23 Oct 2006) | 2 lines

a small explanation about this Maven stuff ...

------------------------------------------------------------------------
r467136 | peterreilly | 2006-10-23 17:45:38 -0400 (Mon, 23 Oct 2006) | 1 line

jasper4.1 is not in ant classpath while compiling, fix link in junittaskmirror
------------------------------------------------------------------------
r467135 | peterreilly | 2006-10-23 17:39:10 -0400 (Mon, 23 Oct 2006) | 1 line

remove noinspection tag, change @todo: to @todo
------------------------------------------------------------------------
r467129 | peterreilly | 2006-10-23 17:15:57 -0400 (Mon, 23 Oct 2006) | 1 line

fix up some of the javadoc whining
------------------------------------------------------------------------
r466937 | antoine | 2006-10-23 01:41:08 -0400 (Mon, 23 Oct 2006) | 4 lines

added something to even be able to run the tests. 
the maven-surefire-plugin has the bad idea to set a system property called basedir.
I have patched it locally to accept not to do it with a boolean omitbasedir.

------------------------------------------------------------------------
r466903 | antoine | 2006-10-22 21:45:04 -0400 (Sun, 22 Oct 2006) | 2 lines

copy the stylesheets into the jar

------------------------------------------------------------------------
r466902 | antoine | 2006-10-22 21:44:34 -0400 (Sun, 22 Oct 2006) | 2 lines

there was a mismatch for the location of .build.timestamp.properties

------------------------------------------------------------------------
r466894 | antoine | 2006-10-22 20:33:00 -0400 (Sun, 22 Oct 2006) | 2 lines

modified poms. I can now mvn package the complete ant binary distribution

------------------------------------------------------------------------
r466884 | peterreilly | 2006-10-22 17:54:01 -0400 (Sun, 22 Oct 2006) | 1 line

pset svn:eol-style native
------------------------------------------------------------------------
r466883 | peterreilly | 2006-10-22 17:52:47 -0400 (Sun, 22 Oct 2006) | 1 line

test for uuencode
------------------------------------------------------------------------
r466882 | antoine | 2006-10-22 17:51:47 -0400 (Sun, 22 Oct 2006) | 2 lines

modify also ant-nodeps to be able to build the corresponding jar

------------------------------------------------------------------------
r466880 | peterreilly | 2006-10-22 17:43:12 -0400 (Sun, 22 Oct 2006) | 1 line

pset svn:eol-style native
------------------------------------------------------------------------
r466879 | peterreilly | 2006-10-22 17:41:20 -0400 (Sun, 22 Oct 2006) | 1 line

remove use of sun.misc.uuencoder
------------------------------------------------------------------------
r466872 | antoine | 2006-10-22 16:14:33 -0400 (Sun, 22 Oct 2006) | 2 lines

add parent POM

------------------------------------------------------------------------
r466871 | antoine | 2006-10-22 16:14:10 -0400 (Sun, 22 Oct 2006) | 2 lines

add organization

------------------------------------------------------------------------
r466870 | antoine | 2006-10-22 15:47:14 -0400 (Sun, 22 Oct 2006) | 2 lines

control the location of the output jars

------------------------------------------------------------------------
r466864 | antoine | 2006-10-22 14:56:31 -0400 (Sun, 22 Oct 2006) | 2 lines

store the date in version.txt

------------------------------------------------------------------------
r466857 | antoine | 2006-10-22 13:13:15 -0400 (Sun, 22 Oct 2006) | 2 lines

created a parent pom and also modified the poms of ant and ant-launcher to be able to build them using maven

------------------------------------------------------------------------
r466856 | antoine | 2006-10-22 13:11:23 -0400 (Sun, 22 Oct 2006) | 3 lines

modified to call the property version from build.xml project.version
defaultManifest.mf and version.txt are updated using expandproperties rather than tokenfilter

------------------------------------------------------------------------
r466643 | antoine | 2006-10-22 09:55:41 -0400 (Sun, 22 Oct 2006) | 2 lines

Launcher should not depend upon parent package

------------------------------------------------------------------------
r466627 | antoine | 2006-10-22 01:35:25 -0400 (Sun, 22 Oct 2006) | 2 lines

adding poms

------------------------------------------------------------------------
r466300 | peterreilly | 2006-10-20 19:06:32 -0400 (Fri, 20 Oct 2006) | 1 line

make IH.clearCache() public
------------------------------------------------------------------------
r466290 | peterreilly | 2006-10-20 18:40:27 -0400 (Fri, 20 Oct 2006) | 3 lines

Stop making IH a project listener,
instead clean the IH cache explititly on build finished.

------------------------------------------------------------------------
r466283 | peterreilly | 2006-10-20 18:35:44 -0400 (Fri, 20 Oct 2006) | 3 lines

Free the realThing with UE is finished with it
(fixes since last look at this allows this)

------------------------------------------------------------------------
r465167 | jhm | 2006-10-18 03:31:52 -0400 (Wed, 18 Oct 2006) | 1 line

Add a stylesheet for generating a master buildfile (iterating over all targets) from a common buildfile.
------------------------------------------------------------------------
r465073 | peterreilly | 2006-10-17 17:56:16 -0400 (Tue, 17 Oct 2006) | 20 lines

Fix for OOME with <*ant*> and <typedef>
Bugzilla report 28283 and 33061

IH had a map of class->IH objects. The
class is the typedefed class and IH is the
attributes, elements etc of that class.
This works fine, except that the class is kept
until the build ends, this means that the classloader
for the class is also kept, a classloader contains
pointers to all the classes loaded by it - so a lot
of memory can be blocked.
When ant, or antcall is used and the called project
typedef the antcontrib, these will be new classloaders,
hence the memory being used up.

The fix is to use the name of the class, check if the IH
in the map is the same class, and if not replace that IH.



------------------------------------------------------------------------
r465065 | peterreilly | 2006-10-17 17:33:42 -0400 (Tue, 17 Oct 2006) | 1 line

add fall-back for undefined references that are parsed
------------------------------------------------------------------------
r465013 | stevel | 2006-10-17 15:28:20 -0400 (Tue, 17 Oct 2006) | 7 lines

Having learned about how the java memory model really works, I have had a quick code review of the threading here.

1. stuff that is shared read is always marked volatile, to avoid being compiled out.

2. added more synchronization when appropriate. 

I make no claims as to thread safety here, as I was never that good at formal proofs of correctness.
------------------------------------------------------------------------
r464439 | jhm | 2006-10-16 06:18:40 -0400 (Mon, 16 Oct 2006) | 1 line

typo
------------------------------------------------------------------------
r464359 | antoine | 2006-10-15 21:44:19 -0400 (Sun, 15 Oct 2006) | 2 lines

use FileUtils.close to close the Reader open for the crash file

------------------------------------------------------------------------
r463868 | peterreilly | 2006-10-13 19:39:52 -0400 (Fri, 13 Oct 2006) | 3 lines

Reduce to verbose message of overridding properties.


------------------------------------------------------------------------
r463867 | peterreilly | 2006-10-13 19:38:19 -0400 (Fri, 13 Oct 2006) | 1 line

allow . /etc/ant.conf if ant_home is /usr/share/ant
------------------------------------------------------------------------
r463712 | jhm | 2006-10-13 11:40:26 -0400 (Fri, 13 Oct 2006) | 1 line

"Move" test object to inner class.
------------------------------------------------------------------------
r463605 | jhm | 2006-10-13 05:12:13 -0400 (Fri, 13 Oct 2006) | 1 line

Forgot the license header.
------------------------------------------------------------------------
r463601 | jhm | 2006-10-13 05:04:31 -0400 (Fri, 13 Oct 2006) | 2 lines

Factory method for easier instantiation.
Bug 14831
------------------------------------------------------------------------
r463485 | peterreilly | 2006-10-12 18:52:58 -0400 (Thu, 12 Oct 2006) | 1 line

use -x instead of -f
------------------------------------------------------------------------
r463483 | peterreilly | 2006-10-12 18:51:06 -0400 (Thu, 12 Oct 2006) | 1 line

place the OPT_JAR_LIST in the correct place
------------------------------------------------------------------------
r463447 | peterreilly | 2006-10-12 17:41:08 -0400 (Thu, 12 Oct 2006) | 1 line

opps: restore correct behavour for setting basetest attributes
------------------------------------------------------------------------
r463287 | mbenson | 2006-10-12 11:45:53 -0400 (Thu, 12 Oct 2006) | 2 lines

fix failures

------------------------------------------------------------------------
r463045 | peterreilly | 2006-10-11 19:13:08 -0400 (Wed, 11 Oct 2006) | 3 lines

Added outputtoformatters attribute to <junit> to allow suppression
  of noisey tests. Bugzilla report 12817.

------------------------------------------------------------------------
r463031 | peterreilly | 2006-10-11 19:06:27 -0400 (Wed, 11 Oct 2006) | 1 line

svn style native
------------------------------------------------------------------------
r463029 | peterreilly | 2006-10-11 19:05:02 -0400 (Wed, 11 Oct 2006) | 1 line

added by accident
------------------------------------------------------------------------
r463028 | peterreilly | 2006-10-11 19:04:14 -0400 (Wed, 11 Oct 2006) | 1 line

tests for outputtoformatters
------------------------------------------------------------------------
r462955 | mbenson | 2006-10-11 17:26:46 -0400 (Wed, 11 Oct 2006) | 3 lines

Let Path use Union by composition instead of inheritance so that third-party
code using paths built against Ant 1.7 should still run against Ant 1.6 .

------------------------------------------------------------------------
r462590 | peterreilly | 2006-10-10 17:45:45 -0400 (Tue, 10 Oct 2006) | 6 lines

1) modify ant script to *NOT* . include /etc/ant.conf
   if ANT_HOME variable is set.
2) apply jpackage patch to ant script
3) modify manual to include the change in behaviour to ANT_HOME and jpackage


------------------------------------------------------------------------
r454842 | mbenson | 2006-10-10 13:30:33 -0400 (Tue, 10 Oct 2006) | 5 lines

Added <compare> resource selector to select resources based on the
results of their comparison to other resources. Inspired by userlist thread
http://marc.theaimsgroup.com/?t=115998761500004&r=1&w=2 .
Still lacks an example other than testcases. :(

------------------------------------------------------------------------
r454829 | mbenson | 2006-10-10 12:56:18 -0400 (Tue, 10 Oct 2006) | 2 lines

extract DelegatedResourceComparator from Sort collection

------------------------------------------------------------------------
r454827 | mbenson | 2006-10-10 12:55:05 -0400 (Tue, 10 Oct 2006) | 2 lines

fix method signature--accidentally and unnecessarily opening up access

------------------------------------------------------------------------
r454824 | mbenson | 2006-10-10 12:53:18 -0400 (Tue, 10 Oct 2006) | 2 lines

extend DataType, equals non-final

------------------------------------------------------------------------
r454805 | mbenson | 2006-10-10 12:13:31 -0400 (Tue, 10 Oct 2006) | 3 lines

ant.bat now looks in %USERPROFILE% and %HOMEDRIVE%%HOMEPATH% in addition to
%HOME% for pre/post batch files. Bugzilla report 39298.

------------------------------------------------------------------------
r454794 | mbenson | 2006-10-10 11:53:45 -0400 (Tue, 10 Oct 2006) | 2 lines

support %HOMEDRIVE%%HOMEPATH% on XP. Bugzilla 39298.

------------------------------------------------------------------------
r454486 | peterreilly | 2006-10-09 16:15:32 -0400 (Mon, 09 Oct 2006) | 1 line

allow test case to work if /build/testcases is in the classpath
------------------------------------------------------------------------
r454277 | bodewig | 2006-10-09 00:22:00 -0400 (Mon, 09 Oct 2006) | 1 line

fix svn property
------------------------------------------------------------------------
r454220 | peterreilly | 2006-10-08 17:54:34 -0400 (Sun, 08 Oct 2006) | 1 line

some printfs to help track down gump fail
------------------------------------------------------------------------
r454207 | peterreilly | 2006-10-08 16:53:25 -0400 (Sun, 08 Oct 2006) | 5 lines

For JUnitTestRunnerTest: testInvalidTestCase and testNoTestCase
JUnit4 adaption returns an ERROR wheres JUnit3 returns a FAILURE.
Modify testcase to reflect this.


------------------------------------------------------------------------
r454032 | peterreilly | 2006-10-07 18:04:20 -0400 (Sat, 07 Oct 2006) | 3 lines

 PathConvert on Windows should process forward and back slashes equivalently.
Bugzilla report 32884.

------------------------------------------------------------------------
r454030 | peterreilly | 2006-10-07 17:53:05 -0400 (Sat, 07 Oct 2006) | 1 line

svn:eol-style native
------------------------------------------------------------------------
r454029 | peterreilly | 2006-10-07 17:51:33 -0400 (Sat, 07 Oct 2006) | 1 line

test for dir-char in pathconvert
------------------------------------------------------------------------
r454027 | peterreilly | 2006-10-07 17:34:43 -0400 (Sat, 07 Oct 2006) | 6 lines

Fix for junit4
in JUnit4 annotations are placed in org.junit,
so this package needs to be made a "systempackage" for fork=no to work.
Bugzilla report 40697


------------------------------------------------------------------------
r453770 | peterreilly | 2006-10-06 17:17:50 -0400 (Fri, 06 Oct 2006) | 1 line

Defer references
------------------------------------------------------------------------
r453768 | peterreilly | 2006-10-06 17:15:42 -0400 (Fri, 06 Oct 2006) | 1 line

eol-type
------------------------------------------------------------------------
r453767 | peterreilly | 2006-10-06 17:14:30 -0400 (Fri, 06 Oct 2006) | 1 line

defer reference tests
------------------------------------------------------------------------
r453765 | mbenson | 2006-10-06 17:08:10 -0400 (Fri, 06 Oct 2006) | 2 lines

ignore null child collection, why not

------------------------------------------------------------------------
r453763 | mbenson | 2006-10-06 17:07:31 -0400 (Fri, 06 Oct 2006) | 2 lines

line up with some other exception throwing utility methods e.g. in DataType

------------------------------------------------------------------------
r453761 | mbenson | 2006-10-06 17:05:47 -0400 (Fri, 06 Oct 2006) | 2 lines

generify expected message to pass before and after recent change

------------------------------------------------------------------------
r453401 | peterreilly | 2006-10-05 17:48:49 -0400 (Thu, 05 Oct 2006) | 5 lines

Do not set ant.file.{projectname} when the project name
is not set in the <project> tag. (as discussed)
Bugzilla report: 39920


------------------------------------------------------------------------
r453397 | peterreilly | 2006-10-05 17:44:42 -0400 (Thu, 05 Oct 2006) | 1 line

change expected error message from attribute to element
------------------------------------------------------------------------
r453350 | peterreilly | 2006-10-05 16:14:03 -0400 (Thu, 05 Oct 2006) | 1 line

Bugzilla 40682: junit regression
------------------------------------------------------------------------
r453274 | stevel | 2006-10-05 11:48:31 -0400 (Thu, 05 Oct 2006) | 1 line

refactoring of WeakishReference, as discussed.
------------------------------------------------------------------------
r453156 | stevel | 2006-10-05 05:24:11 -0400 (Thu, 05 Oct 2006) | 1 line

close using FileUtils.close
------------------------------------------------------------------------
r453035 | peterreilly | 2006-10-04 17:27:14 -0400 (Wed, 04 Oct 2006) | 1 line

Bugzilla 30498: no check on refid for setting some attributes in zipfileset
------------------------------------------------------------------------
r453034 | peterreilly | 2006-10-04 17:24:11 -0400 (Wed, 04 Oct 2006) | 1 line

eol-style
------------------------------------------------------------------------
r453033 | peterreilly | 2006-10-04 17:22:31 -0400 (Wed, 04 Oct 2006) | 1 line

testcase for setting attributes with refid for zipfileset
------------------------------------------------------------------------
r453032 | peterreilly | 2006-10-04 17:18:59 -0400 (Wed, 04 Oct 2006) | 3 lines

another go at bugzilla 38747, isolate resources
get the baseloader for resources in isolate mode

------------------------------------------------------------------------
r452635 | peterreilly | 2006-10-03 17:35:06 -0400 (Tue, 03 Oct 2006) | 8 lines

Always handle refid first.
Refid normally cannot be used with other
attributes and some types check for this.
The code is broken in a number of places -
if refid is not set first. To fix this,
runtimeconfigurable will now always process
refid first.

------------------------------------------------------------------------
r451479 | peterreilly | 2006-09-29 18:23:38 -0400 (Fri, 29 Sep 2006) | 1 line

UnknownElement.maybeconfigure was 'always configure': Bugzilla 40641
------------------------------------------------------------------------
r451477 | peterreilly | 2006-09-29 18:20:02 -0400 (Fri, 29 Sep 2006) | 1 line

native
------------------------------------------------------------------------
r451476 | peterreilly | 2006-09-29 18:17:24 -0400 (Fri, 29 Sep 2006) | 1 line

test for unknownelement.maybecondifure
------------------------------------------------------------------------
r451444 | peterreilly | 2006-09-29 17:16:20 -0400 (Fri, 29 Sep 2006) | 1 line

revert making ConditionBase a Task after discussion on dev@apache.org
------------------------------------------------------------------------
r451160 | antoine | 2006-09-29 04:32:48 -0400 (Fri, 29 Sep 2006) | 2 lines

remove finalize method, suggested by Peter Reilly

------------------------------------------------------------------------
r451000 | peterreilly | 2006-09-28 16:03:55 -0400 (Thu, 28 Sep 2006) | 4 lines

Make conditionbase a Task.
?was there any reason that this was not done for ant 1.6?


------------------------------------------------------------------------
r450863 | antoine | 2006-09-28 10:23:26 -0400 (Thu, 28 Sep 2006) | 3 lines

running junitreport several times, issues with closing URLResource, bugzilla report 40595


------------------------------------------------------------------------
r450679 | kevj | 2006-09-27 23:44:19 -0400 (Wed, 27 Sep 2006) | 1 line

- fix broken build - change to ConcatResourceInputStream wasn't completed here in Concat
------------------------------------------------------------------------
r450614 | peterreilly | 2006-09-27 18:46:57 -0400 (Wed, 27 Sep 2006) | 1 line

revert 38747: resource isolation, should fix one of gumps issues - look at other later
------------------------------------------------------------------------
r450611 | mbenson | 2006-09-27 18:37:01 -0400 (Wed, 27 Sep 2006) | 2 lines

add the <tokens> resource collection; tokenizers graduate to free-standing types

------------------------------------------------------------------------
r450610 | mbenson | 2006-09-27 18:35:01 -0400 (Wed, 27 Sep 2006) | 2 lines

Extract StringTokenizer and FileTokenizer from TokenFilter.

------------------------------------------------------------------------
r450609 | mbenson | 2006-09-27 18:33:53 -0400 (Wed, 27 Sep 2006) | 2 lines

add @since tag, remove unthrowable constructor exception, and shrink some stuff

------------------------------------------------------------------------
r450608 | mbenson | 2006-09-27 18:33:07 -0400 (Wed, 27 Sep 2006) | 2 lines

unnecessary line break

------------------------------------------------------------------------
r450606 | mbenson | 2006-09-27 18:32:07 -0400 (Wed, 27 Sep 2006) | 2 lines

remove unnecessary parens

------------------------------------------------------------------------
r450605 | peterreilly | 2006-09-27 18:27:55 -0400 (Wed, 27 Sep 2006) | 1 line

Bugzilla 40621: fix ordering of add and addconfigured
------------------------------------------------------------------------
r450601 | mbenson | 2006-09-27 18:20:44 -0400 (Wed, 27 Sep 2006) | 2 lines

add more abc tests

------------------------------------------------------------------------
r450591 | peterreilly | 2006-09-27 17:58:38 -0400 (Wed, 27 Sep 2006) | 1 line

fix antunit test for matches
------------------------------------------------------------------------
r450538 | mbenson | 2006-09-27 14:22:28 -0400 (Wed, 27 Sep 2006) | 3 lines

Add "more" as greater-than synonym in Comparison type.
Simplest way to fix the SizeSelectorTest failure I introduced.

------------------------------------------------------------------------
r450239 | mbenson | 2006-09-26 18:26:13 -0400 (Tue, 26 Sep 2006) | 2 lines

move apply tests to antunit, fixing bug 40331 in the process.

------------------------------------------------------------------------
r450209 | peterreilly | 2006-09-26 17:15:12 -0400 (Tue, 26 Sep 2006) | 7 lines

Bugzilla 31520
adding SPI to jar-task
This patch from bernd Dutkowski adds
a nested element <service> to the <jar> task
this creates the SPI files - see doc.


------------------------------------------------------------------------
r450207 | peterreilly | 2006-09-26 17:10:32 -0400 (Tue, 26 Sep 2006) | 1 line

eol-style
------------------------------------------------------------------------
r450204 | peterreilly | 2006-09-26 17:03:42 -0400 (Tue, 26 Sep 2006) | 2 lines

New files for service element for <jar>

------------------------------------------------------------------------
r449828 | peterreilly | 2006-09-25 17:40:44 -0400 (Mon, 25 Sep 2006) | 1 line

fix typo (reported by Antony Goubard)
------------------------------------------------------------------------
r449825 | peterreilly | 2006-09-25 17:38:23 -0400 (Mon, 25 Sep 2006) | 1 line

remove incorrect default=all
------------------------------------------------------------------------
r449824 | peterreilly | 2006-09-25 17:37:19 -0400 (Mon, 25 Sep 2006) | 3 lines

Bugzilla 28883 add <matches> condition.


------------------------------------------------------------------------
r449822 | peterreilly | 2006-09-25 17:34:45 -0400 (Mon, 25 Sep 2006) | 1 line

eol-style
------------------------------------------------------------------------
r449821 | peterreilly | 2006-09-25 17:33:59 -0400 (Mon, 25 Sep 2006) | 1 line

tests for matches
------------------------------------------------------------------------
r449819 | peterreilly | 2006-09-25 17:32:38 -0400 (Mon, 25 Sep 2006) | 1 line

eol-style
------------------------------------------------------------------------
r449818 | peterreilly | 2006-09-25 17:31:20 -0400 (Mon, 25 Sep 2006) | 1 line

implementation of matches condition
------------------------------------------------------------------------
r449409 | peterreilly | 2006-09-24 10:30:33 -0400 (Sun, 24 Sep 2006) | 1 line

stop unit tests depending on non-executed references
------------------------------------------------------------------------
r449408 | peterreilly | 2006-09-24 10:17:26 -0400 (Sun, 24 Sep 2006) | 1 line

stop unit tests depending on non-executed references
------------------------------------------------------------------------
r449407 | peterreilly | 2006-09-24 10:14:08 -0400 (Sun, 24 Sep 2006) | 1 line

refine empty node handling
------------------------------------------------------------------------
r449406 | peterreilly | 2006-09-24 10:12:41 -0400 (Sun, 24 Sep 2006) | 1 line

set the directores used in tests to point to the new layout of test cases
------------------------------------------------------------------------
r449309 | peterreilly | 2006-09-23 17:35:39 -0400 (Sat, 23 Sep 2006) | 1 line

Bugzilla 26286: allow empty leaf nodes to be properties
------------------------------------------------------------------------
r449307 | peterreilly | 2006-09-23 17:31:32 -0400 (Sat, 23 Sep 2006) | 1 line

propset
------------------------------------------------------------------------
r449306 | peterreilly | 2006-09-23 17:30:08 -0400 (Sat, 23 Sep 2006) | 1 line

xmlproperty: test for empty element
------------------------------------------------------------------------
r449115 | mbenson | 2006-09-22 18:31:55 -0400 (Fri, 22 Sep 2006) | 3 lines

switch when attribute of size fileselector to use Comparison type.
Also took out a bunch of spurious parentheses and moved the public statics to the top.

------------------------------------------------------------------------
r449108 | mbenson | 2006-09-22 18:13:40 -0400 (Fri, 22 Sep 2006) | 2 lines

containsregexp does double-duty as FileSelector + ResourceSelector.

------------------------------------------------------------------------
r449103 | mbenson | 2006-09-22 17:52:53 -0400 (Fri, 22 Sep 2006) | 4 lines

migrate resource selectors tests to antunit.
modify containsselector to function as a resourceselector; add test.
alphabetize resource selectors antlib.

------------------------------------------------------------------------
r449046 | mbenson | 2006-09-22 14:42:21 -0400 (Fri, 22 Sep 2006) | 2 lines

incorporate new LogLevel EA into <echo> and <record>.  Are there others?

------------------------------------------------------------------------
r448803 | bodewig | 2006-09-22 00:24:42 -0400 (Fri, 22 Sep 2006) | 1 line

Add stylesheets of 1.0Beta1
------------------------------------------------------------------------
r448646 | mbenson | 2006-09-21 15:40:09 -0400 (Thu, 21 Sep 2006) | 3 lines

commit the first antunit test while showing offending, un-addable text.
Bugzilla 40415.

------------------------------------------------------------------------
r448642 | mbenson | 2006-09-21 15:26:45 -0400 (Thu, 21 Sep 2006) | 2 lines

a little cleanup

------------------------------------------------------------------------
r448641 | mbenson | 2006-09-21 15:24:25 -0400 (Thu, 21 Sep 2006) | 2 lines

try to address Jon Skeet's concerns about documenting the diff. between add/addConfigured in the Javadoc; removing his TODO

------------------------------------------------------------------------
r448640 | mbenson | 2006-09-21 15:19:49 -0400 (Thu, 21 Sep 2006) | 2 lines

make this work even when my cygwin-based svn checks out files in \n but my JVM thinks line.separator = \r\n

------------------------------------------------------------------------
r448638 | mbenson | 2006-09-21 15:12:05 -0400 (Thu, 21 Sep 2006) | 2 lines

committing the 'D' portion from svn move src/testcases src/tests/junit

------------------------------------------------------------------------
r448636 | mbenson | 2006-09-21 15:10:48 -0400 (Thu, 21 Sep 2006) | 2 lines

Restructuring to allow junit and antunit tests both.

------------------------------------------------------------------------
r448452 | antoine | 2006-09-21 00:04:32 -0400 (Thu, 21 Sep 2006) | 2 lines

patch submitted by Xavier Hanin, mainly closing HttpURLConnection

------------------------------------------------------------------------
r448449 | bodewig | 2006-09-20 23:58:46 -0400 (Wed, 20 Sep 2006) | 1 line

remove CRs
------------------------------------------------------------------------
r448385 | peterreilly | 2006-09-20 18:41:51 -0400 (Wed, 20 Sep 2006) | 4 lines

Performance: bugzilla  25778
    Minor optimization for ComponentHelper.initDefaultDefinitions


------------------------------------------------------------------------
r448382 | peterreilly | 2006-09-20 18:38:11 -0400 (Wed, 20 Sep 2006) | 4 lines

Performance:
  if a task does not have an id, do not bother
  to replace the unknownelement in the tasks list of the target

------------------------------------------------------------------------
r448379 | peterreilly | 2006-09-20 18:35:20 -0400 (Wed, 20 Sep 2006) | 4 lines

Perforamce:
    do not bother to check if need to expand for
    strings that do not have $

------------------------------------------------------------------------
r448377 | peterreilly | 2006-09-20 18:32:24 -0400 (Wed, 20 Sep 2006) | 3 lines

Performace:
  cache last FileUtils.fromUri() result

------------------------------------------------------------------------
r448373 | peterreilly | 2006-09-20 18:29:23 -0400 (Wed, 20 Sep 2006) | 21 lines

    This build file is designed to report the performance
    of ant from various releases.
    to use:
    * install ant-contrib.jar to ($ANT_HOME|$HOME/.ant)/lib
    * install beanshell jar and bsf jar
    * use unix (with bash) or install cygwin
    * set the env variables {whichever needs testing}
      ANT_HOME
      ANT_HOME_6_5 (the directory containing ant 1.6.5)
      ANT_HOME_6_4
      ANT_HOME_5_4
    
    * run ant
    For example:
       export ANT_HOME="c:/cygwin/home/me/svn/trunk/dist"
       export ANT_HOME_5_4="l:/apps/apache-ant-1.5.4"
       ant.bat

    TODO: more build files.


------------------------------------------------------------------------
r448319 | peterreilly | 2006-09-20 16:05:30 -0400 (Wed, 20 Sep 2006) | 1 line

backout broken code
------------------------------------------------------------------------
r448068 | antoine | 2006-09-20 01:10:29 -0400 (Wed, 20 Sep 2006) | 3 lines

make sure that most of DirectoryScannerTest runs when we build a release.
This one is too critical.

------------------------------------------------------------------------
r448061 | antoine | 2006-09-20 00:37:55 -0400 (Wed, 20 Sep 2006) | 1 line

close reader of vmwatcher
------------------------------------------------------------------------
r448058 | bodewig | 2006-09-20 00:35:05 -0400 (Wed, 20 Sep 2006) | 1 line

Yet another uncommon file system layout on AIX, submitted by Henri Gomez
------------------------------------------------------------------------
r448053 | antoine | 2006-09-20 00:13:39 -0400 (Wed, 20 Sep 2006) | 1 line

tearDown method from superclass is good enough
------------------------------------------------------------------------
r448052 | antoine | 2006-09-20 00:10:59 -0400 (Wed, 20 Sep 2006) | 2 lines

added tearDown

------------------------------------------------------------------------
r448050 | antoine | 2006-09-19 23:52:28 -0400 (Tue, 19 Sep 2006) | 2 lines

try to get rid of spawnnnnn.log

------------------------------------------------------------------------
r448049 | antoine | 2006-09-19 23:51:10 -0400 (Tue, 19 Sep 2006) | 3 lines

add a close method for JarURLConnection, idea found in 
http://svn.apache.org/repos/asf/jakarta/velocity/engine/trunk/src/java/org/apache/velocity/runtime/resource/loader/JarHolder.java

------------------------------------------------------------------------
r447991 | peterreilly | 2006-09-19 18:01:56 -0400 (Tue, 19 Sep 2006) | 3 lines

Fix for 39439: <fileset> in <cab> does not work.


------------------------------------------------------------------------
r447990 | mbenson | 2006-09-19 17:58:19 -0400 (Tue, 19 Sep 2006) | 7 lines

Have to fix fix from bug 39407, because a nested resource and a nested resource
collection are ambiguous; all resources are resource collections.  Added
addConfiguredStyle(Resources) for maximum ease of use; user can specify a
nested resource e.g. <file> or <url>, or any resource collection known to
evaluate to a single result e.g. <fileset file="foo" /> OR
<style refid="somesingleelementcollection" /> is supported OOTB.  Docs to come.

------------------------------------------------------------------------
r447986 | peterreilly | 2006-09-19 17:49:45 -0400 (Tue, 19 Sep 2006) | 1 line

fix comment
------------------------------------------------------------------------
r447980 | peterreilly | 2006-09-19 17:41:40 -0400 (Tue, 19 Sep 2006) | 1 line

add Task.setTaskName() to list of hidden set methods
------------------------------------------------------------------------
r447979 | peterreilly | 2006-09-19 17:39:37 -0400 (Tue, 19 Sep 2006) | 1 line

remove check on location, make ProjectComponent check for hidden set methods
------------------------------------------------------------------------
r447966 | peterreilly | 2006-09-19 16:53:19 -0400 (Tue, 19 Sep 2006) | 1 line

Bugzilla 40547: <path location='x'> was broken
------------------------------------------------------------------------
r447360 | jhm | 2006-09-18 06:43:19 -0400 (Mon, 18 Sep 2006) | 1 line

Add a @deprecated tag.
------------------------------------------------------------------------
r447165 | peterreilly | 2006-09-17 18:53:35 -0400 (Sun, 17 Sep 2006) | 1 line

bugzilla report 37386: <checksum> with file and todir fails
------------------------------------------------------------------------
r447159 | peterreilly | 2006-09-17 18:10:50 -0400 (Sun, 17 Sep 2006) | 1 line

Bugzilla 33604: classconstants filter broken
------------------------------------------------------------------------
r446979 | peterreilly | 2006-09-16 19:48:30 -0400 (Sat, 16 Sep 2006) | 1 line

bugzilla 28874: make env case insensitive for windows
------------------------------------------------------------------------
r446969 | peterreilly | 2006-09-16 19:03:36 -0400 (Sat, 16 Sep 2006) | 1 line

bugzilla 28826: make log level messsage for failing to copy consistent
------------------------------------------------------------------------
r446960 | peterreilly | 2006-09-16 17:45:14 -0400 (Sat, 16 Sep 2006) | 1 line

bugzilla 16604: escape ; for external commands in win9x
------------------------------------------------------------------------
r446773 | peterreilly | 2006-09-15 18:26:36 -0400 (Fri, 15 Sep 2006) | 4 lines

Get ant to output a warning if /etc/ant.conf
has modified ANT_HOME


------------------------------------------------------------------------
r446768 | peterreilly | 2006-09-15 18:09:05 -0400 (Fri, 15 Sep 2006) | 1 line

move conditions antlib to oata.types.conditions
------------------------------------------------------------------------
r446766 | peterreilly | 2006-09-15 18:03:55 -0400 (Fri, 15 Sep 2006) | 1 line

a bc file for scriptrunner
------------------------------------------------------------------------
r446758 | peterreilly | 2006-09-15 17:58:35 -0400 (Fri, 15 Sep 2006) | 3 lines

Move ScriptRunner (which depends on bsf.jar) to
an optional package

------------------------------------------------------------------------
r443456 | peterreilly | 2006-09-14 16:18:04 -0400 (Thu, 14 Sep 2006) | 1 line

Bugzilla 39549: available should not search parent directories
------------------------------------------------------------------------
r443421 | mbenson | 2006-09-14 13:19:34 -0400 (Thu, 14 Sep 2006) | 2 lines

Remove Steve's complaint ;) after Stefan and Peter's recent Location changes

------------------------------------------------------------------------
r443420 | mbenson | 2006-09-14 13:18:52 -0400 (Thu, 14 Sep 2006) | 2 lines

don't bother to check for circular references if you're just going to die anyway due to null Project

------------------------------------------------------------------------
r443419 | mbenson | 2006-09-14 13:18:02 -0400 (Thu, 14 Sep 2006) | 2 lines

formatting; Enumeration->Iterator why not?

------------------------------------------------------------------------
r443418 | mbenson | 2006-09-14 13:15:54 -0400 (Thu, 14 Sep 2006) | 2 lines

ignore passed-in Stack in factory method if null

------------------------------------------------------------------------
r443417 | mbenson | 2006-09-14 13:14:49 -0400 (Thu, 14 Sep 2006) | 2 lines

spurious newline in javadoc

------------------------------------------------------------------------
r443120 | peterreilly | 2006-09-13 17:01:23 -0400 (Wed, 13 Sep 2006) | 7 lines

Fix regression: revert changes to MacroDef.Attribute and Macrodef.Text
The class had been modified to derive from a new class MacroDef.Member,
when ant-contrib is compiled with ant1.7 and used with ant1.6, the
<for> task stops working as it tries to load MacroDef.Member when it
is loading MacroDef.Attribute.


------------------------------------------------------------------------
r442849 | bodewig | 2006-09-13 01:25:49 -0400 (Wed, 13 Sep 2006) | 1 line

Don't wrap BuildExceptions in yet another BuildException
------------------------------------------------------------------------
r442794 | antoine | 2006-09-12 22:03:07 -0400 (Tue, 12 Sep 2006) | 2 lines

fix javadoc parameter

------------------------------------------------------------------------
r442789 | antoine | 2006-09-12 21:39:59 -0400 (Tue, 12 Sep 2006) | 3 lines

unrestrict the dbvendor for the websphere element of the ejbjar task.
Bugzilla Report 40475.

------------------------------------------------------------------------
r442772 | antoine | 2006-09-12 20:37:27 -0400 (Tue, 12 Sep 2006) | 3 lines

remove needless synchronization in DirectoryScanner. 
Bugzilla Report 40237. 

------------------------------------------------------------------------
r442445 | bodewig | 2006-09-12 00:27:39 -0400 (Tue, 12 Sep 2006) | 1 line

Add a test for presetdef-ed tasks for completeness
------------------------------------------------------------------------
r442375 | mbenson | 2006-09-11 18:24:32 -0400 (Mon, 11 Sep 2006) | 2 lines

Restore non-BC removal of protected lSep property; WS

------------------------------------------------------------------------
r442369 | peterreilly | 2006-09-11 18:01:59 -0400 (Mon, 11 Sep 2006) | 1 line

make macrodef.backtrace=false cause all the nested tasks/types to have the same location as the macrodef instance
------------------------------------------------------------------------
r442353 | peterreilly | 2006-09-11 17:11:39 -0400 (Mon, 11 Sep 2006) | 1 line

bugzilla report 38451: handling of html option of aantlr
------------------------------------------------------------------------
r442338 | bodewig | 2006-09-11 16:37:25 -0400 (Mon, 11 Sep 2006) | 1 line

the last files with Copyright notices should be gone now
------------------------------------------------------------------------
r442301 | bodewig | 2006-09-11 15:35:36 -0400 (Mon, 11 Sep 2006) | 1 line

failing testcase for a combination of location and macrodef
------------------------------------------------------------------------
r442287 | bodewig | 2006-09-11 14:53:44 -0400 (Mon, 11 Sep 2006) | 1 line

Push setLocation down to ProjectComponent, reflect it into adapted tasks
------------------------------------------------------------------------
r441946 | peterreilly | 2006-09-10 08:05:47 -0400 (Sun, 10 Sep 2006) | 1 line

testcase for ReaderInputStream
------------------------------------------------------------------------
r441945 | peterreilly | 2006-09-10 08:04:07 -0400 (Sun, 10 Sep 2006) | 1 line

bugzilla report 39635: bugs in readerinputstream
------------------------------------------------------------------------
r441862 | peterreilly | 2006-09-09 17:47:57 -0400 (Sat, 09 Sep 2006) | 1 line

TarInputStream.read() never returns EOF: bugzilla 39924
------------------------------------------------------------------------
r441510 | stevel | 2006-09-08 10:22:58 -0400 (Fri, 08 Sep 2006) | 1 line

use a buffered file in reporting. Added a note to tell people not to switch to ClasspathUtils because the forking junit tests promptly fail.
------------------------------------------------------------------------
r441294 | peterreilly | 2006-09-07 19:16:18 -0400 (Thu, 07 Sep 2006) | 1 line

Bugzilla 40300: incorrent handling of exceptions in <copy>
------------------------------------------------------------------------
r441117 | stevel | 2006-09-07 11:27:45 -0400 (Thu, 07 Sep 2006) | 1 line

move other java1.5+ check down to the other java1.5 proxy tests.
------------------------------------------------------------------------
r440876 | peterreilly | 2006-09-06 17:19:42 -0400 (Wed, 06 Sep 2006) | 1 line

Bugzilla 39549: add searchparents attribute to <available>
------------------------------------------------------------------------
r440853 | peterreilly | 2006-09-06 16:02:50 -0400 (Wed, 06 Sep 2006) | 1 line

Bugzilla 36772: allow public access to PatternSet#hasPatterns
------------------------------------------------------------------------
r440476 | peterreilly | 2006-09-05 16:38:35 -0400 (Tue, 05 Sep 2006) | 1 line

Bugzilla 35619: remove dependency on sun internal base64 encoder
------------------------------------------------------------------------
r440461 | peterreilly | 2006-09-05 15:47:56 -0400 (Tue, 05 Sep 2006) | 1 line

bugzilla: 40334 possible NPE in TarInputStream
------------------------------------------------------------------------
r440335 | peterreilly | 2006-09-05 08:48:48 -0400 (Tue, 05 Sep 2006) | 1 line

fix for diagnostics using java 1.4
------------------------------------------------------------------------
r440332 | peterreilly | 2006-09-05 08:44:49 -0400 (Tue, 05 Sep 2006) | 1 line

revert Bugzilla: 35436, getResources is final in java 1.4
------------------------------------------------------------------------
r440286 | peterreilly | 2006-09-05 03:36:39 -0400 (Tue, 05 Sep 2006) | 1 line

do not get the exposed class unless necessary
------------------------------------------------------------------------
r440201 | peterreilly | 2006-09-04 18:49:47 -0400 (Mon, 04 Sep 2006) | 1 line

Bugzilla report 28865: allow files in classespath for <jdepend>
------------------------------------------------------------------------
r440200 | peterreilly | 2006-09-04 18:47:46 -0400 (Mon, 04 Sep 2006) | 1 line

Bugzilla report 28865: allow files in classespath for <jdepend>
------------------------------------------------------------------------
r440199 | peterreilly | 2006-09-04 18:39:06 -0400 (Mon, 04 Sep 2006) | 1 line

Bugzilla 38747: isolate resources in antclassloader when requested
------------------------------------------------------------------------
r439869 | peterreilly | 2006-09-03 18:56:35 -0400 (Sun, 03 Sep 2006) | 1 line

add text for macro element. Bugzilla report 36803
------------------------------------------------------------------------
r439868 | peterreilly | 2006-09-03 18:54:24 -0400 (Sun, 03 Sep 2006) | 1 line

fix failing unit test by fixing moving getResources code from findResource to getResiources()
------------------------------------------------------------------------
r439807 | peterreilly | 2006-09-03 13:20:04 -0400 (Sun, 03 Sep 2006) | 1 line

trim the driver attribute
------------------------------------------------------------------------
r439802 | peterreilly | 2006-09-03 12:50:23 -0400 (Sun, 03 Sep 2006) | 1 line

opps: made setParent private by accident
------------------------------------------------------------------------
r439801 | peterreilly | 2006-09-03 12:45:00 -0400 (Sun, 03 Sep 2006) | 1 line

Set the parent of the antClassLoader correctly: bugzilla 35436
------------------------------------------------------------------------
r439681 | peterreilly | 2006-09-02 19:11:04 -0400 (Sat, 02 Sep 2006) | 1 line

add setbeans and classpath to <script> task
------------------------------------------------------------------------
r439448 | bodewig | 2006-09-01 16:04:18 -0400 (Fri, 01 Sep 2006) | 1 line

copy2license.pl
------------------------------------------------------------------------
r439418 | bodewig | 2006-09-01 14:49:27 -0400 (Fri, 01 Sep 2006) | 1 line

copy2license.pl
------------------------------------------------------------------------
r439363 | mbenson | 2006-09-01 12:08:01 -0400 (Fri, 01 Sep 2006) | 1 line

ws
------------------------------------------------------------------------
r439063 | peterreilly | 2006-08-31 18:07:11 -0400 (Thu, 31 Aug 2006) | 1 line

allow ant to be bootstapped
------------------------------------------------------------------------
r439055 | peterreilly | 2006-08-31 17:42:21 -0400 (Thu, 31 Aug 2006) | 1 line

remove equals/hashcode from Target. Bugzilla report 40207.
------------------------------------------------------------------------
r439042 | mbenson | 2006-08-31 16:40:26 -0400 (Thu, 31 Aug 2006) | 2 lines

Be more specific logging imports.

------------------------------------------------------------------------
r439014 | mbenson | 2006-08-31 15:04:12 -0400 (Thu, 31 Aug 2006) | 2 lines

Auto-discover built-in conditions added >= 1.7 from the accompanying antlib so we can stop adding junk setters to ConditionBase.

------------------------------------------------------------------------
r438968 | mbenson | 2006-08-31 12:02:26 -0400 (Thu, 31 Aug 2006) | 2 lines

ws

------------------------------------------------------------------------
r438953 | mbenson | 2006-08-31 11:37:27 -0400 (Thu, 31 Aug 2006) | 2 lines

Strike lying comment.

------------------------------------------------------------------------
r438159 | mbenson | 2006-08-29 14:51:27 -0400 (Tue, 29 Aug 2006) | 2 lines

compromise with DD

------------------------------------------------------------------------
r438081 | mbenson | 2006-08-29 10:43:54 -0400 (Tue, 29 Aug 2006) | 3 lines

moved space append so that final deletion is unnecessary.
Minor javadoc and formatting changes.

------------------------------------------------------------------------
r437907 | kevj | 2006-08-28 21:51:47 -0400 (Mon, 28 Aug 2006) | 1 line

as requested a refactoring that doesn't use indexOf - test passes with 1.7.0Beta1
------------------------------------------------------------------------
r437807 | mbenson | 2006-08-28 15:59:41 -0400 (Mon, 28 Aug 2006) | 2 lines

some ws

------------------------------------------------------------------------
r437804 | mbenson | 2006-08-28 15:53:35 -0400 (Mon, 28 Aug 2006) | 2 lines

<zip filesonly="true"> included empty directories.  Bugzilla report 40258.

------------------------------------------------------------------------
r437799 | mbenson | 2006-08-28 15:39:08 -0400 (Mon, 28 Aug 2006) | 2 lines

make whenempty-related tests antunit-esque in preparation for their new friend

------------------------------------------------------------------------
r437786 | mbenson | 2006-08-28 15:15:32 -0400 (Mon, 28 Aug 2006) | 2 lines

ws

------------------------------------------------------------------------
r437589 | kevj | 2006-08-28 03:52:18 -0400 (Mon, 28 Aug 2006) | 1 line

fixed AntVersionTest failures with Beta1 - this should fix the problem, let me know if it still breaks for you
------------------------------------------------------------------------
r436992 | peterreilly | 2006-08-25 18:36:21 -0400 (Fri, 25 Aug 2006) | 1 line

fix for 40228, add code to introspectionhelper to make addconfigured higher priority than add, and add addconfigured to chainedmapper
------------------------------------------------------------------------
r436724 | kevj | 2006-08-25 05:01:20 -0400 (Fri, 25 Aug 2006) | 1 line

refactoring DirectoryScanner to reduce duplicated code, tests all pass
------------------------------------------------------------------------
r436720 | kevj | 2006-08-25 04:51:52 -0400 (Fri, 25 Aug 2006) | 1 line

use array version of tokenize path for rtrim
------------------------------------------------------------------------
r434506 | bodewig | 2006-08-24 16:18:53 -0400 (Thu, 24 Aug 2006) | 1 line

Use a more specific URL, don't shout that loud
------------------------------------------------------------------------
r434500 | bodewig | 2006-08-24 16:11:31 -0400 (Thu, 24 Aug 2006) | 1 line

deprecate .NET tasks
------------------------------------------------------------------------
r434226 | peterreilly | 2006-08-23 18:32:36 -0400 (Wed, 23 Aug 2006) | 1 line

[PATCH] bugzilla  40238 - nested macrodef
------------------------------------------------------------------------
r434030 | stevel | 2006-08-23 08:36:46 -0400 (Wed, 23 Aug 2006) | 5 lines

bug ID#38732 , rmic task doesn't work with -Xnew and JDK 6.0

Fixed by writing a new adapter, xnew, that extends the forking adapter and sets the -Xnew argument. Tests supplied, though the old test, the one that would fail on java1.6, is still there.

Also made the name matching code of rmic locale-independent.
------------------------------------------------------------------------
r434029 | stevel | 2006-08-23 08:36:25 -0400 (Wed, 23 Aug 2006) | 5 lines

bug ID#38732 , rmic task doesn't work with -Xnew and JDK 6.0

Fixed by writing a new adapter, xnew, that extends the forking adapter and sets the -Xnew argument. Tests supplied, though the old test, the one that would fail on java1.6, is still there.

Also made the name matching code of rmic locale-independent.
------------------------------------------------------------------------
r433942 | kevj | 2006-08-23 02:45:55 -0400 (Wed, 23 Aug 2006) | 1 line

remove blank line (test from ubuntu dev box)
------------------------------------------------------------------------
r433857 | kevj | 2006-08-22 23:13:11 -0400 (Tue, 22 Aug 2006) | 1 line

fix testcases with default target
------------------------------------------------------------------------
r433796 | stevel | 2006-08-22 19:18:43 -0400 (Tue, 22 Aug 2006) | 1 line

better formatting of the error text
------------------------------------------------------------------------
r433794 | stevel | 2006-08-22 19:07:49 -0400 (Tue, 22 Aug 2006) | 1 line

This is slick. Instead of printing ANT_HOME/lib in the message, we print the real directory set where libs can be added. And, if ant.home is not set, we decide this is an IDE and tell the user that too.
------------------------------------------------------------------------
r433793 | stevel | 2006-08-22 19:04:54 -0400 (Tue, 22 Aug 2006) | 1 line

change error code of the launcher. We could change it from 2, its now in a constant where we can tune it.
------------------------------------------------------------------------
r433792 | stevel | 2006-08-22 19:02:51 -0400 (Tue, 22 Aug 2006) | 1 line

Fix IDL/IIOP handling of rmic-with-backwards compat; added tests for everything working.
------------------------------------------------------------------------
r433701 | stevel | 2006-08-22 13:19:46 -0400 (Tue, 22 Aug 2006) | 3 lines

Pre-beta commits of some local changes I've had on my system. 

here, java returns the exit code in an exit status exception, which extends BuildException. This lets tasks that want a particular exit code catch it and filter out values.
------------------------------------------------------------------------
r432871 | bodewig | 2006-08-19 16:13:36 -0400 (Sat, 19 Aug 2006) | 1 line

make XML decl accessible
------------------------------------------------------------------------
r432728 | jglick | 2006-08-18 17:21:54 -0400 (Fri, 18 Aug 2006) | 2 lines

Providing more information in case a regexp impl is unavailable for unexpected reasons.

------------------------------------------------------------------------
r432709 | jglick | 2006-08-18 16:07:32 -0400 (Fri, 18 Aug 2006) | 2 lines

Some Javadoc corrections.

------------------------------------------------------------------------
r432410 | jglick | 2006-08-17 18:17:09 -0400 (Thu, 17 Aug 2006) | 7 lines

Minor optimization to save maybe 1-2Mb of heap used to create a 30Mb ZIP file.
(extraFields is usually empty, so leave null unless really needed.)
Heap usage from <zip> still intense, however - some ZipEntry's (another 1-2Mb)
but mostly String's (9Mb!) from all the FileSet's which are kept in memory.
For the same 30Mb (compressed) ZIP file, need about 15Mb heap at peak.
Not clear whether that could be improved without breaking B/C. Another day.

------------------------------------------------------------------------
r432379 | jglick | 2006-08-17 16:23:44 -0400 (Thu, 17 Aug 2006) | 2 lines

#40281: "Cannot resolve path" error thrown gratuitously.

------------------------------------------------------------------------
r431469 | jglick | 2006-08-14 19:24:03 -0400 (Mon, 14 Aug 2006) | 2 lines

JUnit 3.8.2 bugfix update.

------------------------------------------------------------------------
r430489 | mbenson | 2006-08-10 15:10:25 -0400 (Thu, 10 Aug 2006) | 2 lines

do not add directories when filesonly is true.

------------------------------------------------------------------------
r430111 | bodewig | 2006-08-09 14:43:44 -0400 (Wed, 09 Aug 2006) | 1 line

make the existing getCommandLine method a decent extension point for the Java task
------------------------------------------------------------------------
r429887 | jglick | 2006-08-08 19:43:07 -0400 (Tue, 08 Aug 2006) | 2 lines

Avoid a useless exception being (sometimes) thrown if a <java fork="true"> task is halted with Thread.stop().

------------------------------------------------------------------------
r429237 | bodewig | 2006-08-07 00:18:46 -0400 (Mon, 07 Aug 2006) | 1 line

make sure streams are closed, PR 40197, Submitted by Dave Brosius
------------------------------------------------------------------------
r428417 | stevel | 2006-08-03 10:52:52 -0400 (Thu, 03 Aug 2006) | 1 line

point to where the xsd lives.
------------------------------------------------------------------------
r426649 | bodewig | 2006-07-28 15:14:57 -0400 (Fri, 28 Jul 2006) | 1 line

whitespace only
------------------------------------------------------------------------
r426648 | bodewig | 2006-07-28 15:10:22 -0400 (Fri, 28 Jul 2006) | 1 line

avoid NPE in border-cases
------------------------------------------------------------------------
r426494 | jhm | 2006-07-28 09:11:43 -0400 (Fri, 28 Jul 2006) | 2 lines

- back to File-based algorithm
- cpu enhancement
------------------------------------------------------------------------
r426279 | mbenson | 2006-07-27 18:21:02 -0400 (Thu, 27 Jul 2006) | 2 lines

I think Martijn forgot part of his testcase.  This fixes the failing manifest test for me.

------------------------------------------------------------------------
r426186 | jglick | 2006-07-27 14:21:52 -0400 (Thu, 27 Jul 2006) | 2 lines

Display the default value for an input prompt sensibly.

------------------------------------------------------------------------
r426184 | jglick | 2006-07-27 14:21:08 -0400 (Thu, 27 Jul 2006) | 3 lines

Actually permit validargs and defaultvalue together in the default handler.
Formerly, would just prompt you again if you just pressed Enter.

------------------------------------------------------------------------
r426173 | jglick | 2006-07-27 14:03:19 -0400 (Thu, 27 Jul 2006) | 2 lines

InputHandler implementations may now call InputRequest.getDefaultValue() if they wish.

------------------------------------------------------------------------
r426172 | jglick | 2006-07-27 14:02:20 -0400 (Thu, 27 Jul 2006) | 2 lines

Correcting use of deprecated API.

------------------------------------------------------------------------
r425879 | jglick | 2006-07-26 18:29:50 -0400 (Wed, 26 Jul 2006) | 3 lines

People should not think that "file:../master.xml" is a meaningful URI.
Ant historically supports it but normal XML parsers do not.

------------------------------------------------------------------------
r425875 | jglick | 2006-07-26 18:15:12 -0400 (Wed, 26 Jul 2006) | 2 lines

Expressing a <dirset> as a string should show matching dirs, not files!

------------------------------------------------------------------------
r423831 | jglick | 2006-07-20 04:50:09 -0400 (Thu, 20 Jul 2006) | 1 line

Javadoc typo only.
------------------------------------------------------------------------
r423089 | mbenson | 2006-07-18 10:15:33 -0400 (Tue, 18 Jul 2006) | 2 lines

remove <libraries> references.

------------------------------------------------------------------------
r423009 | jhm | 2006-07-18 04:28:25 -0400 (Tue, 18 Jul 2006) | 3 lines

Bug 21042 "Setting XSL parameter to input filename when processed whole directory."
* changed from File.getParent() to String.substring() to avoid changing between / and \
* "dir" defaults to '.' instead of empty string, so dir+'/'+name would not result in an absolute path
------------------------------------------------------------------------
r422692 | jhm | 2006-07-17 08:03:07 -0400 (Mon, 17 Jul 2006) | 1 line

Bug 21042 "Setting XSL parameter to input filename when processed whole directory."
------------------------------------------------------------------------
r422621 | bodewig | 2006-07-17 00:48:27 -0400 (Mon, 17 Jul 2006) | 1 line

2006
------------------------------------------------------------------------
r422011 | stevel | 2006-07-14 16:13:28 -0400 (Fri, 14 Jul 2006) | 1 line

Bonus extra diagnostics. Handy when the uri is ${unexpanded}
------------------------------------------------------------------------
r421590 | stevel | 2006-07-13 07:12:02 -0400 (Thu, 13 Jul 2006) | 1 line

moving log of CVS passfile info down to verbose
------------------------------------------------------------------------
r421588 | stevel | 2006-07-13 07:11:21 -0400 (Thu, 13 Jul 2006) | 3 lines

This is a little bit of fun; something asked for on the mail list. You can now use -main to specify a new entry point for ant, so if you override ant.Main with a subclass, you can switch to that.

It has a side effect of making ant a generic launcher of things; anything that implements AntMain.startAnt.
------------------------------------------------------------------------
r421587 | stevel | 2006-07-13 07:08:32 -0400 (Thu, 13 Jul 2006) | 1 line

forward verify operation to references
------------------------------------------------------------------------
r421585 | stevel | 2006-07-13 07:03:32 -0400 (Thu, 13 Jul 2006) | 1 line

Add extra diags on the error message by printing out java.home
------------------------------------------------------------------------
r421327 | antoine | 2006-07-12 13:18:06 -0400 (Wed, 12 Jul 2006) | 2 lines

Bug Report 40021. The noframes option was not working at all.

------------------------------------------------------------------------
r421315 | antoine | 2006-07-12 12:41:27 -0400 (Wed, 12 Jul 2006) | 3 lines

Fix JUnitReport with includes.
Bug Report 40022

------------------------------------------------------------------------
r421302 | mbenson | 2006-07-12 12:20:29 -0400 (Wed, 12 Jul 2006) | 1 line

xhtmlify javadoc
------------------------------------------------------------------------
r420638 | jkf | 2006-07-10 17:54:00 -0400 (Mon, 10 Jul 2006) | 6 lines

manifest issues 
br: 37548
Still not totally convinced that the line is not allowed to be 74 bytes long (including eol)
But the specs allow to cut off early, except for the name. So name is allowed to by 70 bytes
long, and only if the name is 70 or 69 bytes long the line will be 74 (73) bytes long. Else
it will be shorter than 72 bytes including eol.
------------------------------------------------------------------------
r420576 | jhm | 2006-07-10 12:05:35 -0400 (Mon, 10 Jul 2006) | 1 line

Let the base class do the job.
------------------------------------------------------------------------
r420569 | jhm | 2006-07-10 11:41:28 -0400 (Mon, 10 Jul 2006) | 3 lines

Bug 35850  
<subant> now supports nested <target> elements as <ant> does.

------------------------------------------------------------------------
r420511 | stevel | 2006-07-10 08:40:25 -0400 (Mon, 10 Jul 2006) | 1 line

adopt consistent quoting on this message.
------------------------------------------------------------------------
r420343 | jkf | 2006-07-09 16:09:10 -0400 (Sun, 09 Jul 2006) | 1 line

Fix CRight
------------------------------------------------------------------------
r420337 | jkf | 2006-07-09 15:47:26 -0400 (Sun, 09 Jul 2006) | 3 lines

Fixed length mismatch.

Made use of shared constants in junit package.
------------------------------------------------------------------------
r420334 | jkf | 2006-07-09 15:17:11 -0400 (Sun, 09 Jul 2006) | 1 line

remove author
------------------------------------------------------------------------
r420329 | jkf | 2006-07-09 14:18:21 -0400 (Sun, 09 Jul 2006) | 1 line

The crashfile was originally written to the file.toString, now the absolute path is used, hopefully this fixes the gump problems.
------------------------------------------------------------------------
r420305 | stevel | 2006-07-09 12:06:47 -0400 (Sun, 09 Jul 2006) | 1 line

well, if you put the docs in, you need to follow with the code. <hasMethod> looks for methods.
------------------------------------------------------------------------
r420194 | jkf | 2006-07-08 17:19:40 -0400 (Sat, 08 Jul 2006) | 1 line

Give better information in case of timeout for JUnit test,as requested in Bug 39946.
------------------------------------------------------------------------
r420106 | jkf | 2006-07-08 09:27:33 -0400 (Sat, 08 Jul 2006) | 1 line

Give better information in case of timeout for JUnit test,as requested in Bug 39946.
------------------------------------------------------------------------
r420102 | jkf | 2006-07-08 08:30:43 -0400 (Sat, 08 Jul 2006) | 1 line

Give better information in case of timeout for JUnit test,as requested in Bug 39946.
------------------------------------------------------------------------
r419898 | jhm | 2006-07-07 10:39:28 -0400 (Fri, 07 Jul 2006) | 2 lines

Bug: 39153
Add notes (log+manual) that <java> does not handle jar+classpath together (more exactly Java itself does not).
------------------------------------------------------------------------
r419882 | jhm | 2006-07-07 08:37:20 -0400 (Fri, 07 Jul 2006) | 1 line

A super-call is ok here so you'll get the "standard" behaviour you expect from other BuildFileTests.
------------------------------------------------------------------------
r419846 | stevel | 2006-07-07 05:05:13 -0400 (Fri, 07 Jul 2006) | 1 line

roll back deletion of public teardown operator, with a comment as to why it is needed
------------------------------------------------------------------------
r419538 | stevel | 2006-07-06 08:38:42 -0400 (Thu, 06 Jul 2006) | 1 line

purge some spurious methods
------------------------------------------------------------------------
r419535 | jhm | 2006-07-06 08:24:02 -0400 (Thu, 06 Jul 2006) | 1 line

Remove methods with just super()-calls. (Don't know any more why I added them...)
------------------------------------------------------------------------
r419276 | mbenson | 2006-07-05 12:47:56 -0400 (Wed, 05 Jul 2006) | 4 lines

<echoproperties> setPrefix javadoc claimed null or empty prefix would be
ignored; instead an error was thrown.  Bugzilla report 39954.
Submitted by Ivan Ivanov.

------------------------------------------------------------------------
r419220 | stevel | 2006-07-05 08:35:49 -0400 (Wed, 05 Jul 2006) | 1 line

bugzilla report 38175; javacc needs a jdk version attribute for java1.5 support.
------------------------------------------------------------------------
r419189 | kevj | 2006-07-05 04:35:03 -0400 (Wed, 05 Jul 2006) | 1 line

fix GUMP failures
------------------------------------------------------------------------
r419143 | kevj | 2006-07-04 23:15:22 -0400 (Tue, 04 Jul 2006) | 1 line

move validation of properties into private method
------------------------------------------------------------------------
r419119 | stevel | 2006-07-04 19:14:04 -0400 (Tue, 04 Jul 2006) | 1 line

made all the protected methods public. Because ProjectTest was trying to call protected methods, and rather than selectively open up the methods, I made the whole set of asserts and operations open.
------------------------------------------------------------------------
r419108 | stevel | 2006-07-04 17:41:50 -0400 (Tue, 04 Jul 2006) | 1 line

adding ability to set the location when creating this
------------------------------------------------------------------------
r419104 | stevel | 2006-07-04 17:11:28 -0400 (Tue, 04 Jul 2006) | 1 line

bug 35607 ; Ant Get task downloads unmodified files  when useTimestamp=true
------------------------------------------------------------------------
r419097 | stevel | 2006-07-04 16:58:28 -0400 (Tue, 04 Jul 2006) | 1 line

bug 36033; javadocs incorrect
------------------------------------------------------------------------
r418839 | jkf | 2006-07-03 16:21:44 -0400 (Mon, 03 Jul 2006) | 1 line

Fix for pr:39946
------------------------------------------------------------------------
r418420 | antoine | 2006-06-30 19:42:17 -0400 (Fri, 30 Jun 2006) | 1 line

add support to nested XSL parameters in junitreport, Bugzilla 39708
------------------------------------------------------------------------
r418383 | mbenson | 2006-06-30 17:20:26 -0400 (Fri, 30 Jun 2006) | 2 lines

missing s in javadoc

------------------------------------------------------------------------
r418146 | mbenson | 2006-06-29 17:57:15 -0400 (Thu, 29 Jun 2006) | 3 lines

If the class invoked by the <java> task threw a ClassNotFoundException,
this was misinterpreted as the specified class itself not being found.

------------------------------------------------------------------------
r417600 | mbenson | 2006-06-27 18:23:39 -0400 (Tue, 27 Jun 2006) | 2 lines

make helpers final (HELPERS); put static stuff before instance-level stuff.

------------------------------------------------------------------------
r417590 | mbenson | 2006-06-27 17:39:46 -0400 (Tue, 27 Jun 2006) | 3 lines

allow @s before the "real" one in scp uris.  Bugzilla 38082.
Submitted by Michael Montuori/Robert Anderson.

------------------------------------------------------------------------
r417584 | mbenson | 2006-06-27 16:47:31 -0400 (Tue, 27 Jun 2006) | 3 lines

<fixcrlf> now supports an outputencoding attribute.  Bugzilla report 39697.
Submitted by Stephen Goetze

------------------------------------------------------------------------
r417126 | kevj | 2006-06-26 01:15:35 -0400 (Mon, 26 Jun 2006) | 1 line

roll back deprecation of Project.resolveFile, revert prior changes to code
------------------------------------------------------------------------
r417020 | jkf | 2006-06-25 10:38:27 -0400 (Sun, 25 Jun 2006) | 1 line

Removed support for Xalan1.
------------------------------------------------------------------------
r416510 | antoine | 2006-06-22 19:31:06 -0400 (Thu, 22 Jun 2006) | 2 lines

renaming the .cvsignore files into .svnignore

------------------------------------------------------------------------
r416236 | bodewig | 2006-06-22 00:13:23 -0400 (Thu, 22 Jun 2006) | 1 line

as usual
------------------------------------------------------------------------
r416182 | stevel | 2006-06-21 20:07:27 -0400 (Wed, 21 Jun 2006) | 1 line

Little something to make it easier for things that subclass main to change its exit behaviour. Its been on my HDD for a while. If people object to it, I'll roll it back, as its not anything I'm actively using...
------------------------------------------------------------------------
r416181 | stevel | 2006-06-21 20:04:26 -0400 (Wed, 21 Jun 2006) | 1 line

FileUtils.close
------------------------------------------------------------------------
r416180 | stevel | 2006-06-21 20:03:45 -0400 (Wed, 21 Jun 2006) | 1 line

trying to get this to work. it is now in the jar.
------------------------------------------------------------------------
r416179 | stevel | 2006-06-21 20:03:12 -0400 (Wed, 21 Jun 2006) | 1 line

typo
------------------------------------------------------------------------
r416168 | stevel | 2006-06-21 19:23:40 -0400 (Wed, 21 Jun 2006) | 1 line

sort declarations
------------------------------------------------------------------------
r416163 | stevel | 2006-06-21 19:14:36 -0400 (Wed, 21 Jun 2006) | 1 line

lets evaluate properties inline. Incidentally, <scriptdef> and the like Do Not do this. Too late to change now, probably.
------------------------------------------------------------------------
r415899 | bodewig | 2006-06-21 00:13:56 -0400 (Wed, 21 Jun 2006) | 1 line

2006
------------------------------------------------------------------------
r415817 | stevel | 2006-06-20 17:44:32 -0400 (Tue, 20 Jun 2006) | 7 lines

extending scriptdef
 1. nested text gets passed to self.text
 2. a fail(String) method takes on the work of throwing exceptions even in languages that dont make it easy to throw BuildExceptions

I have antunit tests for these in the antbook source tree, but not moved them into ant's codebase yet.

Issue: should nested text be something that must be enabled explicitly via a nestedText attribute in scriptdef?
------------------------------------------------------------------------
r415695 | mbenson | 2006-06-20 11:09:20 -0400 (Tue, 20 Jun 2006) | 2 lines

add tempfile deleteOnExit.  PR# 39842.  Submitted by Patrick Martin (then slightly modified).

------------------------------------------------------------------------
r415545 | kevj | 2006-06-20 03:44:47 -0400 (Tue, 20 Jun 2006) | 1 line

test was failing on osx, change to use StringUtils - test now passes
------------------------------------------------------------------------
r414940 | jkf | 2006-06-16 18:03:43 -0400 (Fri, 16 Jun 2006) | 1 line

Closing some streams in Manifest, patch kindly provided by John Sisson.
------------------------------------------------------------------------
r414442 | kevj | 2006-06-14 22:47:34 -0400 (Wed, 14 Jun 2006) | 1 line

use fileutils.resolveFile
------------------------------------------------------------------------
r414439 | kevj | 2006-06-14 22:19:21 -0400 (Wed, 14 Jun 2006) | 1 line

use fileutils.resolveFile
------------------------------------------------------------------------
r413799 | bodewig | 2006-06-12 23:50:34 -0400 (Mon, 12 Jun 2006) | 1 line

2006
------------------------------------------------------------------------
r413541 | stevel | 2006-06-11 18:00:52 -0400 (Sun, 11 Jun 2006) | 1 line

change policy of PropertyResource to return the actual dereferenced value.
------------------------------------------------------------------------
r413537 | stevel | 2006-06-11 17:49:42 -0400 (Sun, 11 Jun 2006) | 1 line

toString() override. Debuggers like them.
------------------------------------------------------------------------
r412489 | jkf | 2006-06-07 15:14:42 -0400 (Wed, 07 Jun 2006) | 1 line

Performance enhancement by Dave Brosius
------------------------------------------------------------------------
r412369 | antoine | 2006-06-07 07:28:22 -0400 (Wed, 07 Jun 2006) | 3 lines

Fix for SystemId of stylesheet
Bugzilla 39407.

------------------------------------------------------------------------
r412075 | antoine | 2006-06-06 06:52:47 -0400 (Tue, 06 Jun 2006) | 3 lines

FTP Account could not be specified in ant FTP task.
Bugzilla report 39720.

------------------------------------------------------------------------
r412040 | antoine | 2006-06-06 04:23:01 -0400 (Tue, 06 Jun 2006) | 3 lines

ReplaceTokens should allow properties files.
Bugzilla 39688

------------------------------------------------------------------------
r411891 | mbenson | 2006-06-05 14:54:59 -0400 (Mon, 05 Jun 2006) | 2 lines

sp

------------------------------------------------------------------------
r411884 | bodewig | 2006-06-05 14:29:21 -0400 (Mon, 05 Jun 2006) | 1 line

Add a target to create an MSI installer for Ant
------------------------------------------------------------------------
r411724 | kevj | 2006-06-05 05:26:12 -0400 (Mon, 05 Jun 2006) | 1 line

use fileutils.resolveFile
------------------------------------------------------------------------
r411699 | kevj | 2006-06-05 03:29:06 -0400 (Mon, 05 Jun 2006) | 1 line

fix copyright date
------------------------------------------------------------------------
r411696 | kevj | 2006-06-05 03:25:52 -0400 (Mon, 05 Jun 2006) | 2 lines

- trim whitespace
- xhtmlify javadoc
------------------------------------------------------------------------
r411177 | mbenson | 2006-06-02 11:10:37 -0400 (Fri, 02 Jun 2006) | 2 lines

doc

------------------------------------------------------------------------
r411170 | mbenson | 2006-06-02 10:31:46 -0400 (Fri, 02 Jun 2006) | 2 lines

svn props

------------------------------------------------------------------------
r411169 | mbenson | 2006-06-02 10:30:33 -0400 (Fri, 02 Jun 2006) | 2 lines

set svn props

------------------------------------------------------------------------
r411168 | mbenson | 2006-06-02 10:26:40 -0400 (Fri, 02 Jun 2006) | 2 lines

remove erroneously set svn:executable property.

------------------------------------------------------------------------
r411047 | jglick | 2006-06-02 01:29:30 -0400 (Fri, 02 Jun 2006) | 2 lines

Deleting empty package.

------------------------------------------------------------------------
r411046 | jglick | 2006-06-02 01:28:04 -0400 (Fri, 02 Jun 2006) | 2 lines

Missing @since.

------------------------------------------------------------------------
r411044 | jglick | 2006-06-02 01:27:26 -0400 (Fri, 02 Jun 2006) | 3 lines

Stefan pointed out that the XML formatter was mistakenly using "JUnit4TestFacade"
as the "class name" for simple TestCase's run under JUnit 4.

------------------------------------------------------------------------
r411043 | jglick | 2006-06-02 01:26:13 -0400 (Fri, 02 Jun 2006) | 2 lines

Just using a more explicitly qualified class name.

------------------------------------------------------------------------
r410022 | kevj | 2006-05-29 01:10:10 -0400 (Mon, 29 May 2006) | 3 lines

- Refactor DeweyDecimal to util package, retain bc by keeping a stub in the original location
- Change AntVersion to use new (util) version of DeweyDecimal - suggested by Stefan

------------------------------------------------------------------------
r410015 | kevj | 2006-05-28 23:05:26 -0400 (Sun, 28 May 2006) | 1 line

remove deprecated code
------------------------------------------------------------------------
r410014 | kevj | 2006-05-28 22:55:43 -0400 (Sun, 28 May 2006) | 1 line

remove deprecated code
------------------------------------------------------------------------
r409552 | kevj | 2006-05-26 00:17:30 -0400 (Fri, 26 May 2006) | 1 line

remove references to alpha - add in x.y.z tests
------------------------------------------------------------------------
r409551 | kevj | 2006-05-26 00:16:44 -0400 (Fri, 26 May 2006) | 1 line

implement DeweyDecimal versioning - strip alpha/beta/rc qualifiers from version string first
------------------------------------------------------------------------
r409378 | antoine | 2006-05-25 08:39:19 -0400 (Thu, 25 May 2006) | 3 lines

Add support to define the stylesheet as a resource in <xslt>
Bugzilla Report 39407

------------------------------------------------------------------------
r409344 | kevj | 2006-05-25 05:34:28 -0400 (Thu, 25 May 2006) | 1 line

updated to use a java translation of the javascript version handling code in the bug report
------------------------------------------------------------------------
r409343 | kevj | 2006-05-25 05:33:23 -0400 (Thu, 25 May 2006) | 1 line

updated test build file
------------------------------------------------------------------------
r409340 | kevj | 2006-05-25 05:10:26 -0400 (Thu, 25 May 2006) | 1 line

test build file for antversion
------------------------------------------------------------------------
r409339 | kevj | 2006-05-25 05:09:32 -0400 (Thu, 25 May 2006) | 1 line

tests for antversion condition
------------------------------------------------------------------------
r409338 | kevj | 2006-05-25 05:08:45 -0400 (Thu, 25 May 2006) | 1 line

add apache license
------------------------------------------------------------------------
r409337 | kevj | 2006-05-25 05:06:22 -0400 (Thu, 25 May 2006) | 1 line

add an antversion condition as requested in #32804
------------------------------------------------------------------------
r409022 | mbenson | 2006-05-23 19:01:50 -0400 (Tue, 23 May 2006) | 2 lines

guard against NPE, bugzilla 39648

------------------------------------------------------------------------
r408931 | mbenson | 2006-05-23 11:23:55 -0400 (Tue, 23 May 2006) | 2 lines

xhtmlify javadoc code tags

------------------------------------------------------------------------
r407562 | mbenson | 2006-05-18 10:35:52 -0400 (Thu, 18 May 2006) | 3 lines

<fixcrlf> used \r (Mac) line endings on OS X, whose proper line separator
is \n (Unix).  Bugzilla report 39585.

------------------------------------------------------------------------
r405846 | mbenson | 2006-05-12 15:31:56 -0400 (Fri, 12 May 2006) | 3 lines

check file equality before deleting dest file in case of case-insensitive
system case changing renames.  Bugzilla 37701; submitted by Anthony Goubard.

------------------------------------------------------------------------
r405626 | bodewig | 2006-05-10 00:19:31 -0400 (Wed, 10 May 2006) | 1 line

2006
------------------------------------------------------------------------
r405557 | stevel | 2006-05-09 18:31:51 -0400 (Tue, 09 May 2006) | 1 line

javadoc
------------------------------------------------------------------------
r405524 | stevel | 2006-05-09 16:25:48 -0400 (Tue, 09 May 2006) | 1 line

Adding a new non-static method, isFailure() to Execute. As well as simplifying a common operation, it is a foundation for instance specific logic to decide if an execute failed, which could be of use in VMS land.
------------------------------------------------------------------------
r405523 | stevel | 2006-05-09 16:23:03 -0400 (Tue, 09 May 2006) | 1 line

Moving some magic names to a single file
------------------------------------------------------------------------
r405302 | bodewig | 2006-05-09 00:30:58 -0400 (Tue, 09 May 2006) | 1 line

wrong @since tag
------------------------------------------------------------------------
r405300 | bodewig | 2006-05-09 00:26:36 -0400 (Tue, 09 May 2006) | 1 line

Make <scp> support the sftp protocol.  PR 39373
------------------------------------------------------------------------
r405267 | antoine | 2006-05-08 21:45:21 -0400 (Mon, 08 May 2006) | 2 lines

removal of the jprobe and metamata tasks.

------------------------------------------------------------------------
r404909 | bodewig | 2006-05-07 23:44:18 -0400 (Sun, 07 May 2006) | 1 line

2006
------------------------------------------------------------------------
r400384 | kevj | 2006-05-06 21:57:23 -0400 (Sat, 06 May 2006) | 1 line

put null guard check back to prevent a problem with another gump project
------------------------------------------------------------------------
r399951 | bodewig | 2006-05-05 00:26:17 -0400 (Fri, 05 May 2006) | 1 line

whitespace only
------------------------------------------------------------------------
r399950 | bodewig | 2006-05-05 00:25:14 -0400 (Fri, 05 May 2006) | 1 line

check for static suite method first
------------------------------------------------------------------------
r399913 | kevj | 2006-05-04 21:46:00 -0400 (Thu, 04 May 2006) | 1 line

- added closeQuietly methods to inner classes to use FileUtils.close
------------------------------------------------------------------------
r399386 | mbenson | 2006-05-03 15:03:21 -0400 (Wed, 03 May 2006) | 3 lines

strip trailing backslashes from ANT_HOME, CLASSPATH, JIKESPATH. PR# 39300.
fix reversed gotos bypassing run-with-classpath options. PR# 39475.

------------------------------------------------------------------------
r398781 | alexeys | 2006-05-01 22:58:03 -0400 (Mon, 01 May 2006) | 2 lines

Restored butchered imports.

------------------------------------------------------------------------
r398780 | alexeys | 2006-05-01 22:52:46 -0400 (Mon, 01 May 2006) | 2 lines

Added static accessors to parser handlers.

------------------------------------------------------------------------
r398177 | bodewig | 2006-04-29 11:24:27 -0400 (Sat, 29 Apr 2006) | 1 line

tests for PR 38732
------------------------------------------------------------------------
r398170 | bodewig | 2006-04-29 10:56:34 -0400 (Sat, 29 Apr 2006) | 1 line

merge multiple patternsets - PR 38973
------------------------------------------------------------------------
r398164 | bodewig | 2006-04-29 10:45:25 -0400 (Sat, 29 Apr 2006) | 1 line

tests for PR 38973
------------------------------------------------------------------------
r397383 | bodewig | 2006-04-27 00:14:57 -0400 (Thu, 27 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r397314 | jkf | 2006-04-26 17:51:42 -0400 (Wed, 26 Apr 2006) | 1 line

Just committed this one prematurely
------------------------------------------------------------------------
r397303 | jkf | 2006-04-26 17:20:25 -0400 (Wed, 26 Apr 2006) | 2 lines

Fixed bug reported by Wolfgang Brodowski.
Bug report 39345.
------------------------------------------------------------------------
r397298 | jkf | 2006-04-26 16:55:31 -0400 (Wed, 26 Apr 2006) | 2 lines

Minor updates based on the input of Dave Brosius
pr: 39320
------------------------------------------------------------------------
r397145 | kevj | 2006-04-26 04:37:36 -0400 (Wed, 26 Apr 2006) | 1 line

more info (added filename to error message) bug #35505
------------------------------------------------------------------------
r396792 | jkf | 2006-04-25 03:02:50 -0400 (Tue, 25 Apr 2006) | 1 line

Methods will need additional comments on deprecation, or need to be removed again. Putting back now to be better safe than sorry.
------------------------------------------------------------------------
r396766 | bodewig | 2006-04-25 00:06:25 -0400 (Tue, 25 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r396563 | peterreilly | 2006-04-24 10:15:52 -0400 (Mon, 24 Apr 2006) | 5 lines

Bugzilla Report: 39295
Reporter: Waldek Herka
extract the fileToURL code
use it for tools jar as well as the other paths

------------------------------------------------------------------------
r396465 | jkf | 2006-04-24 03:10:54 -0400 (Mon, 24 Apr 2006) | 1 line

Whitespace / contants / javadoc
------------------------------------------------------------------------
r396462 | jkf | 2006-04-24 03:02:35 -0400 (Mon, 24 Apr 2006) | 1 line

Remove of new in ant 1.7 and deprecated in ant 1.7 methods.
------------------------------------------------------------------------
r396460 | jkf | 2006-04-24 02:59:42 -0400 (Mon, 24 Apr 2006) | 1 line

Remove use of deprecated methods
------------------------------------------------------------------------
r396453 | kevj | 2006-04-24 02:39:52 -0400 (Mon, 24 Apr 2006) | 1 line

take notice of verbosity flag when logging bug #39010
------------------------------------------------------------------------
r396132 | antoine | 2006-04-22 11:05:16 -0400 (Sat, 22 Apr 2006) | 1 line

renameext was here two times
------------------------------------------------------------------------
r396131 | antoine | 2006-04-22 11:02:28 -0400 (Sat, 22 Apr 2006) | 2 lines

removal of testlet, visual age for java, and icontract optional tasks.

------------------------------------------------------------------------
r396012 | jkf | 2006-04-21 17:47:06 -0400 (Fri, 21 Apr 2006) | 1 line

indicated when methods/classes became deprecated, as to give us the possibility to remove deprecated methods in the future.
------------------------------------------------------------------------
r395992 | stevel | 2006-04-21 16:04:40 -0400 (Fri, 21 Apr 2006) | 1 line

fix reference
------------------------------------------------------------------------
r395723 | antoine | 2006-04-20 19:00:46 -0400 (Thu, 20 Apr 2006) | 3 lines

Remove xslp usage from ant. 
Bugzilla 23455.

------------------------------------------------------------------------
r395716 | antoine | 2006-04-20 18:35:31 -0400 (Thu, 20 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r395705 | antoine | 2006-04-20 17:39:32 -0400 (Thu, 20 Apr 2006) | 1 line

Fix javadoc, remove a call to deprecated FileUtils.newUtils()
------------------------------------------------------------------------
r395688 | stevel | 2006-04-20 16:01:34 -0400 (Thu, 20 Apr 2006) | 1 line

Resource implements ResourceCollection, so this was a a needless entry unless it was a Remotable interface and we want rmic to generate proxies. Assuming we don't, I'm deleting it to make the UML cleaner
------------------------------------------------------------------------
r395615 | mbenson | 2006-04-20 11:13:51 -0400 (Thu, 20 Apr 2006) | 2 lines

remove extraneous javadoc block... Martijn!  :)

------------------------------------------------------------------------
r395614 | mbenson | 2006-04-20 11:09:41 -0400 (Thu, 20 Apr 2006) | 2 lines

remove extra space

------------------------------------------------------------------------
r395539 | peterreilly | 2006-04-20 04:53:50 -0400 (Thu, 20 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r395534 | peterreilly | 2006-04-20 04:42:25 -0400 (Thu, 20 Apr 2006) | 3 lines

remove spurious system.out
change date to 2006

------------------------------------------------------------------------
r395512 | kevj | 2006-04-20 02:51:49 -0400 (Thu, 20 Apr 2006) | 1 line

use StringUtil.LINE_SEP
------------------------------------------------------------------------
r395510 | kevj | 2006-04-20 02:44:38 -0400 (Thu, 20 Apr 2006) | 1 line

fix bug#32738, implement quiet check for every message logged
------------------------------------------------------------------------
r395400 | stevel | 2006-04-19 17:42:01 -0400 (Wed, 19 Apr 2006) | 1 line

javadocs
------------------------------------------------------------------------
r395318 | peterreilly | 2006-04-19 13:33:46 -0400 (Wed, 19 Apr 2006) | 1 line

Support for mustang (todo.. use same defines as Javac.java
------------------------------------------------------------------------
r395304 | peterreilly | 2006-04-19 12:31:30 -0400 (Wed, 19 Apr 2006) | 3 lines

change name of Locator.encodeUri to Locator.encodeURI


------------------------------------------------------------------------
r395248 | peterreilly | 2006-04-19 10:11:26 -0400 (Wed, 19 Apr 2006) | 1 line

compete toUri code for launcher
------------------------------------------------------------------------
r395230 | bodewig | 2006-04-19 08:31:09 -0400 (Wed, 19 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r395206 | peterreilly | 2006-04-19 06:50:02 -0400 (Wed, 19 Apr 2006) | 2 lines

escape none URL characters

------------------------------------------------------------------------
r395169 | kevj | 2006-04-19 04:20:47 -0400 (Wed, 19 Apr 2006) | 1 line

2 more tests for bug#32738
------------------------------------------------------------------------
r395168 | kevj | 2006-04-19 04:19:38 -0400 (Wed, 19 Apr 2006) | 1 line

2 more tests for bug#32738
------------------------------------------------------------------------
r395097 | kevj | 2006-04-18 21:17:25 -0400 (Tue, 18 Apr 2006) | 1 line

remove extra ;
------------------------------------------------------------------------
r394979 | mbenson | 2006-04-18 12:18:05 -0400 (Tue, 18 Apr 2006) | 2 lines

Use task project when filesets don't have a project, for backwards compatibility.

------------------------------------------------------------------------
r394596 | kevj | 2006-04-16 21:07:34 -0400 (Sun, 16 Apr 2006) | 1 line

revert back to while loop after discussion over prior change
------------------------------------------------------------------------
r394274 | jhm | 2006-04-15 06:03:06 -0400 (Sat, 15 Apr 2006) | 1 line

Checkstyle
------------------------------------------------------------------------
r393996 | kevj | 2006-04-13 21:24:01 -0400 (Thu, 13 Apr 2006) | 1 line

slight tweak while -> for (reduce scope of variable to just loop)
------------------------------------------------------------------------
r393610 | bodewig | 2006-04-12 16:53:29 -0400 (Wed, 12 Apr 2006) | 1 line

set target's name before the depends attribute - leads to more meaningful errors.  PR 37655
------------------------------------------------------------------------
r393573 | bodewig | 2006-04-12 14:45:24 -0400 (Wed, 12 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r393317 | mbenson | 2006-04-11 17:50:46 -0400 (Tue, 11 Apr 2006) | 2 lines

apparently benign but untestable fix for PR 37766.

------------------------------------------------------------------------
r393316 | mbenson | 2006-04-11 17:35:04 -0400 (Tue, 11 Apr 2006) | 2 lines

changed Thread.sleep(1000) in a synchro method to wait(1000). PR# 37767.

------------------------------------------------------------------------
r393299 | mbenson | 2006-04-11 15:35:53 -0400 (Tue, 11 Apr 2006) | 2 lines

add a copy dirset test

------------------------------------------------------------------------
r393296 | mbenson | 2006-04-11 15:12:48 -0400 (Tue, 11 Apr 2006) | 2 lines

more trailing spaces

------------------------------------------------------------------------
r393295 | mbenson | 2006-04-11 15:11:36 -0400 (Tue, 11 Apr 2006) | 2 lines

removed commented taskdefs, trailing spaces

------------------------------------------------------------------------
r393282 | bodewig | 2006-04-11 14:19:57 -0400 (Tue, 11 Apr 2006) | 1 line

provide magic properties to control javac
------------------------------------------------------------------------
r392052 | bodewig | 2006-04-06 15:44:24 -0400 (Thu, 06 Apr 2006) | 1 line

a test for the suite() method, passes if JUnit4 is not around
------------------------------------------------------------------------
r392046 | bodewig | 2006-04-06 15:30:26 -0400 (Thu, 06 Apr 2006) | 1 line

untabify
------------------------------------------------------------------------
r392045 | bodewig | 2006-04-06 15:25:26 -0400 (Thu, 06 Apr 2006) | 1 line

allow TarOutputStream to be closed more than once, PR 38027
------------------------------------------------------------------------
r392037 | bodewig | 2006-04-06 15:00:30 -0400 (Thu, 06 Apr 2006) | 1 line

find tools.jar even if it is distributed with the JRE, submitted by Nick Crossley, PR 38500
------------------------------------------------------------------------
r392032 | bodewig | 2006-04-06 14:52:13 -0400 (Thu, 06 Apr 2006) | 1 line

whitespace
------------------------------------------------------------------------
r392028 | bodewig | 2006-04-06 14:30:28 -0400 (Thu, 06 Apr 2006) | 1 line

2006
------------------------------------------------------------------------
r392027 | bodewig | 2006-04-06 14:27:32 -0400 (Thu, 06 Apr 2006) | 1 line

allow ressource collections for source files in <javadoc>
------------------------------------------------------------------------
r391661 | mbenson | 2006-04-05 12:07:07 -0400 (Wed, 05 Apr 2006) | 2 lines

formatting

------------------------------------------------------------------------
r389278 | jkf | 2006-03-27 16:21:07 -0500 (Mon, 27 Mar 2006) | 3 lines

Regression test started failing because text of buildexception changed.
Re-inserted <> around the taks name which were lost in the process of 
making condition more flexible.
------------------------------------------------------------------------
r389264 | jkf | 2006-03-27 15:45:33 -0500 (Mon, 27 Mar 2006) | 1 line

PR39027: also build file + updated comment
------------------------------------------------------------------------
r389015 | bodewig | 2006-03-26 22:51:00 -0500 (Sun, 26 Mar 2006) | 1 line

2006
------------------------------------------------------------------------
r388909 | jkf | 2006-03-26 09:04:54 -0500 (Sun, 26 Mar 2006) | 1 line

PR:39027 Request to change 1.5 check to java.net.Proxy for compatibility with GNU Classpath.
------------------------------------------------------------------------
r388848 | jkf | 2006-03-25 17:35:34 -0500 (Sat, 25 Mar 2006) | 1 line

Adding property storing the ant core library.
------------------------------------------------------------------------
r388834 | jkf | 2006-03-25 16:27:51 -0500 (Sat, 25 Mar 2006) | 1 line

Improved use of MagicNames for ant internal properties
------------------------------------------------------------------------
r388818 | jkf | 2006-03-25 15:30:10 -0500 (Sat, 25 Mar 2006) | 1 line

Sorry, copyright update forgotten
------------------------------------------------------------------------
r388814 | jkf | 2006-03-25 15:20:49 -0500 (Sat, 25 Mar 2006) | 3 lines

Refactored translatePath from Project to FileUtils. 
Project now also fails with explicit message on java 1.1.
Added javadoc comment for the ant.java.version property
------------------------------------------------------------------------
r388050 | kevj | 2006-03-23 00:38:18 -0500 (Thu, 23 Mar 2006) | 1 line

revert to code that compiles pre 1.4
------------------------------------------------------------------------
r388040 | bodewig | 2006-03-23 00:11:41 -0500 (Thu, 23 Mar 2006) | 1 line

2006
------------------------------------------------------------------------
r387396 | kevj | 2006-03-20 22:49:57 -0500 (Mon, 20 Mar 2006) | 1 line

remove deprecated code
------------------------------------------------------------------------
r387208 | stevel | 2006-03-20 08:09:11 -0500 (Mon, 20 Mar 2006) | 1 line

Move to english locale when lower casing things, to avoid problems in other locales, like, say, turkey.
------------------------------------------------------------------------
r386330 | stevel | 2006-03-16 09:00:00 -0500 (Thu, 16 Mar 2006) | 1 line

No, it isnt the fact that I declare things through a property file either.
------------------------------------------------------------------------
r386329 | stevel | 2006-03-16 08:54:03 -0500 (Thu, 16 Mar 2006) | 1 line

Matt's proof my bug doesnt exist, as a unit test. Given the bug doesnt exist, w.t.f. is wrong with my task?
------------------------------------------------------------------------
r386065 | stevel | 2006-03-15 08:01:10 -0500 (Wed, 15 Mar 2006) | 1 line

Adding some low level diagnostics for waitfor, calling the processSucess and processTimeout methods at appropriate times
------------------------------------------------------------------------
r385805 | stevel | 2006-03-14 08:54:14 -0500 (Tue, 14 Mar 2006) | 5 lines

-Roll back condition defined in defaults.properties to ant1.6.5 branch with one extra. scriptcondition. We cannot have that explicitly in the ConditionBase, as it is optional.

-create a new antlib for all conditions

-expand ConditionBase to explicitly ask for all ant1.7 conditions that are not optional.
------------------------------------------------------------------------
r385804 | stevel | 2006-03-14 08:52:37 -0500 (Tue, 14 Mar 2006) | 1 line

flip tests as the IDE was complaining that we werent handing null tokens properly
------------------------------------------------------------------------
r385653 | jkf | 2006-03-13 15:32:48 -0500 (Mon, 13 Mar 2006) | 1 line

Patch for PR28914 / similar (maybe even identical) to the proposed patch of Benjamin Burgess
------------------------------------------------------------------------
r385292 | bodewig | 2006-03-12 10:01:40 -0500 (Sun, 12 Mar 2006) | 1 line

2006
------------------------------------------------------------------------
r384358 | stevel | 2006-03-08 17:45:38 -0500 (Wed, 08 Mar 2006) | 1 line

made units public
------------------------------------------------------------------------
r384261 | stevel | 2006-03-08 11:38:44 -0500 (Wed, 08 Mar 2006) | 1 line

we should have done this for ant1.6. Now my backwards compatible task has to copy in all the well-known condition names.
------------------------------------------------------------------------
r384203 | stevel | 2006-03-08 07:45:05 -0500 (Wed, 08 Mar 2006) | 1 line

commentary on bindToOwner
------------------------------------------------------------------------
r384202 | stevel | 2006-03-08 07:44:14 -0500 (Wed, 08 Mar 2006) | 1 line

closing
------------------------------------------------------------------------
r384111 | kevj | 2006-03-07 22:56:59 -0500 (Tue, 07 Mar 2006) | 1 line

Java API change to Date.after causes bug #30471, added check and comment
------------------------------------------------------------------------
r384097 | kevj | 2006-03-07 21:40:31 -0500 (Tue, 07 Mar 2006) | 1 line

- minor tweak to reduce scope of variable, fix comments
------------------------------------------------------------------------
r383583 | stevel | 2006-03-06 11:55:42 -0500 (Mon, 06 Mar 2006) | 1 line

adding better diagnostics here when loading fails, like the name of the file at fault.
------------------------------------------------------------------------
r383569 | mbenson | 2006-03-06 10:54:23 -0500 (Mon, 06 Mar 2006) | 2 lines

s/an bug/a bug/

------------------------------------------------------------------------
r383553 | stevel | 2006-03-06 09:58:27 -0500 (Mon, 06 Mar 2006) | 1 line

accidental plural
------------------------------------------------------------------------
r383423 | stevel | 2006-03-05 17:23:34 -0500 (Sun, 05 Mar 2006) | 1 line

took out the "dont bother us line". I know, we hate the calls, but maybe we are being too harsh here.
------------------------------------------------------------------------
r382930 | bodewig | 2006-03-03 16:05:33 -0500 (Fri, 03 Mar 2006) | 1 line

whitespace
------------------------------------------------------------------------
r382928 | bodewig | 2006-03-03 16:02:13 -0500 (Fri, 03 Mar 2006) | 1 line

make packagenames optional
------------------------------------------------------------------------
r382927 | bodewig | 2006-03-03 15:56:53 -0500 (Fri, 03 Mar 2006) | 1 line

preliminary Mustang support
------------------------------------------------------------------------
r382924 | bodewig | 2006-03-03 15:22:57 -0500 (Fri, 03 Mar 2006) | 1 line

2006
------------------------------------------------------------------------
r382808 | stevel | 2006-03-03 08:37:51 -0500 (Fri, 03 Mar 2006) | 1 line

bug ID 32069: resetting an undefined env variable changes the errorlevel.
------------------------------------------------------------------------
r382315 | kevj | 2006-03-02 02:42:41 -0500 (Thu, 02 Mar 2006) | 1 line

don't need final in interface
------------------------------------------------------------------------
r382127 | jglick | 2006-03-01 14:13:16 -0500 (Wed, 01 Mar 2006) | 3 lines

Tweak: in case junit-3.8.1.jar and junit-4.0.jar are on CP but in that
order, and running JDK 1.4-, at least run JUnit 3.x tests.

------------------------------------------------------------------------
r382058 | stevel | 2006-03-01 10:33:07 -0500 (Wed, 01 Mar 2006) | 1 line

minor layout tweaks to make it slightly more readable, updated year and corrected an old URL
------------------------------------------------------------------------
r381998 | stevel | 2006-03-01 06:59:54 -0500 (Wed, 01 Mar 2006) | 1 line

include the caught exception when relayed
------------------------------------------------------------------------
r381780 | jglick | 2006-02-28 16:07:15 -0500 (Tue, 28 Feb 2006) | 2 lines

#38811: support for JUnit 4.0.

------------------------------------------------------------------------
r381642 | jkf | 2006-02-28 07:21:01 -0500 (Tue, 28 Feb 2006) | 1 line

Removal of trailing ;
------------------------------------------------------------------------
r381467 | jglick | 2006-02-27 17:24:26 -0500 (Mon, 27 Feb 2006) | 3 lines

#38799: <junit> task should work so long as junit.jar
present in <classpath> even if not among Ant libs.

------------------------------------------------------------------------
r381261 | bodewig | 2006-02-27 00:05:08 -0500 (Mon, 27 Feb 2006) | 1 line

2006
------------------------------------------------------------------------
r380877 | jglick | 2006-02-24 19:58:11 -0500 (Fri, 24 Feb 2006) | 3 lines

Avoid catching ThreadDeath; just pass it on.
Cf. http://www.netbeans.org/nonav/issues/show_bug.cgi?id=47191

------------------------------------------------------------------------
r380876 | jglick | 2006-02-24 19:50:48 -0500 (Fri, 24 Feb 2006) | 2 lines

More helpful diagnostic message for an obscure mistake I once made...

------------------------------------------------------------------------
r380872 | jglick | 2006-02-24 19:22:21 -0500 (Fri, 24 Feb 2006) | 2 lines

Correct test failure when running with -ea.

------------------------------------------------------------------------
r380869 | jglick | 2006-02-24 18:49:55 -0500 (Fri, 24 Feb 2006) | 2 lines

Test failed if run on a system with UTF-8 encoding as the default.

------------------------------------------------------------------------
r379027 | bodewig | 2006-02-20 00:13:20 -0500 (Mon, 20 Feb 2006) | 1 line

enabled this test by accident
------------------------------------------------------------------------
r378708 | bodewig | 2006-02-18 05:09:26 -0500 (Sat, 18 Feb 2006) | 1 line

2006
------------------------------------------------------------------------
r378295 | jhm | 2006-02-16 11:45:26 -0500 (Thu, 16 Feb 2006) | 1 line

whisper that mkdir wont create an (already existing) directory
------------------------------------------------------------------------
r378020 | mbenson | 2006-02-15 10:16:24 -0500 (Wed, 15 Feb 2006) | 2 lines

Make Gump happy for now...

------------------------------------------------------------------------
r377946 | bodewig | 2006-02-15 01:05:50 -0500 (Wed, 15 Feb 2006) | 1 line

fix the test, sort of
------------------------------------------------------------------------
r377943 | bodewig | 2006-02-15 00:28:35 -0500 (Wed, 15 Feb 2006) | 1 line

whitespace
------------------------------------------------------------------------
r377942 | bodewig | 2006-02-15 00:27:55 -0500 (Wed, 15 Feb 2006) | 1 line

javadoc doesn't like the palckage name '', skip it
------------------------------------------------------------------------
r377623 | bodewig | 2006-02-14 00:15:45 -0500 (Tue, 14 Feb 2006) | 1 line

2006
------------------------------------------------------------------------
r377313 | kevj | 2006-02-13 01:41:42 -0500 (Mon, 13 Feb 2006) | 1 line

close <ol> tag in javadoc (well it is EchoXML after all...)
------------------------------------------------------------------------
r377306 | kevj | 2006-02-13 00:32:25 -0500 (Mon, 13 Feb 2006) | 1 line

2006 (sorry)
------------------------------------------------------------------------
r377305 | kevj | 2006-02-13 00:11:17 -0500 (Mon, 13 Feb 2006) | 1 line

use FileUtils.close
------------------------------------------------------------------------
r377166 | jkf | 2006-02-12 07:33:13 -0500 (Sun, 12 Feb 2006) | 1 line

PR 38622: project helper reference may not have been set.
------------------------------------------------------------------------
r375178 | kevj | 2006-02-06 00:15:44 -0500 (Mon, 06 Feb 2006) | 2 lines

- addresses enhancement request #27446
- added closeQuietly to reduce duplication
------------------------------------------------------------------------
r375172 | kevj | 2006-02-05 23:41:43 -0500 (Sun, 05 Feb 2006) | 1 line

use StringUtils and FileUtils where possible
------------------------------------------------------------------------
r375169 | kevj | 2006-02-05 23:31:27 -0500 (Sun, 05 Feb 2006) | 1 line

link to ant jakarta.apache.org -> ant.apache.org
------------------------------------------------------------------------
r374689 | jhm | 2006-02-03 10:26:32 -0500 (Fri, 03 Feb 2006) | 1 line

Enhance the Bug 38477 tests.
------------------------------------------------------------------------
r374580 | bodewig | 2006-02-03 00:07:45 -0500 (Fri, 03 Feb 2006) | 1 line

2006
------------------------------------------------------------------------
r374544 | jkf | 2006-02-02 18:48:59 -0500 (Thu, 02 Feb 2006) | 1 line

pr38465 improved recursion detection to allow the same token on one line multiple times.
------------------------------------------------------------------------
r374488 | jkf | 2006-02-02 15:43:05 -0500 (Thu, 02 Feb 2006) | 1 line

Corrected fix in Task.java (first shortcut removed the task name from the logging entry.) Used patch of Andreas Mross. 
------------------------------------------------------------------------
r374482 | jkf | 2006-02-02 15:08:32 -0500 (Thu, 02 Feb 2006) | 1 line

38458 removed log implementation of Task to allow logging from tasks outside a project. The base class has the logging behaviour we need. This does not guarantee that (all) tasks are working outside an project, but at least will not break just because of logging.
------------------------------------------------------------------------
r374479 | jkf | 2006-02-02 14:54:01 -0500 (Thu, 02 Feb 2006) | 1 line

Removed trivial unused private methods 
------------------------------------------------------------------------
r374475 | jkf | 2006-02-02 14:44:13 -0500 (Thu, 02 Feb 2006) | 1 line

Remove unused imports from testcases
------------------------------------------------------------------------
r374473 | jkf | 2006-02-02 14:37:46 -0500 (Thu, 02 Feb 2006) | 1 line

Remove unused imports from testcases
------------------------------------------------------------------------
r374463 | jkf | 2006-02-02 14:22:37 -0500 (Thu, 02 Feb 2006) | 1 line

Remove unused import + removed some commented out code, which has been commented out since its introduction.
------------------------------------------------------------------------
r374314 | jhm | 2006-02-02 04:02:11 -0500 (Thu, 02 Feb 2006) | 1 line

Bug 38477: testcase, but couldnt see that error
------------------------------------------------------------------------
r374000 | bodewig | 2006-02-01 00:45:55 -0500 (Wed, 01 Feb 2006) | 1 line

skip non-directory entries in sourcepath
------------------------------------------------------------------------
r373999 | bodewig | 2006-02-01 00:45:08 -0500 (Wed, 01 Feb 2006) | 1 line

tests for 38370
------------------------------------------------------------------------
r373716 | bodewig | 2006-01-31 00:27:33 -0500 (Tue, 31 Jan 2006) | 1 line

whitespace
------------------------------------------------------------------------
r373714 | bodewig | 2006-01-31 00:26:03 -0500 (Tue, 31 Jan 2006) | 1 line

make sure classloader cleans up resources in any case, PR 38260, submitted by Stephan Michels
------------------------------------------------------------------------
r373154 | bodewig | 2006-01-28 10:05:11 -0500 (Sat, 28 Jan 2006) | 1 line

test for Bug 37237
------------------------------------------------------------------------
r372740 | bodewig | 2006-01-27 00:23:25 -0500 (Fri, 27 Jan 2006) | 1 line

2006
------------------------------------------------------------------------
r372176 | kevj | 2006-01-25 05:00:59 -0500 (Wed, 25 Jan 2006) | 2 lines

-swap to org.apache.tools.zip instead of jdk zip
-use closeQuietly
------------------------------------------------------------------------
r372160 | kevj | 2006-01-25 03:04:21 -0500 (Wed, 25 Jan 2006) | 2 lines

-remove imports
-change date
------------------------------------------------------------------------
r371658 | bodewig | 2006-01-23 15:42:42 -0500 (Mon, 23 Jan 2006) | 1 line

2006
------------------------------------------------------------------------
r371555 | mbenson | 2006-01-23 10:31:38 -0500 (Mon, 23 Jan 2006) | 4 lines

fix ANTLRTest in Gump (extra output files created by version 2.7.6 invalidate
assertions made in JUnit.  Made assertions more explicit and moved into the
test buildfile.

------------------------------------------------------------------------
r371235 | kevj | 2006-01-22 03:26:30 -0500 (Sun, 22 Jan 2006) | 2 lines

- removed private method that wasn't ever called
- changed date
------------------------------------------------------------------------
r370830 | mbenson | 2006-01-20 09:49:54 -0500 (Fri, 20 Jan 2006) | 1 line

tabs to spaces
------------------------------------------------------------------------
r370591 | antoine | 2006-01-19 15:05:14 -0500 (Thu, 19 Jan 2006) | 4 lines

Bugzilla 37426
Submitted by Maarten Coene
<junit> task doesn't print all the Test names when using forkmode='once'

------------------------------------------------------------------------
r370259 | stevel | 2006-01-18 16:11:21 -0500 (Wed, 18 Jan 2006) | 1 line

extra proxy diagnostics, in a java1.5-only package. By abusing the toString() operation, we dont need any extra interfaces for this.
------------------------------------------------------------------------
r369554 | bodewig | 2006-01-16 14:52:05 -0500 (Mon, 16 Jan 2006) | 1 line

2006
------------------------------------------------------------------------
r369536 | mbenson | 2006-01-16 12:59:54 -0500 (Mon, 16 Jan 2006) | 2 lines

quote IO error scanning directory...

------------------------------------------------------------------------
r369401 | kevj | 2006-01-16 03:51:36 -0500 (Mon, 16 Jan 2006) | 3 lines

bug #36817 fix + lower case tags
Could not reproduce bug on CVSNT
Could people with access to CVS on *nix check this revision please?
------------------------------------------------------------------------
r368599 | bodewig | 2006-01-13 00:21:09 -0500 (Fri, 13 Jan 2006) | 1 line

2006
------------------------------------------------------------------------
r368474 | mbenson | 2006-01-12 16:27:52 -0500 (Thu, 12 Jan 2006) | 2 lines

ws

------------------------------------------------------------------------
r368466 | stevel | 2006-01-12 16:03:26 -0500 (Thu, 12 Jan 2006) | 1 line

bug #38245; sql broken on Ant1.7; added expandProperties attribute to expand properties in SQL statements.
------------------------------------------------------------------------
r368283 | bodewig | 2006-01-12 00:28:07 -0500 (Thu, 12 Jan 2006) | 1 line

2006
------------------------------------------------------------------------
r368015 | stevel | 2006-01-11 07:04:05 -0500 (Wed, 11 Jan 2006) | 1 line

use FileUtils
------------------------------------------------------------------------
r367482 | bodewig | 2006-01-09 23:46:42 -0500 (Mon, 09 Jan 2006) | 1 line

2006
------------------------------------------------------------------------
r367342 | mbenson | 2006-01-09 12:22:17 -0500 (Mon, 09 Jan 2006) | 2 lines

repeat fix for resource operations

------------------------------------------------------------------------
r367316 | mbenson | 2006-01-09 10:11:36 -0500 (Mon, 09 Jan 2006) | 4 lines

support failonerror when file locked or similar issue. Bugzilla report 38175.
Submitted by Georges-Etienne Legendre.


------------------------------------------------------------------------
r367204 | bodewig | 2006-01-09 00:08:52 -0500 (Mon, 09 Jan 2006) | 1 line

Happy new year
------------------------------------------------------------------------
r367002 | kevj | 2006-01-08 02:09:45 -0500 (Sun, 08 Jan 2006) | 1 line

removed deprecated method calls, changed date
------------------------------------------------------------------------
r366902 | jkf | 2006-01-07 15:14:22 -0500 (Sat, 07 Jan 2006) | 1 line

PR35852: Committed changes provided by Benjamin Burgess
------------------------------------------------------------------------
r365833 | bodewig | 2006-01-04 00:51:55 -0500 (Wed, 04 Jan 2006) | 1 line

throw away all flag, add a precommit one to account for different svn syntax for status and update
------------------------------------------------------------------------
r360158 | mbenson | 2005-12-30 15:02:55 -0500 (Fri, 30 Dec 2005) | 3 lines

list->set in GenericDeploymentTool per PR# 37775. Submitted by Dave Brosius
+ a small modification.

------------------------------------------------------------------------
r360155 | mbenson | 2005-12-30 14:51:44 -0500 (Fri, 30 Dec 2005) | 4 lines

A bug in SQLExec would prevent the execution of trailing,
non-semicolon-delimited statements.  Bugzilla Report 37764.
Submitted by Dave Brosius.

------------------------------------------------------------------------
r360113 | mbenson | 2005-12-30 11:07:24 -0500 (Fri, 30 Dec 2005) | 3 lines

Properly document "since version" for filelist nested file element.
Bugzilla 37824.

------------------------------------------------------------------------
r359329 | jglick | 2005-12-27 19:09:58 -0500 (Tue, 27 Dec 2005) | 2 lines

#38056: NPE when using presetdef under obscure circumstances.

------------------------------------------------------------------------
r359327 | jglick | 2005-12-27 19:06:00 -0500 (Tue, 27 Dec 2005) | 2 lines

More helpful error message.

------------------------------------------------------------------------
r359325 | stevel | 2005-12-27 18:41:41 -0500 (Tue, 27 Dec 2005) | 1 line

xml nameserver check
------------------------------------------------------------------------
r359320 | mbenson | 2005-12-27 18:18:15 -0500 (Tue, 27 Dec 2005) | 2 lines

check for blank text before evaluating properties

------------------------------------------------------------------------
r359318 | mbenson | 2005-12-27 18:02:10 -0500 (Tue, 27 Dec 2005) | 2 lines

ws

------------------------------------------------------------------------
r359317 | mbenson | 2005-12-27 18:00:45 -0500 (Tue, 27 Dec 2005) | 2 lines

added the inline handler element to the input task.

------------------------------------------------------------------------
r359316 | mbenson | 2005-12-27 17:57:02 -0500 (Tue, 27 Dec 2005) | 2 lines

ws/javadoc/small code shrinkages

------------------------------------------------------------------------
r359315 | mbenson | 2005-12-27 17:56:35 -0500 (Tue, 27 Dec 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r359270 | mbenson | 2005-12-27 15:06:54 -0500 (Tue, 27 Dec 2005) | 2 lines

preserve case on Cygwin when using 1.4 toURI

------------------------------------------------------------------------
r359262 | mbenson | 2005-12-27 14:02:40 -0500 (Tue, 27 Dec 2005) | 2 lines

added the onmissingfiltersfile attribute to filterset. Bugzilla report 19845.

------------------------------------------------------------------------
r359225 | mbenson | 2005-12-27 11:07:24 -0500 (Tue, 27 Dec 2005) | 2 lines

add clear()

------------------------------------------------------------------------
r359224 | mbenson | 2005-12-27 11:07:00 -0500 (Tue, 27 Dec 2005) | 2 lines

ws

------------------------------------------------------------------------
r358949 | stevel | 2005-12-24 14:34:11 -0500 (Sat, 24 Dec 2005) | 1 line

replace inline constants with strings, cleaner instantiation logic.
------------------------------------------------------------------------
r358863 | mbenson | 2005-12-23 15:15:49 -0500 (Fri, 23 Dec 2005) | 2 lines

add the resourcesmatch condition.

------------------------------------------------------------------------
r358851 | mbenson | 2005-12-23 14:21:37 -0500 (Fri, 23 Dec 2005) | 2 lines

more ws

------------------------------------------------------------------------
r358850 | mbenson | 2005-12-23 14:16:11 -0500 (Fri, 23 Dec 2005) | 2 lines

ws

------------------------------------------------------------------------
r358849 | mbenson | 2005-12-23 14:15:12 -0500 (Fri, 23 Dec 2005) | 3 lines

make different line endings different lengths so file sizes will differ,
increasing the validity of the test.

------------------------------------------------------------------------
r358828 | mbenson | 2005-12-23 11:47:09 -0500 (Fri, 23 Dec 2005) | 2 lines

add textfile attribute to filesmatch condition.

------------------------------------------------------------------------
r358653 | mbenson | 2005-12-22 18:28:16 -0500 (Thu, 22 Dec 2005) | 2 lines

fix failonerror="false" includeemptydirs="true"; reported by Alexey.

------------------------------------------------------------------------
r358628 | mbenson | 2005-12-22 15:58:20 -0500 (Thu, 22 Dec 2005) | 2 lines

call cleanup at tearDown

------------------------------------------------------------------------
r358627 | mbenson | 2005-12-22 15:57:47 -0500 (Thu, 22 Dec 2005) | 2 lines

fixed fileset deletion slowdown.  Bugzilla 37297.

------------------------------------------------------------------------
r358621 | mbenson | 2005-12-22 15:41:49 -0500 (Thu, 22 Dec 2005) | 2 lines

s/CODE/code/g in javadoc

------------------------------------------------------------------------
r358117 | antoine | 2005-12-20 16:56:31 -0500 (Tue, 20 Dec 2005) | 1 line

Make the tests pass on Gump.
------------------------------------------------------------------------
r357908 | bodewig | 2005-12-19 23:50:14 -0500 (Mon, 19 Dec 2005) | 1 line

better deal with elements that don't have a namespace URI
------------------------------------------------------------------------
r357897 | antoine | 2005-12-19 22:58:17 -0500 (Mon, 19 Dec 2005) | 2 lines

revert encoding of the URI prior to decoding it in Locator#fromURI.
Otherwise FileUtilsTest fail.
------------------------------------------------------------------------
r357737 | mbenson | 2005-12-19 12:52:05 -0500 (Mon, 19 Dec 2005) | 4 lines

add'l fixes RE using URI >= Java 1.4:  ensure the URI is encoded prior to
passing to URI.create(); ensure no new object is created by encodeUri until
encoding is determined to be necessary.

------------------------------------------------------------------------
r357695 | mbenson | 2005-12-19 09:38:25 -0500 (Mon, 19 Dec 2005) | 2 lines

call setProject on ChainReaderHelper instances. Bugzilla #37958.

------------------------------------------------------------------------
r357651 | antoine | 2005-12-19 01:04:29 -0500 (Mon, 19 Dec 2005) | 2 lines

international tests for ManifestClassPath

------------------------------------------------------------------------
r357509 | jkf | 2005-12-18 16:40:58 -0500 (Sun, 18 Dec 2005) | 1 line

Removing unused imports.
------------------------------------------------------------------------
r357131 | antoine | 2005-12-16 01:36:28 -0500 (Fri, 16 Dec 2005) | 4 lines

more systematic handling of URIs, delegation of work to the JDK
for toURI and fromURI
patches prepared by Jesse Glick, Bugzilla 8031

------------------------------------------------------------------------
r357121 | bodewig | 2005-12-15 23:47:51 -0500 (Thu, 15 Dec 2005) | 1 line

untabify
------------------------------------------------------------------------
r357117 | bodewig | 2005-12-15 23:26:26 -0500 (Thu, 15 Dec 2005) | 1 line

Add NS support to DOMElementWriter
------------------------------------------------------------------------
r357116 | bodewig | 2005-12-15 23:21:12 -0500 (Thu, 15 Dec 2005) | 1 line

make it consistent with the nested elements
------------------------------------------------------------------------
r356356 | stevel | 2005-12-12 14:49:07 -0500 (Mon, 12 Dec 2005) | 3 lines

<echo> gets encoding support. I cannot believe we never noticed this was missing. Wherever I have been echoing out XML, I have been creating encoding bugs waiting to surface.

Also, echoxml closes its file handles.
------------------------------------------------------------------------
r354209 | antoine | 2005-12-05 17:28:46 -0500 (Mon, 05 Dec 2005) | 2 lines

Fix for Bugzilla 13655. Thanks to Simon Law. Proper return code for ant.bat

------------------------------------------------------------------------
r354190 | mbenson | 2005-12-05 16:18:23 -0500 (Mon, 05 Dec 2005) | 2 lines

fix setMapper method.  PR# 37760

------------------------------------------------------------------------
r354103 | jkf | 2005-12-05 12:15:54 -0500 (Mon, 05 Dec 2005) | 1 line

Remove unused imports
------------------------------------------------------------------------
r354101 | jkf | 2005-12-05 12:13:07 -0500 (Mon, 05 Dec 2005) | 1 line

PR 37777  Performance improvements by Dave Brosius
------------------------------------------------------------------------
r354100 | jkf | 2005-12-05 12:08:12 -0500 (Mon, 05 Dec 2005) | 1 line

PR 37765: Fixing NPE, defect discovered by Dave Brosius
------------------------------------------------------------------------
r354099 | jkf | 2005-12-05 12:06:14 -0500 (Mon, 05 Dec 2005) | 1 line

PR 37765: Fixing NPE thanks to Dave Brosius
------------------------------------------------------------------------
r351741 | mbenson | 2005-12-02 09:50:00 -0500 (Fri, 02 Dec 2005) | 2 lines

remove java resource support from URL resource in favor of JavaResource.

------------------------------------------------------------------------
r350260 | mbenson | 2005-12-01 09:56:25 -0500 (Thu, 01 Dec 2005) | 2 lines

Replace try-catch with a preemptive check.

------------------------------------------------------------------------
r350258 | jkf | 2005-12-01 09:31:09 -0500 (Thu, 01 Dec 2005) | 1 line

Fix import / removed unused variables
------------------------------------------------------------------------
r350068 | mbenson | 2005-11-30 18:19:25 -0500 (Wed, 30 Nov 2005) | 2 lines

ws

------------------------------------------------------------------------
r350061 | antoine | 2005-11-30 17:13:24 -0500 (Wed, 30 Nov 2005) | 2 lines

percent encode the relative paths in ManifestClassPath

------------------------------------------------------------------------
r350045 | mbenson | 2005-11-30 15:45:57 -0500 (Wed, 30 Nov 2005) | 2 lines

not much

------------------------------------------------------------------------
r349878 | bodewig | 2005-11-29 23:53:48 -0500 (Tue, 29 Nov 2005) | 1 line

fix linefeeds
------------------------------------------------------------------------
r349785 | antoine | 2005-11-29 13:34:17 -0500 (Tue, 29 Nov 2005) | 2 lines

use SystemId from JAXPUtils, can be better

------------------------------------------------------------------------
r349735 | mbenson | 2005-11-29 10:37:27 -0500 (Tue, 29 Nov 2005) | 2 lines

fix typo

------------------------------------------------------------------------
r349711 | stevel | 2005-11-29 07:07:46 -0500 (Tue, 29 Nov 2005) | 1 line

the bigger your project, the harder it is to track down bugs
------------------------------------------------------------------------
r349648 | bodewig | 2005-11-28 23:58:45 -0500 (Mon, 28 Nov 2005) | 1 line

fix build for JDK1.4 and earlier
------------------------------------------------------------------------
r349646 | bodewig | 2005-11-28 23:52:33 -0500 (Mon, 28 Nov 2005) | 1 line

performance enhancement, without this getNonFilesetResourcesToAdd might get invoked twice if the manifest changes
------------------------------------------------------------------------
r349643 | bodewig | 2005-11-28 23:51:01 -0500 (Mon, 28 Nov 2005) | 1 line

Add support for arbitrary resource collections to <zip> and friends, preserve permissions read via a <tarfileset>
------------------------------------------------------------------------
r349642 | bodewig | 2005-11-28 23:49:34 -0500 (Mon, 28 Nov 2005) | 1 line

this time really commit the VerifyJar version with resource collection support
------------------------------------------------------------------------
r349641 | bodewig | 2005-11-28 23:48:54 -0500 (Mon, 28 Nov 2005) | 1 line

support for arbitrary resource collections as sources in <uptodate>
------------------------------------------------------------------------
r349640 | bodewig | 2005-11-28 23:46:45 -0500 (Mon, 28 Nov 2005) | 1 line

support for arbitrary resource collections in <sql>
------------------------------------------------------------------------
r349639 | bodewig | 2005-11-28 23:45:43 -0500 (Mon, 28 Nov 2005) | 1 line

support for filesystem based resource collections in <signjar> and VerifyJar
------------------------------------------------------------------------
r349638 | bodewig | 2005-11-28 23:44:04 -0500 (Mon, 28 Nov 2005) | 1 line

support for filesystem based resource collections in <mail>
------------------------------------------------------------------------
r349637 | bodewig | 2005-11-28 23:42:55 -0500 (Mon, 28 Nov 2005) | 1 line

support for Touchable resource collections in <touch>
------------------------------------------------------------------------
r349636 | bodewig | 2005-11-28 23:41:31 -0500 (Mon, 28 Nov 2005) | 1 line

resource support for <loadproperties>
------------------------------------------------------------------------
r349633 | bodewig | 2005-11-28 23:38:42 -0500 (Mon, 28 Nov 2005) | 1 line

new resource <javaresource> for stuff that can be loaded via a classloader
------------------------------------------------------------------------
r349630 | bodewig | 2005-11-28 23:36:21 -0500 (Mon, 28 Nov 2005) | 1 line

fix test
------------------------------------------------------------------------
r349629 | bodewig | 2005-11-28 23:35:59 -0500 (Mon, 28 Nov 2005) | 1 line

take failOnError into account
------------------------------------------------------------------------
r349627 | bodewig | 2005-11-28 23:35:04 -0500 (Mon, 28 Nov 2005) | 1 line

really say UNKNOWN if you don't know the size
------------------------------------------------------------------------
r349626 | bodewig | 2005-11-28 23:34:01 -0500 (Mon, 28 Nov 2005) | 1 line

make Project a resource factory for convenience
------------------------------------------------------------------------
r349552 | antoine | 2005-11-28 18:14:24 -0500 (Mon, 28 Nov 2005) | 3 lines

properly convert URIs back to file paths when non ascii characters are percent-encoded
matches with the change in FileUtils.toURI recently done

------------------------------------------------------------------------
r349276 | bodewig | 2005-11-27 13:54:22 -0500 (Sun, 27 Nov 2005) | 1 line

reject non-existant resources
------------------------------------------------------------------------
r348914 | bodewig | 2005-11-25 03:47:50 -0500 (Fri, 25 Nov 2005) | 1 line

new task loadresource
------------------------------------------------------------------------
r348913 | bodewig | 2005-11-25 03:42:22 -0500 (Fri, 25 Nov 2005) | 1 line

fix extraneous whitespace, should fix svn-antlib tests
------------------------------------------------------------------------
r348912 | bodewig | 2005-11-25 03:41:24 -0500 (Fri, 25 Nov 2005) | 1 line

put the correct default value into comments
------------------------------------------------------------------------
r348770 | stevel | 2005-11-24 11:44:19 -0500 (Thu, 24 Nov 2005) | 1 line

37328 Definer blows away current thread task
------------------------------------------------------------------------
r348764 | stevel | 2005-11-24 11:13:10 -0500 (Thu, 24 Nov 2005) | 5 lines

bug# 31972

PropertyHelper data members should be protected, not private

-added protected accessors to the live data, so that we have more of a choke point on their use/abuse.
------------------------------------------------------------------------
r348762 | stevel | 2005-11-24 11:04:44 -0500 (Thu, 24 Nov 2005) | 3 lines

apt fix. this should have gone in with the fork-only patch in march.

also: pulled java1.5 only rule. because java1.6 is coming.
------------------------------------------------------------------------
r348756 | stevel | 2005-11-24 10:38:24 -0500 (Thu, 24 Nov 2005) | 1 line

can't ignore the deprecation warnings, can we?
------------------------------------------------------------------------
r348558 | antoine | 2005-11-23 15:53:49 -0500 (Wed, 23 Nov 2005) | 1 line

make bootstrap on JDK 1.2
------------------------------------------------------------------------
r348538 | antoine | 2005-11-23 15:08:47 -0500 (Wed, 23 Nov 2005) | 2 lines

EmailTask was eating SMTP error messages. Bugzilla report 37547.

------------------------------------------------------------------------
r348511 | mbenson | 2005-11-23 13:22:37 -0500 (Wed, 23 Nov 2005) | 2 lines

spelling

------------------------------------------------------------------------
r348510 | mbenson | 2005-11-23 13:16:24 -0500 (Wed, 23 Nov 2005) | 2 lines

allow empty <resources> after all.

------------------------------------------------------------------------
r348509 | mbenson | 2005-11-23 13:14:04 -0500 (Wed, 23 Nov 2005) | 3 lines

add filenamemapper support to <xslt>.
Bugzilla 37604. Submitted by Maarten Coene.

------------------------------------------------------------------------
r348500 | ddevienne | 2005-11-23 12:41:51 -0500 (Wed, 23 Nov 2005) | 1 line

Add new manifestclasspath core task. Make BuildFileTest call tearDown target automatically in build file test if one is defined.
------------------------------------------------------------------------
r348465 | mbenson | 2005-11-23 10:44:01 -0500 (Wed, 23 Nov 2005) | 2 lines

 > 1 ssh invocations to a given host would fail. Bugzilla report 36207.

------------------------------------------------------------------------
r345766 | jkf | 2005-11-20 13:06:25 -0500 (Sun, 20 Nov 2005) | 9 lines

PR 37546:
Use alternative names for the compiler argument line.
(If modern is specified in javac and javac1.5 is used, 
and for javac1.5 a command line is specified, but no
command line is specified for modern, the javac1.5 
command line will be used, if no javac has been specified
and javac 1.4 is used and a comman line is specified for
modern, the command line specified for modern will be used,
etc.)
------------------------------------------------------------------------
r345265 | antoine | 2005-11-17 10:35:08 -0500 (Thu, 17 Nov 2005) | 1 line

cleanup of imports, use FileUtils.close, submitted by Kevin Jackson
------------------------------------------------------------------------
r345260 | antoine | 2005-11-17 10:29:33 -0500 (Thu, 17 Nov 2005) | 1 line

cleanup of imports, use FileUtils.close, submitted by Kevin Jackson
------------------------------------------------------------------------
r345256 | antoine | 2005-11-17 10:08:15 -0500 (Thu, 17 Nov 2005) | 3 lines

add a test case for bugrep 37348 in the xslt task, also remove 
unneeded imports in FileUtils

------------------------------------------------------------------------
r345144 | antoine | 2005-11-16 18:00:49 -0500 (Wed, 16 Nov 2005) | 1 line

restore credit for the xerces-j team, sorry ...
------------------------------------------------------------------------
r345141 | antoine | 2005-11-16 17:45:35 -0500 (Wed, 16 Nov 2005) | 5 lines

fix for bug report 37348
encode non ascii characters in FileUtils.toURI()
this allows to process XML documents with System entities 
housed in non ASCII paths.

------------------------------------------------------------------------
r344885 | bodewig | 2005-11-15 23:42:21 -0500 (Tue, 15 Nov 2005) | 1 line

fix tag name in comment
------------------------------------------------------------------------
r344334 | bodewig | 2005-11-15 03:31:19 -0500 (Tue, 15 Nov 2005) | 1 line

add resource support to gzip/bzip2
------------------------------------------------------------------------
r344333 | bodewig | 2005-11-15 03:30:40 -0500 (Tue, 15 Nov 2005) | 1 line

add resource support to xmlproperty
------------------------------------------------------------------------
r332493 | stevel | 2005-11-11 03:49:12 -0500 (Fri, 11 Nov 2005) | 1 line

delete the libraries prototype
------------------------------------------------------------------------
r332492 | stevel | 2005-11-11 03:44:54 -0500 (Fri, 11 Nov 2005) | 1 line

delete the libraries prototype
------------------------------------------------------------------------
r332100 | mbenson | 2005-11-09 13:39:35 -0500 (Wed, 09 Nov 2005) | 1 line

use FileUtils.close()
------------------------------------------------------------------------
r332099 | mbenson | 2005-11-09 13:38:34 -0500 (Wed, 09 Nov 2005) | 1 line

ws
------------------------------------------------------------------------
r330651 | jkf | 2005-11-03 17:10:15 -0500 (Thu, 03 Nov 2005) | 2 lines

Fix for 37341
cache of filterHash must also be invalidated if a file is read, not only if a single filter is added.
------------------------------------------------------------------------
r329409 | bodewig | 2005-10-29 09:09:43 -0400 (Sat, 29 Oct 2005) | 1 line

resource collections for [bg]unzip2?
------------------------------------------------------------------------
r329407 | bodewig | 2005-10-29 09:08:35 -0400 (Sat, 29 Oct 2005) | 1 line

add a few more checks
------------------------------------------------------------------------
r329387 | jhm | 2005-10-29 06:03:31 -0400 (Sat, 29 Oct 2005) | 1 line

Revert my previous change and place a note why we leave apply=Transform.class.
------------------------------------------------------------------------
r329249 | alexeys | 2005-10-28 12:52:57 -0400 (Fri, 28 Oct 2005) | 2 lines

2005

------------------------------------------------------------------------
r329234 | alexeys | 2005-10-28 12:06:03 -0400 (Fri, 28 Oct 2005) | 4 lines

Bugzilla 28773
* added support for nested filesets into DotnetResource
* fixed problem when compiling with several references

------------------------------------------------------------------------
r328892 | jhm | 2005-10-27 11:11:12 -0400 (Thu, 27 Oct 2005) | 1 line

Class Transform is deprecated for a long time, functions are in ExecuteOn - why not use the class directly (instead of inherited one).
------------------------------------------------------------------------
r328721 | antoine | 2005-10-26 15:54:33 -0400 (Wed, 26 Oct 2005) | 1 line

make AntlibTest pass on gump
------------------------------------------------------------------------
r328709 | antoine | 2005-10-26 15:07:22 -0400 (Wed, 26 Oct 2005) | 1 line

use FileUtils in a static way - submitted by Kevin Jackson
------------------------------------------------------------------------
r328708 | antoine | 2005-10-26 15:04:48 -0400 (Wed, 26 Oct 2005) | 1 line

remove call to deprecated method ProjectHelper.parsePropertyString - submitted by Kevin Jackson
------------------------------------------------------------------------
r328707 | antoine | 2005-10-26 14:58:03 -0400 (Wed, 26 Oct 2005) | 1 line

remove FileUtils - submitted by Kevin Jackson
------------------------------------------------------------------------
r328172 | mbenson | 2005-10-24 18:30:21 -0400 (Mon, 24 Oct 2005) | 2 lines

<delete failonerror="false" /> was still failing.

------------------------------------------------------------------------
r328166 | mbenson | 2005-10-24 18:14:53 -0400 (Mon, 24 Oct 2005) | 3 lines

Revert previous change; apparently I am unhinged because I can't see how it's
happening but I'm getting ConcurrentModificationExceptions willy-nilly.

------------------------------------------------------------------------
r328083 | mbenson | 2005-10-24 11:18:52 -0400 (Mon, 24 Oct 2005) | 2 lines

Bugzilla 37184; submitted by Frank Harnack.  Also replaced extra listener Vector instances by synchronization for ConcurrentModificationException guards.

------------------------------------------------------------------------
r328081 | peterreilly | 2005-10-24 11:09:47 -0400 (Mon, 24 Oct 2005) | 3 lines

bugzilla 37184: multiple calls to addlistener for introspection helper objects
reporter:  Frank Harnack

------------------------------------------------------------------------
r327676 | sbailliez | 2005-10-22 13:58:42 -0400 (Sat, 22 Oct 2005) | 2 lines

JDK 1.2 is EOL and documentation is no more available. Point to JDK 5 API
PR: 37203
------------------------------------------------------------------------
r327675 | sbailliez | 2005-10-22 13:27:25 -0400 (Sat, 22 Oct 2005) | 2 lines

Fix performance issue with StringBuffer.toString() on JDK 5.
PR: 37169
------------------------------------------------------------------------
r327253 | mbenson | 2005-10-21 15:21:29 -0400 (Fri, 21 Oct 2005) | 2 lines

Add debugging messages for Gump failure.

------------------------------------------------------------------------
r327090 | bodewig | 2005-10-20 23:53:14 -0400 (Thu, 20 Oct 2005) | 1 line

revert parts of rev 327004
------------------------------------------------------------------------
r327061 | antoine | 2005-10-20 20:57:48 -0400 (Thu, 20 Oct 2005) | 1 line

solve problem refering jars specfied by Class-Path attribute in manifest of a ant task jar file, when this ant task jar file is located in a directory with space. Bugzilla Report 37085.
------------------------------------------------------------------------
r327058 | antoine | 2005-10-20 20:55:41 -0400 (Thu, 20 Oct 2005) | 1 line

solve problem refering jars specfied by Class-Path attribute in manifest of a ant task jar file, when this ant task jar file is located in a directory with space. Bugzilla Report 37085.
------------------------------------------------------------------------
r327056 | antoine | 2005-10-20 20:53:22 -0400 (Thu, 20 Oct 2005) | 1 line

solve problem refering jars specfied by Class-Path attribute in manifest of a ant task jar file, when this ant task jar file is located in a directory with space. Bugzilla Report 37085.
------------------------------------------------------------------------
r327004 | antoine | 2005-10-20 17:24:45 -0400 (Thu, 20 Oct 2005) | 1 line

instantiate a FileResource when setSrc(Resource) is called. Otherwise a number of tests break.
------------------------------------------------------------------------
r326984 | bodewig | 2005-10-20 15:30:39 -0400 (Thu, 20 Oct 2005) | 1 line

only one setSrc method, otherwise it is not predictable which one is picked by IntorspectionHelper
------------------------------------------------------------------------
r326980 | bodewig | 2005-10-20 15:15:49 -0400 (Thu, 20 Oct 2005) | 1 line

make <apply parallel="true"> work again even if only filesets but no other resource collections have been specified
------------------------------------------------------------------------
r326976 | bodewig | 2005-10-20 15:01:48 -0400 (Thu, 20 Oct 2005) | 1 line

tweak a backwards incompatibilty in <tar>
------------------------------------------------------------------------
r326804 | bodewig | 2005-10-20 00:21:07 -0400 (Thu, 20 Oct 2005) | 1 line

provide more information
------------------------------------------------------------------------
r326643 | bodewig | 2005-10-19 14:40:56 -0400 (Wed, 19 Oct 2005) | 1 line

add resource collection support to tar
------------------------------------------------------------------------
r326640 | bodewig | 2005-10-19 14:40:02 -0400 (Wed, 19 Oct 2005) | 1 line

better return the correct size
------------------------------------------------------------------------
r326639 | bodewig | 2005-10-19 14:39:27 -0400 (Wed, 19 Oct 2005) | 1 line

more docs and tests
------------------------------------------------------------------------
r326636 | bodewig | 2005-10-19 14:37:15 -0400 (Wed, 19 Oct 2005) | 1 line

more docs and tests
------------------------------------------------------------------------
r314776 | bodewig | 2005-10-12 00:22:37 -0400 (Wed, 12 Oct 2005) | 1 line

Now that resources become available in more tasks, throw in a couple of new resources, including tarfileset
------------------------------------------------------------------------
r312750 | stevel | 2005-10-10 17:17:56 -0400 (Mon, 10 Oct 2005) | 2 lines

echoXML does property expansion, does not print the XML header when appending. There is some defect here wherein some tailing spaces get into every printed node, so <e>value</e> goes to <e>value   </e>
; I havent tracked it down yet.
------------------------------------------------------------------------
r307120 | mbenson | 2005-10-07 09:31:12 -0400 (Fri, 07 Oct 2005) | 2 lines

misspelled class name + merge 2 lines

------------------------------------------------------------------------
r307118 | mbenson | 2005-10-07 09:26:28 -0400 (Fri, 07 Oct 2005) | 2 lines

s/CODE/code/g

------------------------------------------------------------------------
r306851 | mbenson | 2005-10-06 15:14:49 -0400 (Thu, 06 Oct 2005) | 2 lines

greedy input handler; will consume stdin completely for unattended builds.

------------------------------------------------------------------------
r306847 | mbenson | 2005-10-06 15:12:49 -0400 (Thu, 06 Oct 2005) | 2 lines

implement TODO of configurable buffer size.

------------------------------------------------------------------------
r306836 | mbenson | 2005-10-06 14:46:19 -0400 (Thu, 06 Oct 2005) | 2 lines

Remove extra asterisks ending javadoc comments

------------------------------------------------------------------------
r306835 | mbenson | 2005-10-06 14:45:32 -0400 (Thu, 06 Oct 2005) | 2 lines

add exception accessor per TODO

------------------------------------------------------------------------
r306781 | mbenson | 2005-10-06 11:48:23 -0400 (Thu, 06 Oct 2005) | 2 lines

magic name

------------------------------------------------------------------------
r306521 | bodewig | 2005-10-05 23:51:48 -0400 (Wed, 05 Oct 2005) | 1 line

<copy> and <sync> can now work on non-filesystem resources as well
------------------------------------------------------------------------
r306520 | bodewig | 2005-10-05 23:50:30 -0400 (Wed, 05 Oct 2005) | 1 line

empty collection != no collection
------------------------------------------------------------------------
r306519 | bodewig | 2005-10-05 23:49:34 -0400 (Wed, 05 Oct 2005) | 1 line

docs and tests for unzip/tar and resource collections
------------------------------------------------------------------------
r293158 | jkf | 2005-10-02 16:11:51 -0400 (Sun, 02 Oct 2005) | 1 line

javadoc fix
------------------------------------------------------------------------
r293157 | jkf | 2005-10-02 16:04:39 -0400 (Sun, 02 Oct 2005) | 4 lines

Updated the Jar task to have an whenmanifestonly attribute, 
creating the possibility to skip jar files that would 
otherwise only contain a jar file. Also started to use this
for the optional tasks in the build.xml
------------------------------------------------------------------------
r292984 | jkf | 2005-10-01 09:48:19 -0400 (Sat, 01 Oct 2005) | 1 line

Improved sorting, added other deprecated tasks to the deprected section.
------------------------------------------------------------------------
r292982 | jkf | 2005-10-01 09:35:02 -0400 (Sat, 01 Oct 2005) | 1 line

Moved execon to deprecated section
------------------------------------------------------------------------
r292804 | mbenson | 2005-09-30 12:27:31 -0400 (Fri, 30 Sep 2005) | 2 lines

Support filesystem-only resource collections in checksum.

------------------------------------------------------------------------
r292775 | mbenson | 2005-09-30 11:37:48 -0400 (Fri, 30 Sep 2005) | 2 lines

antunit-ize checksum tests

------------------------------------------------------------------------
r292553 | mbenson | 2005-09-29 17:09:44 -0400 (Thu, 29 Sep 2005) | 2 lines

Move Resource-based utility methods in FileUtils to ResourceUtils (static).

------------------------------------------------------------------------
r292552 | mbenson | 2005-09-29 17:08:14 -0400 (Thu, 29 Sep 2005) | 2 lines

ensure that property w/ fileset applies to a single file

------------------------------------------------------------------------
r292551 | mbenson | 2005-09-29 17:06:25 -0400 (Thu, 29 Sep 2005) | 2 lines

Fix wrongly-defined build.dir

------------------------------------------------------------------------
r292520 | mbenson | 2005-09-29 15:27:22 -0400 (Thu, 29 Sep 2005) | 2 lines

(judiciously) use FileUtils.close()

------------------------------------------------------------------------
r292420 | bodewig | 2005-09-29 07:37:19 -0400 (Thu, 29 Sep 2005) | 1 line

empty collection != no collection - found by Gump and the jline build
------------------------------------------------------------------------
r292418 | bodewig | 2005-09-29 07:28:33 -0400 (Thu, 29 Sep 2005) | 1 line

cleanup
------------------------------------------------------------------------
r292417 | bodewig | 2005-09-29 07:27:36 -0400 (Thu, 29 Sep 2005) | 1 line

Fix avalon builds in Gump, see comments in source
------------------------------------------------------------------------
r292283 | bodewig | 2005-09-28 15:55:34 -0400 (Wed, 28 Sep 2005) | 1 line

whitespace
------------------------------------------------------------------------
r292278 | bodewig | 2005-09-28 15:32:03 -0400 (Wed, 28 Sep 2005) | 1 line

whitespace and 2005
------------------------------------------------------------------------
r292276 | bodewig | 2005-09-28 15:28:39 -0400 (Wed, 28 Sep 2005) | 1 line

No, not necessary
------------------------------------------------------------------------
r292273 | mbenson | 2005-09-28 15:25:43 -0400 (Wed, 28 Sep 2005) | 2 lines

ws/tabs + merge a string cat

------------------------------------------------------------------------
r292262 | mbenson | 2005-09-28 15:11:52 -0400 (Wed, 28 Sep 2005) | 3 lines

Handle filesets added via add(ResourceCollection)
by sending back to addFileset().  remove tabs.

------------------------------------------------------------------------
r292261 | bodewig | 2005-09-28 15:08:09 -0400 (Wed, 28 Sep 2005) | 1 line

resource collection support for unzip/jar/war/tar
------------------------------------------------------------------------
r292251 | bodewig | 2005-09-28 14:48:41 -0400 (Wed, 28 Sep 2005) | 1 line

resource collection support for apply and friends
------------------------------------------------------------------------
r292249 | bodewig | 2005-09-28 14:46:40 -0400 (Wed, 28 Sep 2005) | 1 line

resource collection support for xslt
------------------------------------------------------------------------
r292247 | bodewig | 2005-09-28 14:42:46 -0400 (Wed, 28 Sep 2005) | 1 line

Add resource collection support to copy and friends
------------------------------------------------------------------------
r292245 | bodewig | 2005-09-28 14:38:27 -0400 (Wed, 28 Sep 2005) | 1 line

resource collection support for subant
------------------------------------------------------------------------
r292244 | bodewig | 2005-09-28 14:34:04 -0400 (Wed, 28 Sep 2005) | 1 line

lay grounds for Schema or Relax NG description generators as plugins in antstructure
------------------------------------------------------------------------
r292242 | bodewig | 2005-09-28 14:32:08 -0400 (Wed, 28 Sep 2005) | 1 line

ResourceCollection support for batchtest
------------------------------------------------------------------------
r292241 | bodewig | 2005-09-28 14:31:20 -0400 (Wed, 28 Sep 2005) | 1 line

use our own code
------------------------------------------------------------------------
r292239 | bodewig | 2005-09-28 14:30:50 -0400 (Wed, 28 Sep 2005) | 1 line

make it work for directries with spaces
------------------------------------------------------------------------
r292237 | mbenson | 2005-09-28 14:29:42 -0400 (Wed, 28 Sep 2005) | 2 lines

cright

------------------------------------------------------------------------
r292236 | mbenson | 2005-09-28 14:25:44 -0400 (Wed, 28 Sep 2005) | 3 lines

Don't try to delete nonexistent resources; switched to a single static
reverse filesystem ResourceComparator.

------------------------------------------------------------------------
r291012 | jkf | 2005-09-22 16:03:53 -0400 (Thu, 22 Sep 2005) | 1 line

Layout, extracted methods / named constants
------------------------------------------------------------------------
r291011 | jkf | 2005-09-22 16:00:30 -0400 (Thu, 22 Sep 2005) | 1 line

whitespace only
------------------------------------------------------------------------
r291000 | jkf | 2005-09-22 14:28:48 -0400 (Thu, 22 Sep 2005) | 1 line

Testing svn installation (fixing some whitespace in the process)
------------------------------------------------------------------------
r290811 | mbenson | 2005-09-21 15:54:18 -0400 (Wed, 21 Sep 2005) | 3 lines

overload selectOutOfDateSources w/ ResourceCollection version;
delegate existing selectOutOfDateSources to new method.

------------------------------------------------------------------------
r290810 | mbenson | 2005-09-21 15:52:41 -0400 (Wed, 21 Sep 2005) | 2 lines

overload isOutOfDate with long granularity for consistency's sake.

------------------------------------------------------------------------
r290809 | mbenson | 2005-09-21 15:50:49 -0400 (Wed, 21 Sep 2005) | 2 lines

convenience additions + Resources.toString()

------------------------------------------------------------------------
r290807 | mbenson | 2005-09-21 15:49:29 -0400 (Wed, 21 Sep 2005) | 2 lines

add toString implementation

------------------------------------------------------------------------
r290806 | mbenson | 2005-09-21 15:48:31 -0400 (Wed, 21 Sep 2005) | 2 lines

convenience additions

------------------------------------------------------------------------
r290804 | mbenson | 2005-09-21 15:46:36 -0400 (Wed, 21 Sep 2005) | 2 lines

add array constructors for simplified coding of nested selectors

------------------------------------------------------------------------
r290772 | mbenson | 2005-09-21 14:14:49 -0400 (Wed, 21 Sep 2005) | 2 lines

Remove DirectoryScanner import; restructure for taste

------------------------------------------------------------------------
r290755 | mbenson | 2005-09-21 13:37:23 -0400 (Wed, 21 Sep 2005) | 2 lines

fix testcase file; should always be LF

------------------------------------------------------------------------
r289646 | stevel | 2005-09-16 16:23:13 -0400 (Fri, 16 Sep 2005) | 1 line

in copypath, we skip directories although there is on other choice -bulk copy. Maybe a switch could determine policy here.
------------------------------------------------------------------------
r289482 | stevel | 2005-09-16 06:36:44 -0400 (Fri, 16 Sep 2005) | 1 line

in copypath, we skip directories although there is on other choice -bulk copy. Maybe a switch could determine policy here.
------------------------------------------------------------------------
r289262 | mbenson | 2005-09-15 11:39:15 -0400 (Thu, 15 Sep 2005) | 2 lines

dependset + resource collection support

------------------------------------------------------------------------
r289261 | mbenson | 2005-09-15 11:38:22 -0400 (Thu, 15 Sep 2005) | 2 lines

fileUtils -> final FILE_UTILS

------------------------------------------------------------------------
r289247 | ddevienne | 2005-09-15 10:35:58 -0400 (Thu, 15 Sep 2005) | 1 line

Apparently equals() is not used much, 'cause I broke it and all tests passed... --DD
------------------------------------------------------------------------
r280954 | mbenson | 2005-09-14 17:59:52 -0400 (Wed, 14 Sep 2005) | 2 lines

partially antunit-ize DependSetTest

------------------------------------------------------------------------
r280944 | mbenson | 2005-09-14 17:24:08 -0400 (Wed, 14 Sep 2005) | 2 lines

delete + resource collection support

------------------------------------------------------------------------
r280943 | mbenson | 2005-09-14 17:22:05 -0400 (Wed, 14 Sep 2005) | 2 lines

add convenience constructor

------------------------------------------------------------------------
r280696 | ddevienne | 2005-09-13 18:32:23 -0400 (Tue, 13 Sep 2005) | 1 line

Factor in common code of Attribute/TemplateElement/Text into new base class Member. --DD
------------------------------------------------------------------------
r280657 | mbenson | 2005-09-13 17:07:35 -0400 (Tue, 13 Sep 2005) | 2 lines

update with depends and copy instead of copydir

------------------------------------------------------------------------
r280652 | ddevienne | 2005-09-13 16:37:51 -0400 (Tue, 13 Sep 2005) | 1 line

Can't use {@value} for computed property, only for constants. Fix up indentation and docs a bit. --DD
------------------------------------------------------------------------
r279876 | bodewig | 2005-09-09 17:00:28 -0400 (Fri, 09 Sep 2005) | 1 line

use hashtable instead of getProperty which may return non-null even if the key is not in the hashtable.  PR 36151
------------------------------------------------------------------------
r279795 | mbenson | 2005-09-09 11:32:58 -0400 (Fri, 09 Sep 2005) | 2 lines

fix previous change

------------------------------------------------------------------------
r279792 | mbenson | 2005-09-09 11:10:43 -0400 (Fri, 09 Sep 2005) | 2 lines

logging

------------------------------------------------------------------------
r279576 | stevel | 2005-09-08 12:04:52 -0400 (Thu, 08 Sep 2005) | 1 line

adding messages at the -v level to make it clearer what is going on. Although we always log defined components at -debug, once you do presetdef and macrodef more people may want to see the output. And when you start defining into namespaces, you really want to see what is going on...
------------------------------------------------------------------------
r279563 | stevel | 2005-09-08 09:03:21 -0400 (Thu, 08 Sep 2005) | 1 line

move the warning message to where it belongs
------------------------------------------------------------------------
r279394 | bodewig | 2005-09-07 14:10:57 -0400 (Wed, 07 Sep 2005) | 1 line

fix line-feeds, set svn:eol-style
------------------------------------------------------------------------
r278545 | mbenson | 2005-08-31 15:39:14 -0400 (Wed, 31 Aug 2005) | 3 lines

Wrap System.out in a KeepAliveOutputStream
PR: 36302

------------------------------------------------------------------------
r278544 | mbenson | 2005-08-31 11:38:18 -0400 (Wed, 31 Aug 2005) | 3 lines

Incorrect argument used for version label in PVCS task
PR: 36359

------------------------------------------------------------------------
r278540 | stevel | 2005-08-23 10:19:08 -0400 (Tue, 23 Aug 2005) | 3 lines

bug #36171; -noclasspath crashes ant if no system classpath is set.
submitted by Benjamin Burgess

------------------------------------------------------------------------
r278539 | stevel | 2005-08-23 05:43:27 -0400 (Tue, 23 Aug 2005) | 2 lines

move to FileUtils.toURI

------------------------------------------------------------------------
r278538 | stevel | 2005-08-23 05:43:07 -0400 (Tue, 23 Aug 2005) | 2 lines

extra javadocs, as requested by JHM

------------------------------------------------------------------------
r278537 | stevel | 2005-08-23 05:19:52 -0400 (Tue, 23 Aug 2005) | 2 lines

how to break two builds simultaneously: change the wrong file in the wrong repository.

------------------------------------------------------------------------
r278536 | bodewig | 2005-08-23 00:11:12 -0400 (Tue, 23 Aug 2005) | 2 lines

2005

------------------------------------------------------------------------
r278535 | stevel | 2005-08-22 19:02:52 -0400 (Mon, 22 Aug 2005) | 6 lines

Antlib changes. One I like, one I am still not sure I have right
1. you can go <typedef uri="antlib:something" /> and the resource is worked out automatically from the URI.
2. if you use antlib://org/ex/resource.xml we load in the resource by its full path, so you dont need multiple packages to have multiple antlib files.
I'm not sure about #2; I think it is convenient once you have antlib-only distros (i.e. inline declaration and script; nothing else), but am not sure about the syntax. Maybe
antlib://org.ex/antlib.xml would be better, and more in keeping with WWW URLs; if /antlib.xml is omitted, we would add it by default.

------------------------------------------------------------------------
r278534 | stevel | 2005-08-22 17:24:22 -0400 (Mon, 22 Aug 2005) | 2 lines

just making some strings constants, adding javadocs

------------------------------------------------------------------------
r278532 | stevel | 2005-08-22 12:51:16 -0400 (Mon, 22 Aug 2005) | 2 lines

move to constants to define policy strings; change so that ignore loads print out something at -v level. Why so? to debug antlib namespace declarations.

------------------------------------------------------------------------
r278531 | stevel | 2005-08-22 12:49:44 -0400 (Mon, 22 Aug 2005) | 3 lines

This is an official contrib of the smartfrog tourl task to the apache codebase; its aim has been to set up rmic classpaths, but it turns out to use maven2 its kind of convenient to be able to turn any location into a file: url. That is only, what, 3 lines of code, but what this task does is bulk conversion and a set of unit tests that work.
Docs are to be xdoc generated

------------------------------------------------------------------------
r278528 | stevel | 2005-08-22 11:38:45 -0400 (Mon, 22 Aug 2005) | 2 lines

more diagnostics

------------------------------------------------------------------------
r278525 | stevel | 2005-08-18 10:20:30 -0400 (Thu, 18 Aug 2005) | 2 lines

finish off comments

------------------------------------------------------------------------
r278523 | stevel | 2005-08-18 08:32:16 -0400 (Thu, 18 Aug 2005) | 2 lines

bugrep 36226 : error and failure pages.

------------------------------------------------------------------------
r278520 | stevel | 2005-08-17 09:59:28 -0400 (Wed, 17 Aug 2005) | 3 lines

Add java1.5 system proxy support, as per bug 36174.
I do not see any evidence of this working on my kde/linux system; I will check out and test on Windows.Other tests on other platforms welcome.

------------------------------------------------------------------------
r278518 | bodewig | 2005-08-16 15:25:35 -0400 (Tue, 16 Aug 2005) | 2 lines

2005 and even copyright header in two cases

------------------------------------------------------------------------
r278517 | stevel | 2005-08-16 11:33:16 -0400 (Tue, 16 Aug 2005) | 2 lines

Because I got fed up of trying to remember when I last ran a build from a particular command line. Did some constant extraction on the commons/log4j listener while I was in the directory.

------------------------------------------------------------------------
r278516 | stevel | 2005-08-13 11:15:23 -0400 (Sat, 13 Aug 2005) | 2 lines

typefound prints diags in -v option

------------------------------------------------------------------------
r278513 | mbenson | 2005-08-09 11:30:34 -0400 (Tue, 09 Aug 2005) | 4 lines

Fix comparison w/ exposed NPE
PR: 36093
Obtained from: Dave Brosius

------------------------------------------------------------------------
r278512 | mbenson | 2005-08-09 11:26:49 -0400 (Tue, 09 Aug 2005) | 2 lines

remove clone taskdef

------------------------------------------------------------------------
r278510 | mbenson | 2005-08-09 11:24:52 -0400 (Tue, 09 Aug 2005) | 4 lines

remove reflective toArray calls
PR: 36092
Obtained from: Dave Brosius

------------------------------------------------------------------------
r278509 | mbenson | 2005-08-09 10:55:07 -0400 (Tue, 09 Aug 2005) | 4 lines

Fix reversed ?: consequences; avoid NPE.
PR: 36094
Obtained from: Dave Brosius

------------------------------------------------------------------------
r278508 | jhm | 2005-08-08 16:07:18 -0400 (Mon, 08 Aug 2005) | 2 lines

Starting introducing Resources in <copy>. (Committing for SVN-migration)

------------------------------------------------------------------------
r278506 | peterreilly | 2005-08-08 05:02:55 -0400 (Mon, 08 Aug 2005) | 4 lines

Replace x == "" with "".equals(x) to check if we are
looking at the empty target
Obtained from: Alexey Panchenko

------------------------------------------------------------------------
r278504 | mbenson | 2005-08-05 18:42:21 -0400 (Fri, 05 Aug 2005) | 2 lines

debugging aid

------------------------------------------------------------------------
r278503 | mbenson | 2005-08-05 18:40:23 -0400 (Fri, 05 Aug 2005) | 2 lines

remove unnecessary java.util.Date instantiation

------------------------------------------------------------------------
r278502 | mbenson | 2005-08-05 18:39:25 -0400 (Fri, 05 Aug 2005) | 2 lines

minus one LOC

------------------------------------------------------------------------
r278501 | mbenson | 2005-08-05 18:38:30 -0400 (Fri, 05 Aug 2005) | 2 lines

guard against no comparators on circular ref. check

------------------------------------------------------------------------
r278500 | mbenson | 2005-08-05 18:04:40 -0400 (Fri, 05 Aug 2005) | 3 lines

Inherit from BaseResourceCollectionWrapper (not -Container);
improved sorting by hopefully reducing number of comparisons made.

------------------------------------------------------------------------
r278499 | mbenson | 2005-08-05 18:02:51 -0400 (Fri, 05 Aug 2005) | 2 lines

FailFast adjustments

------------------------------------------------------------------------
r278498 | mbenson | 2005-08-05 17:54:20 -0400 (Fri, 05 Aug 2005) | 2 lines

Use FailFast iterators.

------------------------------------------------------------------------
r278497 | mbenson | 2005-08-05 16:54:13 -0400 (Fri, 05 Aug 2005) | 3 lines

check for File.separator + jre when searching for tools.jar
PR: 36043

------------------------------------------------------------------------
r278496 | mbenson | 2005-08-05 14:07:11 -0400 (Fri, 05 Aug 2005) | 2 lines

Support cache attribute for <restrict>; delegate to component BaseRCWrapper.

------------------------------------------------------------------------
r278495 | mbenson | 2005-08-05 13:58:59 -0400 (Fri, 05 Aug 2005) | 3 lines

Refactor single-nested-collection enforcement into a
BaseResourceCollectionWrapper via composition.

------------------------------------------------------------------------
r278494 | mbenson | 2005-08-05 13:56:06 -0400 (Fri, 05 Aug 2005) | 2 lines

Make testname2 pass after FileResource name modification.

------------------------------------------------------------------------
r278493 | mbenson | 2005-08-05 13:34:36 -0400 (Fri, 05 Aug 2005) | 2 lines

Change behavior of getName(); refine compareTo().

------------------------------------------------------------------------
r278492 | mbenson | 2005-08-05 13:28:25 -0400 (Fri, 05 Aug 2005) | 2 lines

Add option to disable collection caching; refactor cache usage for smaller code.

------------------------------------------------------------------------
r278491 | mbenson | 2005-08-05 13:27:14 -0400 (Fri, 05 Aug 2005) | 3 lines

Add the <first> resource collection, plus its parent,
BaseResourceCollectionWrapper.

------------------------------------------------------------------------
r278490 | mbenson | 2005-08-05 11:45:18 -0400 (Fri, 05 Aug 2005) | 2 lines

refine toString() and compareTo() methods

------------------------------------------------------------------------
r278489 | mbenson | 2005-08-05 11:41:57 -0400 (Fri, 05 Aug 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r278488 | mbenson | 2005-08-05 11:28:02 -0400 (Fri, 05 Aug 2005) | 2 lines

Return a FileResource from factory method.

------------------------------------------------------------------------
r278486 | mbenson | 2005-08-04 15:57:09 -0400 (Thu, 04 Aug 2005) | 2 lines

add a basic toString() to DataTypes.

------------------------------------------------------------------------
r278485 | sbailliez | 2005-08-03 19:27:37 -0400 (Wed, 03 Aug 2005) | 3 lines

Support CVS date format for cvs 1.12.9+
PR: 30962

------------------------------------------------------------------------
r278479 | stevel | 2005-07-28 11:59:34 -0400 (Thu, 28 Jul 2005) | 2 lines

javadocs

------------------------------------------------------------------------
r278472 | stevel | 2005-07-22 11:09:17 -0400 (Fri, 22 Jul 2005) | 2 lines

make something a constant

------------------------------------------------------------------------
r278470 | jkf | 2005-07-21 16:25:25 -0400 (Thu, 21 Jul 2005) | 4 lines

PR:35824

Adding removed public methods

------------------------------------------------------------------------
r278468 | jhm | 2005-07-20 02:54:21 -0400 (Wed, 20 Jul 2005) | 2 lines

Damn - I forgot to migrate the tests... I love these commit mails :-)

------------------------------------------------------------------------
r278467 | jhm | 2005-07-20 02:45:30 -0400 (Wed, 20 Jul 2005) | 2 lines

Greetings from Hackathon: Introduce ResourceSelector in <modified>

------------------------------------------------------------------------
r278466 | jkf | 2005-07-16 08:29:31 -0400 (Sat, 16 Jul 2005) | 2 lines

Style in updates

------------------------------------------------------------------------
r278465 | jkf | 2005-07-16 08:23:48 -0400 (Sat, 16 Jul 2005) | 4 lines

PR: 35750

Make sure the classLoader is always cleaned up before getting a  new one.

------------------------------------------------------------------------
r278463 | jkf | 2005-07-15 14:42:48 -0400 (Fri, 15 Jul 2005) | 2 lines

viewcvs down, relocated file to normal web part

------------------------------------------------------------------------
r278458 | bodewig | 2005-07-08 10:27:03 -0400 (Fri, 08 Jul 2005) | 2 lines

-breakiterator has been promoted, PR 34580

------------------------------------------------------------------------
r278457 | peterreilly | 2005-07-08 09:49:53 -0400 (Fri, 08 Jul 2005) | 2 lines

mostly javadoc

------------------------------------------------------------------------
r278455 | peterreilly | 2005-07-08 09:48:44 -0400 (Fri, 08 Jul 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r278454 | peterreilly | 2005-07-08 09:48:03 -0400 (Fri, 08 Jul 2005) | 2 lines

javadoc + cap constant

------------------------------------------------------------------------
r278453 | bodewig | 2005-07-08 09:46:38 -0400 (Fri, 08 Jul 2005) | 2 lines

Only write a 'Running' message for a test, if we are really running just that one test - PR 35605

------------------------------------------------------------------------
r278452 | peterreilly | 2005-07-08 09:37:59 -0400 (Fri, 08 Jul 2005) | 2 lines

mostly javadoc

------------------------------------------------------------------------
r278448 | stevel | 2005-07-06 08:26:05 -0400 (Wed, 06 Jul 2005) | 2 lines

opening fencepost error fixed by Knut Wannheden

------------------------------------------------------------------------
r278445 | jkf | 2005-06-29 12:29:57 -0400 (Wed, 29 Jun 2005) | 2 lines

cright

------------------------------------------------------------------------
r278444 | jkf | 2005-06-29 12:29:20 -0400 (Wed, 29 Jun 2005) | 4 lines

PR: 35544

Avoid getting NPE on calling close() twice.

------------------------------------------------------------------------
r278443 | jkf | 2005-06-29 12:22:29 -0400 (Wed, 29 Jun 2005) | 4 lines

As suggested by Kev Jackson

Use FileUtils.close() instead of separate try catch implementation.

------------------------------------------------------------------------
r278442 | peterreilly | 2005-06-29 10:58:10 -0400 (Wed, 29 Jun 2005) | 2 lines

checkstyle - line length

------------------------------------------------------------------------
r278441 | peterreilly | 2005-06-29 10:08:49 -0400 (Wed, 29 Jun 2005) | 2 lines

javadoc + make it final is it has a private constructor

------------------------------------------------------------------------
r278440 | peterreilly | 2005-06-29 10:06:44 -0400 (Wed, 29 Jun 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r278439 | peterreilly | 2005-06-29 07:32:47 -0400 (Wed, 29 Jun 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r278438 | peterreilly | 2005-06-29 07:16:46 -0400 (Wed, 29 Jun 2005) | 2 lines

checkstyle - line length + javadoc + redundent final

------------------------------------------------------------------------
r278437 | peterreilly | 2005-06-29 07:16:16 -0400 (Wed, 29 Jun 2005) | 2 lines

checkstyle - trialing space

------------------------------------------------------------------------
r278436 | peterreilly | 2005-06-29 07:15:18 -0400 (Wed, 29 Jun 2005) | 2 lines

checkstyle javadoc

------------------------------------------------------------------------
r278435 | bodewig | 2005-06-28 08:41:58 -0400 (Tue, 28 Jun 2005) | 2 lines

untabify

------------------------------------------------------------------------
r278433 | bodewig | 2005-06-28 08:38:46 -0400 (Tue, 28 Jun 2005) | 4 lines

Add support for keyboard-interactive authentication to SSH tasks.

Submitted by:	Atsuhiko Yamanaka

------------------------------------------------------------------------
r278432 | bodewig | 2005-06-28 08:22:23 -0400 (Tue, 28 Jun 2005) | 2 lines

2005

------------------------------------------------------------------------
r278431 | jkf | 2005-06-27 13:59:36 -0400 (Mon, 27 Jun 2005) | 5 lines

PR: 35499
Classname may not contain / or \ so it is safe to convert both
to . to get the class name. (Zipfilesets do not necessarily contain
File.separator as separator characters.)

------------------------------------------------------------------------
r278429 | bodewig | 2005-06-21 09:39:05 -0400 (Tue, 21 Jun 2005) | 2 lines

JDK 1.3 doesn't have that constructor (at least not public)

------------------------------------------------------------------------
r278428 | bodewig | 2005-06-21 08:09:24 -0400 (Tue, 21 Jun 2005) | 2 lines

fix PR 34963, create <br/> in stack-traces

------------------------------------------------------------------------
r278427 | bodewig | 2005-06-21 07:53:44 -0400 (Tue, 21 Jun 2005) | 2 lines

Unit test for 34963

------------------------------------------------------------------------
r278424 | mbenson | 2005-06-13 12:09:49 -0400 (Mon, 13 Jun 2005) | 2 lines

Fix (add!) outofdate check as indicated by Martijn. D'oh!

------------------------------------------------------------------------
r278423 | bodewig | 2005-06-13 03:30:26 -0400 (Mon, 13 Jun 2005) | 2 lines

2005

------------------------------------------------------------------------
r278422 | stevel | 2005-06-12 19:15:57 -0400 (Sun, 12 Jun 2005) | 5 lines

Little something to make IDE debugging easier; <diagnostics/> prints the diagnostics out as per -diagnostics.
1. Why does Netbeans4.1 keep javax.xml.parsers.SAXParserFactory a secret? SecurityException handling to Diagnostics to compensate.
2. could add output file support, maybe?
3. could add task="junit" for detailed task diags instead...

------------------------------------------------------------------------
r278421 | jkf | 2005-06-12 14:04:16 -0400 (Sun, 12 Jun 2005) | 2 lines

Removed unused private fields

------------------------------------------------------------------------
r278420 | jkf | 2005-06-12 13:55:14 -0400 (Sun, 12 Jun 2005) | 4 lines

Removed unused local variables.

I think there is an error in ConCat, see added comment.

------------------------------------------------------------------------
r278419 | jkf | 2005-06-12 11:58:15 -0400 (Sun, 12 Jun 2005) | 2 lines

removed unused private method

------------------------------------------------------------------------
r278418 | jkf | 2005-06-12 11:54:15 -0400 (Sun, 12 Jun 2005) | 2 lines

removed unused imports

------------------------------------------------------------------------
r278417 | stevel | 2005-06-10 19:06:11 -0400 (Fri, 10 Jun 2005) | 2 lines

moving some magic names into place, using them where needed.

------------------------------------------------------------------------
r278416 | stevel | 2005-06-10 18:48:42 -0400 (Fri, 10 Jun 2005) | 2 lines

depends on files not checked in.

------------------------------------------------------------------------
r278415 | stevel | 2005-06-10 18:48:02 -0400 (Fri, 10 Jun 2005) | 2 lines

depends on files not checked in.

------------------------------------------------------------------------
r278413 | mbenson | 2005-06-09 17:46:30 -0400 (Thu, 09 Jun 2005) | 2 lines

s/CODE/code in javadoc HTML

------------------------------------------------------------------------
r278412 | mbenson | 2005-06-09 09:04:39 -0400 (Thu, 09 Jun 2005) | 3 lines

XmlCatalog had become broken with any dtd/entity location that was not a file.
PR: 35269

------------------------------------------------------------------------
r278410 | bodewig | 2005-06-08 03:22:02 -0400 (Wed, 08 Jun 2005) | 2 lines

2005

------------------------------------------------------------------------
r278409 | stevel | 2005-06-07 16:38:41 -0400 (Tue, 07 Jun 2005) | 2 lines

remove log level for a better example

------------------------------------------------------------------------
r278408 | jkf | 2005-06-07 11:32:48 -0400 (Tue, 07 Jun 2005) | 2 lines

moved { one line up, extended Cright

------------------------------------------------------------------------
r278407 | jkf | 2005-06-06 18:18:27 -0400 (Mon, 06 Jun 2005) | 3 lines

PR: 34241
Tar task now accepts files <8GB (was <2GB), according to POSIX tar standard.

------------------------------------------------------------------------
r278406 | jkf | 2005-06-06 15:45:32 -0400 (Mon, 06 Jun 2005) | 4 lines

PR: 35246
As suggested by Darin Swanson.
(use USER_LIBDIR, and use File.separatorChar in there)

------------------------------------------------------------------------
r278401 | jhm | 2005-06-03 13:18:11 -0400 (Fri, 03 Jun 2005) | 2 lines

more JavaDoc happiness :-)

------------------------------------------------------------------------
r278400 | jhm | 2005-06-03 12:46:55 -0400 (Fri, 03 Jun 2005) | 2 lines

make JavaDoc more happier

------------------------------------------------------------------------
r278388 | mbenson | 2005-05-31 15:18:55 -0400 (Tue, 31 May 2005) | 3 lines

Renamed <file> resource's "base" attribute to "basedir",
for consistency / familiarity.

------------------------------------------------------------------------
r278387 | mbenson | 2005-05-31 15:01:34 -0400 (Tue, 31 May 2005) | 2 lines

reorder imports before adding more.

------------------------------------------------------------------------
r278385 | peterreilly | 2005-05-31 11:53:33 -0400 (Tue, 31 May 2005) | 3 lines

Move javadoc backslash with space fix to ant 1.6.5
Check if file separator character is backslash before conversion

------------------------------------------------------------------------
r278383 | bodewig | 2005-05-31 07:43:51 -0400 (Tue, 31 May 2005) | 2 lines

2005

------------------------------------------------------------------------
r278381 | scohen | 2005-05-30 13:56:33 -0400 (Mon, 30 May 2005) | 3 lines

Add logging of local vs remote timestamps in <ftp> task.
PR:31812

------------------------------------------------------------------------
r278378 | scohen | 2005-05-30 10:41:34 -0400 (Mon, 30 May 2005) | 3 lines

Add initialSiteCommand and siteCommand attributes.
PR:34257, 34853

------------------------------------------------------------------------
r278376 | peterreilly | 2005-05-30 06:04:42 -0400 (Mon, 30 May 2005) | 4 lines

* <macrodef> with redefined default values was incorrect. (Fix for
   31215 had a bug). Bugzilla report 35109.
PR: 35109

------------------------------------------------------------------------
r278375 | scohen | 2005-05-29 22:18:39 -0400 (Sun, 29 May 2005) | 2 lines

improve new test

------------------------------------------------------------------------
r278374 | scohen | 2005-05-29 20:40:21 -0400 (Sun, 29 May 2005) | 4 lines

Based on a patch submitted by Neeme Praks, allow support for a retry count on FTP transfers.  Some
servers are unreliable for unknown - this allows for a retry count to be specified to accomodate work on such
flaky servers.

------------------------------------------------------------------------
r278373 | scohen | 2005-05-28 23:01:10 -0400 (Sat, 28 May 2005) | 2 lines

convert serverLanguageCodeConfig attribute to use EnumeratedAttribute pattern

------------------------------------------------------------------------
r278372 | scohen | 2005-05-28 13:05:44 -0400 (Sat, 28 May 2005) | 3 lines

Convert ftp task systemTypeKey and timestampGranularity attributes to using the EnumeratedAttribute pattern
and add some JUnit tests of the new configuration stuff.

------------------------------------------------------------------------
r278371 | mbenson | 2005-05-27 16:29:55 -0400 (Fri, 27 May 2005) | 2 lines

Replace properties in description elements

------------------------------------------------------------------------
r278370 | mbenson | 2005-05-27 15:35:00 -0400 (Fri, 27 May 2005) | 2 lines

Javadoc + very slight code reworking

------------------------------------------------------------------------
r278369 | mbenson | 2005-05-27 12:53:32 -0400 (Fri, 27 May 2005) | 2 lines

Fix the condition; formatting.

------------------------------------------------------------------------
r278367 | mbenson | 2005-05-26 18:11:57 -0400 (Thu, 26 May 2005) | 3 lines

Make -projecthelp output display even in -quiet mode.
PR: 17471

------------------------------------------------------------------------
r278366 | mbenson | 2005-05-26 15:52:45 -0400 (Thu, 26 May 2005) | 2 lines

Javadoc (fixing my uppercase code tags!)

------------------------------------------------------------------------
r278365 | mbenson | 2005-05-26 14:54:25 -0400 (Thu, 26 May 2005) | 2 lines

Consistency and some spaces

------------------------------------------------------------------------
r278363 | mbenson | 2005-05-26 13:01:01 -0400 (Thu, 26 May 2005) | 4 lines

Obtain subproject instance from Project to satisfy the remote chance
of Project having been subclassed.
PR: 17901

------------------------------------------------------------------------
r278362 | mbenson | 2005-05-25 18:25:43 -0400 (Wed, 25 May 2005) | 3 lines

Avoid multiple instantiations of equal File objects, and multiple
resolveFile calls.

------------------------------------------------------------------------
r278358 | peterreilly | 2005-05-25 10:28:16 -0400 (Wed, 25 May 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r278357 | mbenson | 2005-05-24 17:04:14 -0400 (Tue, 24 May 2005) | 2 lines

Oops need this for echoxml task.

------------------------------------------------------------------------
r278356 | mbenson | 2005-05-24 16:49:55 -0400 (Tue, 24 May 2005) | 2 lines

Add an echoxml task just for Steve!

------------------------------------------------------------------------
r278355 | mbenson | 2005-05-24 13:54:47 -0400 (Tue, 24 May 2005) | 2 lines

go ahead and close elements with no children

------------------------------------------------------------------------
r278354 | peterreilly | 2005-05-24 13:18:31 -0400 (Tue, 24 May 2005) | 2 lines

checkstyle javadoc

------------------------------------------------------------------------
r278353 | peterreilly | 2005-05-24 13:17:29 -0400 (Tue, 24 May 2005) | 2 lines

checkstyle - mostly removal of _

------------------------------------------------------------------------
r278352 | peterreilly | 2005-05-24 13:16:22 -0400 (Tue, 24 May 2005) | 2 lines

checkstyle - javadoc

------------------------------------------------------------------------
r278351 | peterreilly | 2005-05-24 13:16:00 -0400 (Tue, 24 May 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r278348 | bodewig | 2005-05-24 04:19:45 -0400 (Tue, 24 May 2005) | 2 lines

2005

------------------------------------------------------------------------
r278346 | jkf | 2005-05-23 17:52:35 -0400 (Mon, 23 May 2005) | 3 lines

Improved the newInstance method in ClasspathUtils, and used this method from
the places where newInstances are made and Throwable is caught.

------------------------------------------------------------------------
r278339 | mbenson | 2005-05-23 16:03:14 -0400 (Mon, 23 May 2005) | 2 lines

Remove clone task.

------------------------------------------------------------------------
r278337 | mbenson | 2005-05-23 15:51:58 -0400 (Mon, 23 May 2005) | 2 lines

ResourceCollections

------------------------------------------------------------------------
r278336 | mbenson | 2005-05-23 15:46:14 -0400 (Mon, 23 May 2005) | 2 lines

use DataType's convenience method

------------------------------------------------------------------------
r278335 | mbenson | 2005-05-23 15:31:49 -0400 (Mon, 23 May 2005) | 2 lines

add TimeComparison ExtendedAttribute; retrofit DateSelector

------------------------------------------------------------------------
r278334 | mbenson | 2005-05-23 15:31:14 -0400 (Mon, 23 May 2005) | 2 lines

allow absolute include paths & no basedir for Directory scanning

------------------------------------------------------------------------
r278333 | mbenson | 2005-05-23 15:30:38 -0400 (Mon, 23 May 2005) | 2 lines

use DataType's (new) convenience methods

------------------------------------------------------------------------
r278332 | mbenson | 2005-05-23 15:28:09 -0400 (Mon, 23 May 2005) | 2 lines

new methods for reference checking and logging

------------------------------------------------------------------------
r278331 | mbenson | 2005-05-23 15:27:30 -0400 (Mon, 23 May 2005) | 2 lines

add brief version of getElementName()

------------------------------------------------------------------------
r278330 | jkf | 2005-05-23 15:14:36 -0400 (Mon, 23 May 2005) | 2 lines

Catching Throwable while calling new on a no statement constructor (all fields / base classes only have no statement constructors as well) seems overdone. Removing catch clause.

------------------------------------------------------------------------
r278329 | jkf | 2005-05-22 15:48:25 -0400 (Sun, 22 May 2005) | 2 lines

Avoiding Throwable while BuildException was actually meant

------------------------------------------------------------------------
r278328 | jkf | 2005-05-22 15:28:13 -0400 (Sun, 22 May 2005) | 2 lines

Removing constructs to close streams that catch Throwable -> FileUtils.close.

------------------------------------------------------------------------
r278325 | scohen | 2005-05-22 14:48:42 -0400 (Sun, 22 May 2005) | 3 lines

Add new timestampGranularity attribute to account for the typical case in PUT operations where the client
is HH:mm:ss and the ftp server is HH:mm.

------------------------------------------------------------------------
r278324 | jkf | 2005-05-22 13:32:08 -0400 (Sun, 22 May 2005) | 2 lines

Removed reflection for 1.1 purposes

------------------------------------------------------------------------
r278323 | jkf | 2005-05-22 12:13:54 -0400 (Sun, 22 May 2005) | 2 lines

Avoiding to catch unspecified Error. The context indicates we want to continue even when loading a class is unsuccessful. The only Error we expect and want to continue on would in that case be LinkageError (and not e.g ThreadDeath / VirtualMachineError).

------------------------------------------------------------------------
r278322 | jkf | 2005-05-22 12:10:53 -0400 (Sun, 22 May 2005) | 2 lines

Avoiding use of Error for clauses that indicat programming errors, using runtime exceptions instead.

------------------------------------------------------------------------
r278321 | jkf | 2005-05-22 11:56:45 -0400 (Sun, 22 May 2005) | 2 lines

Throwable caught for 1.1 compatibility only according to comment. As catiching Throwable generally is a bad thing, removed.

------------------------------------------------------------------------
r278320 | scohen | 2005-05-21 22:58:47 -0400 (Sat, 21 May 2005) | 2 lines

Added tests for the "newer" attribute in conjunction with the servertimezoneconfig attribute in the PUT and GET actions.

------------------------------------------------------------------------
r278319 | stevel | 2005-05-21 17:39:53 -0400 (Sat, 21 May 2005) | 2 lines

use of fileUtils.close

------------------------------------------------------------------------
r278318 | stevel | 2005-05-21 17:14:15 -0400 (Sat, 21 May 2005) | 2 lines

more diagnostics, corrected method name, but not working. Bug#35006

------------------------------------------------------------------------
r278317 | scohen | 2005-05-21 09:03:08 -0400 (Sat, 21 May 2005) | 3 lines

add option to read properties file from the user's home directory as well as from the top of the ant tree, where it is vulnerable to being wiped out from cvs
replace operations.

------------------------------------------------------------------------
r278316 | scohen | 2005-05-21 09:02:02 -0400 (Sat, 21 May 2005) | 5 lines

Change so that systemTypeKey and all the new xxxConfig attributes work by the convention that setting the attribute to "" leaves the attribute unset, at
whatever value it had before, that is, for all these, the default value of null.  This would enable property-file based development to proceed more easily.
Update documentantation to reflect this.
PR: 34978

------------------------------------------------------------------------
r278315 | mbenson | 2005-05-20 18:51:37 -0400 (Fri, 20 May 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r278314 | mbenson | 2005-05-20 18:36:59 -0400 (Fri, 20 May 2005) | 2 lines

Add isfailure condition.

------------------------------------------------------------------------
r278312 | mbenson | 2005-05-20 17:46:55 -0400 (Fri, 20 May 2005) | 2 lines

Make XmlValidateTest pass.

------------------------------------------------------------------------
r278311 | peterreilly | 2005-05-20 12:53:57 -0400 (Fri, 20 May 2005) | 2 lines

small clarification

------------------------------------------------------------------------
r278310 | peterreilly | 2005-05-20 12:44:56 -0400 (Fri, 20 May 2005) | 8 lines

If launcher gets an InstantiationException when using the
default constructor of ant, change the error message
to say that this is an incompatible version of ant main
and attempt to print out the location of this class.
Some jar files have old version of ant within them
- (weblogic in particular) so this should help in
showing if this is the case.

------------------------------------------------------------------------
r278308 | peterreilly | 2005-05-20 12:33:15 -0400 (Fri, 20 May 2005) | 2 lines

add uri attribute to typefound type

------------------------------------------------------------------------
r278293 | scohen | 2005-05-19 03:58:54 -0400 (Thu, 19 May 2005) | 2 lines

fix bug 34941

------------------------------------------------------------------------
r278290 | mbenson | 2005-05-18 12:47:26 -0400 (Wed, 18 May 2005) | 2 lines

propertyset threw NPE with nested, mapped propertysets.

------------------------------------------------------------------------
r278282 | stevel | 2005-05-17 11:26:58 -0400 (Tue, 17 May 2005) | 2 lines

add correct (c) statements

------------------------------------------------------------------------
r278279 | stevel | 2005-05-17 06:45:52 -0400 (Tue, 17 May 2005) | 2 lines

no, I didnt need to do that. rolling back.

------------------------------------------------------------------------
r278278 | bodewig | 2005-05-17 06:45:29 -0400 (Tue, 17 May 2005) | 2 lines

2005

------------------------------------------------------------------------
r278277 | stevel | 2005-05-17 06:40:46 -0400 (Tue, 17 May 2005) | 2 lines

jruby support in script. We ought to have a task to add these declarations.

------------------------------------------------------------------------
r278276 | bodewig | 2005-05-17 04:03:15 -0400 (Tue, 17 May 2005) | 2 lines

2005

------------------------------------------------------------------------
r278273 | stevel | 2005-05-16 18:40:23 -0400 (Mon, 16 May 2005) | 2 lines

<scriptmapper>, with tests and docs. At this point we have near total script coverage of all the core ant extension points. Note the refactoring of scriptcondition to give us a better base for these things.

------------------------------------------------------------------------
r278272 | peterreilly | 2005-05-16 14:59:58 -0400 (Mon, 16 May 2005) | 3 lines

Allways create qualified targets in imported build files
PR: 28444

------------------------------------------------------------------------
r278271 | stevel | 2005-05-16 11:47:33 -0400 (Mon, 16 May 2005) | 2 lines

apply apache rules as to position of + on a multiline string

------------------------------------------------------------------------
r278270 | stevel | 2005-05-16 10:58:47 -0400 (Mon, 16 May 2005) | 2 lines

utterly without documents or tests, a utility task to extract a path to a dir, by way of a mapper.

------------------------------------------------------------------------
r278268 | stevel | 2005-05-16 08:11:44 -0400 (Mon, 16 May 2005) | 2 lines

merged antlib: strings to a single (currently private) constant.

------------------------------------------------------------------------
r278265 | scohen | 2005-05-14 09:14:14 -0400 (Sat, 14 May 2005) | 3 lines

change name of attribute from systemKeyConfig to systemTypeKey as a more intuitive name and check in
documentation for revised FTP task.

------------------------------------------------------------------------
r278263 | stevel | 2005-05-13 17:57:23 -0400 (Fri, 13 May 2005) | 2 lines

added a special case that detects -cp and -lib calls in Main, and tells the caller that they have a probable version mismatch.

------------------------------------------------------------------------
r278262 | stevel | 2005-05-13 17:54:14 -0400 (Fri, 13 May 2005) | 2 lines

and of course the date change.

------------------------------------------------------------------------
r278261 | stevel | 2005-05-13 17:42:23 -0400 (Fri, 13 May 2005) | 2 lines

tests for junitreport handling various forms of bad data, plus explicit handling of zero-byte files with a different error message..

------------------------------------------------------------------------
r278259 | peterreilly | 2005-05-13 12:58:55 -0400 (Fri, 13 May 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r278258 | scohen | 2005-05-13 06:34:40 -0400 (Fri, 13 May 2005) | 2 lines

improve clarity of what FTPConfigurator is doing.

------------------------------------------------------------------------
r278257 | scohen | 2005-05-13 06:26:20 -0400 (Fri, 13 May 2005) | 11 lines









Add FTPConfigurator class so as to avoid forcing users to upgrade to version 1.4.0 of commons-net.
As long as users use the ftp task as they have previously, they do not need 1.4.0.

------------------------------------------------------------------------
r278256 | bodewig | 2005-05-13 04:13:50 -0400 (Fri, 13 May 2005) | 2 lines

Use FileUtils.close()

------------------------------------------------------------------------
r278254 | bodewig | 2005-05-13 04:09:22 -0400 (Fri, 13 May 2005) | 2 lines

<unzip> and <untar> could leave streams open.  PR 34893

------------------------------------------------------------------------
r278251 | scohen | 2005-05-12 00:04:59 -0400 (Thu, 12 May 2005) | 23 lines

Adapt Ant to use the new functionalities of commons-net 1.4.0 to enable greater configurability of the server:
Month names other than English, date formats other than the standard ones (such as all-numeric timestamps
on unix), and different server time zones can now be supported in Ant.
PR:30706, 33443
Obtained from:
Submitted by: Neeme Praks
Reviewed by: Steve Cohen
CVS: ----------------------------------------------------------------------
CVS: PR:
CVS:   If this change addresses a PR in the problem report tracking
CVS:   database, then enter the PR number(s) here.
CVS: Obtained from:
CVS:   If this change has been taken from another system, such as NCSA,
CVS:   then name the system in this line, otherwise delete it.
CVS: Submitted by:
CVS:   If this code has been contributed to Apache by someone else; i.e.,
CVS:   they sent us a patch or a new module, then include their name/email
CVS:   address here. If this is your work then delete this line.
CVS: Reviewed by:
CVS:   If we are doing pre-commit code reviews and someone else has
CVS:   reviewed your changes, include their name(s) here.
CVS:   If you have not had it reviewed then delete this line.

------------------------------------------------------------------------
r278246 | stevel | 2005-05-10 12:26:34 -0400 (Tue, 10 May 2005) | 3 lines

Patch XMLValidate to create a new parser every time, plus test case that verifies it works.
Note that there is an extra change, the return code of doVerify() is now boolean and not void. I have plans for an option to halt the build only if a schema is valid (I'm using ant/gump) to validate XSD files, and want to test that a schema correctly rejects invalid files. This is just a step on the way, while I was in the method.

------------------------------------------------------------------------
r278239 | bodewig | 2005-05-10 03:37:04 -0400 (Tue, 10 May 2005) | 2 lines

fix NPE reported by Curt Arnold

------------------------------------------------------------------------
r278234 | bodewig | 2005-05-09 09:37:01 -0400 (Mon, 09 May 2005) | 2 lines

2005

------------------------------------------------------------------------
r278231 | mbenson | 2005-05-06 14:36:10 -0400 (Fri, 06 May 2005) | 4 lines

Base64 conversion of userid:password was (always) broken.  The length of
the result was calculated correctly, but was translating two bytes to four instead of three.  This would obviously cause buffer overruns.
PR: 34734

------------------------------------------------------------------------
r278230 | stevel | 2005-05-05 11:57:19 -0400 (Thu, 05 May 2005) | 2 lines

antlib awareness in diagnostics messages

------------------------------------------------------------------------
r278229 | stevel | 2005-05-04 15:04:59 -0400 (Wed, 04 May 2005) | 2 lines

removes fork option from Apt, in code, in docs.

------------------------------------------------------------------------
r278228 | mbenson | 2005-05-04 13:00:01 -0400 (Wed, 04 May 2005) | 3 lines

Attempt to fix broken encoding due to miscalculated output buffer.
PR: 34734

------------------------------------------------------------------------
r278221 | bodewig | 2005-05-04 05:21:59 -0400 (Wed, 04 May 2005) | 2 lines

Validate system properties before running a Java command, PR 34725

------------------------------------------------------------------------
r278219 | mbenson | 2005-05-03 10:59:44 -0400 (Tue, 03 May 2005) | 3 lines

Not 100% sure this fixes the entire bug, but it eliminates NPEs for me.
PR: 34722

------------------------------------------------------------------------
r278217 | peterreilly | 2005-05-03 04:33:59 -0400 (Tue, 03 May 2005) | 2 lines

Bugzilla 34680: make AntXMLContext#setCurrentTargets current

------------------------------------------------------------------------
r278215 | stevel | 2005-05-02 16:44:30 -0400 (Mon, 02 May 2005) | 2 lines

And this time, I make sure the 'reformat code' button is not set on the commit.

------------------------------------------------------------------------
r278214 | stevel | 2005-05-02 14:02:15 -0400 (Mon, 02 May 2005) | 2 lines

Move to WeakHashMap to reduce resource leakage on long-lived many-exec runs

------------------------------------------------------------------------
r278200 | mbenson | 2005-04-29 14:38:51 -0400 (Fri, 29 Apr 2005) | 2 lines

I'm so particular about capitalizing "Ant".

------------------------------------------------------------------------
r278190 | bodewig | 2005-04-27 05:51:14 -0400 (Wed, 27 Apr 2005) | 2 lines

whitespace

------------------------------------------------------------------------
r278187 | bodewig | 2005-04-27 05:44:17 -0400 (Wed, 27 Apr 2005) | 2 lines

Don't override includeJavaRuntime in gcj-adapter, PR 34638

------------------------------------------------------------------------
r278186 | peterreilly | 2005-04-26 07:55:18 -0400 (Tue, 26 Apr 2005) | 2 lines

allow url'ed source's to be used as build files

------------------------------------------------------------------------
r278185 | bodewig | 2005-04-26 07:54:15 -0400 (Tue, 26 Apr 2005) | 2 lines

Make Jikes less upset

------------------------------------------------------------------------
r278184 | bodewig | 2005-04-26 04:10:29 -0400 (Tue, 26 Apr 2005) | 2 lines

2005

------------------------------------------------------------------------
r278183 | stevel | 2005-04-25 18:14:05 -0400 (Mon, 25 Apr 2005) | 2 lines

added a private constructor, to stop this being instantiated/subclassed.

------------------------------------------------------------------------
r278182 | stevel | 2005-04-25 18:13:29 -0400 (Mon, 25 Apr 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r278179 | peterreilly | 2005-04-25 06:15:11 -0400 (Mon, 25 Apr 2005) | 3 lines

check for same targets in a source file
PR: 34566

------------------------------------------------------------------------
r278172 | bodewig | 2005-04-25 03:49:49 -0400 (Mon, 25 Apr 2005) | 2 lines

2005

------------------------------------------------------------------------
r278170 | jkf | 2005-04-23 07:09:15 -0400 (Sat, 23 Apr 2005) | 2 lines

Fixed minor threading issue in StreamPumper

------------------------------------------------------------------------
r278168 | jkf | 2005-04-22 15:54:03 -0400 (Fri, 22 Apr 2005) | 3 lines

Somehat more intelligent way to let windows catch up in java test
PR: 34502

------------------------------------------------------------------------
r278167 | jkf | 2005-04-22 15:16:03 -0400 (Fri, 22 Apr 2005) | 3 lines

time /t gives IOException /  error=2 (file not found) on win XP home NL.
cmd.exe should be available on all NT versions.

------------------------------------------------------------------------
r278164 | stevel | 2005-04-21 09:33:48 -0400 (Thu, 21 Apr 2005) | 2 lines

javadocs

------------------------------------------------------------------------
r278163 | peterreilly | 2005-04-21 07:27:08 -0400 (Thu, 21 Apr 2005) | 3 lines

just change the exception and not make a new exception
when hiding the macro

------------------------------------------------------------------------
r278161 | peterreilly | 2005-04-21 05:49:55 -0400 (Thu, 21 Apr 2005) | 3 lines

add backtrace attribute to <macrodef>
PR: 27219

------------------------------------------------------------------------
r278158 | bodewig | 2005-04-20 15:26:00 -0400 (Wed, 20 Apr 2005) | 2 lines

2005

------------------------------------------------------------------------
r278157 | stevel | 2005-04-20 14:18:00 -0400 (Wed, 20 Apr 2005) | 2 lines

nt->winnt

------------------------------------------------------------------------
r278155 | stevel | 2005-04-19 18:28:22 -0400 (Tue, 19 Apr 2005) | 2 lines

Now for the fun. Exec adds an osfamily attribute, so you can restrict execution to a platform such as nt, or unix. This propagates to execon, so into chmod, attrib, etc. We could therefore adapt them use osfamily as their way of being unix or windows only.

------------------------------------------------------------------------
r278154 | stevel | 2005-04-19 18:23:39 -0400 (Tue, 19 Apr 2005) | 6 lines

Os gets
 -specific test for nt based systems
 -refactored (less recursive) OS analysis
 -constant strings for every family
Patched into chmod.

------------------------------------------------------------------------
r278152 | jkf | 2005-04-19 16:57:24 -0400 (Tue, 19 Apr 2005) | 3 lines

Avoid using of CharacterIterator for URIs that do not contain %, as suggested in pr34529.
PR: 34529

------------------------------------------------------------------------
r278150 | stevel | 2005-04-19 15:26:33 -0400 (Tue, 19 Apr 2005) | 2 lines

flush any output before we run.

------------------------------------------------------------------------
r278146 | antoine | 2005-04-19 01:10:46 -0400 (Tue, 19 Apr 2005) | 3 lines

ant.bat was missing runAntNoClasspath label for goto
PR: 34510

------------------------------------------------------------------------
r278144 | antoine | 2005-04-18 16:19:10 -0400 (Mon, 18 Apr 2005) | 2 lines

add at since tag for new method

------------------------------------------------------------------------
r278143 | antoine | 2005-04-18 16:09:08 -0400 (Mon, 18 Apr 2005) | 3 lines

Make Zip#createEmptyZip be called again when empty zips need to be created
(similar for overrides in superclasses)

------------------------------------------------------------------------
r278141 | mbenson | 2005-04-15 16:25:36 -0400 (Fri, 15 Apr 2005) | 2 lines

The refid attribute of the I/O redirector was not functional.

------------------------------------------------------------------------
r278139 | bodewig | 2005-04-15 04:10:39 -0400 (Fri, 15 Apr 2005) | 2 lines

Make sure we add a location when <java> fails

------------------------------------------------------------------------
r278137 | bodewig | 2005-04-14 05:29:17 -0400 (Thu, 14 Apr 2005) | 5 lines

Major speed improvements on BZip2 streams.

PR: 24798
Submitted by:	Joerg Wassmer <joerg dot wassmer at web dot de>

------------------------------------------------------------------------
r278136 | bodewig | 2005-04-14 03:38:07 -0400 (Thu, 14 Apr 2005) | 2 lines

untabify

------------------------------------------------------------------------
r278135 | stevel | 2005-04-12 16:59:06 -0400 (Tue, 12 Apr 2005) | 3 lines

Java1.5 has different classes in the parent. i've blocked off the xml parser stuff; i worry if that is the right thing to do, but it adheres to the spec.
This may be something to go into 1.6.3

------------------------------------------------------------------------
r278133 | jkf | 2005-04-12 13:49:37 -0400 (Tue, 12 Apr 2005) | 4 lines

Obtained from: Kev Jackson

Javadoc in ContainerMapper to contain lowercase code instead of uppercase code.

------------------------------------------------------------------------
r278131 | mbenson | 2005-04-12 13:18:29 -0400 (Tue, 12 Apr 2005) | 4 lines

When getting the real object from UE, do not call Task.init() on the Object
returned from ComponentHelper as init() has been called in createComponent().
PR: 34411

------------------------------------------------------------------------
r278128 | bodewig | 2005-04-11 05:31:01 -0400 (Mon, 11 Apr 2005) | 2 lines

merge fix for 27162

------------------------------------------------------------------------
r278127 | bodewig | 2005-04-11 04:41:27 -0400 (Mon, 11 Apr 2005) | 2 lines

Oops, forgot /reference:

------------------------------------------------------------------------
r278126 | bodewig | 2005-04-11 04:39:40 -0400 (Mon, 11 Apr 2005) | 5 lines

mcs on Linux doesn't like quotes in /references.

I guess it is a platform-depenent command line parsing issue rather
than Mono vs MS, so I madi it conditional on the OS.

------------------------------------------------------------------------
r278124 | mbenson | 2005-04-08 15:41:58 -0400 (Fri, 08 Apr 2005) | 3 lines

Add negate attribute to linecontains and linecontainsregexp filterreaders.
PR: 34374

------------------------------------------------------------------------
r278122 | bruce | 2005-04-07 19:42:46 -0400 (Thu, 07 Apr 2005) | 2 lines

Why not fix the comment while we are at it?

------------------------------------------------------------------------
r278120 | mbenson | 2005-04-07 18:22:26 -0400 (Thu, 07 Apr 2005) | 2 lines

Remove "strip-duplicates" behavior from; add condition behavior to, Length task.

------------------------------------------------------------------------
r278117 | bruce | 2005-04-07 15:59:35 -0400 (Thu, 07 Apr 2005) | 2 lines

Round NTFS Granularity up rather than down

------------------------------------------------------------------------
r278115 | mbenson | 2005-04-07 15:33:44 -0400 (Thu, 07 Apr 2005) | 5 lines

Remove KeepGoingExecutor; keep-going responsibility is on each Executor impl.
PR: 22901
Submitted by: Alexey Solofnenko
Reviewed by: Matt Benson

------------------------------------------------------------------------
r278114 | mbenson | 2005-04-07 15:31:39 -0400 (Thu, 07 Apr 2005) | 6 lines

Add subproject Executor to Executor interface + its use to Project & Ant task.
Move keep-going awareness to Executors.
PR: 22901
Submitted by: Alexey Solofnenko
Reviewed by: Matt Benson

------------------------------------------------------------------------
r278113 | jkf | 2005-04-07 13:59:11 -0400 (Thu, 07 Apr 2005) | 2 lines

Made compilable on 1.2 / 1.3

------------------------------------------------------------------------
r278112 | stevel | 2005-04-07 13:08:24 -0400 (Thu, 07 Apr 2005) | 2 lines

ok, sometimes drift is -ve.

------------------------------------------------------------------------
r278111 | stevel | 2005-04-07 13:07:33 -0400 (Thu, 07 Apr 2005) | 2 lines

looking@why my junit reports are apparently an hour old. No fix, but -diagnostics now prints some clock info, and examines diffs between temp dir and local clock and complains if they are too different. (>10s, purely arbitrary)

------------------------------------------------------------------------
r278110 | bruce | 2005-04-06 19:14:00 -0400 (Wed, 06 Apr 2005) | 2 lines

Improved heuristics on file timestamp granularity by adding an NTFS category and checking for it

------------------------------------------------------------------------
r278109 | mbenson | 2005-04-06 11:49:29 -0400 (Wed, 06 Apr 2005) | 2 lines

Work around jdk 1.4.2(no _version) jarsigner bug.

------------------------------------------------------------------------
r278108 | bodewig | 2005-04-04 09:46:24 -0400 (Mon, 04 Apr 2005) | 2 lines

name hiding

------------------------------------------------------------------------
r278104 | bodewig | 2005-04-04 03:40:32 -0400 (Mon, 04 Apr 2005) | 2 lines

Rename rpm's showoutput attribute to quiet, document it - Submitted by Zach Garner

------------------------------------------------------------------------
r278097 | bodewig | 2005-03-31 06:24:06 -0500 (Thu, 31 Mar 2005) | 2 lines

Deprecate stylebook, add javadocs to it - by Kev Jackson

------------------------------------------------------------------------
r278092 | jglick | 2005-03-30 12:08:27 -0500 (Wed, 30 Mar 2005) | 3 lines

s/occured/occurred/g wherever possible - unfortunately we included the spelling error in several public method
signatures. Just like java.lang.Cloneable. :-(

------------------------------------------------------------------------
r278091 | jglick | 2005-03-30 12:06:39 -0500 (Wed, 30 Mar 2005) | 2 lines

Fixed missing braces.

------------------------------------------------------------------------
r278090 | jglick | 2005-03-30 11:59:26 -0500 (Wed, 30 Mar 2005) | 2 lines

Misc. cleanups relating to #30606.

------------------------------------------------------------------------
r278083 | bodewig | 2005-03-30 03:35:44 -0500 (Wed, 30 Mar 2005) | 2 lines

2005

------------------------------------------------------------------------
r278081 | mbenson | 2005-03-29 18:20:06 -0500 (Tue, 29 Mar 2005) | 2 lines

Fix uppercase <CODE> tags

------------------------------------------------------------------------
r278078 | jglick | 2005-03-29 16:47:59 -0500 (Tue, 29 Mar 2005) | 2 lines

#30162: try to avoid a memory leak in IntrospectionHelper.getHelper().

------------------------------------------------------------------------
r278077 | jglick | 2005-03-29 16:46:36 -0500 (Tue, 29 Mar 2005) | 3 lines

Avoid hypothetical memory leak by not holding a strong reference to the thread or thread groups used as keys to
report task associations.

------------------------------------------------------------------------
r278075 | jglick | 2005-03-29 15:39:00 -0500 (Tue, 29 Mar 2005) | 2 lines

#32941: do not try to catch ThreadDeath when <java fork="false"> is halted.

------------------------------------------------------------------------
r278074 | jglick | 2005-03-29 14:56:15 -0500 (Tue, 29 Mar 2005) | 3 lines

#27285: simplify AntClassLoader by removing reflection hacks
(and separate ACL2) only needed for JDK 1.1 support.

------------------------------------------------------------------------
r278072 | jglick | 2005-03-29 14:19:04 -0500 (Tue, 29 Mar 2005) | 2 lines

#31885: <junit> logs more detailed events for individual tests it is running.

------------------------------------------------------------------------
r278071 | jglick | 2005-03-29 13:35:46 -0500 (Tue, 29 Mar 2005) | 2 lines

Removing old code testing for JDK 1.0 and 1.1.

------------------------------------------------------------------------
r278070 | jglick | 2005-03-29 13:27:37 -0500 (Tue, 29 Mar 2005) | 2 lines

Ignore stray dir that can be left behind after an interrupted test.

------------------------------------------------------------------------
r278069 | jglick | 2005-03-29 13:23:47 -0500 (Tue, 29 Mar 2005) | 2 lines

#30606: add 'executable' attr to <javadoc>.

------------------------------------------------------------------------
r278068 | jglick | 2005-03-28 18:22:12 -0500 (Mon, 28 Mar 2005) | 2 lines

#25832: deprecating the task names <WsdlToDotnet> and <style>.

------------------------------------------------------------------------
r278067 | jglick | 2005-03-28 17:42:09 -0500 (Mon, 28 Mar 2005) | 2 lines

#32463: deprecate WeakishReference since we can assume JDK 1.2 APIs now.

------------------------------------------------------------------------
r278066 | jglick | 2005-03-28 16:43:18 -0500 (Mon, 28 Mar 2005) | 2 lines

#31928: stop a forked process if the thread running <java> is stopped.

------------------------------------------------------------------------
r278063 | peterreilly | 2005-03-25 07:28:59 -0500 (Fri, 25 Mar 2005) | 2 lines

change name of handledirchar to handledirsep to be similar to pathconvet

------------------------------------------------------------------------
r278062 | stevel | 2005-03-24 17:55:05 -0500 (Thu, 24 Mar 2005) | 2 lines

fork in the test that says so

------------------------------------------------------------------------
r278061 | stevel | 2005-03-24 17:54:35 -0500 (Thu, 24 Mar 2005) | 2 lines

things move.

------------------------------------------------------------------------
r278060 | stevel | 2005-03-24 12:17:09 -0500 (Thu, 24 Mar 2005) | 2 lines

Well, a bit of hackery and you can verify that JAR is signed. But there is *nothing* to verify that the signature itself is trusted. Essentially "jarsigner -verify" is a worthless piece of junk from the security perspective.

------------------------------------------------------------------------
r278059 | stevel | 2005-03-24 10:01:30 -0500 (Thu, 24 Mar 2005) | 3 lines

system properties are in <signjar>, so you can (manually) propagate proxy settings. Updated docs and examples.
Patched Environment.java for raw access to the variables, rather than just a string array.

------------------------------------------------------------------------
r278057 | bodewig | 2005-03-24 03:35:49 -0500 (Thu, 24 Mar 2005) | 5 lines

Don't ignore the extension attribute for formatters when forking
multiple JUnit tests in a single VM.

PR: 32973

------------------------------------------------------------------------
r278056 | bodewig | 2005-03-24 03:29:42 -0500 (Thu, 24 Mar 2005) | 2 lines

Unit Test for PR 32973

------------------------------------------------------------------------
r278052 | stevel | 2005-03-23 11:51:42 -0500 (Wed, 23 Mar 2005) | 2 lines

Factor out a base classs and add a verification task, a verification which cannot rely on return codes as a success metric, as the program returns 0 even for invalid jars. Hence the disabled test

------------------------------------------------------------------------
r278051 | stevel | 2005-03-23 10:36:10 -0500 (Wed, 23 Mar 2005) | 3 lines

-env util to get an ordered version number,
-test of tsa only runs on java1.5+

------------------------------------------------------------------------
r278050 | stevel | 2005-03-23 10:06:48 -0500 (Wed, 23 Mar 2005) | 2 lines

-TSA support, bug 32390

------------------------------------------------------------------------
r278049 | stevel | 2005-03-23 09:09:06 -0500 (Wed, 23 Mar 2005) | 5 lines

-tests for old and new signjar features written; working
-signjar test patched for offline testing
-fixed SignJar to pass the tests
-doc updates to match tested code

------------------------------------------------------------------------
r278048 | stevel | 2005-03-23 05:24:43 -0500 (Wed, 23 Mar 2005) | 2 lines

can't have checkstyle whining, can we?

------------------------------------------------------------------------
r278047 | stevel | 2005-03-23 05:07:29 -0500 (Wed, 23 Mar 2005) | 2 lines

revert reformatted license

------------------------------------------------------------------------
r278044 | stevel | 2005-03-22 12:20:06 -0500 (Tue, 22 Mar 2005) | 3 lines

This is an interim checkin, with new features and some refactoring. All existing (minimal) tests should work, let's see what gump thinks.
This is still a work in progress...

------------------------------------------------------------------------
r278043 | stevel | 2005-03-22 11:39:33 -0500 (Tue, 22 Mar 2005) | 2 lines

copy tasktype when binding

------------------------------------------------------------------------
r278040 | mbenson | 2005-03-21 14:53:26 -0500 (Mon, 21 Mar 2005) | 2 lines

Make pass on Windows

------------------------------------------------------------------------
r278036 | bodewig | 2005-03-21 10:26:49 -0500 (Mon, 21 Mar 2005) | 2 lines

replace '\' if quoting file names, PR 27814

------------------------------------------------------------------------
r278035 | bodewig | 2005-03-21 10:26:16 -0500 (Mon, 21 Mar 2005) | 2 lines

shouldn't replace '\' on Unix

------------------------------------------------------------------------
r278034 | bodewig | 2005-03-21 10:02:04 -0500 (Mon, 21 Mar 2005) | 2 lines

unit test for PR 25911

------------------------------------------------------------------------
r278032 | bodewig | 2005-03-21 09:54:10 -0500 (Mon, 21 Mar 2005) | 5 lines

<xslt> failed to process file-hierarchies of more than one level if
scanincludeddirectories was true.

PR: 24866

------------------------------------------------------------------------
r278031 | bodewig | 2005-03-21 09:49:45 -0500 (Mon, 21 Mar 2005) | 2 lines

Unit test for PR 24866

------------------------------------------------------------------------
r278027 | bodewig | 2005-03-21 08:50:09 -0500 (Mon, 21 Mar 2005) | 2 lines

Add unit test for <rpm> failonerror

------------------------------------------------------------------------
r278020 | bodewig | 2005-03-21 05:05:42 -0500 (Mon, 21 Mar 2005) | 2 lines

Fix TarInputStream#read() and remove unneeded override of single-array-arg read method at the same time.  PR 34097

------------------------------------------------------------------------
r278019 | mbenson | 2005-03-18 12:32:14 -0500 (Fri, 18 Mar 2005) | 2 lines

getSysProperties() and getCommandLine() to 1.6.3

------------------------------------------------------------------------
r278014 | bodewig | 2005-03-17 10:13:09 -0500 (Thu, 17 Mar 2005) | 2 lines

Clean up recorder map when subbuild finishes, PR 20053

------------------------------------------------------------------------
r278013 | bodewig | 2005-03-17 09:23:58 -0500 (Thu, 17 Mar 2005) | 2 lines

DirectoryScanner improvements have been merged

------------------------------------------------------------------------
r278009 | bodewig | 2005-03-17 07:01:19 -0500 (Thu, 17 Mar 2005) | 8 lines

failOnError and showOutput attributes for <rpm>

Submitted by:	Zach Garner <zach at awarix dot com>

In Ant 1.6.2 <rpm> wouldn't fail even if the command failed, CVS HEAD
would fail unconditionally if the command failed.  If chose 1.6.2's
behavior as default for failOnError (i.e. it is false by default).

------------------------------------------------------------------------
r278007 | bodewig | 2005-03-17 04:59:36 -0500 (Thu, 17 Mar 2005) | 2 lines

Modernize Jikes (unconditionally) - PR 25868 and 26404

------------------------------------------------------------------------
r278005 | bodewig | 2005-03-17 04:34:02 -0500 (Thu, 17 Mar 2005) | 5 lines

Optionally create javadocs for packages that only contain a
package.html file.

PR: 25339

------------------------------------------------------------------------
r278003 | bodewig | 2005-03-17 04:06:22 -0500 (Thu, 17 Mar 2005) | 4 lines

Optionally resolve the link attribute.

PR: 24364

------------------------------------------------------------------------
r278001 | bodewig | 2005-03-17 03:21:21 -0500 (Thu, 17 Mar 2005) | 2 lines

Don't die if Test.getName returns null, PR 29407

------------------------------------------------------------------------
r277999 | bodewig | 2005-03-17 03:10:49 -0500 (Thu, 17 Mar 2005) | 2 lines

swallow sun.reflect lines when filtertrace is true, PR 22758, Submitted by Emmanuel Bourg <ebourg at apache dot org>

------------------------------------------------------------------------
r277998 | jglick | 2005-03-16 11:56:03 -0500 (Wed, 16 Mar 2005) | 2 lines

Backdating "since" notices for #24918 (console input for <java fork="true">): 1.7 -> 1.6.3.

------------------------------------------------------------------------
r277992 | jkf | 2005-03-15 15:55:27 -0500 (Tue, 15 Mar 2005) | 2 lines

cright

------------------------------------------------------------------------
r277990 | jkf | 2005-03-15 15:52:27 -0500 (Tue, 15 Mar 2005) | 3 lines

PR: 31245
cygwin part to handle both unix and windows style paths correctly

------------------------------------------------------------------------
r277987 | mbenson | 2005-03-15 11:08:33 -0500 (Tue, 15 Mar 2005) | 4 lines

I get these epiphanies lying in bed Saturday mornings... such as
"Properties won't sort under an alternate implementation of
Properties.store()," such as might be encountered on Kaffe...

------------------------------------------------------------------------
r277986 | bodewig | 2005-03-15 10:29:47 -0500 (Tue, 15 Mar 2005) | 2 lines

Remove unused code, PR 34018

------------------------------------------------------------------------
r277983 | bodewig | 2005-03-15 10:23:56 -0500 (Tue, 15 Mar 2005) | 2 lines

indent

------------------------------------------------------------------------
r277982 | bodewig | 2005-03-15 10:22:53 -0500 (Tue, 15 Mar 2005) | 2 lines

Provide error output if cvs command fails, PR 25645

------------------------------------------------------------------------
r277978 | bodewig | 2005-03-15 10:00:10 -0500 (Tue, 15 Mar 2005) | 2 lines

indent

------------------------------------------------------------------------
r277977 | bodewig | 2005-03-15 09:59:43 -0500 (Tue, 15 Mar 2005) | 2 lines

revision may be null

------------------------------------------------------------------------
r277976 | bodewig | 2005-03-15 09:54:32 -0500 (Tue, 15 Mar 2005) | 2 lines

Use DOM utility classes

------------------------------------------------------------------------
r277971 | peterreilly | 2005-03-15 09:05:38 -0500 (Tue, 15 Mar 2005) | 2 lines

add since 1.6.3 to equals and hashcode

------------------------------------------------------------------------
r277970 | bodewig | 2005-03-15 09:01:42 -0500 (Tue, 15 Mar 2005) | 2 lines

DOM utility class

------------------------------------------------------------------------
r277968 | peterreilly | 2005-03-15 08:35:28 -0500 (Tue, 15 Mar 2005) | 5 lines

<macrodef> with default values set by properties would be
  seen as new definitions when called twice with different properties.
  This was confusing so the definitions are now treated as similar.
PR: 31215

------------------------------------------------------------------------
r277966 | peterreilly | 2005-03-15 08:18:45 -0500 (Tue, 15 Mar 2005) | 2 lines

add equals and hashcode to Location

------------------------------------------------------------------------
r277965 | stevel | 2005-03-15 04:35:25 -0500 (Tue, 15 Mar 2005) | 2 lines

IntelliJ doesnt have project-specific header files. sorry.

------------------------------------------------------------------------
r277964 | jkf | 2005-03-14 15:09:54 -0500 (Mon, 14 Mar 2005) | 9 lines

PR: 33361

In ant 1.7 the security manager will, unless explicitly created to allow
System.exit veto a System.exit. This allows ant to continue its run when
a java program started via the java tasks in nonforked mode without
failonerror set calls System.exit. For java tasks in forked mode nothing
changes. For java tasks with failonerror set this was already the existing
behaviour.

------------------------------------------------------------------------
r277962 | bodewig | 2005-03-14 15:08:32 -0500 (Mon, 14 Mar 2005) | 2 lines

Small refactoring to allow a less memory consuming "streaming mode"

------------------------------------------------------------------------
r277961 | jkf | 2005-03-14 14:24:58 -0500 (Mon, 14 Mar 2005) | 2 lines

Restored javadoc in the original format.

------------------------------------------------------------------------
r277959 | jkf | 2005-03-14 14:19:20 -0500 (Mon, 14 Mar 2005) | 4 lines

PR: 28797

FTP list command could crash with an ArrayIndexOutOfBoundsException.

------------------------------------------------------------------------
r277958 | peterreilly | 2005-03-14 13:36:44 -0500 (Mon, 14 Mar 2005) | 6 lines

stylecheck: mostly javadoc
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r277957 | peterreilly | 2005-03-14 13:19:10 -0500 (Mon, 14 Mar 2005) | 2 lines

stylecheck - javadoc + linelength

------------------------------------------------------------------------
r277956 | peterreilly | 2005-03-14 13:15:36 -0500 (Mon, 14 Mar 2005) | 2 lines

upcase constants

------------------------------------------------------------------------
r277955 | peterreilly | 2005-03-14 13:14:10 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277954 | peterreilly | 2005-03-14 12:47:01 -0500 (Mon, 14 Mar 2005) | 2 lines

checkstyle: mostly javadoc

------------------------------------------------------------------------
r277953 | peterreilly | 2005-03-14 12:39:29 -0500 (Mon, 14 Mar 2005) | 2 lines

linelength

------------------------------------------------------------------------
r277952 | peterreilly | 2005-03-14 11:56:41 -0500 (Mon, 14 Mar 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r277951 | peterreilly | 2005-03-14 11:52:40 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277950 | peterreilly | 2005-03-14 11:42:02 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277949 | peterreilly | 2005-03-14 11:39:03 -0500 (Mon, 14 Mar 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r277948 | peterreilly | 2005-03-14 10:32:47 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277947 | bodewig | 2005-03-14 09:58:54 -0500 (Mon, 14 Mar 2005) | 2 lines

References may point to files with spaces in their names, quote them

------------------------------------------------------------------------
r277946 | peterreilly | 2005-03-14 08:58:18 -0500 (Mon, 14 Mar 2005) | 2 lines

stylecheck

------------------------------------------------------------------------
r277945 | peterreilly | 2005-03-14 08:56:44 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277944 | peterreilly | 2005-03-14 08:51:10 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc + upcase constants

------------------------------------------------------------------------
r277941 | bodewig | 2005-03-14 07:10:24 -0500 (Mon, 14 Mar 2005) | 2 lines

includes for .NET tasks doesn't work as expected.  PR 24194

------------------------------------------------------------------------
r277938 | peterreilly | 2005-03-14 06:46:56 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc + linelength

------------------------------------------------------------------------
r277937 | bodewig | 2005-03-14 06:46:01 -0500 (Mon, 14 Mar 2005) | 2 lines

split extraoptions in <csc>, PR 23599

------------------------------------------------------------------------
r277936 | peterreilly | 2005-03-14 06:45:29 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277934 | bodewig | 2005-03-14 06:34:58 -0500 (Mon, 14 Mar 2005) | 2 lines

More VAJ URL encoding issues

------------------------------------------------------------------------
r277930 | bodewig | 2005-03-14 05:42:35 -0500 (Mon, 14 Mar 2005) | 5 lines

<cab> should now deal with file names containing spaces.

PR: 17182
Submitted by:	Jay Peck <jpeck at afsimage dot com>

------------------------------------------------------------------------
r277929 | peterreilly | 2005-03-14 05:28:46 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277928 | peterreilly | 2005-03-14 05:27:56 -0500 (Mon, 14 Mar 2005) | 2 lines

linelength

------------------------------------------------------------------------
r277927 | peterreilly | 2005-03-14 05:23:31 -0500 (Mon, 14 Mar 2005) | 2 lines

2005

------------------------------------------------------------------------
r277926 | peterreilly | 2005-03-14 05:22:42 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277925 | peterreilly | 2005-03-14 05:06:58 -0500 (Mon, 14 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277920 | bodewig | 2005-03-14 04:19:50 -0500 (Mon, 14 Mar 2005) | 2 lines

2005

------------------------------------------------------------------------
r277918 | peterreilly | 2005-03-14 04:19:27 -0500 (Mon, 14 Mar 2005) | 2 lines

add cast to allow java1.5 to compile without whining

------------------------------------------------------------------------
r277917 | peterreilly | 2005-03-14 04:14:56 -0500 (Mon, 14 Mar 2005) | 2 lines

allow ant to compile with ant 1.5 again.

------------------------------------------------------------------------
r277916 | bodewig | 2005-03-14 04:13:42 -0500 (Mon, 14 Mar 2005) | 5 lines

Make the framed JUnit report deal with multiple reports for the same testcase.

PR: 32645
Submitted by:	Yves Martin <yves dot martin at elca dot ch>

------------------------------------------------------------------------
r277914 | bodewig | 2005-03-14 04:02:48 -0500 (Mon, 14 Mar 2005) | 2 lines

Explicitly disconnect the session, PR: 26757

------------------------------------------------------------------------
r277913 | bodewig | 2005-03-14 03:56:48 -0500 (Mon, 14 Mar 2005) | 2 lines

Make <rexec> use the protocol directly, when possible.  Also, did the command attribute actually work?  PR: 26632

------------------------------------------------------------------------
r277912 | mbenson | 2005-03-11 15:29:00 -0500 (Fri, 11 Mar 2005) | 4 lines

Be specific about nonexistent or non-directory directory.
PR: 24627
Based on Alexey Solofnenko's patch

------------------------------------------------------------------------
r277909 | jkf | 2005-03-11 13:51:03 -0500 (Fri, 11 Mar 2005) | 2 lines

Removed superfluous cast

------------------------------------------------------------------------
r277906 | peterreilly | 2005-03-11 10:27:40 -0500 (Fri, 11 Mar 2005) | 2 lines

stylecheck - mostly javadoc

------------------------------------------------------------------------
r277905 | peterreilly | 2005-03-11 10:16:24 -0500 (Fri, 11 Mar 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r277904 | peterreilly | 2005-03-11 09:56:48 -0500 (Fri, 11 Mar 2005) | 2 lines

stylecheck

------------------------------------------------------------------------
r277903 | bodewig | 2005-03-11 09:15:16 -0500 (Fri, 11 Mar 2005) | 2 lines

Fix fallthrough with unwanted side-effect

------------------------------------------------------------------------
r277902 | bodewig | 2005-03-11 09:14:36 -0500 (Fri, 11 Mar 2005) | 2 lines

Jikes is right, the fallthrough is a problem

------------------------------------------------------------------------
r277901 | peterreilly | 2005-03-11 06:22:20 -0500 (Fri, 11 Mar 2005) | 2 lines

javadoc + make a variable final

------------------------------------------------------------------------
r277900 | peterreilly | 2005-03-11 06:15:27 -0500 (Fri, 11 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277899 | peterreilly | 2005-03-11 06:14:47 -0500 (Fri, 11 Mar 2005) | 2 lines

checkstyle- no need to have final methods in a final class + falltru

------------------------------------------------------------------------
r277898 | peterreilly | 2005-03-11 06:10:30 -0500 (Fri, 11 Mar 2005) | 2 lines

spacing

------------------------------------------------------------------------
r277897 | peterreilly | 2005-03-11 06:02:59 -0500 (Fri, 11 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277896 | peterreilly | 2005-03-11 05:12:07 -0500 (Fri, 11 Mar 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277895 | peterreilly | 2005-03-11 04:59:55 -0500 (Fri, 11 Mar 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277894 | peterreilly | 2005-03-11 04:55:25 -0500 (Fri, 11 Mar 2005) | 2 lines

checkstyle - javadoc + change name of _catalog

------------------------------------------------------------------------
r277893 | peterreilly | 2005-03-11 04:51:46 -0500 (Fri, 11 Mar 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277889 | bodewig | 2005-03-11 03:41:41 -0500 (Fri, 11 Mar 2005) | 2 lines

Make Solaris detect Ant jar files as jar files, PR: 32649

------------------------------------------------------------------------
r277888 | stevel | 2005-03-10 18:22:16 -0500 (Thu, 10 Mar 2005) | 2 lines

little pointer to note that this test seems dependent upon viewcvs.cgi working, which it wont after an SVN move.

------------------------------------------------------------------------
r277887 | stevel | 2005-03-10 18:20:04 -0500 (Thu, 10 Mar 2005) | 3 lines

Moving isreachable to reflect on the new method. On java <=1.4; if the hostname can be resolved then we are reachable.
All tests run against localhost. This *should* work everywhere, but no doubt someone with a confused /etc/hosts or no IPv4 stack will have different opinions.

------------------------------------------------------------------------
r277886 | mbenson | 2005-03-10 16:16:08 -0500 (Thu, 10 Mar 2005) | 3 lines

Sort echoproperties output in text mode as well as XML.
PR: 18976

------------------------------------------------------------------------
r277882 | mbenson | 2005-03-10 10:45:11 -0500 (Thu, 10 Mar 2005) | 2 lines

Why are we testing this on Unix? :)

------------------------------------------------------------------------
r277874 | stevel | 2005-03-10 09:09:39 -0500 (Thu, 10 Mar 2005) | 2 lines

documented, and renamed the test to isreachable, because there may be more than just ping going on here (it goes through our firewall where http doesnt)

------------------------------------------------------------------------
r277871 | bodewig | 2005-03-10 08:05:03 -0500 (Thu, 10 Mar 2005) | 2 lines

fix indentation

------------------------------------------------------------------------
r277868 | bodewig | 2005-03-10 07:50:58 -0500 (Thu, 10 Mar 2005) | 2 lines

Various javadoc and code-style fixes by Kev Jackson

------------------------------------------------------------------------
r277867 | bodewig | 2005-03-10 07:27:41 -0500 (Thu, 10 Mar 2005) | 2 lines

Unused variable found by Kev Jackson

------------------------------------------------------------------------
r277865 | bodewig | 2005-03-10 03:31:54 -0500 (Thu, 10 Mar 2005) | 2 lines

Kaffe keeps moving things, adapt

------------------------------------------------------------------------
r277863 | bodewig | 2005-03-10 03:17:55 -0500 (Thu, 10 Mar 2005) | 2 lines

Kaffe keeps moving things, adapt

------------------------------------------------------------------------
r277861 | stevel | 2005-03-09 18:38:22 -0500 (Wed, 09 Mar 2005) | 2 lines

bit of cleanup here

------------------------------------------------------------------------
r277860 | stevel | 2005-03-09 17:56:39 -0500 (Wed, 09 Mar 2005) | 4 lines

Apt testing. We can say this works now :)
I do worry that the example Java1.5 code looks just like STL C++.
We also need to compare factorypath with classpath behaviour. But we can demo that you can add new factories

------------------------------------------------------------------------
r277859 | mbenson | 2005-03-09 17:00:41 -0500 (Wed, 09 Mar 2005) | 2 lines

Switch to >= Java 1.2 method, a little clearer hopefully.

------------------------------------------------------------------------
r277848 | bodewig | 2005-03-09 02:15:54 -0500 (Wed, 09 Mar 2005) | 2 lines

2005

------------------------------------------------------------------------
r277846 | jkf | 2005-03-08 19:38:20 -0500 (Tue, 08 Mar 2005) | 2 lines

Removed $Id$ cvs tags

------------------------------------------------------------------------
r277845 | jkf | 2005-03-08 19:20:42 -0500 (Tue, 08 Mar 2005) | 2 lines

removed lines with $Revision: x.y $ lines (after verification)

------------------------------------------------------------------------
r277841 | mbenson | 2005-03-08 14:13:37 -0500 (Tue, 08 Mar 2005) | 2 lines

Remove use of 1.4 method

------------------------------------------------------------------------
r277836 | mbenson | 2005-03-08 12:21:20 -0500 (Tue, 08 Mar 2005) | 3 lines

Make pass; I assume the recent FileUtils changes broke this due to
the file separator being normalized to \, but it could've been broken before.

------------------------------------------------------------------------
r277832 | stevel | 2005-03-08 06:51:15 -0500 (Tue, 08 Mar 2005) | 2 lines

typo in the javadocs

------------------------------------------------------------------------
r277831 | mbenson | 2005-03-07 18:25:51 -0500 (Mon, 07 Mar 2005) | 2 lines

Spelling, blank lines

------------------------------------------------------------------------
r277829 | mbenson | 2005-03-07 16:05:52 -0500 (Mon, 07 Mar 2005) | 2 lines

Javadoc, LOC

------------------------------------------------------------------------
r277828 | mbenson | 2005-03-07 16:03:29 -0500 (Mon, 07 Mar 2005) | 2 lines

Typos

------------------------------------------------------------------------
r277825 | mbenson | 2005-03-07 13:29:25 -0500 (Mon, 07 Mar 2005) | 3 lines

Forgot to commit testcase for doubled EOF char on the new filter-delegated
FixCRLF task.  Translated test assertions from Java to Ant.

------------------------------------------------------------------------
r277817 | mbenson | 2005-03-07 12:27:50 -0500 (Mon, 07 Mar 2005) | 4 lines

Stop being so optimistic; move isDeeper() to 1.7
Add @return to contentsExcluded javadoc
Remove unnecessary File.separator from endsWith comparison in contentsExcluded

------------------------------------------------------------------------
r277816 | mbenson | 2005-03-07 12:16:33 -0500 (Mon, 07 Mar 2005) | 3 lines

static final variables:
    csScanOnly -> CS_SCAN_ONLY, csThenNonCs -> CS_THEN_NON_CS

------------------------------------------------------------------------
r277815 | mbenson | 2005-03-07 12:13:05 -0500 (Mon, 07 Mar 2005) | 3 lines

Reuse boolean[] instances for case-sensitivity iterations when scanning;
reverse logic for better clarity of intent with these arrays.

------------------------------------------------------------------------
r277814 | mbenson | 2005-03-07 12:02:46 -0500 (Mon, 07 Mar 2005) | 3 lines

Move DirectoryScanner.getScannedDirs() to package-private access;
add DirectoryScannerTest to tests.and.ant.share.classloader tests.

------------------------------------------------------------------------
r277813 | stevel | 2005-03-07 10:23:37 -0500 (Mon, 07 Mar 2005) | 2 lines

javadocs

------------------------------------------------------------------------
r277811 | stevel | 2005-03-07 10:12:25 -0500 (Mon, 07 Mar 2005) | 4 lines

First fix the tests to fail when they should, then fix rmic to work as before, even on Java1.5, then add new tests to explicitly do version checks.
bug "rmic always compiles on Java1.5"
http://issues.apache.org/bugzilla/show_bug.cgi?id=33862

------------------------------------------------------------------------
r277810 | stevel | 2005-03-07 10:10:56 -0500 (Mon, 07 Mar 2005) | 2 lines

deal with javac1.5 whinings

------------------------------------------------------------------------
r277805 | stevel | 2005-03-07 07:22:52 -0500 (Mon, 07 Mar 2005) | 3 lines

Fixing apt with correct method name, some more javadocs.
http://issues.apache.org/bugzilla/show_bug.cgi?id=33853

------------------------------------------------------------------------
r277801 | peterreilly | 2005-03-07 04:41:16 -0500 (Mon, 07 Mar 2005) | 2 lines

yuck, tabs

------------------------------------------------------------------------
r277799 | peterreilly | 2005-03-07 04:37:43 -0500 (Mon, 07 Mar 2005) | 4 lines

add verbose attribute to <subant> task
PR: 33787
Obtained from: Craig Ryan, Frank Somers

------------------------------------------------------------------------
r277795 | mbenson | 2005-03-04 18:41:21 -0500 (Fri, 04 Mar 2005) | 4 lines

By popular demand:  Do not scan directories if their contents are excluded.
Changed scannedDirs from a cache to a result and added a gettor method
with a warning in the Javadoc that it was a testing method only.

------------------------------------------------------------------------
r277793 | jkf | 2005-03-04 17:31:40 -0500 (Fri, 04 Mar 2005) | 4 lines

PR: 33770

Improved FTP task to not fail on hidden directories.

------------------------------------------------------------------------
r277792 | mbenson | 2005-03-04 17:29:32 -0500 (Fri, 04 Mar 2005) | 5 lines

1. Remove unused private inner class.
2. Fix loop introduced by a seemingly innocent logic change :(
3. Fix bug that caused extra EOFs when input already contained EOF.
4. Make instances constructed with a Reader usable.

------------------------------------------------------------------------
r277789 | mbenson | 2005-03-04 11:45:37 -0500 (Fri, 04 Mar 2005) | 4 lines

Various terseness like I tend to do;
More importantly, fixed Gump failure on Unix (see end of change list).
Dyslexia strikes!

------------------------------------------------------------------------
r277788 | mbenson | 2005-03-03 17:16:11 -0500 (Thu, 03 Mar 2005) | 3 lines

Remove empty default constructor;
create the filterchain Vector only once per Object.

------------------------------------------------------------------------
r277787 | mbenson | 2005-03-03 16:46:47 -0500 (Thu, 03 Mar 2005) | 7 lines

1. Add Kevin Greiner's FixCrLfFilter (slightly modified)
2. Adapt FixCRLF the task to use the filter (single set of fixcrlf code)
3. Implement ChainableReader in FixCRLF so that the existing taskdef
   will be recognized as a nested element in a filterchain.
PR: 33155
Submitted by: Kevin Greiner

------------------------------------------------------------------------
r277786 | mbenson | 2005-03-03 15:42:43 -0500 (Thu, 03 Mar 2005) | 3 lines

Eliminate possible NPE; note that previous change
addressed bug 33118 at least partially.

------------------------------------------------------------------------
r277778 | mbenson | 2005-03-03 11:24:26 -0500 (Thu, 03 Mar 2005) | 4 lines

Add preservelastmodified attribute to fixcrlf.
PR: 25770
Submitted by: Yuji Yamano

------------------------------------------------------------------------
r277777 | jkf | 2005-03-03 09:23:43 -0500 (Thu, 03 Mar 2005) | 2 lines

updated cright

------------------------------------------------------------------------
r277776 | jkf | 2005-03-03 09:07:38 -0500 (Thu, 03 Mar 2005) | 3 lines

renamed parameters to avoid hiding,
reduced visibility of member methods of inner class

------------------------------------------------------------------------
r277775 | jkf | 2005-03-03 09:04:27 -0500 (Thu, 03 Mar 2005) | 3 lines

reduced visibility of the members not defined in super class of a private inner class
removed unnecessary casts

------------------------------------------------------------------------
r277774 | jkf | 2005-03-03 09:02:32 -0500 (Thu, 03 Mar 2005) | 2 lines

Renamed parameter to avoid hidden member variable

------------------------------------------------------------------------
r277773 | jkf | 2005-03-03 09:00:53 -0500 (Thu, 03 Mar 2005) | 2 lines

Removed unused local variables (after verification for documented side effects)

------------------------------------------------------------------------
r277772 | jkf | 2005-03-03 09:00:08 -0500 (Thu, 03 Mar 2005) | 2 lines

added getColumnNumber as all other fields that are set can also be get, apart from the column.

------------------------------------------------------------------------
r277771 | jkf | 2005-03-03 08:59:04 -0500 (Thu, 03 Mar 2005) | 3 lines

Removed unused import
Documented empty block

------------------------------------------------------------------------
r277770 | jkf | 2005-03-03 08:58:25 -0500 (Thu, 03 Mar 2005) | 4 lines

Removed unecessary cast,
Removed caught Throwable while Exception was expected
Documented empty blocks

------------------------------------------------------------------------
r277767 | mbenson | 2005-03-02 17:43:54 -0500 (Wed, 02 Mar 2005) | 3 lines

Stop scanning directories where we match the directory but know based
on the pattern that we will never match any of its contents.

------------------------------------------------------------------------
r277761 | mbenson | 2005-03-01 18:09:58 -0500 (Tue, 01 Mar 2005) | 2 lines

Get with usetimestamp did not work when local timestamp roughly >= now.

------------------------------------------------------------------------
r277760 | mbenson | 2005-03-01 18:04:39 -0500 (Tue, 01 Mar 2005) | 2 lines

Simplify some file resolution code to rely on FileUtils.

------------------------------------------------------------------------
r277759 | mbenson | 2005-03-01 17:59:44 -0500 (Tue, 01 Mar 2005) | 10 lines

On DOS and Netware, filenames beginning with a drive letter
and followed by a colon but with no directory separator following
the colon are no longer (incorrectly) accepted as absolute pathnames
by FileUtils.normalize() and FileUtils.isAbsolutePath().  Netware
volumes can still be specified without an intervening separator.
UNC pathnames on Windows must include a server and share name, i.e.
"\\a\b" to be considered valid absolute paths.
FileUtils.resolveFile() promised to return absolute files but
did not always do so.

------------------------------------------------------------------------
r277757 | mbenson | 2005-03-01 16:26:34 -0500 (Tue, 01 Mar 2005) | 2 lines

Disable test that can't run under Windows Java 1.2 . Should check 1.3 as well.

------------------------------------------------------------------------
r277756 | mbenson | 2005-03-01 16:24:59 -0500 (Tue, 01 Mar 2005) | 2 lines

Looks like the right thing to do:

------------------------------------------------------------------------
r277755 | mbenson | 2005-03-01 16:10:17 -0500 (Tue, 01 Mar 2005) | 2 lines

New diagnostics broke CaseTest.

------------------------------------------------------------------------
r277754 | mbenson | 2005-03-01 12:17:39 -0500 (Tue, 01 Mar 2005) | 2 lines

Clean up spacing, remove erroneously inserted "not".

------------------------------------------------------------------------
r277752 | mbenson | 2005-03-01 11:23:41 -0500 (Tue, 01 Mar 2005) | 2 lines

Some space/punctuation cleanup.  Like it, Steve.

------------------------------------------------------------------------
r277751 | mbenson | 2005-03-01 10:55:29 -0500 (Tue, 01 Mar 2005) | 2 lines

Copyright police

------------------------------------------------------------------------
r277750 | stevel | 2005-03-01 09:55:47 -0500 (Tue, 01 Mar 2005) | 10 lines

complete rework of reporting when we cant instantiate an element

old: generic error message

new: step by step diagnostics with instructions.

The code treats ant tasks and ant optional tasks specially, based on package names. 

Also: moved some constants into the appropriate places.

------------------------------------------------------------------------
r277749 | stevel | 2005-03-01 09:52:56 -0500 (Tue, 01 Mar 2005) | 2 lines

update to java1.5 docs, to show we are still 100% correct.

------------------------------------------------------------------------
r277746 | peterreilly | 2005-03-01 04:48:36 -0500 (Tue, 01 Mar 2005) | 3 lines

NPE when adding comment to zip file that is not there
PR: 33779

------------------------------------------------------------------------
r277744 | jkf | 2005-02-26 16:16:58 -0500 (Sat, 26 Feb 2005) | 2 lines

renamed hidden variables

------------------------------------------------------------------------
r277743 | jkf | 2005-02-26 16:03:44 -0500 (Sat, 26 Feb 2005) | 3 lines

RedirectorElementTest stopped working on windows w/h cat on the path.
Now it passes the testcase if cat is not available.

------------------------------------------------------------------------
r277741 | mbenson | 2005-02-25 18:07:19 -0500 (Fri, 25 Feb 2005) | 2 lines

Year

------------------------------------------------------------------------
r277740 | mbenson | 2005-02-25 17:23:07 -0500 (Fri, 25 Feb 2005) | 2 lines

get with usetimestamp did not work on Java 1.2 .

------------------------------------------------------------------------
r277738 | bodewig | 2005-02-25 10:22:20 -0500 (Fri, 25 Feb 2005) | 2 lines

cleanup

------------------------------------------------------------------------
r277737 | bodewig | 2005-02-25 08:15:42 -0500 (Fri, 25 Feb 2005) | 2 lines

I don't see the debug output in the Kaffe Gump run, try it unconditionally

------------------------------------------------------------------------
r277735 | stevel | 2005-02-25 06:32:35 -0500 (Fri, 25 Feb 2005) | 2 lines

condition to check for parser features. Left to others to put into Ant's build.xml.

------------------------------------------------------------------------
r277734 | bodewig | 2005-02-25 05:58:51 -0500 (Fri, 25 Feb 2005) | 2 lines

fix name-hiding and style by Kev Jackson

------------------------------------------------------------------------
r277732 | bodewig | 2005-02-25 04:51:33 -0500 (Fri, 25 Feb 2005) | 4 lines

fix spelling, name hiding, javadocs and style

Submitted by:	Kev Jackson

------------------------------------------------------------------------
r277731 | stevel | 2005-02-24 19:33:00 -0500 (Thu, 24 Feb 2005) | 4 lines

fixcrlf gets a new attribute to make it easier to fix a single file. no nested filesets for <fileset file>, see.

Also put the schemavalidate in the right place in WHATSNEW.

------------------------------------------------------------------------
r277730 | mbenson | 2005-02-24 17:39:27 -0500 (Thu, 24 Feb 2005) | 2 lines

Test failed on 1.2 due to ant.home not being set on the helper Project.

------------------------------------------------------------------------
r277727 | bodewig | 2005-02-24 15:18:22 -0500 (Thu, 24 Feb 2005) | 2 lines

debug=false breaks Symantec compiler

------------------------------------------------------------------------
r277724 | mbenson | 2005-02-24 11:48:45 -0500 (Thu, 24 Feb 2005) | 2 lines

-5 + 2 LOC

------------------------------------------------------------------------
r277721 | mbenson | 2005-02-23 14:27:42 -0500 (Wed, 23 Feb 2005) | 2 lines

Remove trailing WS from blank lines.

------------------------------------------------------------------------
r277720 | bodewig | 2005-02-23 09:30:47 -0500 (Wed, 23 Feb 2005) | 2 lines

2005

------------------------------------------------------------------------
r277719 | stevel | 2005-02-23 08:04:16 -0500 (Wed, 23 Feb 2005) | 2 lines

lower success message to verbose output on schema validation. Could do the same for XmlValidate, and indeed, am sorely tempted to. Also added some javadocs.

------------------------------------------------------------------------
r277718 | stevel | 2005-02-23 07:51:07 -0500 (Wed, 23 Feb 2005) | 2 lines

Worked out how to validate XSD files themselves. Changes to task made, and the examples of the task now show how to do this.

------------------------------------------------------------------------
r277715 | mbenson | 2005-02-22 13:26:56 -0500 (Tue, 22 Feb 2005) | 3 lines

Pathconvert no longer requires that one of (targetos|pathsep|dirsep)
be set; platform defaults are used when this is the case.

------------------------------------------------------------------------
r277714 | mbenson | 2005-02-22 13:05:48 -0500 (Tue, 22 Feb 2005) | 2 lines

More LOC bumming

------------------------------------------------------------------------
r277713 | mbenson | 2005-02-22 12:54:44 -0500 (Tue, 22 Feb 2005) | 2 lines

Trade 2 LOC for 10.

------------------------------------------------------------------------
r277712 | mbenson | 2005-02-22 12:48:02 -0500 (Tue, 22 Feb 2005) | 2 lines

Missing quote in javadoc.

------------------------------------------------------------------------
r277711 | stevel | 2005-02-22 12:45:40 -0500 (Tue, 22 Feb 2005) | 2 lines

those extra tests I threatened

------------------------------------------------------------------------
r277710 | mbenson | 2005-02-22 12:44:45 -0500 (Tue, 22 Feb 2005) | 2 lines

Javadoc and moved members of $MapEntry .

------------------------------------------------------------------------
r277709 | stevel | 2005-02-22 11:57:33 -0500 (Tue, 22 Feb 2005) | 2 lines

still had an interim attribute name here. fixed.

------------------------------------------------------------------------
r277708 | stevel | 2005-02-22 11:04:21 -0500 (Tue, 22 Feb 2005) | 2 lines

Fix the date up

------------------------------------------------------------------------
r277707 | stevel | 2005-02-22 10:58:36 -0500 (Tue, 22 Feb 2005) | 2 lines

<schemavalidate>. Because I can never get the settings right.

------------------------------------------------------------------------
r277704 | peterreilly | 2005-02-22 10:30:19 -0500 (Tue, 22 Feb 2005) | 5 lines

 NPE when when <presetdef> tries to configure a task that
  cannot be instantiated.
PR:  33689
Reported by: Steve Loughran

------------------------------------------------------------------------
r277701 | bodewig | 2005-02-21 03:40:16 -0500 (Mon, 21 Feb 2005) | 7 lines

On second thought, this seems to be the real fix for
PR: 33412

when updating an archive, we never want to drop files from the
original archive, no matter what the current default excludes setting
says.

------------------------------------------------------------------------
r277700 | stevel | 2005-02-18 18:28:00 -0500 (Fri, 18 Feb 2005) | 4 lines

This commit eliminates all (but one) use of Project.createTask("some name") from the codebase. It also sets up all created tasks using the new Task.bindToOwner call. 

I'm tempted to retrofit Task.bindToOwner back to the 1.6.x codebase, for the benefit of third party tasks; same for the extra constructors for exec and java. Thoughts?

------------------------------------------------------------------------
r277698 | stevel | 2005-02-18 17:09:44 -0500 (Fri, 18 Feb 2005) | 2 lines

these two get new constructors that do the config, as they get created so often.

------------------------------------------------------------------------
r277697 | stevel | 2005-02-18 17:07:36 -0500 (Fri, 18 Feb 2005) | 2 lines

Move the logic to bind a created task to an existing one into Task.

------------------------------------------------------------------------
r277696 | peterreilly | 2005-02-18 11:57:23 -0500 (Fri, 18 Feb 2005) | 3 lines

adding a selector to abstractfileset did not null the cached directory scanner
now there is no need to null the directory scanner when cloning

------------------------------------------------------------------------
r277688 | bodewig | 2005-02-18 08:15:28 -0500 (Fri, 18 Feb 2005) | 2 lines

Allo zip to store files with size between 2GB and 4GB

------------------------------------------------------------------------
r277687 | bodewig | 2005-02-18 07:30:31 -0500 (Fri, 18 Feb 2005) | 2 lines

Needed getDefaulexcludes in 1.6.3 for PR 33412

------------------------------------------------------------------------
r277685 | bodewig | 2005-02-18 07:24:16 -0500 (Fri, 18 Feb 2005) | 2 lines

<zip> update ignored defaultexcludes, PR 33412

------------------------------------------------------------------------
r277684 | bodewig | 2005-02-18 07:19:37 -0500 (Fri, 18 Feb 2005) | 2 lines

Test for PR 33412

------------------------------------------------------------------------
r277682 | bodewig | 2005-02-18 06:00:58 -0500 (Fri, 18 Feb 2005) | 2 lines

Don't close SocketClients if connect has failed, PR 33618

------------------------------------------------------------------------
r277681 | peterreilly | 2005-02-18 05:49:27 -0500 (Fri, 18 Feb 2005) | 2 lines

clear the cached directory scanner when cloning an abstractfileset

------------------------------------------------------------------------
r277671 | bodewig | 2005-02-15 10:58:06 -0500 (Tue, 15 Feb 2005) | 2 lines

Use LineOrientedOutputStream with some tweaks to keep BWC signatures in LogOutputStream

------------------------------------------------------------------------
r277670 | bodewig | 2005-02-15 10:15:22 -0500 (Tue, 15 Feb 2005) | 2 lines

Port LineOrientedOutputStream from svn proposal, add tests

------------------------------------------------------------------------
r277666 | bodewig | 2005-02-15 06:36:55 -0500 (Tue, 15 Feb 2005) | 2 lines

*Really* fix Ant-URL

------------------------------------------------------------------------
r277664 | bodewig | 2005-02-15 06:17:14 -0500 (Tue, 15 Feb 2005) | 2 lines

fix Ant-URL

------------------------------------------------------------------------
r277657 | jkf | 2005-02-14 16:08:00 -0500 (Mon, 14 Feb 2005) | 2 lines

javadoc / removed unused local variable

------------------------------------------------------------------------
r277656 | mbenson | 2005-02-14 10:24:47 -0500 (Mon, 14 Feb 2005) | 3 lines

More info to see what Gump sees when this test fails.  I may still remove
the clone task, but until then I'll try to keep the tests passing.

------------------------------------------------------------------------
r277654 | bodewig | 2005-02-14 08:30:34 -0500 (Mon, 14 Feb 2005) | 2 lines

Really output time, when you say so

------------------------------------------------------------------------
r277652 | stevel | 2005-02-13 18:21:23 -0500 (Sun, 13 Feb 2005) | 2 lines

Fileutils closing

------------------------------------------------------------------------
r277651 | mbenson | 2005-02-11 17:49:56 -0500 (Fri, 11 Feb 2005) | 2 lines

Unfinished caching of IllegalStateExceptions for concurrent scan() invocations.

------------------------------------------------------------------------
r277650 | mbenson | 2005-02-11 17:41:40 -0500 (Fri, 11 Feb 2005) | 2 lines

Splitting hairs

------------------------------------------------------------------------
r277649 | mbenson | 2005-02-11 17:39:56 -0500 (Fri, 11 Feb 2005) | 2 lines

Beautify imports.

------------------------------------------------------------------------
r277648 | mbenson | 2005-02-11 17:37:04 -0500 (Fri, 11 Feb 2005) | 2 lines

Merged duplicate code from private methods.

------------------------------------------------------------------------
r277647 | mbenson | 2005-02-11 15:53:47 -0500 (Fri, 11 Feb 2005) | 2 lines

More javadoc

------------------------------------------------------------------------
r277646 | mbenson | 2005-02-11 15:27:38 -0500 (Fri, 11 Feb 2005) | 2 lines

LOC

------------------------------------------------------------------------
r277645 | mbenson | 2005-02-11 13:48:24 -0500 (Fri, 11 Feb 2005) | 4 lines

File inclusion: unnecessarily checked presence of selectors
AND DirectoryScanner.isEverythingIncluded, which will be false if
selectors cause omissions.

------------------------------------------------------------------------
r277644 | mbenson | 2005-02-11 13:38:40 -0500 (Fri, 11 Feb 2005) | 3 lines

Removing some (IMO) unnecessary blank lines; a couple of string cat merges;
replaced an if block with ?: notation.

------------------------------------------------------------------------
r277643 | mbenson | 2005-02-11 13:22:50 -0500 (Fri, 11 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277642 | mbenson | 2005-02-11 13:05:07 -0500 (Fri, 11 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277641 | mbenson | 2005-02-11 12:46:31 -0500 (Fri, 11 Feb 2005) | 2 lines

Keep setFile atomic.

------------------------------------------------------------------------
r277640 | mbenson | 2005-02-11 12:44:13 -0500 (Fri, 11 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277639 | mbenson | 2005-02-11 12:32:19 -0500 (Fri, 11 Feb 2005) | 2 lines

Beautify imports.

------------------------------------------------------------------------
r277638 | mbenson | 2005-02-11 11:53:00 -0500 (Fri, 11 Feb 2005) | 3 lines

Instantiate our own DirectoryScanner, since we plan to override
the fileset's followSymlinks attribute.

------------------------------------------------------------------------
r277637 | mbenson | 2005-02-11 11:27:28 -0500 (Fri, 11 Feb 2005) | 3 lines

Modified to return a cached DirectoryScanner instance until
changes are made to the AbstractFileSet.

------------------------------------------------------------------------
r277636 | mbenson | 2005-02-11 11:21:35 -0500 (Fri, 11 Feb 2005) | 2 lines

Remove trailing spaces (and the whole line they were on too, hey).

------------------------------------------------------------------------
r277633 | mbenson | 2005-02-10 18:51:59 -0500 (Thu, 10 Feb 2005) | 3 lines

Synchronize scanning so that a scan initiated before the end of another scan
will block and the two will share results.  Likewise for slow scans.

------------------------------------------------------------------------
r277632 | mbenson | 2005-02-10 18:20:06 -0500 (Thu, 10 Feb 2005) | 2 lines

More javadoc

------------------------------------------------------------------------
r277631 | mbenson | 2005-02-10 18:10:17 -0500 (Thu, 10 Feb 2005) | 2 lines

Ensure the forked VM can find the Sun Javah implementation.

------------------------------------------------------------------------
r277630 | mbenson | 2005-02-10 17:48:46 -0500 (Thu, 10 Feb 2005) | 3 lines

Move some validation into execute();
remove unnecessary guards against storepass == null.

------------------------------------------------------------------------
r277629 | mbenson | 2005-02-10 17:43:27 -0500 (Thu, 10 Feb 2005) | 7 lines

Tighten security by sending storepass and keypass to signjar
via the input stream of the forked process.

Also, create signjar's helper ExecTask instance directly rather than by
typedef discovery mechanisms.
PR: 33433

------------------------------------------------------------------------
r277628 | mbenson | 2005-02-10 17:32:21 -0500 (Thu, 10 Feb 2005) | 2 lines

Added loginputstring attribute to redirector.

------------------------------------------------------------------------
r277627 | mbenson | 2005-02-10 16:10:10 -0500 (Thu, 10 Feb 2005) | 3 lines

Commandline.describeCommand() methods would attempt to describe
arguments even when none, other than the executable name, were present.

------------------------------------------------------------------------
r277626 | mbenson | 2005-02-10 15:56:31 -0500 (Thu, 10 Feb 2005) | 2 lines

Year

------------------------------------------------------------------------
r277625 | mbenson | 2005-02-10 15:56:02 -0500 (Thu, 10 Feb 2005) | 2 lines

Corrected loglevel info in javadoc.

------------------------------------------------------------------------
r277624 | mbenson | 2005-02-10 15:34:06 -0500 (Thu, 10 Feb 2005) | 2 lines

convert tabs

------------------------------------------------------------------------
r277623 | bodewig | 2005-02-09 03:16:03 -0500 (Wed, 09 Feb 2005) | 2 lines

Some very temporary diagnostic output to help find/fix a Kaffe+Gump issue

------------------------------------------------------------------------
r277622 | bodewig | 2005-02-09 02:54:12 -0500 (Wed, 09 Feb 2005) | 2 lines

2005

------------------------------------------------------------------------
r277620 | stevel | 2005-02-08 13:52:38 -0500 (Tue, 08 Feb 2005) | 2 lines

flip fork bit on Apt

------------------------------------------------------------------------
r277619 | stevel | 2005-02-08 13:51:26 -0500 (Tue, 08 Feb 2005) | 2 lines

return code checking on rpm. How do we test this?

------------------------------------------------------------------------
r277618 | stevel | 2005-02-08 13:50:35 -0500 (Tue, 08 Feb 2005) | 2 lines

diagnostics probes temp dir by writing a file to it.

------------------------------------------------------------------------
r277616 | mbenson | 2005-02-07 18:50:16 -0500 (Mon, 07 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277614 | mbenson | 2005-02-07 18:36:02 -0500 (Mon, 07 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277613 | mbenson | 2005-02-07 18:25:03 -0500 (Mon, 07 Feb 2005) | 2 lines

Remove temp variable/method call, some blank lines

------------------------------------------------------------------------
r277612 | mbenson | 2005-02-07 18:18:03 -0500 (Mon, 07 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277611 | mbenson | 2005-02-07 16:38:51 -0500 (Mon, 07 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277610 | mbenson | 2005-02-07 13:38:07 -0500 (Mon, 07 Feb 2005) | 2 lines

s/native2ascii/javah

------------------------------------------------------------------------
r277607 | mbenson | 2005-02-04 18:47:09 -0500 (Fri, 04 Feb 2005) | 2 lines

Move instance variables

------------------------------------------------------------------------
r277606 | mbenson | 2005-02-04 18:37:33 -0500 (Fri, 04 Feb 2005) | 2 lines

another convenience method

------------------------------------------------------------------------
r277605 | mbenson | 2005-02-04 18:22:16 -0500 (Fri, 04 Feb 2005) | 2 lines

+2 convenience methods

------------------------------------------------------------------------
r277604 | stevel | 2005-02-04 17:24:10 -0500 (Fri, 04 Feb 2005) | 2 lines

year

------------------------------------------------------------------------
r277603 | stevel | 2005-02-04 17:22:14 -0500 (Fri, 04 Feb 2005) | 2 lines

downgraded some logging to verbose level.

------------------------------------------------------------------------
r277601 | mbenson | 2005-02-04 17:13:43 -0500 (Fri, 04 Feb 2005) | 2 lines

1.6.3

------------------------------------------------------------------------
r277599 | mbenson | 2005-02-04 11:18:10 -0500 (Fri, 04 Feb 2005) | 2 lines

Javadoc (okay DD? ;) )

------------------------------------------------------------------------
r277598 | mbenson | 2005-02-04 11:12:46 -0500 (Fri, 04 Feb 2005) | 2 lines

Personal taste

------------------------------------------------------------------------
r277596 | bodewig | 2005-02-04 10:41:39 -0500 (Fri, 04 Feb 2005) | 2 lines

logging of command line was incomplete

------------------------------------------------------------------------
r277595 | mbenson | 2005-02-04 10:38:19 -0500 (Fri, 04 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277594 | bodewig | 2005-02-04 09:56:51 -0500 (Fri, 04 Feb 2005) | 2 lines

More Jikes whining

------------------------------------------------------------------------
r277591 | bodewig | 2005-02-04 03:08:59 -0500 (Fri, 04 Feb 2005) | 2 lines

Turn <deleteFromTarget> into <preserveInTarget> in <sync>

------------------------------------------------------------------------
r277590 | bodewig | 2005-02-04 03:08:07 -0500 (Fri, 04 Feb 2005) | 2 lines

Make javah a facade task, support kaffeh

------------------------------------------------------------------------
r277589 | bodewig | 2005-02-04 03:02:59 -0500 (Fri, 04 Feb 2005) | 2 lines

2005

------------------------------------------------------------------------
r277587 | mbenson | 2005-02-03 18:38:01 -0500 (Thu, 03 Feb 2005) | 4 lines

Javadoc & changed File constructors from
new File(f1.getAbsolutePath() + File.separator + f2.getName()) to
new File(f1, f2.getName())

------------------------------------------------------------------------
r277584 | mbenson | 2005-02-03 17:13:33 -0500 (Thu, 03 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277583 | mbenson | 2005-02-03 16:54:40 -0500 (Thu, 03 Feb 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277580 | mbenson | 2005-02-03 14:18:07 -0500 (Thu, 03 Feb 2005) | 2 lines

Add recurse attribute to filterset.

------------------------------------------------------------------------
r277579 | mbenson | 2005-02-03 12:59:34 -0500 (Thu, 03 Feb 2005) | 2 lines

Add 1.7 tags to dispatch methods.

------------------------------------------------------------------------
r277578 | mbenson | 2005-02-03 12:58:11 -0500 (Thu, 03 Feb 2005) | 5 lines

Revamp symlink task:
Extend DispatchTask
Remove 1.1 stuff / use 1.2 features where helpful
Javadoc & bumming

------------------------------------------------------------------------
r277577 | mbenson | 2005-02-02 18:55:51 -0500 (Wed, 02 Feb 2005) | 3 lines

Added level attribute to zip & subclasses.
PR: 25513

------------------------------------------------------------------------
r277576 | mbenson | 2005-02-02 18:29:11 -0500 (Wed, 02 Feb 2005) | 2 lines

Testcase was failing on Windows.

------------------------------------------------------------------------
r277575 | mbenson | 2005-02-02 15:08:57 -0500 (Wed, 02 Feb 2005) | 3 lines

Add nested header element to the mail task.
PR: 24713

------------------------------------------------------------------------
r277573 | bodewig | 2005-02-02 08:46:08 -0500 (Wed, 02 Feb 2005) | 2 lines

Make native2ascii a full-blown facade task, add docs

------------------------------------------------------------------------
r277572 | bodewig | 2005-02-02 08:01:52 -0500 (Wed, 02 Feb 2005) | 2 lines

Use GPL-save command line invokation

------------------------------------------------------------------------
r277571 | bodewig | 2005-02-02 07:52:50 -0500 (Wed, 02 Feb 2005) | 2 lines

Simplify forking of new VMs by providing a fork method in ExecuteJava

------------------------------------------------------------------------
r277569 | peterreilly | 2005-02-02 04:09:12 -0500 (Wed, 02 Feb 2005) | 2 lines

whitespace + javadoc

------------------------------------------------------------------------
r277568 | peterreilly | 2005-02-02 04:05:26 -0500 (Wed, 02 Feb 2005) | 2 lines

whitespace around +

------------------------------------------------------------------------
r277567 | bodewig | 2005-02-02 02:59:37 -0500 (Wed, 02 Feb 2005) | 2 lines

Make Jikes happy

------------------------------------------------------------------------
r277566 | bodewig | 2005-02-01 02:50:21 -0500 (Tue, 01 Feb 2005) | 2 lines

Use refelection to completely decouple Native2Ascii from Sun's implementation

------------------------------------------------------------------------
r277564 | mbenson | 2005-01-31 17:35:55 -0500 (Mon, 31 Jan 2005) | 2 lines

Fixed isSymbolicLink logic for null parent file; made isAbsolutePath() public.

------------------------------------------------------------------------
r277563 | bodewig | 2005-01-31 09:30:26 -0500 (Mon, 31 Jan 2005) | 2 lines

Add a very tiny test for native2ascii

------------------------------------------------------------------------
r277562 | bodewig | 2005-01-31 06:54:41 -0500 (Mon, 31 Jan 2005) | 2 lines

Fix @link

------------------------------------------------------------------------
r277561 | bodewig | 2005-01-31 06:48:25 -0500 (Mon, 31 Jan 2005) | 2 lines

Support Kaffe in native2ascii, make it a full facade task later

------------------------------------------------------------------------
r277560 | bodewig | 2005-01-31 03:41:56 -0500 (Mon, 31 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277559 | stevel | 2005-01-28 18:18:32 -0500 (Fri, 28 Jan 2005) | 7 lines

diagnostics should list lib dir too.
Refactored the constants in the launcher for better sharing.
I worry about the hard coded file separator there (/),
so replaced in the code, but left the constant in,
in case someone was using it.
Updated WHATSNEW. Added which.jar to the fetchables.

------------------------------------------------------------------------
r277558 | mbenson | 2005-01-28 17:23:30 -0500 (Fri, 28 Jan 2005) | 3 lines

javadoc, some refactorings,
attempt to delete VMS command file when process completes.

------------------------------------------------------------------------
r277555 | mbenson | 2005-01-28 13:21:12 -0500 (Fri, 28 Jan 2005) | 2 lines

s/ANT/Ant/

------------------------------------------------------------------------
r277554 | mbenson | 2005-01-28 13:18:36 -0500 (Fri, 28 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277553 | mbenson | 2005-01-28 12:27:09 -0500 (Fri, 28 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277552 | bodewig | 2005-01-28 11:51:10 -0500 (Fri, 28 Jan 2005) | 2 lines

typo

------------------------------------------------------------------------
r277551 | bodewig | 2005-01-28 11:49:34 -0500 (Fri, 28 Jan 2005) | 2 lines

First step towards a facade implementation of native2ascii, will support Sun and Kaffe versions

------------------------------------------------------------------------
r277548 | mbenson | 2005-01-28 11:12:37 -0500 (Fri, 28 Jan 2005) | 2 lines

More javadoc

------------------------------------------------------------------------
r277547 | bodewig | 2005-01-28 11:11:40 -0500 (Fri, 28 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277546 | bodewig | 2005-01-28 11:11:00 -0500 (Fri, 28 Jan 2005) | 2 lines

More Kaffe debugging

------------------------------------------------------------------------
r277544 | mbenson | 2005-01-28 11:01:07 -0500 (Fri, 28 Jan 2005) | 7 lines

Who'd have guessed that:
 boolean xor not boolean
is equivalent to:
 boolean == boolean?

Added a comment as well so Peter will be my friend again!

------------------------------------------------------------------------
r277543 | peterreilly | 2005-01-28 08:50:53 -0500 (Fri, 28 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277542 | peterreilly | 2005-01-28 08:42:28 -0500 (Fri, 28 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277541 | peterreilly | 2005-01-28 06:33:39 -0500 (Fri, 28 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277540 | peterreilly | 2005-01-28 06:29:16 -0500 (Fri, 28 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277539 | peterreilly | 2005-01-28 06:22:12 -0500 (Fri, 28 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277538 | peterreilly | 2005-01-28 05:15:34 -0500 (Fri, 28 Jan 2005) | 2 lines

trailing spaces

------------------------------------------------------------------------
r277537 | peterreilly | 2005-01-28 05:11:16 -0500 (Fri, 28 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277531 | peterreilly | 2005-01-28 04:26:07 -0500 (Fri, 28 Jan 2005) | 2 lines

get reference ready for 1.6.3

------------------------------------------------------------------------
r277529 | mbenson | 2005-01-27 18:45:29 -0500 (Thu, 27 Jan 2005) | 2 lines

Some javadoc and lots of spelling corrections.

------------------------------------------------------------------------
r277521 | mbenson | 2005-01-27 16:53:27 -0500 (Thu, 27 Jan 2005) | 2 lines

-2 characters

------------------------------------------------------------------------
r277520 | mbenson | 2005-01-27 16:01:05 -0500 (Thu, 27 Jan 2005) | 3 lines

Added else attribute to condition task.
PR: 33074

------------------------------------------------------------------------
r277516 | mbenson | 2005-01-27 12:00:46 -0500 (Thu, 27 Jan 2005) | 2 lines

Javadoc & cosmetics

------------------------------------------------------------------------
r277515 | mbenson | 2005-01-27 11:43:09 -0500 (Thu, 27 Jan 2005) | 2 lines

I said I was synching 1.6 with HEAD, forgot to update HEAD first!

------------------------------------------------------------------------
r277513 | jglick | 2005-01-27 11:36:11 -0500 (Thu, 27 Jan 2005) | 3 lines

Permit <java fork="true"> to accept standard input from console.
PR: 24918

------------------------------------------------------------------------
r277511 | stevel | 2005-01-27 09:52:13 -0500 (Thu, 27 Jan 2005) | 3 lines

bugzilla bug#30307 ; need a way of adding typedef'd image operations.
submitted by Christopher Lenz

------------------------------------------------------------------------
r277503 | mbenson | 2005-01-26 18:50:21 -0500 (Wed, 26 Jan 2005) | 2 lines

Missed a few...

------------------------------------------------------------------------
r277502 | mbenson | 2005-01-26 18:36:09 -0500 (Wed, 26 Jan 2005) | 3 lines

Changing the verification process not to rely on isfileselected because I'm
too lazy to move it to the 1.6 branch right now when it's not even mine.  :)

------------------------------------------------------------------------
r277495 | mbenson | 2005-01-26 17:58:12 -0500 (Wed, 26 Jan 2005) | 3 lines

Javadoc, changed local searchPath of resolveExecutable to mustSearchPath,
other inconsequentials

------------------------------------------------------------------------
r277487 | mbenson | 2005-01-26 15:12:51 -0500 (Wed, 26 Jan 2005) | 2 lines

Oops, got | and ^ confused... :(

------------------------------------------------------------------------
r277483 | mbenson | 2005-01-26 14:22:29 -0500 (Wed, 26 Jan 2005) | 2 lines

Thread-safe(r)ty, javadoc, code simplification

------------------------------------------------------------------------
r277479 | mbenson | 2005-01-26 13:06:51 -0500 (Wed, 26 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277474 | mbenson | 2005-01-26 12:26:33 -0500 (Wed, 26 Jan 2005) | 2 lines

Prepare to merge to 1.6 branch.

------------------------------------------------------------------------
r277473 | bodewig | 2005-01-26 10:11:26 -0500 (Wed, 26 Jan 2005) | 2 lines

let's hope 1.6 will support -source 1.1

------------------------------------------------------------------------
r277472 | bodewig | 2005-01-26 10:09:18 -0500 (Wed, 26 Jan 2005) | 2 lines

looking at the Gump build for java-service-wrapper, -source 1.2 seems to work

------------------------------------------------------------------------
r277471 | bodewig | 2005-01-26 10:04:26 -0500 (Wed, 26 Jan 2005) | 2 lines

Believe it or not, -source 1.1 is not supported by JDK 1.5.0

------------------------------------------------------------------------
r277469 | peterreilly | 2005-01-26 07:57:30 -0500 (Wed, 26 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277468 | bodewig | 2005-01-26 07:48:10 -0500 (Wed, 26 Jan 2005) | 2 lines

Help people to adapt to JDK 1.5

------------------------------------------------------------------------
r277466 | bodewig | 2005-01-26 02:50:48 -0500 (Wed, 26 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277464 | mbenson | 2005-01-25 17:03:35 -0500 (Tue, 25 Jan 2005) | 2 lines

Make apply's dest attribute optional.

------------------------------------------------------------------------
r277463 | mbenson | 2005-01-25 14:46:43 -0500 (Tue, 25 Jan 2005) | 2 lines

Various aesthetic changes + isSymbolicLink() works when parent arg is null.

------------------------------------------------------------------------
r277462 | mbenson | 2005-01-25 13:48:30 -0500 (Tue, 25 Jan 2005) | 3 lines

<available> returned false positives when checking a file
passed in with the current basedir leading twice.

------------------------------------------------------------------------
r277461 | peterreilly | 2005-01-25 11:09:47 -0500 (Tue, 25 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277460 | peterreilly | 2005-01-25 10:47:57 -0500 (Tue, 25 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277459 | peterreilly | 2005-01-25 10:46:47 -0500 (Tue, 25 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277458 | peterreilly | 2005-01-25 10:42:58 -0500 (Tue, 25 Jan 2005) | 2 lines

remove unused import

------------------------------------------------------------------------
r277457 | peterreilly | 2005-01-25 10:39:15 -0500 (Tue, 25 Jan 2005) | 2 lines

date

------------------------------------------------------------------------
r277456 | peterreilly | 2005-01-25 10:33:01 -0500 (Tue, 25 Jan 2005) | 2 lines

remove duplicate final

------------------------------------------------------------------------
r277455 | peterreilly | 2005-01-25 10:31:36 -0500 (Tue, 25 Jan 2005) | 2 lines

remove unused import

------------------------------------------------------------------------
r277454 | peterreilly | 2005-01-25 09:48:08 -0500 (Tue, 25 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277453 | peterreilly | 2005-01-25 09:43:08 -0500 (Tue, 25 Jan 2005) | 2 lines

javadoc + linelength

------------------------------------------------------------------------
r277452 | bodewig | 2005-01-25 07:47:03 -0500 (Tue, 25 Jan 2005) | 2 lines

Make $TMP handling more consistent, add subversion support

------------------------------------------------------------------------
r277451 | peterreilly | 2005-01-25 07:33:31 -0500 (Tue, 25 Jan 2005) | 3 lines

javadoc + style
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277450 | bodewig | 2005-01-25 07:27:20 -0500 (Tue, 25 Jan 2005) | 2 lines

typo

------------------------------------------------------------------------
r277449 | peterreilly | 2005-01-25 06:28:04 -0500 (Tue, 25 Jan 2005) | 2 lines

javadoc and remove unused imports

------------------------------------------------------------------------
r277448 | peterreilly | 2005-01-25 06:22:24 -0500 (Tue, 25 Jan 2005) | 2 lines

javadoc on exceptions

------------------------------------------------------------------------
r277447 | jglick | 2005-01-24 21:29:43 -0500 (Mon, 24 Jan 2005) | 2 lines

Log warnings as warnings.

------------------------------------------------------------------------
r277446 | mbenson | 2005-01-24 18:38:41 -0500 (Mon, 24 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277445 | mbenson | 2005-01-24 17:08:32 -0500 (Mon, 24 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277444 | mbenson | 2005-01-24 16:55:44 -0500 (Mon, 24 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277443 | peterreilly | 2005-01-24 13:13:20 -0500 (Mon, 24 Jan 2005) | 2 lines

checkstyle - mostly javadoc

------------------------------------------------------------------------
r277441 | peterreilly | 2005-01-24 10:30:32 -0500 (Mon, 24 Jan 2005) | 2 lines

remove unused import + javadoc

------------------------------------------------------------------------
r277440 | peterreilly | 2005-01-24 10:15:39 -0500 (Mon, 24 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277439 | peterreilly | 2005-01-24 10:13:46 -0500 (Mon, 24 Jan 2005) | 2 lines

space around operators

------------------------------------------------------------------------
r277438 | bodewig | 2005-01-24 10:06:21 -0500 (Mon, 24 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277437 | peterreilly | 2005-01-24 09:12:40 -0500 (Mon, 24 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277436 | peterreilly | 2005-01-24 08:31:29 -0500 (Mon, 24 Jan 2005) | 2 lines

type not task

------------------------------------------------------------------------
r277434 | peterreilly | 2005-01-24 05:26:44 -0500 (Mon, 24 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277433 | peterreilly | 2005-01-24 05:11:32 -0500 (Mon, 24 Jan 2005) | 2 lines

javadoc + space around operands

------------------------------------------------------------------------
r277432 | sbailliez | 2005-01-22 17:56:17 -0500 (Sat, 22 Jan 2005) | 5 lines

Reactivate methods disabled in PR 33049.
The equals method was a bit lousy and does not have a real meaning, so I keep it clear that the equals is related to the instance and nothing else. the hashCode method is actually the most important for performance.

I have yet to find a way to unit test it programmatically as I don't understand the Zip task impl. at first glance.

------------------------------------------------------------------------
r277431 | stevel | 2005-01-22 17:01:15 -0500 (Sat, 22 Jan 2005) | 2 lines

Xor. Not strictly necessary, but the logical equivalent is a dog to type.

------------------------------------------------------------------------
r277428 | mbenson | 2005-01-21 17:17:51 -0500 (Fri, 21 Jan 2005) | 2 lines

Year

------------------------------------------------------------------------
r277427 | mbenson | 2005-01-21 17:15:46 -0500 (Fri, 21 Jan 2005) | 3 lines

Add size to Resource info; switch length task to use Resources
instead of files so that it can report lengths for zipfilesets.

------------------------------------------------------------------------
r277425 | peterreilly | 2005-01-21 12:40:30 -0500 (Fri, 21 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277424 | peterreilly | 2005-01-21 12:37:28 -0500 (Fri, 21 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277423 | peterreilly | 2005-01-21 12:29:46 -0500 (Fri, 21 Jan 2005) | 2 lines

javadoc+unneeded imports

------------------------------------------------------------------------
r277421 | peterreilly | 2005-01-21 11:37:51 -0500 (Fri, 21 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277418 | peterreilly | 2005-01-21 10:11:53 -0500 (Fri, 21 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277416 | peterreilly | 2005-01-21 09:51:50 -0500 (Fri, 21 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277415 | peterreilly | 2005-01-21 09:35:45 -0500 (Fri, 21 Jan 2005) | 2 lines

date

------------------------------------------------------------------------
r277414 | peterreilly | 2005-01-21 09:32:13 -0500 (Fri, 21 Jan 2005) | 2 lines

checkstyle: 100 char line limit

------------------------------------------------------------------------
r277413 | peterreilly | 2005-01-21 09:30:37 -0500 (Fri, 21 Jan 2005) | 3 lines

no need to declare methods as public in a public interface
100 line limit

------------------------------------------------------------------------
r277412 | peterreilly | 2005-01-21 09:27:28 -0500 (Fri, 21 Jan 2005) | 2 lines

space around operands

------------------------------------------------------------------------
r277411 | peterreilly | 2005-01-21 09:25:53 -0500 (Fri, 21 Jan 2005) | 2 lines

remove _fields

------------------------------------------------------------------------
r277410 | peterreilly | 2005-01-21 09:03:46 -0500 (Fri, 21 Jan 2005) | 2 lines

checkstyle - space around operators

------------------------------------------------------------------------
r277409 | stevel | 2005-01-21 08:15:34 -0500 (Fri, 21 Jan 2005) | 2 lines

renaming as per Peter's suggestion. Made one of the attributes visible, too.

------------------------------------------------------------------------
r277408 | peterreilly | 2005-01-21 06:24:26 -0500 (Fri, 21 Jan 2005) | 2 lines

unused import

------------------------------------------------------------------------
r277406 | bodewig | 2005-01-21 02:12:52 -0500 (Fri, 21 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277403 | stevel | 2005-01-20 18:09:15 -0500 (Thu, 20 Jan 2005) | 2 lines

cleanup a few loose ends

------------------------------------------------------------------------
r277401 | peterreilly | 2005-01-20 12:01:29 -0500 (Thu, 20 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277400 | peterreilly | 2005-01-20 11:58:56 -0500 (Thu, 20 Jan 2005) | 2 lines

date

------------------------------------------------------------------------
r277399 | peterreilly | 2005-01-20 11:54:54 -0500 (Thu, 20 Jan 2005) | 2 lines

trailing space

------------------------------------------------------------------------
r277398 | peterreilly | 2005-01-20 11:35:57 -0500 (Thu, 20 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277397 | stevel | 2005-01-20 10:59:52 -0500 (Thu, 20 Jan 2005) | 6 lines

First updates to library
-default dest, repository
-override properties
-changes to tests to keep working
-enhancements to tests so they work behind a firewall if ~/.ant/proxy.properties contains the settings

------------------------------------------------------------------------
r277396 | stevel | 2005-01-20 10:58:47 -0500 (Thu, 20 Jan 2005) | 2 lines

I pulled out a bit of pre-1.2 testing, but the code it wrapped is probably unneeded, as we dont set a security manager.

------------------------------------------------------------------------
r277395 | peterreilly | 2005-01-20 09:35:15 -0500 (Thu, 20 Jan 2005) | 2 lines

trailing whitespace + multi setting

------------------------------------------------------------------------
r277394 | peterreilly | 2005-01-20 09:30:07 -0500 (Thu, 20 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277393 | bodewig | 2005-01-20 08:50:57 -0500 (Thu, 20 Jan 2005) | 2 lines

Allow <sync> to keep files in target even if they are not in any source directories, PR 21832

------------------------------------------------------------------------
r277390 | mbenson | 2005-01-19 13:33:09 -0500 (Wed, 19 Jan 2005) | 2 lines

Javadoc

------------------------------------------------------------------------
r277388 | mbenson | 2005-01-19 12:14:01 -0500 (Wed, 19 Jan 2005) | 2 lines

Minor javadoc.

------------------------------------------------------------------------
r277385 | peterreilly | 2005-01-18 07:48:57 -0500 (Tue, 18 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277383 | peterreilly | 2005-01-18 07:35:37 -0500 (Tue, 18 Jan 2005) | 4 lines

Add support of zip comment.
PR: 22793
Obtained from: Larry Shatzer

------------------------------------------------------------------------
r277382 | peterreilly | 2005-01-18 05:51:03 -0500 (Tue, 18 Jan 2005) | 2 lines

trailing space

------------------------------------------------------------------------
r277380 | peterreilly | 2005-01-18 05:00:27 -0500 (Tue, 18 Jan 2005) | 2 lines

javadoc + _ in fields and variables

------------------------------------------------------------------------
r277378 | peterreilly | 2005-01-18 04:41:20 -0500 (Tue, 18 Jan 2005) | 3 lines

propertyset references did not handle nested propertyset references
Reported by: Matthew Nelson

------------------------------------------------------------------------
r277377 | peterreilly | 2005-01-18 04:24:54 -0500 (Tue, 18 Jan 2005) | 2 lines

stylecheck

------------------------------------------------------------------------
r277376 | bodewig | 2005-01-18 03:37:12 -0500 (Tue, 18 Jan 2005) | 2 lines

build.clonevm -> ant.build.clonevm

------------------------------------------------------------------------
r277374 | stevel | 2005-01-17 16:54:34 -0500 (Mon, 17 Jan 2005) | 2 lines

Adding scripting support to conditions.

------------------------------------------------------------------------
r277373 | peterreilly | 2005-01-17 13:48:26 -0500 (Mon, 17 Jan 2005) | 3 lines

Javadoc + removal of m_ fields
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277372 | bodewig | 2005-01-17 09:31:54 -0500 (Mon, 17 Jan 2005) | 2 lines

Kaffe debugging via Gump

------------------------------------------------------------------------
r277371 | bodewig | 2005-01-17 09:28:10 -0500 (Mon, 17 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277370 | peterreilly | 2005-01-17 04:34:05 -0500 (Mon, 17 Jan 2005) | 3 lines

Allow scriptfilter and scriptselector to be used with groovy's restricted
script names.

------------------------------------------------------------------------
r277369 | peterreilly | 2005-01-17 04:29:18 -0500 (Mon, 17 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277368 | stevel | 2005-01-16 18:37:51 -0500 (Sun, 16 Jan 2005) | 2 lines

Adding scripting support to selectors. No personal need for this right now, just rounding off what you can now do with mappers via filterchains

------------------------------------------------------------------------
r277367 | peterreilly | 2005-01-14 12:23:37 -0500 (Fri, 14 Jan 2005) | 2 lines

unneeded import

------------------------------------------------------------------------
r277366 | peterreilly | 2005-01-14 12:03:40 -0500 (Fri, 14 Jan 2005) | 2 lines

date

------------------------------------------------------------------------
r277365 | peterreilly | 2005-01-14 11:49:34 -0500 (Fri, 14 Jan 2005) | 2 lines

revert local property patch until memory leakage problem is fixed

------------------------------------------------------------------------
r277364 | peterreilly | 2005-01-14 11:19:42 -0500 (Fri, 14 Jan 2005) | 5 lines

Attempt to cut down on memory usage of local properties
for threads that do not use properties.
This is a quick fix and not tested too much.
The whole thing may be scrapped...

------------------------------------------------------------------------
r277362 | bodewig | 2005-01-14 05:09:23 -0500 (Fri, 14 Jan 2005) | 2 lines

Silently ignore messages being written to System.err/out while a Listener is processing a different message

------------------------------------------------------------------------
r277360 | bodewig | 2005-01-14 04:45:54 -0500 (Fri, 14 Jan 2005) | 2 lines

Finalize and document bootclasspath changes

------------------------------------------------------------------------
r277358 | bodewig | 2005-01-14 03:12:04 -0500 (Fri, 14 Jan 2005) | 2 lines

2005

------------------------------------------------------------------------
r277356 | peterreilly | 2005-01-13 09:10:00 -0500 (Thu, 13 Jan 2005) | 2 lines

remove a printf

------------------------------------------------------------------------
r277355 | peterreilly | 2005-01-13 09:05:11 -0500 (Thu, 13 Jan 2005) | 4 lines

**** EXPERMINTAL ************
add in local properties
these can be activated by <localproperty/> nested element to macrodef

------------------------------------------------------------------------
r277354 | peterreilly | 2005-01-13 08:53:19 -0500 (Thu, 13 Jan 2005) | 3 lines

Add in Jose's <define> nested element for <macrodef>
manual and testcases to follow...

------------------------------------------------------------------------
r277353 | peterreilly | 2005-01-13 08:50:38 -0500 (Thu, 13 Jan 2005) | 2 lines

javadoc + trailing spaces

------------------------------------------------------------------------
r277352 | peterreilly | 2005-01-13 08:43:45 -0500 (Thu, 13 Jan 2005) | 5 lines

Allow references to keep references to the project that
they were created in and use that project to deference the reference.
PR: 25777
Obtained from: Jesse Glick

------------------------------------------------------------------------
r277351 | peterreilly | 2005-01-13 05:10:05 -0500 (Thu, 13 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277349 | bodewig | 2005-01-13 04:25:28 -0500 (Thu, 13 Jan 2005) | 2 lines

JDK 1.2's javac doesn't understand -source if forked, either - PR 32948

------------------------------------------------------------------------
r277348 | bodewig | 2005-01-13 04:05:35 -0500 (Thu, 13 Jan 2005) | 2 lines

Try to harmonize bootclasspath and build.sysclasspath a bit more, there are still some more tasks to handle

------------------------------------------------------------------------
r277346 | jkf | 2005-01-11 18:09:36 -0500 (Tue, 11 Jan 2005) | 6 lines

PR: 33049

A zip entry is not equal to another zip entry when the name matches.
Multiple files may have the same name, and have for instance  different
offsets.

------------------------------------------------------------------------
r277345 | jkf | 2005-01-11 16:56:45 -0500 (Tue, 11 Jan 2005) | 2 lines

Extended FileUtils with a comparison that ignores the kind of line break.

------------------------------------------------------------------------
r277343 | peterreilly | 2005-01-11 13:41:21 -0500 (Tue, 11 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277341 | peterreilly | 2005-01-11 13:34:17 -0500 (Tue, 11 Jan 2005) | 2 lines

year

------------------------------------------------------------------------
r277339 | peterreilly | 2005-01-11 13:30:34 -0500 (Tue, 11 Jan 2005) | 4 lines

Write two EOF blocks for tar rather than one
PR: 28776
Obtained from: Oliver Rossmueller

------------------------------------------------------------------------
r277338 | peterreilly | 2005-01-11 11:34:57 -0500 (Tue, 11 Jan 2005) | 2 lines

add note for reason for using setproperty rather than setnewproperty in available.java

------------------------------------------------------------------------
r277337 | peterreilly | 2005-01-11 10:45:22 -0500 (Tue, 11 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277336 | mbenson | 2005-01-11 10:36:21 -0500 (Tue, 11 Jan 2005) | 3 lines

Oops, used setProperty() instead of setNewProperty().
Thanks to Jan for the example on the userlist reminding me of my error.  ;)

------------------------------------------------------------------------
r277335 | bodewig | 2005-01-11 09:05:01 -0500 (Tue, 11 Jan 2005) | 2 lines

Path is a ProjectComponent - use it for logging

------------------------------------------------------------------------
r277332 | jkf | 2005-01-10 18:44:57 -0500 (Mon, 10 Jan 2005) | 2 lines

Minor update to remove jdk1.1 workaround

------------------------------------------------------------------------
r277331 | jkf | 2005-01-10 15:18:27 -0500 (Mon, 10 Jan 2005) | 2 lines

Minor update in ant help. description for -nouserlib and -noclasspath were on one line.

------------------------------------------------------------------------
r277329 | peterreilly | 2005-01-10 12:12:10 -0500 (Mon, 10 Jan 2005) | 4 lines

fix for infinite loop on incorrect tar files
PR: 29877
Obtained from: Ray Waldin

------------------------------------------------------------------------
r277327 | bodewig | 2005-01-10 08:26:47 -0500 (Mon, 10 Jan 2005) | 2 lines

Save three LOC

------------------------------------------------------------------------
r277322 | bodewig | 2005-01-10 03:37:07 -0500 (Mon, 10 Jan 2005) | 2 lines

Yes, it's that time of the year again.  Happy new year

------------------------------------------------------------------------
r277320 | mbenson | 2005-01-07 16:57:00 -0500 (Fri, 07 Jan 2005) | 3 lines

Add clone task.
PR: 32631

------------------------------------------------------------------------
r277319 | mbenson | 2005-01-07 12:56:49 -0500 (Fri, 07 Jan 2005) | 2 lines

Remove an unnecessary method call.

------------------------------------------------------------------------
r277318 | mbenson | 2005-01-07 12:36:17 -0500 (Fri, 07 Jan 2005) | 4 lines

No need to finish building up the set for uniqueness before
the handler can be invoked.  Removes an import, some LOC, and
has a better chance of preserving order between eg pathconvert and length.

------------------------------------------------------------------------
r277317 | mbenson | 2005-01-07 12:14:42 -0500 (Fri, 07 Jan 2005) | 2 lines

Various inconsequentials

------------------------------------------------------------------------
r277316 | peterreilly | 2005-01-07 10:16:54 -0500 (Fri, 07 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277315 | jkf | 2005-01-07 10:04:09 -0500 (Fri, 07 Jan 2005) | 2 lines

forgot to update cright year

------------------------------------------------------------------------
r277314 | peterreilly | 2005-01-07 10:00:46 -0500 (Fri, 07 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277313 | peterreilly | 2005-01-07 09:11:04 -0500 (Fri, 07 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277312 | jkf | 2005-01-07 09:04:41 -0500 (Fri, 07 Jan 2005) | 2 lines

Adapted the FileUtils test to show behaviour based on os type.

------------------------------------------------------------------------
r277311 | peterreilly | 2005-01-07 08:23:10 -0500 (Fri, 07 Jan 2005) | 2 lines

opps

------------------------------------------------------------------------
r277310 | peterreilly | 2005-01-07 08:21:01 -0500 (Fri, 07 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277309 | peterreilly | 2005-01-07 08:16:43 -0500 (Fri, 07 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277308 | peterreilly | 2005-01-07 08:13:39 -0500 (Fri, 07 Jan 2005) | 2 lines

stylecheck

------------------------------------------------------------------------
r277307 | mbenson | 2005-01-06 19:36:04 -0500 (Thu, 06 Jan 2005) | 2 lines

Remove order assumption from testEach.

------------------------------------------------------------------------
r277306 | jkf | 2005-01-06 19:14:06 -0500 (Thu, 06 Jan 2005) | 3 lines

PR: 32979
Modification to FileUtils to only accept : on the second position as absolute path for dos-like os.

------------------------------------------------------------------------
r277305 | peterreilly | 2005-01-06 13:29:38 -0500 (Thu, 06 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277303 | peterreilly | 2005-01-06 12:50:29 -0500 (Thu, 06 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277301 | peterreilly | 2005-01-06 12:29:39 -0500 (Thu, 06 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277299 | peterreilly | 2005-01-06 12:22:44 -0500 (Thu, 06 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277298 | peterreilly | 2005-01-06 10:20:10 -0500 (Thu, 06 Jan 2005) | 7 lines

disabling LengthTest#testEach as
it uses a pathconvert to get a list of files
and compares this to a list of files returned in the Length
task. The order of files in a fileset is not defined, and on
my machine it is a different order that than returned by
the Length task.

------------------------------------------------------------------------
r277296 | peterreilly | 2005-01-06 07:06:41 -0500 (Thu, 06 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277295 | jkf | 2005-01-06 07:05:10 -0500 (Thu, 06 Jan 2005) | 3 lines

Make use of FileUtils in a uniform way via the getFileUtils method and a static final reference in the using files.
Also removed unused/* imports along the way.

------------------------------------------------------------------------
r277294 | peterreilly | 2005-01-06 06:55:03 -0500 (Thu, 06 Jan 2005) | 3 lines

remove imports, change _copy to myCopy
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277293 | peterreilly | 2005-01-06 06:41:12 -0500 (Thu, 06 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277292 | peterreilly | 2005-01-06 06:31:40 -0500 (Thu, 06 Jan 2005) | 3 lines

remove imports, also modify for loops
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277291 | peterreilly | 2005-01-06 06:15:37 -0500 (Thu, 06 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277289 | peterreilly | 2005-01-06 06:11:04 -0500 (Thu, 06 Jan 2005) | 3 lines

remove imports
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277288 | peterreilly | 2005-01-06 05:45:19 -0500 (Thu, 06 Jan 2005) | 2 lines

checkstyle

------------------------------------------------------------------------
r277286 | peterreilly | 2005-01-06 05:36:38 -0500 (Thu, 06 Jan 2005) | 2 lines

javadoc

------------------------------------------------------------------------
r277284 | peterreilly | 2005-01-06 05:30:05 -0500 (Thu, 06 Jan 2005) | 3 lines

remove unneeded imports
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277282 | mbenson | 2005-01-04 18:15:25 -0500 (Tue, 04 Jan 2005) | 3 lines

Avoid NPE thrown when using oata.helper.ProjectHelperImpl .
Reported by: Mark D. Hansen

------------------------------------------------------------------------
r277280 | mbenson | 2005-01-04 17:42:29 -0500 (Tue, 04 Jan 2005) | 2 lines

Update copyright years.

------------------------------------------------------------------------
r277278 | mbenson | 2005-01-04 17:26:15 -0500 (Tue, 04 Jan 2005) | 2 lines

Spelling

------------------------------------------------------------------------
r277277 | mbenson | 2005-01-04 17:20:44 -0500 (Tue, 04 Jan 2005) | 2 lines

Add length task to Ant.

------------------------------------------------------------------------
r277276 | jkf | 2005-01-04 15:20:52 -0500 (Tue, 04 Jan 2005) | 2 lines

Made more consequent use of the method available in FileUtils to get the granularity.

------------------------------------------------------------------------
r277275 | jkf | 2005-01-04 14:39:01 -0500 (Tue, 04 Jan 2005) | 2 lines

Looking in the sources, 1 second is used (the "unix" granularity) instead of the claimed 0 milliseconds.

------------------------------------------------------------------------
r277274 | jkf | 2005-01-04 14:11:59 -0500 (Tue, 04 Jan 2005) | 2 lines

Minor style updates.

------------------------------------------------------------------------
r277272 | peterreilly | 2005-01-04 09:43:33 -0500 (Tue, 04 Jan 2005) | 2 lines

allow propertyset to use typedefs mappers directly

------------------------------------------------------------------------
r277264 | antoine | 2004-12-27 05:15:05 -0500 (Mon, 27 Dec 2004) | 3 lines

Make it possible to create manifest only jars with the option duplicate="preserve"
PR: 32802

------------------------------------------------------------------------
r277263 | conor | 2004-12-22 09:08:23 -0500 (Wed, 22 Dec 2004) | 6 lines

JDM 1.5 compiler is much smarter than previous versions in the handling of
class references which should improve the performance of <depend>

The test has been changed to work with either, allowing eitehr one or two files
PR:	32557

------------------------------------------------------------------------
r277261 | peterreilly | 2004-12-22 04:47:37 -0500 (Wed, 22 Dec 2004) | 4 lines

Invalid boolean test in "Calling Target(s) msg" of Ant task
PR: 32792
Obtained from: Kevin Greiner

------------------------------------------------------------------------
r277260 | bodewig | 2004-12-21 10:49:39 -0500 (Tue, 21 Dec 2004) | 4 lines

Make bootclasspath construction in <javac> take build.sysclasspath
into account.  Probably needs to get used in all other tasks
supporting bootclasspath as well.

------------------------------------------------------------------------
r277259 | bodewig | 2004-12-21 10:44:51 -0500 (Tue, 21 Dec 2004) | 7 lines

Jikes supports -bootclasspath
PR: 32609

Make bootclasspath construction in <javac> take build.sysclasspath
into account.  Probably needs to get used in all other tasks
supporting bootclasspath as well.

------------------------------------------------------------------------
r277255 | bodewig | 2004-12-21 09:08:20 -0500 (Tue, 21 Dec 2004) | 9 lines

<setproxy> fails to provide password authentication on some JDKs.

The patch provided in the bug report looked very similar to something
I once had to do in production code, when Ant's original code wasn't
enough.  I forgot about it when we switched to commons-httpclient
shortly thereafter.

PR: 32667

------------------------------------------------------------------------
r277253 | bodewig | 2004-12-21 08:38:06 -0500 (Tue, 21 Dec 2004) | 6 lines

<scp> using <fileset> doesn't work with OpenSSH 3.9 (and later?).

PR: 31939
Submitted by:    Casper Groenen <cgroenen at xebia dot com>
                 Atsuhiko Yamanaka <ymnk at jcraft dot com>

------------------------------------------------------------------------
r277251 | mbenson | 2004-12-17 15:33:54 -0500 (Fri, 17 Dec 2004) | 2 lines

Spelling

------------------------------------------------------------------------
r277249 | peterreilly | 2004-12-17 14:51:27 -0500 (Fri, 17 Dec 2004) | 2 lines

1.6.2 version of class was not final

------------------------------------------------------------------------
r277248 | peterreilly | 2004-12-17 14:46:04 -0500 (Fri, 17 Dec 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r277247 | bodewig | 2004-12-17 10:07:43 -0500 (Fri, 17 Dec 2004) | 2 lines

Propagate build.compiler to tests

------------------------------------------------------------------------
r277240 | bodewig | 2004-12-17 09:12:08 -0500 (Fri, 17 Dec 2004) | 2 lines

More shadows and statics that make Jikes whine

------------------------------------------------------------------------
r277237 | peterreilly | 2004-12-17 08:39:45 -0500 (Fri, 17 Dec 2004) | 4 lines

New mapper - <filtermapper>.
This is a filterchain applied to the source file names of the filenamemapper#mapFileName
function.

------------------------------------------------------------------------
r277236 | peterreilly | 2004-12-17 08:24:38 -0500 (Fri, 17 Dec 2004) | 2 lines

testcases for new attributes on globmapper and regexpmapper

------------------------------------------------------------------------
r277235 | peterreilly | 2004-12-17 08:06:35 -0500 (Fri, 17 Dec 2004) | 3 lines

add casesensitive and handledirchar to globmapper and regexpmapper
PR: 16686 and 32487

------------------------------------------------------------------------
r277234 | bodewig | 2004-12-17 07:03:58 -0500 (Fri, 17 Dec 2004) | 2 lines

Shadowing

------------------------------------------------------------------------
r277233 | bodewig | 2004-12-17 06:37:29 -0500 (Fri, 17 Dec 2004) | 2 lines

style - by Kevin Jackson

------------------------------------------------------------------------
r277231 | peterreilly | 2004-12-17 05:19:20 -0500 (Fri, 17 Dec 2004) | 2 lines

opps: shadow setting due to renaming

------------------------------------------------------------------------
r277230 | mbenson | 2004-12-16 16:11:19 -0500 (Thu, 16 Dec 2004) | 2 lines

More LOC; also shrank constructor so checkstyle wouldn't complain.

------------------------------------------------------------------------
r277229 | mbenson | 2004-12-16 16:10:32 -0500 (Thu, 16 Dec 2004) | 2 lines

LOC

------------------------------------------------------------------------
r277228 | mbenson | 2004-12-16 13:13:18 -0500 (Thu, 16 Dec 2004) | 2 lines

Yet more bumming & javadoc.  You'd think I'd have stopped by now...

------------------------------------------------------------------------
r277227 | mbenson | 2004-12-16 12:44:28 -0500 (Thu, 16 Dec 2004) | 2 lines

Mostly javadoc

------------------------------------------------------------------------
r277226 | mbenson | 2004-12-16 12:43:40 -0500 (Thu, 16 Dec 2004) | 2 lines

Small refactoring

------------------------------------------------------------------------
r277225 | mbenson | 2004-12-16 11:51:11 -0500 (Thu, 16 Dec 2004) | 2 lines

Same LOC count, minus 2 method calls, cute implementation.  ;)

------------------------------------------------------------------------
r277222 | peterreilly | 2004-12-16 10:02:48 -0500 (Thu, 16 Dec 2004) | 2 lines

Checkstyle

------------------------------------------------------------------------
r277221 | peterreilly | 2004-12-16 09:57:10 -0500 (Thu, 16 Dec 2004) | 2 lines

Checkstyle

------------------------------------------------------------------------
r277219 | bodewig | 2004-12-16 09:01:40 -0500 (Thu, 16 Dec 2004) | 2 lines

Jikes again: shadows, some private finals that could be static and statics used as instance methods

------------------------------------------------------------------------
r277217 | peterreilly | 2004-12-16 04:50:08 -0500 (Thu, 16 Dec 2004) | 2 lines

Checkstyle - Kevin Jackson mods

------------------------------------------------------------------------
r277216 | mbenson | 2004-12-15 18:44:31 -0500 (Wed, 15 Dec 2004) | 2 lines

Spelling

------------------------------------------------------------------------
r277215 | mbenson | 2004-12-15 18:44:06 -0500 (Wed, 15 Dec 2004) | 2 lines

More javadoc work and LOC bumming.

------------------------------------------------------------------------
r277214 | mbenson | 2004-12-15 16:47:19 -0500 (Wed, 15 Dec 2004) | 2 lines

LOC bumming and Javadoc

------------------------------------------------------------------------
r277213 | peterreilly | 2004-12-15 12:23:25 -0500 (Wed, 15 Dec 2004) | 3 lines

use Touch#addConfigured(Mapper) rather than add(Mapper) as the mapper is
used in the method

------------------------------------------------------------------------
r277212 | mbenson | 2004-12-15 11:40:22 -0500 (Wed, 15 Dec 2004) | 4 lines

For non-debug (verbose) log messages, enclose property names in double quotes
for clarity.  Fix cases where "property name" is logged as '${property name}'
as that notation more appropriately refers to the property's value.

------------------------------------------------------------------------
r277211 | mbenson | 2004-12-15 11:37:10 -0500 (Wed, 15 Dec 2004) | 2 lines

Javadoc

------------------------------------------------------------------------
r277210 | mbenson | 2004-12-15 11:09:27 -0500 (Wed, 15 Dec 2004) | 2 lines

Add time zone to the test case.

------------------------------------------------------------------------
r277208 | bodewig | 2004-12-15 07:28:29 -0500 (Wed, 15 Dec 2004) | 2 lines

Document Kaffe rmic changes

------------------------------------------------------------------------
r277207 | bodewig | 2004-12-15 07:10:43 -0500 (Wed, 15 Dec 2004) | 2 lines

Use close method to close streams, Submitted by Kevin Jackson

------------------------------------------------------------------------
r277206 | bodewig | 2004-12-15 03:14:08 -0500 (Wed, 15 Dec 2004) | 2 lines

Loop optimization, Submitted by Kevin Jackson

------------------------------------------------------------------------
r277204 | mbenson | 2004-12-14 18:52:08 -0500 (Tue, 14 Dec 2004) | 2 lines

lower-case HTML tags

------------------------------------------------------------------------
r277203 | mbenson | 2004-12-14 18:51:27 -0500 (Tue, 14 Dec 2004) | 2 lines

Lower-case HTML tags

------------------------------------------------------------------------
r277199 | mbenson | 2004-12-14 16:18:08 -0500 (Tue, 14 Dec 2004) | 2 lines

Javadoc

------------------------------------------------------------------------
r277198 | mbenson | 2004-12-14 15:54:00 -0500 (Tue, 14 Dec 2004) | 2 lines

Javadoc reformatting.

------------------------------------------------------------------------
r277197 | mbenson | 2004-12-14 12:56:35 -0500 (Tue, 14 Dec 2004) | 2 lines

touch gets nested mapper plus verbose, mkdirs, and pattern attributes.

------------------------------------------------------------------------
r277196 | bodewig | 2004-12-14 12:36:54 -0500 (Tue, 14 Dec 2004) | 2 lines

Kaffe has a new RMIC compiler

------------------------------------------------------------------------
r277191 | mbenson | 2004-12-13 14:12:36 -0500 (Mon, 13 Dec 2004) | 3 lines

Remove unnecessary empty Hashtable instantiations,
LOC bumming and Javadoc fixes.

------------------------------------------------------------------------
r277189 | peterreilly | 2004-12-13 13:51:55 -0500 (Mon, 13 Dec 2004) | 5 lines

URL#getFile does not output a nice filename
for files with spaces, and absolute windows filenames.
So use the FileUtils#fromURI() instead.
PR: 32508

------------------------------------------------------------------------
r277188 | peterreilly | 2004-12-13 12:56:15 -0500 (Mon, 13 Dec 2004) | 3 lines

checkstyle changes
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277187 | peterreilly | 2004-12-13 11:43:51 -0500 (Mon, 13 Dec 2004) | 7 lines

remove deprecated tag from ProjectHelper#configureProject()
it has been used for a long time, and one cannot just
replace it with the non-static parse method, without
setting the "ant.projectHelper" reference.
PR: 32668
Reported by:  Nell Gawor

------------------------------------------------------------------------
r277186 | mbenson | 2004-12-13 11:01:18 -0500 (Mon, 13 Dec 2004) | 2 lines

Random spelling and javadoc changes.

------------------------------------------------------------------------
r277184 | bodewig | 2004-12-13 04:06:19 -0500 (Mon, 13 Dec 2004) | 2 lines

Make Jikes happy - shadowing and some non-static private finals

------------------------------------------------------------------------
r277183 | bodewig | 2004-12-13 03:59:42 -0500 (Mon, 13 Dec 2004) | 2 lines

Make Jikes happy - shadowing of url

------------------------------------------------------------------------
r277182 | jkf | 2004-12-12 16:22:19 -0500 (Sun, 12 Dec 2004) | 3 lines

Last patch removed some significant logging in verbose mode.
re-added.

------------------------------------------------------------------------
r277181 | jkf | 2004-12-12 16:08:12 -0500 (Sun, 12 Dec 2004) | 3 lines

PR: 32566
Real solution to allow big files in a replace action.

------------------------------------------------------------------------
r277180 | jkf | 2004-12-12 15:54:42 -0500 (Sun, 12 Dec 2004) | 3 lines

Minor update to allow compilation on 1.2.2 again:
cal.getTimeInMillis(); is not available.

------------------------------------------------------------------------
r277179 | jkf | 2004-12-11 17:43:05 -0500 (Sat, 11 Dec 2004) | 3 lines

If we can use File.getParentFile, there is presumably no reason to use FileUtils.getParentFile, right?
(Comment re-used from jglick)

------------------------------------------------------------------------
r277178 | jkf | 2004-12-11 16:16:47 -0500 (Sat, 11 Dec 2004) | 4 lines

PR: 13690
Patch that reduces the memory need of the Replace task,
by not creating duplicates of a lot of strings.

------------------------------------------------------------------------
r277173 | jglick | 2004-12-10 18:18:22 -0500 (Fri, 10 Dec 2004) | 2 lines

If we can use File.getParentFile, there is presumably no reason to use FileUtils.getParentFile, right?

------------------------------------------------------------------------
r277169 | mbenson | 2004-12-10 16:49:32 -0500 (Fri, 10 Dec 2004) | 2 lines

More LOC bumming

------------------------------------------------------------------------
r277168 | mbenson | 2004-12-10 13:28:45 -0500 (Fri, 10 Dec 2004) | 2 lines

Javadoc and LOC bumming

------------------------------------------------------------------------
r277167 | bodewig | 2004-12-10 12:29:04 -0500 (Fri, 10 Dec 2004) | 2 lines

Try to help the Gump/Kaffe/Jikes build

------------------------------------------------------------------------
r277165 | peterreilly | 2004-12-10 12:13:54 -0500 (Fri, 10 Dec 2004) | 3 lines

Checkstyle changes for UptoDate.java
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277160 | peterreilly | 2004-12-10 10:18:57 -0500 (Fri, 10 Dec 2004) | 4 lines

with the bugzilla change 30161 it is not necessary to place
 Path.systemClasspath in the antclassloader
Doing so causes resources to appear twice

------------------------------------------------------------------------
r277156 | peterreilly | 2004-12-10 05:58:19 -0500 (Fri, 10 Dec 2004) | 3 lines

checkstyle changes
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277155 | jkf | 2004-12-09 18:06:47 -0500 (Thu, 09 Dec 2004) | 4 lines

Checkstyle updates.
(removed trailing spaces just added, updated javadoc, removed an undocumented BuildException
which was neither thrown according to interface nor according to methods implementation.)

------------------------------------------------------------------------
r277154 | jkf | 2004-12-09 17:17:24 -0500 (Thu, 09 Dec 2004) | 7 lines

In bug 32566 someone asked about the thread safety requirements in Ant.
This made me perform a quick check on the main flow of the Ant project
from a threading perspective. The only cause for wich the tasks specified
in the build file may be executed in another thread is the parallel task.
The parallel task does not ensure all variables are stored in memory before
the new threads start.

------------------------------------------------------------------------
r277153 | mbenson | 2004-12-08 13:00:53 -0500 (Wed, 08 Dec 2004) | 2 lines

Address Windows CVS client line ending conversion incompatibility issue.

------------------------------------------------------------------------
r277152 | stevel | 2004-12-08 11:57:10 -0500 (Wed, 08 Dec 2004) | 2 lines

doc explanation

------------------------------------------------------------------------
r277150 | bodewig | 2004-12-08 02:57:04 -0500 (Wed, 08 Dec 2004) | 2 lines

warn when Ant upgrades -source for jikes

------------------------------------------------------------------------
r277147 | mbenson | 2004-12-07 18:39:38 -0500 (Tue, 07 Dec 2004) | 2 lines

typo

------------------------------------------------------------------------
r277146 | mbenson | 2004-12-07 18:32:31 -0500 (Tue, 07 Dec 2004) | 2 lines

Various changes => fewer LOC

------------------------------------------------------------------------
r277144 | mbenson | 2004-12-07 17:14:13 -0500 (Tue, 07 Dec 2004) | 2 lines

Missed a couple.

------------------------------------------------------------------------
r277143 | mbenson | 2004-12-07 16:49:09 -0500 (Tue, 07 Dec 2004) | 2 lines

Useless temporary variables mostly.

------------------------------------------------------------------------
r277142 | mbenson | 2004-12-07 16:46:18 -0500 (Tue, 07 Dec 2004) | 3 lines

Hack to make the testcases pass.
PR: 32506

------------------------------------------------------------------------
r277140 | bodewig | 2004-12-07 10:55:31 -0500 (Tue, 07 Dec 2004) | 2 lines

Jikes doesn't like -source 1.2 either, found by Gump running on Kaffe+Jikes

------------------------------------------------------------------------
r277138 | peterreilly | 2004-12-07 05:29:32 -0500 (Tue, 07 Dec 2004) | 8 lines

If junittask is loaded by a different classloader than the
project classloader, set the junittask classloader as the
parent of the classloader used to load the tests, otherwise
the tests will not see the classes in ant-junit.jar and the
classes loaded with the tests will use a different junit.jar
than the junit used by junittask and will be not be compatible.
PR: 28474

------------------------------------------------------------------------
r277137 | jglick | 2004-12-07 04:13:04 -0500 (Tue, 07 Dec 2004) | 2 lines

Just moving license to top of file for consistency.

------------------------------------------------------------------------
r277136 | jglick | 2004-12-07 04:11:47 -0500 (Tue, 07 Dec 2004) | 2 lines

Unused constant.

------------------------------------------------------------------------
r277135 | jglick | 2004-12-07 04:10:39 -0500 (Tue, 07 Dec 2004) | 2 lines

Trying to make unit tests independent of CWD.

------------------------------------------------------------------------
r277134 | jglick | 2004-12-07 04:02:33 -0500 (Tue, 07 Dec 2004) | 3 lines

1. Never use new File(url.getFile()); it is not safe with all paths.
2. Using File.deleteOnExit for temp files, just in case the VM croaks.

------------------------------------------------------------------------
r277133 | jglick | 2004-12-07 01:45:32 -0500 (Tue, 07 Dec 2004) | 2 lines

Minor simplification: task.log(...) ~ task.getProject().log(...).

------------------------------------------------------------------------
r277132 | jglick | 2004-12-07 01:44:34 -0500 (Tue, 07 Dec 2004) | 2 lines

Minor stylistic refactoring.

------------------------------------------------------------------------
r277131 | jglick | 2004-12-07 01:43:42 -0500 (Tue, 07 Dec 2004) | 2 lines

Improving Javadoc of Executor impls to be more informative. :-) Matt please check.

------------------------------------------------------------------------
r277130 | peterreilly | 2004-12-06 14:27:13 -0500 (Mon, 06 Dec 2004) | 4 lines

allow filenamemappers types to be placed directly as a nested element
to <copy>, <execon>, <pathconvert>, <uptodate>, unzip,unjar,unwar, <native2ascii>
testcases and docs to follow

------------------------------------------------------------------------
r277129 | peterreilly | 2004-12-06 13:12:59 -0500 (Mon, 06 Dec 2004) | 3 lines

checkstyle changes
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277128 | peterreilly | 2004-12-06 12:54:26 -0500 (Mon, 06 Dec 2004) | 3 lines

Some general style changes, javadoc comments, removed c++ style variable names
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277127 | peterreilly | 2004-12-06 12:45:57 -0500 (Mon, 06 Dec 2004) | 3 lines

checkstyle changes
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277126 | peterreilly | 2004-12-06 12:35:42 -0500 (Mon, 06 Dec 2004) | 3 lines

checkstyle changes
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277124 | peterreilly | 2004-12-06 04:58:29 -0500 (Mon, 06 Dec 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r277123 | peterreilly | 2004-12-06 04:28:40 -0500 (Mon, 06 Dec 2004) | 3 lines

Minor corrections plus added @param and @return where missing
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277122 | sbailliez | 2004-12-03 19:03:50 -0500 (Fri, 03 Dec 2004) | 13 lines

First attempt at optimizing the zip code to have decent performance
The performance problem was mainly due to the entry insertion in
the hashtable where all hash code were equals in the hashtable.
I also removed a lot of unecessary Zip(Long|Short) object creation by
adding static methods and suppressed a hashtable. 

More can be done, but I tried not to break the interface and have as less code
as possible. The testcase attached in the bug report show that it is now 15% slower than Sun native code and 20% faster than Jazz libs.

Now watch for Gump...

PR: 31930

------------------------------------------------------------------------
r277121 | peterreilly | 2004-12-03 11:33:26 -0500 (Fri, 03 Dec 2004) | 2 lines

use the FileUtils#close method

------------------------------------------------------------------------
r277119 | peterreilly | 2004-12-03 09:16:17 -0500 (Fri, 03 Dec 2004) | 3 lines

checkstyle changes
Obtained from: Kev Jackson

------------------------------------------------------------------------
r277116 | bodewig | 2004-12-03 03:04:43 -0500 (Fri, 03 Dec 2004) | 5 lines

Try to speed up DirectoryScanner by using hash lookups instead of
linear searches and pattern matching on non-wildcard patterns.

Suggested by: Dominique Devienne

------------------------------------------------------------------------
r277113 | jglick | 2004-12-02 17:06:15 -0500 (Thu, 02 Dec 2004) | 2 lines

Trivial Javadoc formatting edits.

------------------------------------------------------------------------
r277112 | jglick | 2004-12-02 16:59:12 -0500 (Thu, 02 Dec 2004) | 17 lines

Small Javadoc change.
CVS: ----------------------------------------------------------------------
CVS: PR:
CVS:   If this change addresses a PR in the problem report tracking
CVS:   database, then enter the PR number(s) here.
CVS: Obtained from:
CVS:   If this change has been taken from another system, such as NCSA,
CVS:   then name the system in this line, otherwise delete it.
CVS: Submitted by:
CVS:   If this code has been contributed to Apache by someone else; i.e.,
CVS:   they sent us a patch or a new module, then include their name/email
CVS:   address here. If this is your work then delete this line.
CVS: Reviewed by:
CVS:   If we are doing pre-commit code reviews and someone else has
CVS:   reviewed your changes, include their name(s) here.
CVS:   If you have not had it reviewed then delete this line.

------------------------------------------------------------------------
r277110 | peterreilly | 2004-12-02 13:12:23 -0500 (Thu, 02 Dec 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r277109 | peterreilly | 2004-12-02 13:07:44 -0500 (Thu, 02 Dec 2004) | 2 lines

opps

------------------------------------------------------------------------
r277108 | stevel | 2004-12-01 17:49:02 -0500 (Wed, 01 Dec 2004) | 2 lines

Library flattens files; make class static in xmlvalidate

------------------------------------------------------------------------
r277107 | stevel | 2004-12-01 17:48:37 -0500 (Wed, 01 Dec 2004) | 2 lines

Library flattens files

------------------------------------------------------------------------
r277105 | peterreilly | 2004-12-01 12:52:25 -0500 (Wed, 01 Dec 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r277103 | peterreilly | 2004-12-01 12:39:30 -0500 (Wed, 01 Dec 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r277102 | peterreilly | 2004-12-01 12:37:57 -0500 (Wed, 01 Dec 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r277100 | peterreilly | 2004-12-01 11:58:19 -0500 (Wed, 01 Dec 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r277098 | peterreilly | 2004-12-01 11:21:35 -0500 (Wed, 01 Dec 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r277096 | peterreilly | 2004-12-01 10:55:36 -0500 (Wed, 01 Dec 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r277095 | peterreilly | 2004-12-01 10:07:27 -0500 (Wed, 01 Dec 2004) | 2 lines

sylecheck and implement DynamicElementNS instead of DynamicConfiguratorNS

------------------------------------------------------------------------
r277094 | peterreilly | 2004-12-01 09:39:07 -0500 (Wed, 01 Dec 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r277092 | peterreilly | 2004-12-01 08:54:25 -0500 (Wed, 01 Dec 2004) | 2 lines

opps

------------------------------------------------------------------------
r277091 | peterreilly | 2004-12-01 08:45:48 -0500 (Wed, 01 Dec 2004) | 3 lines

use absolute path instread of canonical path in subant
PR: 30438

------------------------------------------------------------------------
r277090 | peterreilly | 2004-12-01 07:12:16 -0500 (Wed, 01 Dec 2004) | 2 lines

add unit test for signedslector

------------------------------------------------------------------------
r277089 | peterreilly | 2004-12-01 06:42:43 -0500 (Wed, 01 Dec 2004) | 2 lines

use isfileselected in test instead of the pathconvert hack

------------------------------------------------------------------------
r277088 | peterreilly | 2004-12-01 06:25:47 -0500 (Wed, 01 Dec 2004) | 2 lines

added isfileselected test

------------------------------------------------------------------------
r277086 | bodewig | 2004-12-01 02:45:11 -0500 (Wed, 01 Dec 2004) | 2 lines

Please don't modify my working copy during tests, otherwise I'm going to commit changed files by accident

------------------------------------------------------------------------
r277082 | stevel | 2004-11-26 08:58:26 -0500 (Fri, 26 Nov 2004) | 2 lines

changed error message to explain what was missing.

------------------------------------------------------------------------
r277080 | peterreilly | 2004-11-26 05:07:59 -0500 (Fri, 26 Nov 2004) | 2 lines

make the preserveLastModified field private

------------------------------------------------------------------------
r277079 | peterreilly | 2004-11-26 04:52:06 -0500 (Fri, 26 Nov 2004) | 4 lines

add new preservelastmodified attribute to signjar
PR: 30987
Obtained from: Ignacio Coloma

------------------------------------------------------------------------
r277078 | stevel | 2004-11-24 18:10:47 -0500 (Wed, 24 Nov 2004) | 7 lines

Tuning
1-if you dont specify an archive name, use that of the project
2-its OK to specify suffix=""
3-you do need the "." in the suffix; this was not needed.
(3) will break anything which set the suffix. I assumed the user
base was small enough to avoid a compatibility hack.

------------------------------------------------------------------------
r277074 | peterreilly | 2004-11-23 06:15:20 -0500 (Tue, 23 Nov 2004) | 2 lines

exclude directories for signed selection

------------------------------------------------------------------------
r277073 | bodewig | 2004-11-23 05:40:14 -0500 (Tue, 23 Nov 2004) | 2 lines

Some more whitespace fixes by Larry Shatzer

------------------------------------------------------------------------
r277070 | peterreilly | 2004-11-22 13:18:42 -0500 (Mon, 22 Nov 2004) | 3 lines

checkstyle changes
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277069 | peterreilly | 2004-11-22 12:14:23 -0500 (Mon, 22 Nov 2004) | 2 lines

some simple tests for the issigned condition

------------------------------------------------------------------------
r277068 | stevel | 2004-11-22 11:44:16 -0500 (Mon, 22 Nov 2004) | 2 lines

xdoclet complains it is illegal to have comments at the end.

------------------------------------------------------------------------
r277067 | bodewig | 2004-11-22 06:52:39 -0500 (Mon, 22 Nov 2004) | 2 lines

Fix class name, make tests pass

------------------------------------------------------------------------
r277066 | bodewig | 2004-11-22 06:42:53 -0500 (Mon, 22 Nov 2004) | 7 lines

* Use <issigned> from <signjar>

* Refactor <issigned> by moving the test into a static method so it is
  easier to use from a different task.

* Avoid IndexOutOfBoundsException if name is shorter than eight characters.

------------------------------------------------------------------------
r277065 | peterreilly | 2004-11-22 05:48:57 -0500 (Mon, 22 Nov 2004) | 2 lines

remove issigned task, make it a condition only

------------------------------------------------------------------------
r277064 | peterreilly | 2004-11-22 05:07:22 -0500 (Mon, 22 Nov 2004) | 4 lines

Added isSigned condition and task and signedselector selector
PR: 32126
Obtained from: Tarlika Elisabeth Schmitz

------------------------------------------------------------------------
r277063 | bodewig | 2004-11-22 04:23:37 -0500 (Mon, 22 Nov 2004) | 10 lines

Various checkstyle violations

Submitted by:	Larry Shatzer

And some

(untabify (point-min) (point-max))

on some files.

------------------------------------------------------------------------
r277056 | stevel | 2004-11-18 18:28:37 -0500 (Thu, 18 Nov 2004) | 2 lines

In use, you need to know why your build file has paused for so long.

------------------------------------------------------------------------
r277054 | stevel | 2004-11-18 11:25:05 -0500 (Thu, 18 Nov 2004) | 3 lines

1. Move from optional.repository to tasks.repository
2. rename <libraries>

------------------------------------------------------------------------
r277053 | stevel | 2004-11-18 11:00:18 -0500 (Thu, 18 Nov 2004) | 3 lines

Updated <getlibraries> code, plus new classes. After this
checkin I'm about to move and rename some of the existing stuff.

------------------------------------------------------------------------
r277052 | stevel | 2004-11-18 10:24:26 -0500 (Thu, 18 Nov 2004) | 2 lines

patch to stop java1.5 whining about character encodings.

------------------------------------------------------------------------
r277050 | bodewig | 2004-11-18 05:17:47 -0500 (Thu, 18 Nov 2004) | 2 lines

Some Gump based Kaffe debugging

------------------------------------------------------------------------
r277048 | peterreilly | 2004-11-18 04:48:59 -0500 (Thu, 18 Nov 2004) | 4 lines

Set the location for the default target (the location will be the project tag)
PR: 32267
Reported by: Yves Martin

------------------------------------------------------------------------
r277044 | mbenson | 2004-11-16 16:46:46 -0500 (Tue, 16 Nov 2004) | 3 lines

Change <apply>'s "overwrite" attribute name to "force".  Also commit missing
Java changes.  Oops.

------------------------------------------------------------------------
r277043 | mbenson | 2004-11-16 15:58:22 -0500 (Tue, 16 Nov 2004) | 2 lines

Add overwrite attribute to <apply>.

------------------------------------------------------------------------
r277039 | bodewig | 2004-11-16 03:37:41 -0500 (Tue, 16 Nov 2004) | 2 lines

Try to provide more information on an exception occuring in Kaffe

------------------------------------------------------------------------
r277036 | bodewig | 2004-11-15 09:52:27 -0500 (Mon, 15 Nov 2004) | 2 lines

More Jikes warnings

------------------------------------------------------------------------
r277034 | bodewig | 2004-11-15 09:51:22 -0500 (Mon, 15 Nov 2004) | 2 lines

fix self-comparision

------------------------------------------------------------------------
r277033 | peterreilly | 2004-11-15 05:41:43 -0500 (Mon, 15 Nov 2004) | 4 lines

Junit task -- display suite first
PR: 31962
Obtained from: Kevin Jackson

------------------------------------------------------------------------
r277032 | bodewig | 2004-11-15 03:25:41 -0500 (Mon, 15 Nov 2004) | 2 lines

Fix propertyset's builtin attribute

------------------------------------------------------------------------
r277031 | sbailliez | 2004-11-12 20:51:29 -0500 (Fri, 12 Nov 2004) | 3 lines

Fixed escaping of stderr/stdout
PR: 30662

------------------------------------------------------------------------
r277030 | bodewig | 2004-11-12 10:17:12 -0500 (Fri, 12 Nov 2004) | 2 lines

Make Jikes happy

------------------------------------------------------------------------
r277028 | bodewig | 2004-11-12 07:15:13 -0500 (Fri, 12 Nov 2004) | 2 lines

deprecated or not, this is the only way to avoid creation of both - a Date and a Calendar instance - that works on JDK 1.3 and 1.2 - Calendar#setTimeInMillis has been protected before 1.4

------------------------------------------------------------------------
r277027 | bodewig | 2004-11-12 07:04:59 -0500 (Fri, 12 Nov 2004) | 2 lines

JDK 1.3-

------------------------------------------------------------------------
r277025 | bodewig | 2004-11-12 06:07:13 -0500 (Fri, 12 Nov 2004) | 5 lines

several javadoc fixes.

PR: 30410
Submitted by:	Brant Langer Gurganus

------------------------------------------------------------------------
r277022 | bodewig | 2004-11-12 05:30:48 -0500 (Fri, 12 Nov 2004) | 4 lines

Invoke static methods as static methods.

Submitted by:	Kevin Jackson

------------------------------------------------------------------------
r277021 | bodewig | 2004-11-12 05:21:36 -0500 (Fri, 12 Nov 2004) | 2 lines

Don't create too many temporary objects, based on a patch by Kevin Jackson

------------------------------------------------------------------------
r277019 | bodewig | 2004-11-12 04:44:08 -0500 (Fri, 12 Nov 2004) | 2 lines

Restore old method signature (BWC) and plug a ResultSet leak at the same time

------------------------------------------------------------------------
r277018 | sbailliez | 2004-11-11 13:46:36 -0500 (Thu, 11 Nov 2004) | 3 lines

Avoid calling getResultSet() multiple times when printing just in case Informix does not like it. This was per suggestion of Bohuslav Roztocil.
PR: 27162

------------------------------------------------------------------------
r277017 | sbailliez | 2004-11-11 13:06:34 -0500 (Thu, 11 Nov 2004) | 4 lines

Fix a NPE that occurred apparently because Folder.list() can return null
Thanks to Bob Evans
PR: 31965

------------------------------------------------------------------------
r277015 | stevel | 2004-11-11 12:48:36 -0500 (Thu, 11 Nov 2004) | 2 lines

Manifest task logs warnings: PR32190

------------------------------------------------------------------------
r277014 | sbailliez | 2004-11-11 12:27:43 -0500 (Thu, 11 Nov 2004) | 3 lines

Fix invalid xml formed in case the filename is made of reserved xml characters (ampersand for entities for instance)
PR: 30817

------------------------------------------------------------------------
r277013 | sbailliez | 2004-11-11 11:04:43 -0500 (Thu, 11 Nov 2004) | 4 lines

Make it compatible with Safari.. the open function does not return any document.
Thanks to Ingmar Stein
PR: 26953

------------------------------------------------------------------------
r277011 | stevel | 2004-11-11 07:14:48 -0500 (Thu, 11 Nov 2004) | 4 lines

factor out close logic. This changes
semantics slightly was we no longer raise an IOE
if file closure fails.

------------------------------------------------------------------------
r277010 | stevel | 2004-11-11 07:09:01 -0500 (Thu, 11 Nov 2004) | 2 lines

factor out close logic

------------------------------------------------------------------------
r277009 | stevel | 2004-11-11 07:05:13 -0500 (Thu, 11 Nov 2004) | 2 lines

final declaration is moot for a static

------------------------------------------------------------------------
r277008 | stevel | 2004-11-09 19:37:31 -0500 (Tue, 09 Nov 2004) | 5 lines

These are all patches to stop java1.5 whining about varargs.
In java.15 some of the reflection APIs are overloaded to be
usable via varargs, so untyped things cause confusion. These
are everywhere that bootstrap complains.

------------------------------------------------------------------------
r277007 | bodewig | 2004-11-09 11:11:36 -0500 (Tue, 09 Nov 2004) | 2 lines

Improve code as suggested by Dominique

------------------------------------------------------------------------
r277006 | bodewig | 2004-11-09 05:31:49 -0500 (Tue, 09 Nov 2004) | 2 lines

fix years

------------------------------------------------------------------------
r277005 | bodewig | 2004-11-09 05:19:51 -0500 (Tue, 09 Nov 2004) | 10 lines

Preparations for PR: 21832, in particular unit tests and some
refactorings for <sync>

Changes to Sync:
* drop JDK 1.1 compatibility,
* override scan instead of buildMap in MyCopy so that we get the
  included directories even if includeEmptyDirs is false.
* use a DirectoryScanner to find orphaned files instead of the
  recursive algorithm.

------------------------------------------------------------------------
r277003 | bodewig | 2004-11-05 10:13:32 -0500 (Fri, 05 Nov 2004) | 5 lines

Some places where url.toFile has been used instead of FileUtils.fromURI.

PR: 30593, 30642
Submitted by:	Kevin Greiner <kgreiner at xpediantsolutions dot com>

------------------------------------------------------------------------
r277000 | bodewig | 2004-11-05 10:02:05 -0500 (Fri, 05 Nov 2004) | 5 lines

Make getCompatibilityWith actually compare two different values.

PR: 31360
Submitted by:	David G�rtner <david dot gaertner at syngenio dot de>

------------------------------------------------------------------------
r276999 | bodewig | 2004-11-05 09:46:25 -0500 (Fri, 05 Nov 2004) | 2 lines

Don't use deprecated code.  Submitted by: Kevin Jackson <kevin dot jackson at it dot fts dash vn dot com>

------------------------------------------------------------------------
r276998 | bodewig | 2004-11-05 09:31:33 -0500 (Fri, 05 Nov 2004) | 2 lines

Adjust to reality

------------------------------------------------------------------------
r276995 | bodewig | 2004-11-05 09:24:38 -0500 (Fri, 05 Nov 2004) | 2 lines

Adjust to reality

------------------------------------------------------------------------
r276994 | bodewig | 2004-11-05 07:34:28 -0500 (Fri, 05 Nov 2004) | 2 lines

Tests for recorder by Martijn Kruithof

------------------------------------------------------------------------
r276989 | stevel | 2004-11-02 18:37:21 -0500 (Tue, 02 Nov 2004) | 6 lines

1. Updated repository work; now has the following from Russel Gold's contrib
 -uses <get> to get
 -sets a classpath after
2. some changes to Get to make this work. They also lay the way to adding progress indicators to guis, if that is felt useful in IDEs (it may be, once downloads become more common)
3. starting on security. This will need to work with <checksum> to get done. Currently the md5 can be fetched if asked for, and if so it must exist.

------------------------------------------------------------------------
r276987 | bodewig | 2004-11-02 11:21:47 -0500 (Tue, 02 Nov 2004) | 2 lines

whitespace changes only

------------------------------------------------------------------------
r276986 | bodewig | 2004-11-02 11:19:48 -0500 (Tue, 02 Nov 2004) | 5 lines

Make sure <record> lets go of files when stopped.

PR: 26020
Submitted by:	Martijn Kruithof

------------------------------------------------------------------------
r276984 | stevel | 2004-11-01 16:58:52 -0500 (Mon, 01 Nov 2004) | 2 lines

more diagnostics

------------------------------------------------------------------------
r276982 | stevel | 2004-10-30 17:03:44 -0400 (Sat, 30 Oct 2004) | 4 lines

merging features of Russell's dependencies contribution;
conditional dependencies and setting of a path to the dependency list.
Moving from httpclient to get is still todo.

------------------------------------------------------------------------
r276981 | stevel | 2004-10-30 15:44:02 -0400 (Sat, 30 Oct 2004) | 6 lines

Patch in PR# 21996
add a flatten to unzip.
I actually only patched in the mapper nested element support; with that the flatten attribute can only introduce inconsistency (what if you spec a mapper and flatten=true).
And the patch was modified to keep the attributes private, with a getMapper() operation for subclasses (like untar) to get when needed.
Did a bit of cleanup -especially of the unzip tests- while at it.

------------------------------------------------------------------------
r276979 | peterreilly | 2004-10-29 04:54:33 -0400 (Fri, 29 Oct 2004) | 4 lines

Use org.apache.log4j.Logger instead of org.apache.log4j.Category
PR: 31951
Obtained from: J.M. (Martijn) Kruithof

------------------------------------------------------------------------
r276977 | bodewig | 2004-10-29 03:35:17 -0400 (Fri, 29 Oct 2004) | 3 lines

Make handling of javac -source easier.  Simply make JDK 1.4.1's
interface upwards compatible.

------------------------------------------------------------------------
r276976 | stevel | 2004-10-28 08:23:56 -0400 (Thu, 28 Oct 2004) | 2 lines

not testing the broken stuff; will do a big rework soon w/ the httpunit and incubator stuff integrated

------------------------------------------------------------------------
r276971 | peterreilly | 2004-10-28 05:12:02 -0400 (Thu, 28 Oct 2004) | 5 lines

Properties.propertyNames() should be used instead of .keys():
fix for previous fix - use getProperty() and not get()
fix for PropertySet
PR: 27261

------------------------------------------------------------------------
r276969 | peterreilly | 2004-10-28 04:47:26 -0400 (Thu, 28 Oct 2004) | 4 lines

Properties.propertyNames() should be used instead of .keys().
PR: 27261
Obtained from: Mike Murray

------------------------------------------------------------------------
r276967 | bodewig | 2004-10-28 03:58:56 -0400 (Thu, 28 Oct 2004) | 2 lines

Removed too much with my last patch

------------------------------------------------------------------------
r276965 | peterreilly | 2004-10-27 08:48:35 -0400 (Wed, 27 Oct 2004) | 6 lines

NPE using XmlLogger and antlib
check if the value of the name attribute is not null
set the taskname of the antlib task
PR: 31840
Obtained from: Mariano Benitez

------------------------------------------------------------------------
r276963 | bodewig | 2004-10-26 10:56:55 -0400 (Tue, 26 Oct 2004) | 5 lines

Better error reporting when users set the wrong default namespace.

PR: 30660
Submitted by:	Kevin Greiner <kgreiner at xpediantsolutions dot com>

------------------------------------------------------------------------
r276961 | bodewig | 2004-10-26 10:18:39 -0400 (Tue, 26 Oct 2004) | 2 lines

compiler attributes is used to determine command line arguments even in the fork case, this warning is misleading.  PR: 31664

------------------------------------------------------------------------
r276958 | bodewig | 2004-10-26 06:12:20 -0400 (Tue, 26 Oct 2004) | 2 lines

Move GetLibrariesTest to make tests compile without httpclient

------------------------------------------------------------------------
r276957 | stevel | 2004-10-25 19:13:39 -0400 (Mon, 25 Oct 2004) | 7 lines

Repository support; needs http client 2.x and commons-logging.
Broken: repository references (you'll see in the test results)
not tested: authenticated access to the repository.
Already had a feature request for multiple repository support;
would be nice. That and better diagnostics on failure.
Note that we dont currently probe ibiblio for availaibility; that was taking longer than the fetches themselves.

------------------------------------------------------------------------
r276953 | peterreilly | 2004-10-21 09:54:25 -0400 (Thu, 21 Oct 2004) | 4 lines

Concat task instance could not be run twice
PR: 31814
Reported by: 	elara at smartops dot com (Eduardo)

------------------------------------------------------------------------
r276951 | peterreilly | 2004-10-21 06:31:06 -0400 (Thu, 21 Oct 2004) | 4 lines

ExecTask executes checkConfiguration() even though os does not match.
PR: 31805
Obtained from: David Boon

------------------------------------------------------------------------
r276950 | peterreilly | 2004-10-20 04:38:05 -0400 (Wed, 20 Oct 2004) | 4 lines

add failall value for onerror attribute of <typedef>
PR: 31685
Obtained from: 	steve morin

------------------------------------------------------------------------
r276945 | bodewig | 2004-10-14 10:42:49 -0400 (Thu, 14 Oct 2004) | 2 lines

Errors thrown before we fire startTestSuite cause problems in setOutAndErr

------------------------------------------------------------------------
r276942 | bodewig | 2004-10-13 06:23:30 -0400 (Wed, 13 Oct 2004) | 17 lines

The code that tries to detect a crashing forked VM in <junit> breaks
down when the VM runs multiple tests.

The old code used a TestFormatter and detected a crash if the expected
output had not been written.  If multiple tests get run in one VM, the
TestRunner ignores the filename that has been passed in - and the task
doesn't find any output.

Even if it didn't ignore the file name, a single non-crashing test
would have made the task think, the VM finished in a healthy way.

Make the crash-detection more explcit and let the TestRunner cooperate
more than before.

This bug has been presented by Gump in cooperation with the Hivemind
build.

------------------------------------------------------------------------
r276941 | bodewig | 2004-10-13 01:53:52 -0400 (Wed, 13 Oct 2004) | 2 lines

define <ispingable>

------------------------------------------------------------------------
r276940 | stevel | 2004-10-12 16:52:34 -0400 (Tue, 12 Oct 2004) | 2 lines

ispingable is defined, corrected validation logic (I think :)

------------------------------------------------------------------------
r276939 | stevel | 2004-10-12 16:51:29 -0400 (Tue, 12 Oct 2004) | 2 lines

Apt docs. Also flipped the nocompile flag in name and meaning

------------------------------------------------------------------------
r276937 | peterreilly | 2004-10-11 04:37:50 -0400 (Mon, 11 Oct 2004) | 3 lines

remove a debug system.out from XmlProperty.java
Reported By: Ricky Panaglucci

------------------------------------------------------------------------
r276936 | stevel | 2004-10-08 12:40:07 -0400 (Fri, 08 Oct 2004) | 2 lines

apt tool

------------------------------------------------------------------------
r276935 | stevel | 2004-10-08 07:09:46 -0400 (Fri, 08 Oct 2004) | 2 lines

Fed up with complaints about rmic generated code not having its source files found. Now you can turn it off.

------------------------------------------------------------------------
r276934 | stevel | 2004-10-08 06:46:36 -0400 (Fri, 08 Oct 2004) | 2 lines

Wrapper for Apt tool in Java1.5, from bug ID 29978

------------------------------------------------------------------------
r276933 | stevel | 2004-10-08 06:43:39 -0400 (Fri, 08 Oct 2004) | 2 lines

Test that verifies XML parser version (Xerces) and feature set.

------------------------------------------------------------------------
r276932 | stevel | 2004-10-08 05:34:40 -0400 (Fri, 08 Oct 2004) | 2 lines

accessors to command line are occasionally useful when working with java

------------------------------------------------------------------------
r276931 | stevel | 2004-10-08 05:00:24 -0400 (Fri, 08 Oct 2004) | 2 lines

raise log level of targets to match that of task events

------------------------------------------------------------------------
r276929 | stevel | 2004-10-08 04:59:19 -0400 (Fri, 08 Oct 2004) | 2 lines

Move optional conditions to a suitable place

------------------------------------------------------------------------
r276928 | stevel | 2004-10-07 18:54:32 -0400 (Thu, 07 Oct 2004) | 3 lines

First of the Java1.5 extensions. Closest j2se has for detecting offline state, though I note J2ME and JavaWebStart have offline tests.
Needs tests.

------------------------------------------------------------------------
r276927 | mbenson | 2004-10-07 12:25:04 -0400 (Thu, 07 Oct 2004) | 3 lines

Documentation fixes for PVCS task.
PR: 31582

------------------------------------------------------------------------
r276926 | mbenson | 2004-10-07 12:15:36 -0400 (Thu, 07 Oct 2004) | 2 lines

Make Gump happy

------------------------------------------------------------------------
r276925 | mbenson | 2004-10-07 12:03:52 -0400 (Thu, 07 Oct 2004) | 4 lines

Restore <move>'s ability to replace existing files and/or write
into existing directories.
PR: 31031

------------------------------------------------------------------------
r276923 | stevel | 2004-10-07 06:59:45 -0400 (Thu, 07 Oct 2004) | 2 lines

Dont ask me why jikes decided to go all fussy on me. It has, and these are the corrections.

------------------------------------------------------------------------
r276922 | stevel | 2004-10-06 18:41:52 -0400 (Wed, 06 Oct 2004) | 4 lines

Somewhat reworked patch for bug# 31106, submitted by Isao Yanagimachi.
Took the opportunity to clean up the tasks slightly, such as removing duplication in various methods.
We need a unit test for long command line java, and many parameter java, just to see what breaks.

------------------------------------------------------------------------
r276920 | bodewig | 2004-10-06 11:48:15 -0400 (Wed, 06 Oct 2004) | 2 lines

people might reuse this task instance

------------------------------------------------------------------------
r276918 | bodewig | 2004-10-06 11:39:31 -0400 (Wed, 06 Oct 2004) | 2 lines

white space changes only

------------------------------------------------------------------------
r276917 | bodewig | 2004-10-06 11:38:04 -0400 (Wed, 06 Oct 2004) | 4 lines

plug memory leak in non-forked <junit>

PR: 27420

------------------------------------------------------------------------
r276916 | bodewig | 2004-10-06 11:01:55 -0400 (Wed, 06 Oct 2004) | 7 lines

Make sure test output gets grabbed early enough to capture everything.

PR: 30798

While fixing this, I noticed that printsummary="withOutAndErr" didn't
work with fork="true".

------------------------------------------------------------------------
r276912 | peterreilly | 2004-10-05 04:37:01 -0400 (Tue, 05 Oct 2004) | 5 lines

-noclasspath option
  Added -noclasspath option to allow running ant WITHOUT using CLASSPATH env
  variable. Modified ant.bat to do this so that %CLASSPATH% is not looked at.
  Modified build.sh and build.bat to use the option.

------------------------------------------------------------------------
r276911 | peterreilly | 2004-10-05 04:09:31 -0400 (Tue, 05 Oct 2004) | 2 lines

typo

------------------------------------------------------------------------
r276908 | stevel | 2004-10-01 14:46:15 -0400 (Fri, 01 Oct 2004) | 2 lines

javadoc fixup -only because IntelliJ is so fussy.

------------------------------------------------------------------------
r276905 | peterreilly | 2004-09-30 13:05:38 -0400 (Thu, 30 Sep 2004) | 3 lines

Fix for execution of top level tasks getting delayed by targets.
PR: 31487

------------------------------------------------------------------------
r276903 | bodewig | 2004-09-30 08:41:52 -0400 (Thu, 30 Sep 2004) | 2 lines

Don't assume class.getClassLoader is not null, PR 31450

------------------------------------------------------------------------
r276902 | bodewig | 2004-09-30 08:41:12 -0400 (Thu, 30 Sep 2004) | 2 lines

Oops, better compile before commit

------------------------------------------------------------------------
r276901 | bodewig | 2004-09-30 05:55:03 -0400 (Thu, 30 Sep 2004) | 2 lines

Improved BWC, not that good, though

------------------------------------------------------------------------
r276900 | bodewig | 2004-09-30 05:42:16 -0400 (Thu, 30 Sep 2004) | 8 lines

Add a simple TestListener to each forked VM that does nothing but
write a single byte to a file.

If that file is empty when the test runner finishes, the VM has exited
and we should consider the tests as failed.

PR: 30333

------------------------------------------------------------------------
r276899 | bodewig | 2004-09-30 05:39:57 -0400 (Thu, 30 Sep 2004) | 2 lines

Throw in some unit tests for <junit> - one of them will fail related to bug 30333

------------------------------------------------------------------------
r276897 | bodewig | 2004-09-30 05:27:07 -0400 (Thu, 30 Sep 2004) | 2 lines

Make test pass on OS X

------------------------------------------------------------------------
r276894 | bodewig | 2004-09-30 05:24:06 -0400 (Thu, 30 Sep 2004) | 5 lines

Don't ignore invalid operation mode silently

PR: 30669
Submitted by:	Ben Galbraith

------------------------------------------------------------------------
r276891 | peterreilly | 2004-09-27 05:03:17 -0400 (Mon, 27 Sep 2004) | 2 lines

remove modifying exception code for unknown<attribute/element>exception

------------------------------------------------------------------------
r276889 | mbenson | 2004-09-24 14:55:16 -0400 (Fri, 24 Sep 2004) | 2 lines

Add alwayslog attribute to <redirector>.

------------------------------------------------------------------------
r276885 | peterreilly | 2004-09-24 10:35:44 -0400 (Fri, 24 Sep 2004) | 4 lines

Typeo in defintion of <cvsversion> task causing it not be defined.
PR: 31403
Obtained from: Andy Wood

------------------------------------------------------------------------
r276882 | peterreilly | 2004-09-24 04:45:50 -0400 (Fri, 24 Sep 2004) | 5 lines

Try to get the correct task/type name for an unsupported attribute/element
exception thrown by IntrospectionHelper
PR: 31389 and 29499
Reported by: Tamas Szeredi and Jesse Glick

------------------------------------------------------------------------
r276881 | peterreilly | 2004-09-24 04:17:34 -0400 (Fri, 24 Sep 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r276880 | peterreilly | 2004-09-24 04:13:25 -0400 (Fri, 24 Sep 2004) | 4 lines

Add a new option -nouserlib to the ant command.
This allows running ant without loading the jars from ${user.home}/.ant/lib.
This is useful for building ant.

------------------------------------------------------------------------
r276873 | bodewig | 2004-09-21 07:37:05 -0400 (Tue, 21 Sep 2004) | 5 lines

Close property file.

PR: 30469
Submitted by:	Juerg Wanner <juerg at pyx dot ch>

------------------------------------------------------------------------
r276872 | mbenson | 2004-09-20 16:22:51 -0400 (Mon, 20 Sep 2004) | 2 lines

adding debug message since the BuildException may be caught

------------------------------------------------------------------------
r276871 | mbenson | 2004-09-20 16:16:22 -0400 (Mon, 20 Sep 2004) | 2 lines

Remove unnecessary exists() check.

------------------------------------------------------------------------
r276860 | peterreilly | 2004-09-15 06:25:32 -0400 (Wed, 15 Sep 2004) | 2 lines

fix sizeselector testcase

------------------------------------------------------------------------
r276858 | peterreilly | 2004-09-14 08:45:12 -0400 (Tue, 14 Sep 2004) | 4 lines

AntTypeDefintion#similarDefinition could be called in situations
where the loader for the class is not antclassloader
Obtained from: David Konecny

------------------------------------------------------------------------
r276856 | peterreilly | 2004-09-13 09:26:32 -0400 (Mon, 13 Sep 2004) | 2 lines

allow testcase to compile under jdk1.2.2

------------------------------------------------------------------------
r276854 | peterreilly | 2004-09-13 05:11:47 -0400 (Mon, 13 Sep 2004) | 2 lines

make IntrospectionHelper compile under jdk1.2.2

------------------------------------------------------------------------
r276852 | peterreilly | 2004-09-10 13:31:50 -0400 (Fri, 10 Sep 2004) | 4 lines

use copy constructor Simplified copying of Hashtables in propertyhelper.java
PR: 30163
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276847 | mbenson | 2004-09-10 11:16:11 -0400 (Fri, 10 Sep 2004) | 4 lines

Added searchpath attribute to <exec> for searching path
variables when resolveexecutable = true.  Thanks to Stefan
for having already written the path-searching code.

------------------------------------------------------------------------
r276843 | peterreilly | 2004-09-10 06:46:08 -0400 (Fri, 10 Sep 2004) | 4 lines

Fixed javadoc for Task#handleErrorFlush
PR: 31153
Obtained from: Jayant Sai

------------------------------------------------------------------------
r276840 | peterreilly | 2004-09-10 04:50:25 -0400 (Fri, 10 Sep 2004) | 4 lines

add xmlcatalog nested element to the xmlproperty task
PR: 27053
Obtained from: David Crossley and Dave Brondsema

------------------------------------------------------------------------
r276839 | bodewig | 2004-09-08 10:30:45 -0400 (Wed, 08 Sep 2004) | 2 lines

more to clean up

------------------------------------------------------------------------
r276838 | bodewig | 2004-09-08 10:29:16 -0400 (Wed, 08 Sep 2004) | 2 lines

Support different output formats in checksum, PR 16539, based on a patch by Mark R. Diggory

------------------------------------------------------------------------
r276835 | bodewig | 2004-09-08 07:32:06 -0400 (Wed, 08 Sep 2004) | 2 lines

Doesn't compile on JDK 1.3: IntrospectionHelper.java:1471: method is inherited from org.apache.tools.ant.IntrospectionHelper.NestedCreator and hides variable in outer class createAddTypeCreator(org.apache.tools.ant.Project,java.lang.Object,java.lang.String).  An explicit 'this' qualifier must be used to select the desired instance.

------------------------------------------------------------------------
r276833 | peterreilly | 2004-09-08 07:25:32 -0400 (Wed, 08 Sep 2004) | 2 lines

InstantiationException.getCause() not in jdk 1.3.

------------------------------------------------------------------------
r276829 | peterreilly | 2004-09-08 05:43:50 -0400 (Wed, 08 Sep 2004) | 2 lines

Root cause of InstantiationException may be null in class.newInstance()

------------------------------------------------------------------------
r276828 | stevel | 2004-09-07 07:33:15 -0400 (Tue, 07 Sep 2004) | 2 lines

jikes compiles us now

------------------------------------------------------------------------
r276826 | stevel | 2004-09-07 04:55:38 -0400 (Tue, 07 Sep 2004) | 2 lines

mark two constants as static.

------------------------------------------------------------------------
r276820 | peterreilly | 2004-09-06 05:14:42 -0400 (Mon, 06 Sep 2004) | 4 lines

add a -cp option to Launcher.java to cause it to
treat CLASSPATH different from -lib options.
PR: 28046

------------------------------------------------------------------------
r276817 | peterreilly | 2004-09-03 06:43:15 -0400 (Fri, 03 Sep 2004) | 2 lines

javadoc fixes

------------------------------------------------------------------------
r276815 | mbenson | 2004-09-02 12:51:33 -0400 (Thu, 02 Sep 2004) | 2 lines

typo

------------------------------------------------------------------------
r276814 | conor | 2004-09-02 03:51:33 -0400 (Thu, 02 Sep 2004) | 2 lines

Indicate the message that causes the loop

------------------------------------------------------------------------
r276810 | jhm | 2004-09-01 01:38:54 -0400 (Wed, 01 Sep 2004) | 2 lines

Let <move> compile.

------------------------------------------------------------------------
r276809 | mbenson | 2004-08-31 18:32:53 -0400 (Tue, 31 Aug 2004) | 4 lines

Refactored Target invocation into org.apache.tools.ant.Executor
implementations.
PR: 21421, 29248

------------------------------------------------------------------------
r276806 | mbenson | 2004-08-31 17:34:36 -0400 (Tue, 31 Aug 2004) | 3 lines

Allow <move>'s file attribute to rename a directory.
PR: 22863

------------------------------------------------------------------------
r276804 | antoine | 2004-08-25 10:56:41 -0400 (Wed, 25 Aug 2004) | 5 lines

Zip task did not create tasks when there are only empty directories in the selection
I have simply added a testcase, the code was already fixed by Matt Benson in Zip.java
revision 1.128
PR: 30365

------------------------------------------------------------------------
r276803 | antoine | 2004-08-24 16:34:53 -0400 (Tue, 24 Aug 2004) | 4 lines

reverting previous change
compiler is called weblogic in the documentation
the testcase seems to have been wrong

------------------------------------------------------------------------
r276802 | antoine | 2004-08-24 16:25:10 -0400 (Tue, 24 Aug 2004) | 2 lines

Change to put in accordance with documentation : compiler name wlrmic, not weblogic ?

------------------------------------------------------------------------
r276800 | antoine | 2004-08-23 16:27:37 -0400 (Mon, 23 Aug 2004) | 3 lines

FTP getTimeDiff was returning wrong value
PR: 30595

------------------------------------------------------------------------
r276796 | peterreilly | 2004-08-23 09:42:20 -0400 (Mon, 23 Aug 2004) | 5 lines

Provide access to extension points and attribute/element/extensions/text methods in
    IntrospectionHelper
PR: 30794
Obtained from: Dominique Devienne

------------------------------------------------------------------------
r276794 | bodewig | 2004-08-20 06:56:52 -0400 (Fri, 20 Aug 2004) | 2 lines

When searching /usr/local/java/jdk1.3/bin:/usr/local/bin:/bin:/usr/bin:/usr/X11R6/bin:/home/bodewig/bin:/home/bodewig/dev/xml-forrest/build/dist/shbat//bin, look into user supplied environment first

------------------------------------------------------------------------
r276791 | mbenson | 2004-08-19 15:06:46 -0400 (Thu, 19 Aug 2004) | 2 lines

Log if unable to open a File.

------------------------------------------------------------------------
r276787 | mbenson | 2004-08-18 12:34:10 -0400 (Wed, 18 Aug 2004) | 3 lines

Fix bug whereby the first file open was always logged to System.out.
Fix by opening only on demand so that managingTask can be set.

------------------------------------------------------------------------
r276785 | peterreilly | 2004-08-17 14:13:50 -0400 (Tue, 17 Aug 2004) | 2 lines

fix for multiple macro instance use to fail

------------------------------------------------------------------------
r276783 | mbenson | 2004-08-16 17:56:24 -0400 (Mon, 16 Aug 2004) | 3 lines

<apply> differentiating between empty and up to date broke <classfileset>s.
PR: 30567

------------------------------------------------------------------------
r276779 | antoine | 2004-08-13 05:27:01 -0400 (Fri, 13 Aug 2004) | 4 lines

Add @since tags to methods introduced in Ant 1.6.2
PR: 30276
Submitted by: Jesse Glick

------------------------------------------------------------------------
r276773 | conor | 2004-08-12 10:44:00 -0400 (Thu, 12 Aug 2004) | 2 lines

Merge

------------------------------------------------------------------------
r276770 | mbenson | 2004-08-11 10:12:55 -0400 (Wed, 11 Aug 2004) | 2 lines

Correct subscripts.

------------------------------------------------------------------------
r276769 | bodewig | 2004-08-11 05:46:16 -0400 (Wed, 11 Aug 2004) | 8 lines

Use a different way to deal with Mono's "I don't like absolute Unix
path names" feature - change into the directory that holds the WSDL
file and only use the file name.

(1) restores the old signature of setSrcFile
(2) makes XSD include with relative URLs work (and probably WSDL
    import as well).

------------------------------------------------------------------------
r276768 | bodewig | 2004-08-11 05:37:42 -0400 (Wed, 11 Aug 2004) | 2 lines

Make NetCommand#setDirectory actually do something

------------------------------------------------------------------------
r276766 | bodewig | 2004-08-11 05:05:38 -0400 (Wed, 11 Aug 2004) | 2 lines

typo

------------------------------------------------------------------------
r276765 | bodewig | 2004-08-11 05:03:27 -0400 (Wed, 11 Aug 2004) | 2 lines

missing license

------------------------------------------------------------------------
r276763 | mbenson | 2004-08-10 13:55:41 -0400 (Tue, 10 Aug 2004) | 3 lines

Allow DependScanner to use DirectoryScanner's basedir attribute.
PR: 30558

------------------------------------------------------------------------
r276762 | stevel | 2004-08-10 08:14:10 -0400 (Tue, 10 Aug 2004) | 2 lines

test fixup, I still think the csc tests are broken.

------------------------------------------------------------------------
r276761 | stevel | 2004-08-08 17:03:21 -0400 (Sun, 08 Aug 2004) | 4 lines

fixed the test failure, added a proper self contained test.

I have commented out the test that asserts that sourceTime==destTime implies up-to-dateness. This is an interesting problem. Filesys granularity gets in the way.

------------------------------------------------------------------------
r276758 | stevel | 2004-08-05 13:14:31 -0400 (Thu, 05 Aug 2004) | 2 lines

javadocs

------------------------------------------------------------------------
r276757 | stevel | 2004-08-05 13:13:43 -0400 (Thu, 05 Aug 2004) | 2 lines

more tests; 'default' compiler and "" has a well defined behaviour.

------------------------------------------------------------------------
r276756 | stevel | 2004-08-05 03:41:41 -0400 (Thu, 05 Aug 2004) | 2 lines

IDE stuck in a GPL license, thinking this was day-job code :)

------------------------------------------------------------------------
r276755 | stevel | 2004-08-04 18:03:47 -0400 (Wed, 04 Aug 2004) | 4 lines

rmic gets a fork option. 

Most of the changes here are actually adding tests, which was surprisingly hard work.

------------------------------------------------------------------------
r276754 | stevel | 2004-08-04 15:55:50 -0400 (Wed, 04 Aug 2004) | 2 lines

I am still to test this.

------------------------------------------------------------------------
r276753 | stevel | 2004-08-04 15:54:20 -0400 (Wed, 04 Aug 2004) | 2 lines

sneak in an explicit test of the new file utils timestamp comparison stuff

------------------------------------------------------------------------
r276752 | bodewig | 2004-08-04 10:35:06 -0400 (Wed, 04 Aug 2004) | 2 lines

Change output so that it doesn't look as if csc always compiles everything

------------------------------------------------------------------------
r276749 | stevel | 2004-08-03 19:24:09 -0400 (Tue, 03 Aug 2004) | 14 lines

These changes will break Stefan's and my work builds, but they are for the better.

1. pull file/url stuff from the main class into another instance of the schema class.

2. added a makeURL flag that turns a file ref in a schema into a URL. v. useful for .net. 

3. added a compiler enum and attr that lets you choose compiler. Compilers are microsoft|mono|microsoft-on-mono. 

4. renamed parseableerrors to ideErrors.

5. dependency logic uses filesys granularity. 

No tests for the compiler stuff, we need to think about how to do that.

------------------------------------------------------------------------
r276748 | stevel | 2004-08-03 19:19:08 -0400 (Tue, 03 Aug 2004) | 2 lines

Echo cleanup. Too much duplicate logic.

------------------------------------------------------------------------
r276747 | stevel | 2004-08-03 19:18:35 -0400 (Tue, 03 Aug 2004) | 6 lines

1. some factoring out of the timestamp checks for even more reuse. That way the granularity logic can all go in one place.

2. a refactoring of close() to ignore exceptions. I made this static because I want to use it everywhere we close things in a finally clause. NB, note that all four methods would all be unified if the writer/reader/instream/outstream classes had a base class "Closeable" with method void close().

No, I have not refactored everything to use these yet.

------------------------------------------------------------------------
r276746 | stevel | 2004-08-03 19:16:16 -0400 (Tue, 03 Aug 2004) | 2 lines

The ide is fussy, so we dont have to be

------------------------------------------------------------------------
r276744 | bodewig | 2004-08-03 04:52:06 -0400 (Tue, 03 Aug 2004) | 2 lines

fix case

------------------------------------------------------------------------
r276743 | stevel | 2004-08-02 19:03:22 -0400 (Mon, 02 Aug 2004) | 2 lines

wsdl.exe cant spell parseable.

------------------------------------------------------------------------
r276742 | stevel | 2004-08-02 18:45:44 -0400 (Mon, 02 Aug 2004) | 2 lines

typo

------------------------------------------------------------------------
r276741 | stevel | 2004-08-02 18:44:17 -0400 (Mon, 02 Aug 2004) | 3 lines

A couple extra traces in the log for xml validate. 
I wonder if we should include the full exception text on a parse failure, as it is often useful.

------------------------------------------------------------------------
r276740 | stevel | 2004-08-02 18:42:20 -0400 (Mon, 02 Aug 2004) | 4 lines

Now support for nested schemas as add ons. Will probably break mono, but the tests have been written so as not to expose that break. 

Also: protocol, parseableErrors. These are WSE2.0 options.

------------------------------------------------------------------------
r276736 | bodewig | 2004-07-30 06:55:34 -0400 (Fri, 30 Jul 2004) | 2 lines

Base version decision on classpath instead of archive names, this allows Gump to effectivly ignore javacchome

------------------------------------------------------------------------
r276734 | bodewig | 2004-07-30 02:34:12 -0400 (Fri, 30 Jul 2004) | 2 lines

Mono doesn't include the Webservice namespace by default, I don't think this change will break the tests on Microsoft's Framework

------------------------------------------------------------------------
r276733 | bodewig | 2004-07-30 02:33:04 -0400 (Fri, 30 Jul 2004) | 2 lines

make <ilasm> work on Mono

------------------------------------------------------------------------
r276732 | mbenson | 2004-07-28 15:55:37 -0400 (Wed, 28 Jul 2004) | 5 lines

Wrapper scripts did not detect WINNT value of dynamic OS environment
variable when logged into workstations using Novell authentication.
PR: 30366
Obtained from: Dave Brondsema

------------------------------------------------------------------------
r276730 | bodewig | 2004-07-28 09:47:38 -0400 (Wed, 28 Jul 2004) | 2 lines

Mono's wsdl.exe uses a different return code (2) than Microsoft's

------------------------------------------------------------------------
r276729 | bodewig | 2004-07-28 09:46:37 -0400 (Wed, 28 Jul 2004) | 2 lines

<wsdltodotnet> should now work with Mono 1.0 as well

------------------------------------------------------------------------
r276728 | bodewig | 2004-07-28 09:45:02 -0400 (Wed, 28 Jul 2004) | 2 lines

Mono's mcs doesn't like the filealign parameter

------------------------------------------------------------------------
r276724 | bodewig | 2004-07-27 10:24:57 -0400 (Tue, 27 Jul 2004) | 2 lines

new tests fail if the tests themselves live on the system classloader

------------------------------------------------------------------------
r276723 | bodewig | 2004-07-27 10:04:09 -0400 (Tue, 27 Jul 2004) | 2 lines

logging the classpath once is enough

------------------------------------------------------------------------
r276721 | antoine | 2004-07-27 03:02:07 -0400 (Tue, 27 Jul 2004) | 4 lines

Impossible to use implicit classpath for <taskdef> when Ant core loader != Java application loader and Path.systemClassPath taken from ${java.class.path}
PR: 30161
Submitted by: Jesse Glick (jglick at netbeans dot org)

------------------------------------------------------------------------
r276716 | antoine | 2004-07-24 11:04:32 -0400 (Sat, 24 Jul 2004) | 2 lines

Make compile

------------------------------------------------------------------------
r276715 | mbenson | 2004-07-23 16:16:29 -0400 (Fri, 23 Jul 2004) | 3 lines

Try to get the dependency analysis right this time while preserving BC.
PR: 29977

------------------------------------------------------------------------
r276709 | antoine | 2004-07-17 12:31:40 -0400 (Sat, 17 Jul 2004) | 4 lines

Javadoc fixes for RuntimeConfigurable, Project, Location
PR: 30160
Submitted by: Jesse Glick (jglick at netbeans dot org)

------------------------------------------------------------------------
r276707 | antoine | 2004-07-17 12:08:41 -0400 (Sat, 17 Jul 2004) | 2 lines

Added an ignorecontents attribute to <different>

------------------------------------------------------------------------
r276705 | antoine | 2004-07-17 11:10:11 -0400 (Sat, 17 Jul 2004) | 5 lines

Prevent AbstractCvsTask from closing its output and error streams
prematurely
PR: 30097
Submitted by: Will Wang (telerice at yahoo dot com)

------------------------------------------------------------------------
r276697 | stevel | 2004-07-15 12:41:12 -0400 (Thu, 15 Jul 2004) | 2 lines

A little extra for those people trying to debug inheritance of properties & save stuff in CVS. The XML output of <echoproperties> is now *sorted*.

------------------------------------------------------------------------
r276695 | mbenson | 2004-07-13 12:09:20 -0400 (Tue, 13 Jul 2004) | 2 lines

Enabled echo tests only for *nix & cygwin, like others.

------------------------------------------------------------------------
r276694 | bodewig | 2004-07-13 11:23:32 -0400 (Tue, 13 Jul 2004) | 2 lines

Use a proper ASCII character

------------------------------------------------------------------------
r276693 | jhm | 2004-07-13 10:20:42 -0400 (Tue, 13 Jul 2004) | 2 lines

Let Gump pass in Headless-mode

------------------------------------------------------------------------
r276691 | jhm | 2004-07-12 11:04:13 -0400 (Mon, 12 Jul 2004) | 2 lines

No more -lib needed.

------------------------------------------------------------------------
r276690 | bodewig | 2004-07-12 04:16:36 -0400 (Mon, 12 Jul 2004) | 2 lines

2004 is enough for a new file

------------------------------------------------------------------------
r276689 | jhm | 2004-07-10 13:22:21 -0400 (Sat, 10 Jul 2004) | 2 lines

Forgot to add the Checksum

------------------------------------------------------------------------
r276688 | jhm | 2004-07-10 13:15:37 -0400 (Sat, 10 Jul 2004) | 2 lines

Small redesign of ModifiedSelector. Integrating BugIDs 29742+29743. Adding support of custom classes. Checkstyle.

------------------------------------------------------------------------
r276684 | mbenson | 2004-07-09 18:37:17 -0400 (Fri, 09 Jul 2004) | 2 lines

Make ignoremissing test pass on Java 1.2 .

------------------------------------------------------------------------
r276683 | peterreilly | 2004-07-07 11:16:40 -0400 (Wed, 07 Jul 2004) | 2 lines

Opps: misnamed instance

------------------------------------------------------------------------
r276682 | peterreilly | 2004-07-07 04:32:02 -0400 (Wed, 07 Jul 2004) | 2 lines

add a "self" reference for scriptdef

------------------------------------------------------------------------
r276678 | antoine | 2004-07-03 14:33:40 -0400 (Sat, 03 Jul 2004) | 2 lines

Make JavaTest pass on Windows.

------------------------------------------------------------------------
r276668 | antoine | 2004-07-02 05:34:32 -0400 (Fri, 02 Jul 2004) | 2 lines

Make compile

------------------------------------------------------------------------
r276663 | bodewig | 2004-07-02 03:23:54 -0400 (Fri, 02 Jul 2004) | 4 lines

fix <subant>'s I/O handling

Submitted by:	Christian Knorr <Christian dot Knorr at space dot eads dot net>

------------------------------------------------------------------------
r276651 | mbenson | 2004-06-28 17:51:59 -0400 (Mon, 28 Jun 2004) | 2 lines

Insert a space.

------------------------------------------------------------------------
r276647 | bodewig | 2004-06-28 04:49:46 -0400 (Mon, 28 Jun 2004) | 2 lines

try to support Tomcat 5.x

------------------------------------------------------------------------
r276641 | bodewig | 2004-06-25 09:42:10 -0400 (Fri, 25 Jun 2004) | 7 lines

Make <junitreport> work with JDK 1.5.

PR: 27541

Most of the work has been done by Stephane, I just provided the
finishing touches.

------------------------------------------------------------------------
r276632 | mbenson | 2004-06-24 15:44:02 -0400 (Thu, 24 Jun 2004) | 2 lines

ignoremissing is merged!

------------------------------------------------------------------------
r276630 | mbenson | 2004-06-24 15:33:38 -0400 (Thu, 24 Jun 2004) | 2 lines

Remove commented import.

------------------------------------------------------------------------
r276629 | mbenson | 2004-06-24 15:30:03 -0400 (Thu, 24 Jun 2004) | 3 lines

Added multiple targets to <ant> and <antcall> using nested <target> elements.
PR: 5270, 8148, 17071, 6368, 29623

------------------------------------------------------------------------
r276626 | mbenson | 2004-06-24 12:45:09 -0400 (Thu, 24 Jun 2004) | 2 lines

NPE in cleanup on Windows (all non-Unix?).

------------------------------------------------------------------------
r276623 | bodewig | 2004-06-24 07:56:21 -0400 (Thu, 24 Jun 2004) | 2 lines

Some cleanup

------------------------------------------------------------------------
r276622 | bodewig | 2004-06-24 07:16:41 -0400 (Thu, 24 Jun 2004) | 2 lines

Follow Conor's and Jose Alberto's advice - improved fix for PR 8689

------------------------------------------------------------------------
r276617 | bodewig | 2004-06-23 10:08:26 -0400 (Wed, 23 Jun 2004) | 2 lines

Preliminary fix for 8689

------------------------------------------------------------------------
r276615 | bodewig | 2004-06-23 09:32:57 -0400 (Wed, 23 Jun 2004) | 5 lines

Add libgcj support to Path.addJavaRuntime

PR: 29020
Submitted by:	Anthony Green <green at redhat dot com>

------------------------------------------------------------------------
r276613 | bodewig | 2004-06-23 08:30:40 -0400 (Wed, 23 Jun 2004) | 2 lines

PR 25935 applies to <rexec> as well

------------------------------------------------------------------------
r276611 | bodewig | 2004-06-23 08:25:05 -0400 (Wed, 23 Jun 2004) | 2 lines

Indentation of telnet tasks, record bug fix

------------------------------------------------------------------------
r276610 | bodewig | 2004-06-23 08:23:22 -0400 (Wed, 23 Jun 2004) | 5 lines

properly disconnect from telnet server.

PR: 25935
Submitted by:	carcher at yahoo dot com

------------------------------------------------------------------------
r276609 | bodewig | 2004-06-23 08:19:23 -0400 (Wed, 23 Jun 2004) | 2 lines

Small refactoring to prepare for bug 25935

------------------------------------------------------------------------
r276590 | mbenson | 2004-06-18 09:42:04 -0400 (Fri, 18 Jun 2004) | 2 lines

Exit status fixes.

------------------------------------------------------------------------
r276589 | mbenson | 2004-06-17 16:35:31 -0400 (Thu, 17 Jun 2004) | 2 lines

Javadoc cleanup

------------------------------------------------------------------------
r276588 | mbenson | 2004-06-17 16:33:13 -0400 (Thu, 17 Jun 2004) | 2 lines

Add status attribute to <fail>.  Idea/design by Aurele Venet.

------------------------------------------------------------------------
r276587 | mbenson | 2004-06-16 12:41:38 -0400 (Wed, 16 Jun 2004) | 3 lines

Add ignoremissing attribute to <apply>.
PR:  29585

------------------------------------------------------------------------
r276586 | mbenson | 2004-06-16 11:41:51 -0400 (Wed, 16 Jun 2004) | 2 lines

Code cleanup.

------------------------------------------------------------------------
r276580 | bodewig | 2004-06-14 08:23:50 -0400 (Mon, 14 Jun 2004) | 4 lines

Add tofile attributes to scp.

PR: 26758

------------------------------------------------------------------------
r276578 | bodewig | 2004-06-14 08:04:39 -0400 (Mon, 14 Jun 2004) | 4 lines

Don't cripple remote file names that contain spaces.

PR: 26097

------------------------------------------------------------------------
r276573 | peterreilly | 2004-06-12 12:51:09 -0400 (Sat, 12 Jun 2004) | 3 lines

Allow nested elements of namespaced types to below to the ant
default namespace as well as the type's namespace.

------------------------------------------------------------------------
r276560 | umagesh | 2004-06-10 14:01:47 -0400 (Thu, 10 Jun 2004) | 2 lines

Tasks extending from oata.Task and implementing Dispatchable are not dispatchable.

------------------------------------------------------------------------
r276559 | umagesh | 2004-06-10 13:32:14 -0400 (Thu, 10 Jun 2004) | 2 lines

Tests are failing...

------------------------------------------------------------------------
r276556 | peterreilly | 2004-06-10 05:11:51 -0400 (Thu, 10 Jun 2004) | 2 lines

get Task#perform() to wrap all exceptions with a buildexception

------------------------------------------------------------------------
r276554 | peterreilly | 2004-06-10 04:23:50 -0400 (Thu, 10 Jun 2004) | 2 lines

Always call taskfinished if taskstarted has been called

------------------------------------------------------------------------
r276552 | peterreilly | 2004-06-10 04:15:01 -0400 (Thu, 10 Jun 2004) | 2 lines

always call fireTargetFinished to correspond to a fireTargetStarted

------------------------------------------------------------------------
r276550 | peterreilly | 2004-06-10 03:44:10 -0400 (Thu, 10 Jun 2004) | 2 lines

Make the deleteonexit warning stronger

------------------------------------------------------------------------
r276546 | peterreilly | 2004-06-08 12:19:27 -0400 (Tue, 08 Jun 2004) | 2 lines

Add deleteonexit attribute to <delete>

------------------------------------------------------------------------
r276544 | peterreilly | 2004-06-08 09:52:23 -0400 (Tue, 08 Jun 2004) | 3 lines

typos
Obtained from: Yuji Yamano

------------------------------------------------------------------------
r276541 | bodewig | 2004-06-07 08:26:17 -0400 (Mon, 07 Jun 2004) | 2 lines

indentation

------------------------------------------------------------------------
r276540 | bodewig | 2004-06-07 08:26:03 -0400 (Mon, 07 Jun 2004) | 2 lines

prevent empty archive in zip if whenempty is set to skip, PR: 22865

------------------------------------------------------------------------
r276539 | bodewig | 2004-06-07 08:17:25 -0400 (Mon, 07 Jun 2004) | 2 lines

Test for 22865

------------------------------------------------------------------------
r276536 | bodewig | 2004-06-07 07:56:01 -0400 (Mon, 07 Jun 2004) | 2 lines

Tests for bug 25181

------------------------------------------------------------------------
r276533 | umagesh | 2004-06-06 13:31:50 -0400 (Sun, 06 Jun 2004) | 2 lines

Tasks extending from abstract DispatchTask may have multiple action methods that will get invoked depending upon the action attribute of the task.

------------------------------------------------------------------------
r276531 | mbenson | 2004-06-04 13:51:21 -0400 (Fri, 04 Jun 2004) | 3 lines

Changed default tempdir to java.io.tmpdir instead of user.dir.  See what breaks.
PR: 29391, 4590

------------------------------------------------------------------------
r276528 | mbenson | 2004-06-04 11:39:16 -0400 (Fri, 04 Jun 2004) | 4 lines

Add getIf() and getUnless() to Target.
PR: 29320
Submitted by: Christophe Labouisse

------------------------------------------------------------------------
r276517 | bodewig | 2004-06-04 03:44:54 -0400 (Fri, 04 Jun 2004) | 5 lines

Make <genkey> independent of PATH.

PR: 29382
Submitted by:	Mark Hecker <mbh at charter dot net>

------------------------------------------------------------------------
r276506 | antoine | 2004-06-02 16:32:11 -0400 (Wed, 02 Jun 2004) | 5 lines

Addition of a nested property element to the XMLValidateTask to
support string parser properties
PR: 23395
Submitted by: Matthew Hawthorne (mhawthorne at alumni dot pitt dot edu)

------------------------------------------------------------------------
r276504 | bodewig | 2004-06-02 08:31:18 -0400 (Wed, 02 Jun 2004) | 2 lines

Document the <junitreport>/JDK 1.5 problem, PR: 27541

------------------------------------------------------------------------
r276501 | mbenson | 2004-06-01 10:51:55 -0400 (Tue, 01 Jun 2004) | 2 lines

Tiny refactoring.

------------------------------------------------------------------------
r276499 | bodewig | 2004-06-01 09:33:10 -0400 (Tue, 01 Jun 2004) | 2 lines

JDK 1.3-

------------------------------------------------------------------------
r276496 | peterreilly | 2004-05-31 04:21:02 -0400 (Mon, 31 May 2004) | 3 lines

Add a binary flag to the concat task
PR: 26312

------------------------------------------------------------------------
r276494 | peterreilly | 2004-05-28 11:23:26 -0400 (Fri, 28 May 2004) | 3 lines

change message of recursive loading of antlibs to include
the original location from where it was loaded.

------------------------------------------------------------------------
r276492 | peterreilly | 2004-05-28 04:20:22 -0400 (Fri, 28 May 2004) | 3 lines

typedef: check for recursive loading of xml files/resources (aka antlibs)
typedef: do not throw an NPE if attempting to load a file that does not exist

------------------------------------------------------------------------
r276491 | peterreilly | 2004-05-27 11:42:15 -0400 (Thu, 27 May 2004) | 2 lines

opps: missed these

------------------------------------------------------------------------
r276490 | peterreilly | 2004-05-27 10:38:46 -0400 (Thu, 27 May 2004) | 3 lines

add implicit element to macrodef
PR:  25633

------------------------------------------------------------------------
r276489 | bodewig | 2004-05-27 03:06:27 -0400 (Thu, 27 May 2004) | 2 lines

Don't try to add or remove shutdown hooks while the hook is running.  Remove a processes.wait that won't ever return as far as I can tell.

------------------------------------------------------------------------
r276486 | bodewig | 2004-05-25 08:14:07 -0400 (Tue, 25 May 2004) | 2 lines

Push fix for PR#22150 to 1.6.2

------------------------------------------------------------------------
r276484 | bodewig | 2004-05-25 08:12:39 -0400 (Tue, 25 May 2004) | 2 lines

Push fix for PR#22150 to 1.6.2

------------------------------------------------------------------------
r276482 | bodewig | 2004-05-25 07:48:20 -0400 (Tue, 25 May 2004) | 2 lines

Push fix for PR#17934 to 1.6.2

------------------------------------------------------------------------
r276478 | peterreilly | 2004-05-25 04:25:01 -0400 (Tue, 25 May 2004) | 2 lines

remove stephan's work-arounds

------------------------------------------------------------------------
r276477 | peterreilly | 2004-05-25 03:48:17 -0400 (Tue, 25 May 2004) | 2 lines

Opps, forgot to add DynamicConfiguratorNS

------------------------------------------------------------------------
r276474 | bodewig | 2004-05-25 02:23:17 -0400 (Tue, 25 May 2004) | 2 lines

temporary fix until Peter adds DynamicConfiguratorNS

------------------------------------------------------------------------
r276473 | peterreilly | 2004-05-24 11:09:57 -0400 (Mon, 24 May 2004) | 6 lines

DynamicConfiguratorNS
Initial code for dynamicConfiguratorNS.
Change from patch the qualified name is given and
not the prefix.
PR: 28426

------------------------------------------------------------------------
r276466 | peterreilly | 2004-05-18 04:14:49 -0400 (Tue, 18 May 2004) | 4 lines

Javadoc syntax error corrections
PR: 28998
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276464 | peterreilly | 2004-05-17 09:43:32 -0400 (Mon, 17 May 2004) | 4 lines

better diagnostics from XmlLogger.java
PR: 28993
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276462 | peterreilly | 2004-05-17 09:30:17 -0400 (Mon, 17 May 2004) | 7 lines

Fix use of hashcode in MacroDef
Logger code uses the macrodef as a key in a map before it is fully
configured so the hashcode had changed while the object was
in the map
PR: 28993
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276454 | peterreilly | 2004-05-17 06:12:29 -0400 (Mon, 17 May 2004) | 4 lines

Misc. corrections in SignJar.java
PR: 28999
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276452 | bodewig | 2004-05-13 03:06:49 -0400 (Thu, 13 May 2004) | 2 lines

cosmetics

------------------------------------------------------------------------
r276451 | bodewig | 2004-05-13 03:05:02 -0400 (Thu, 13 May 2004) | 2 lines

Add docs for <indexjars>

------------------------------------------------------------------------
r276450 | bodewig | 2004-05-13 03:01:49 -0400 (Thu, 13 May 2004) | 17 lines

Make tests pass on MacOS X.
CVS: ----------------------------------------------------------------------
CVS: PR:
CVS:   If this change addresses a PR in the problem report tracking
CVS:   database, then enter the PR number(s) here.
CVS: Obtained from:
CVS:   If this change has been taken from another system, such as NCSA,
CVS:   then name the system in this line, otherwise delete it.
CVS: Submitted by:
CVS:   If this code has been contributed to Apache by someone else; i.e.,
CVS:   they sent us a patch or a new module, then include their name/email
CVS:   address here. If this is your work then delete this line.
CVS: Reviewed by:
CVS:   If we are doing pre-commit code reviews and someone else has
CVS:   reviewed your changes, include their name(s) here.
CVS:   If you have not had it reviewed then delete this line.

------------------------------------------------------------------------
r276449 | bodewig | 2004-05-13 03:01:07 -0400 (Thu, 13 May 2004) | 17 lines

test1 failed unless it was the first test to run.
CVS: ----------------------------------------------------------------------
CVS: PR:
CVS:   If this change addresses a PR in the problem report tracking
CVS:   database, then enter the PR number(s) here.
CVS: Obtained from:
CVS:   If this change has been taken from another system, such as NCSA,
CVS:   then name the system in this line, otherwise delete it.
CVS: Submitted by:
CVS:   If this code has been contributed to Apache by someone else; i.e.,
CVS:   they sent us a patch or a new module, then include their name/email
CVS:   address here. If this is your work then delete this line.
CVS: Reviewed by:
CVS:   If we are doing pre-commit code reviews and someone else has
CVS:   reviewed your changes, include their name(s) here.
CVS:   If you have not had it reviewed then delete this line.

------------------------------------------------------------------------
r276448 | peterreilly | 2004-05-11 12:49:48 -0400 (Tue, 11 May 2004) | 3 lines

antlib: allow a typedef in an antlib to override the classpath
unittests to follow

------------------------------------------------------------------------
r276440 | peterreilly | 2004-05-10 05:19:30 -0400 (Mon, 10 May 2004) | 4 lines

Concat throws ArrayIndexOutOfBounds with fixlastline
PR: 28820
Reported by: Andre Vanha

------------------------------------------------------------------------
r276435 | mbenson | 2004-05-06 15:43:19 -0400 (Thu, 06 May 2004) | 3 lines

Make sure CLASSPATH is set before attempting to change it;
make sure --mixed option is available to cygpath before using it.

------------------------------------------------------------------------
r276434 | mbenson | 2004-05-06 12:42:18 -0400 (Thu, 06 May 2004) | 2 lines

Cygwin/UNC ANT_HOME compatibility using mixed paths on NT-family systems.

------------------------------------------------------------------------
r276429 | mbenson | 2004-04-29 18:10:56 -0400 (Thu, 29 Apr 2004) | 2 lines

Remove unused import.

------------------------------------------------------------------------
r276428 | mbenson | 2004-04-29 17:25:40 -0400 (Thu, 29 Apr 2004) | 2 lines

Restore Task inheritance to Exit/<fail>.

------------------------------------------------------------------------
r276425 | mbenson | 2004-04-28 14:08:47 -0400 (Wed, 28 Apr 2004) | 3 lines

<fail> accepts nested conditions.
PR: 19220

------------------------------------------------------------------------
r276422 | peterreilly | 2004-04-28 05:01:08 -0400 (Wed, 28 Apr 2004) | 4 lines

File paths to imported build files should not be canonicalized
PR: 28505
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276419 | mbenson | 2004-04-27 14:14:54 -0400 (Tue, 27 Apr 2004) | 4 lines

Move Process stream closure into a new public static method,
closeStreams(Process).
PR: 28565

------------------------------------------------------------------------
r276418 | mbenson | 2004-04-27 11:30:56 -0400 (Tue, 27 Apr 2004) | 2 lines

More typo corrections (not mine).

------------------------------------------------------------------------
r276417 | mbenson | 2004-04-27 11:24:46 -0400 (Tue, 27 Apr 2004) | 2 lines

Fix typo.

------------------------------------------------------------------------
r276416 | mbenson | 2004-04-27 11:23:25 -0400 (Tue, 27 Apr 2004) | 3 lines

Close process streams in waitFor(Process).
PR: 28565

------------------------------------------------------------------------
r276413 | bodewig | 2004-04-27 03:44:47 -0400 (Tue, 27 Apr 2004) | 2 lines

forkstyle -> forkmode

------------------------------------------------------------------------
r276407 | mbenson | 2004-04-26 13:49:51 -0400 (Mon, 26 Apr 2004) | 3 lines

Add a Location member to oata.Target, with the appropriate settor & gettor.
PR:  28599

------------------------------------------------------------------------
r276405 | mbenson | 2004-04-23 15:33:02 -0400 (Fri, 23 Apr 2004) | 3 lines

Make <apply> differentiate between empty and up-to-date filesets/lists.
PR: 23734

------------------------------------------------------------------------
r276403 | peterreilly | 2004-04-23 12:56:20 -0400 (Fri, 23 Apr 2004) | 4 lines

JDependTask did not close an output file
PR: 28557
Obtained from: Jeff Badorek

------------------------------------------------------------------------
r276390 | bodewig | 2004-04-23 10:18:15 -0400 (Fri, 23 Apr 2004) | 2 lines

Make attribute und element names in <scriptdef> lowercase (like <macrodef> does) to avoid problems with name="Foo" -> the task X doesn\'t support the attribute foo

------------------------------------------------------------------------
r276389 | bodewig | 2004-04-23 06:03:50 -0400 (Fri, 23 Apr 2004) | 2 lines

Implement jar index for referenced jars, PR: 14255

------------------------------------------------------------------------
r276387 | bodewig | 2004-04-23 03:33:51 -0400 (Fri, 23 Apr 2004) | 2 lines

The small things you find when reviewing code

------------------------------------------------------------------------
r276384 | mbenson | 2004-04-22 16:27:21 -0400 (Thu, 22 Apr 2004) | 3 lines

Make ContainerMapper abstract; move chained/composite behaviors to
subclasses ChainedMapper and CompositeMapper, respectively.

------------------------------------------------------------------------
r276383 | mbenson | 2004-04-22 16:18:35 -0400 (Thu, 22 Apr 2004) | 3 lines

Incorporate <waitfor> to improve the chances of a pass on Windows.  :(
Also make the failures more instructive for redirect* testcases.

------------------------------------------------------------------------
r276382 | stevel | 2004-04-22 10:48:31 -0400 (Thu, 22 Apr 2004) | 2 lines

Purge of many (but not all) the if-java-1.1 tests in the ant code. I left those in the tests in, and I left the javac and javadoc tests in, as they are more complex. This is the simple set.

------------------------------------------------------------------------
r276381 | stevel | 2004-04-22 10:03:47 -0400 (Thu, 22 Apr 2004) | 5 lines

A new uptodate test that includes granularity. the
intent is to move all date tests to this single place, to eliminate inconsistencies.
The only place I use it is signjar, which, by virtue of the fact there is no signjar test, means I know it wont break the tests.
Also, cleaned up the reflection hacks for 1.1.

------------------------------------------------------------------------
r276380 | stevel | 2004-04-22 08:41:10 -0400 (Thu, 22 Apr 2004) | 2 lines

One less complaint from jikes about code style.

------------------------------------------------------------------------
r276376 | bodewig | 2004-04-21 03:18:48 -0400 (Wed, 21 Apr 2004) | 2 lines

don't depend on jre being lowercase, PR: 25798

------------------------------------------------------------------------
r276375 | bodewig | 2004-04-21 03:12:29 -0400 (Wed, 21 Apr 2004) | 2 lines

One not too much

------------------------------------------------------------------------
r276365 | mbenson | 2004-04-20 15:29:56 -0400 (Tue, 20 Apr 2004) | 3 lines

Add resource support to <loadproperties>.
PR: 28340

------------------------------------------------------------------------
r276364 | mbenson | 2004-04-20 15:27:54 -0400 (Tue, 20 Apr 2004) | 2 lines

Switch getParentFile(File) to delegate to File.getParentFile() and deprecate.

------------------------------------------------------------------------
r276358 | stevel | 2004-04-20 11:02:38 -0400 (Tue, 20 Apr 2004) | 2 lines

move to the Java1.2 implementation.

------------------------------------------------------------------------
r276354 | bodewig | 2004-04-20 09:25:08 -0400 (Tue, 20 Apr 2004) | 2 lines

Generate proper file URLs in AntClassLoader#getResource, PR: 28060

------------------------------------------------------------------------
r276352 | bodewig | 2004-04-20 08:48:43 -0400 (Tue, 20 Apr 2004) | 2 lines

Various typo fixes by Jesse Glick, PR: 28480

------------------------------------------------------------------------
r276347 | bodewig | 2004-04-20 02:52:48 -0400 (Tue, 20 Apr 2004) | 2 lines

Minor formatting changes

------------------------------------------------------------------------
r276346 | bodewig | 2004-04-20 02:24:25 -0400 (Tue, 20 Apr 2004) | 2 lines

<assertions> inside <java> or <junit> didn't work, PR: 27218

------------------------------------------------------------------------
r276344 | stevel | 2004-04-19 11:40:04 -0400 (Mon, 19 Apr 2004) | 2 lines

removing one line

------------------------------------------------------------------------
r276343 | stevel | 2004-04-19 11:10:04 -0400 (Mon, 19 Apr 2004) | 2 lines

show the alternate invocation mechanism does work. hmm.

------------------------------------------------------------------------
r276342 | stevel | 2004-04-19 10:25:43 -0400 (Mon, 19 Apr 2004) | 2 lines

Javadocs and some refactoring. tmpDir is now validated and used consistently where properties files are created.

------------------------------------------------------------------------
r276341 | stevel | 2004-04-19 09:42:57 -0400 (Mon, 19 Apr 2004) | 2 lines

This is a test that demonstrates that assert checks dont get through properly. Fix in progress.

------------------------------------------------------------------------
r276340 | stevel | 2004-04-19 09:41:46 -0400 (Mon, 19 Apr 2004) | 2 lines

accessor to arguments

------------------------------------------------------------------------
r276331 | jhm | 2004-04-16 07:47:18 -0400 (Fri, 16 Apr 2004) | 2 lines

Add hostname/timestamp from Jeff Tulley. Remove authors (like in java files).

------------------------------------------------------------------------
r276329 | bodewig | 2004-04-16 05:59:02 -0400 (Fri, 16 Apr 2004) | 2 lines

Use addMapper instead pf createMapper as suggested by Peter

------------------------------------------------------------------------
r276327 | bodewig | 2004-04-16 05:35:21 -0400 (Fri, 16 Apr 2004) | 2 lines

Don't delete existing file when trying to update a read-only archive, PR: 28419

------------------------------------------------------------------------
r276322 | bodewig | 2004-04-16 04:36:01 -0400 (Fri, 16 Apr 2004) | 2 lines

Add nested mappers to xslt, PR: 11249

------------------------------------------------------------------------
r276320 | bodewig | 2004-04-16 03:48:49 -0400 (Fri, 16 Apr 2004) | 2 lines

Set context classloader in <xslt>, PR: 24802

------------------------------------------------------------------------
r276319 | bodewig | 2004-04-16 03:06:36 -0400 (Fri, 16 Apr 2004) | 2 lines

Merged the subclass-friendly <junit> version into 1.6 branch

------------------------------------------------------------------------
r276317 | bodewig | 2004-04-15 09:53:47 -0400 (Thu, 15 Apr 2004) | 17 lines

Add forkStyle attribute to <junit> with possible values of once,
perTest and perBatch.

once will create a single Java VM for all forked tests, perTest is
what we have traditionally (and the default), perBatch uses a VM per
<batchtest>.

Actually, this is not entirely true since only tests with the same
configuration of filtetrace and haltonfailure and friends can run
inside the same VM, so we may end up with mutliple VMs anyway - but
once really should be a lot faster than perTest in general.

Based on

PR: 24697
Submitted by:	Anton <anton at atlassian dot com>

------------------------------------------------------------------------
r276315 | bodewig | 2004-04-14 12:13:27 -0400 (Wed, 14 Apr 2004) | 2 lines

Capture stderr in <sshexec>, PR 28349

------------------------------------------------------------------------
r276313 | bodewig | 2004-04-14 11:42:08 -0400 (Wed, 14 Apr 2004) | 2 lines

-breakiterator fixes by Jack Woehr

------------------------------------------------------------------------
r276311 | bodewig | 2004-04-14 11:36:25 -0400 (Wed, 14 Apr 2004) | 2 lines

and one more wrong license

------------------------------------------------------------------------
r276310 | bodewig | 2004-04-14 11:35:55 -0400 (Wed, 14 Apr 2004) | 2 lines

Fix line-ends, one more wrong license

------------------------------------------------------------------------
r276309 | bodewig | 2004-04-14 11:33:31 -0400 (Wed, 14 Apr 2004) | 7 lines

Adapt the OS/2 wrapper scripts to the new launcher.

PR: 28226
Submitted by:	Zdenek Wagner <wagner at cesnet dot cz>

Adapted to new license while I was at it.

------------------------------------------------------------------------
r276308 | stevel | 2004-04-14 11:19:13 -0400 (Wed, 14 Apr 2004) | 2 lines

new attributes for the tests: hostname and timestamp.

------------------------------------------------------------------------
r276303 | mbenson | 2004-04-13 17:42:58 -0400 (Tue, 13 Apr 2004) | 3 lines

Fixed "optional" attribute.
Reported by:  Nick Gianakas

------------------------------------------------------------------------
r276301 | bodewig | 2004-04-13 07:40:08 -0400 (Tue, 13 Apr 2004) | 4 lines

enable gcj's java -> native compilation.

Submitted by:	Arnaud Vandyck <arnaud dot vandyck at ulg dot ac dot be>

------------------------------------------------------------------------
r276298 | bodewig | 2004-04-13 07:20:14 -0400 (Tue, 13 Apr 2004) | 2 lines

less noisy verbose mode for <scp> by Rami Ojares

------------------------------------------------------------------------
r276297 | bodewig | 2004-04-13 07:09:01 -0400 (Tue, 13 Apr 2004) | 7 lines

Add special local/remote variants of the file and todir attributes to
explicitly state what is local or remote.

Document verbose attribute.

Submitted by:	Rami Ojares

------------------------------------------------------------------------
r276290 | bodewig | 2004-04-08 10:58:19 -0400 (Thu, 08 Apr 2004) | 5 lines

Don't die if the ant.file property hasn't been set.

Jelly's Ant tag library currently doesn't set this property and each
<ant> task used in Jelly will result in an NPE otherwise.

------------------------------------------------------------------------
r276289 | mbenson | 2004-04-07 18:46:51 -0400 (Wed, 07 Apr 2004) | 3 lines

Add pattern attribute to DateSelector.  Document granularity attribute.
Submitted by: David Kavanagh

------------------------------------------------------------------------
r276288 | bodewig | 2004-04-07 09:30:30 -0400 (Wed, 07 Apr 2004) | 4 lines

Add progress report to <scp>.

Submitted by:	Rami Ojares

------------------------------------------------------------------------
r276286 | peterreilly | 2004-04-07 08:39:12 -0400 (Wed, 07 Apr 2004) | 4 lines

Expose MacroDef from MacroInstance
PR: 28242
Reported by: Darin Swanson

------------------------------------------------------------------------
r276283 | peterreilly | 2004-04-07 08:11:17 -0400 (Wed, 07 Apr 2004) | 3 lines

remove refernce to optional.jar in "unable to create task/type" message
Obtained from: Jack J. Woehr

------------------------------------------------------------------------
r276278 | mbenson | 2004-04-05 17:26:45 -0400 (Mon, 05 Apr 2004) | 3 lines

Fix the previous change; handle invalid URLs and 1.2 compatibility.
Submitted by:  Martijn Kruithof, Rainer Noack

------------------------------------------------------------------------
r276275 | mbenson | 2004-04-02 15:20:43 -0500 (Fri, 02 Apr 2004) | 3 lines

UNC pathnames did not work for ANT_HOME or -lib locations on Windows.
PR: 27922

------------------------------------------------------------------------
r276272 | mbenson | 2004-04-01 14:11:02 -0500 (Thu, 01 Apr 2004) | 4 lines

I/O-intensive processes hung when started by Execute.spawn()
PR: 23893/26852.
Submitted by: Daniel Spilker

------------------------------------------------------------------------
r276270 | peterreilly | 2004-04-01 08:06:45 -0500 (Thu, 01 Apr 2004) | 4 lines

<parallel>: failonany was tested even if the task succeeded.
PR: 28122
Reported by: Oliver Dungey

------------------------------------------------------------------------
r276266 | peterreilly | 2004-03-31 06:45:01 -0500 (Wed, 31 Mar 2004) | 4 lines

ProjectComponent incorrect compare used in logging
PR: 28070
Obtained from: Matt Small

------------------------------------------------------------------------
r276265 | bodewig | 2004-03-31 04:08:06 -0500 (Wed, 31 Mar 2004) | 2 lines

Try to make Gump happy

------------------------------------------------------------------------
r276264 | bodewig | 2004-03-31 04:07:22 -0500 (Wed, 31 Mar 2004) | 2 lines

Whitespace changes only

------------------------------------------------------------------------
r276263 | mbenson | 2004-03-30 18:22:14 -0500 (Tue, 30 Mar 2004) | 4 lines

Add Windows 2003 support to getProcEnvCommand() + minor refactoring.
PR:  28067
Submitted by:	Irene Rusman

------------------------------------------------------------------------
r276261 | stevel | 2004-03-29 12:02:13 -0500 (Mon, 29 Mar 2004) | 2 lines

I do not like the current process of marking incompatibility, as it is a dog to use from programmatic task access. We should validate immediatly before execution instead. This commit is not a fix, merely a partial workaround.

------------------------------------------------------------------------
r276260 | stevel | 2004-03-29 11:39:03 -0500 (Mon, 29 Mar 2004) | 2 lines

spelling

------------------------------------------------------------------------
r276259 | mbenson | 2004-03-27 16:33:49 -0500 (Sat, 27 Mar 2004) | 2 lines

Forgot the default typedef and type unit tests initially.  ;)

------------------------------------------------------------------------
r276258 | mbenson | 2004-03-27 16:24:15 -0500 (Sat, 27 Mar 2004) | 2 lines

Remove comment.

------------------------------------------------------------------------
r276257 | mbenson | 2004-03-27 16:22:59 -0500 (Sat, 27 Mar 2004) | 2 lines

Add <redirector>.

------------------------------------------------------------------------
r276250 | peterreilly | 2004-03-22 10:54:52 -0500 (Mon, 22 Mar 2004) | 4 lines

filterset used by filtertask doesn't respect loglevel
PR:  27568
Obtained from: Marcel Schutte

------------------------------------------------------------------------
r276249 | mbenson | 2004-03-18 16:31:13 -0500 (Thu, 18 Mar 2004) | 3 lines

Reduce level of skip message to VERBOSE.
PR:  27784

------------------------------------------------------------------------
r276246 | mbenson | 2004-03-17 17:10:18 -0500 (Wed, 17 Mar 2004) | 3 lines

ant -p swallows (configuration) errors silently.
PR:  27732

------------------------------------------------------------------------
r276245 | mbenson | 2004-03-17 11:41:27 -0500 (Wed, 17 Mar 2004) | 2 lines

Quick refactoring.

------------------------------------------------------------------------
r276241 | peterreilly | 2004-03-15 13:02:35 -0500 (Mon, 15 Mar 2004) | 2 lines

checkcheck

------------------------------------------------------------------------
r276239 | peterreilly | 2004-03-15 12:33:09 -0500 (Mon, 15 Mar 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r276238 | peterreilly | 2004-03-15 12:26:34 -0500 (Mon, 15 Mar 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r276236 | peterreilly | 2004-03-15 09:36:21 -0500 (Mon, 15 Mar 2004) | 5 lines

Allow setting of uid and gid in a tarfileset - in addition or in place
of user and group.
PR: 19120
Reported by: Dale Sherwood

------------------------------------------------------------------------
r276234 | bodewig | 2004-03-15 06:27:04 -0500 (Mon, 15 Mar 2004) | 2 lines

White-space changes only

------------------------------------------------------------------------
r276233 | bodewig | 2004-03-15 06:23:48 -0500 (Mon, 15 Mar 2004) | 2 lines

Don't swallow the stack trace if a Java program throws an exception.

------------------------------------------------------------------------
r276231 | peterreilly | 2004-03-12 14:08:20 -0500 (Fri, 12 Mar 2004) | 2 lines

nice task: checkstyle and fix some comments

------------------------------------------------------------------------
r276227 | peterreilly | 2004-03-12 04:09:03 -0500 (Fri, 12 Mar 2004) | 2 lines

add javadoc

------------------------------------------------------------------------
r276225 | peterreilly | 2004-03-12 04:00:30 -0500 (Fri, 12 Mar 2004) | 9 lines

NPE while useing -listener for commons logger.
There is a difference between using a -logger and -listener.
The former may use a log file and the latter does not get this set.
The commons logger code assumes that it is passed the log stream in
both cases.
The fix is just to initialize the out and err streams in the commons
logger class.
PR: 27373

------------------------------------------------------------------------
r276224 | mbenson | 2004-03-11 18:40:59 -0500 (Thu, 11 Mar 2004) | 2 lines

Add "negate" attribute to <propertyset>s.

------------------------------------------------------------------------
r276223 | mbenson | 2004-03-11 14:25:48 -0500 (Thu, 11 Mar 2004) | 3 lines

Nested file mappers; container mapper.
PR: 26364

------------------------------------------------------------------------
r276221 | peterreilly | 2004-03-11 06:22:10 -0500 (Thu, 11 Mar 2004) | 5 lines

exec task outputted two redundant trailing newlines
PR: 27546
Reported by: marcel at schutte dot com
Obtained from: Martijn Kruithof

------------------------------------------------------------------------
r276217 | bodewig | 2004-03-10 09:40:49 -0500 (Wed, 10 Mar 2004) | 2 lines

Wrong condition in flush, submitted by Martijn Kruithof, PR: 27549

------------------------------------------------------------------------
r276213 | peterreilly | 2004-03-10 04:24:02 -0500 (Wed, 10 Mar 2004) | 4 lines

fix if build file name has ../ or ./
PR:  26765
Reported by: Ian E. Gorman

------------------------------------------------------------------------
r276208 | peterreilly | 2004-03-09 11:49:09 -0500 (Tue, 09 Mar 2004) | 4 lines

remove authors from files
PR: 27177
Obtained from: J.M. (Martijn) Kruithof

------------------------------------------------------------------------
r276202 | bodewig | 2004-03-09 10:48:07 -0500 (Tue, 09 Mar 2004) | 5 lines

Make <depend> less verbose if it doesn't do anything.

PR: 27540
Submitted by:	Rob Oxspring <roxspring at imapmail dot org>

------------------------------------------------------------------------
r276200 | peterreilly | 2004-03-09 10:41:08 -0500 (Tue, 09 Mar 2004) | 4 lines

[PATCH] Misspelling: s/occured/occurred/g
PR: 27282
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276191 | peterreilly | 2004-03-03 12:08:49 -0500 (Wed, 03 Mar 2004) | 4 lines

tagdiff.xsl got whacked when the apache license got updated
PR: 27057
Obtained from: Ted McElwee

------------------------------------------------------------------------
r276189 | bodewig | 2004-03-03 09:35:24 -0500 (Wed, 03 Mar 2004) | 4 lines

This test has been randomly failing on Unix systems ever since their
file system is considered to have a granularity of a second.  Give it
the same treatment as Windows.

------------------------------------------------------------------------
r276188 | bodewig | 2004-03-03 09:18:49 -0500 (Wed, 03 Mar 2004) | 2 lines

Make test pass in Gumpy - at least I hope it does

------------------------------------------------------------------------
r276185 | mbenson | 2004-03-02 16:57:42 -0500 (Tue, 02 Mar 2004) | 2 lines

Fix typo.

------------------------------------------------------------------------
r276175 | conor | 2004-02-28 19:06:42 -0500 (Sat, 28 Feb 2004) | 2 lines

Merge

------------------------------------------------------------------------
r276174 | mbenson | 2004-02-27 18:23:44 -0500 (Fri, 27 Feb 2004) | 2 lines

Testcases for <pathconvert>.

------------------------------------------------------------------------
r276173 | mbenson | 2004-02-27 18:23:06 -0500 (Fri, 27 Feb 2004) | 4 lines

Add nested <mapper>s to <pathconvert>.
PR: 26364
Submitted by:	Peter Reilly

------------------------------------------------------------------------
r276170 | bodewig | 2004-02-27 10:40:34 -0500 (Fri, 27 Feb 2004) | 2 lines

More tweaks to the RPM specific section, submitted by Randy Watler

------------------------------------------------------------------------
r276168 | bodewig | 2004-02-27 09:54:58 -0500 (Fri, 27 Feb 2004) | 4 lines

<apply> with nested <filelist> didn't check out-of-dateness.

PR: 26985

------------------------------------------------------------------------
r276167 | bodewig | 2004-02-27 09:17:41 -0500 (Fri, 27 Feb 2004) | 7 lines

A new roundup attribute on <zip> and related task can be used to
control whether the file modification times inside the archive will
be rounded up or down (since zips only store modification times with
a granularity of two seconds).  The default remains to round up.

PR: 17934

------------------------------------------------------------------------
r276165 | peterreilly | 2004-02-27 06:45:15 -0500 (Fri, 27 Feb 2004) | 10 lines

Fix for duplicate targets in the build file.
In ant 1.5 these were not allowed.
In ant 1.6, with import file's targets being allowed to
be overridden, duplicate targets where incorrectly allowed
in normal build files.
The fix just checks if the duplicate target is defined
in an imported file or in a "main" file.
Reported by: Dominique Devienne
See: http://marc.theaimsgroup.com/?t=107705039100004&r=1&w=2

------------------------------------------------------------------------
r276163 | mbenson | 2004-02-25 13:58:40 -0500 (Wed, 25 Feb 2004) | 2 lines

Javadoc all public methods.

------------------------------------------------------------------------
r276162 | stevel | 2004-02-25 09:38:51 -0500 (Wed, 25 Feb 2004) | 2 lines

nothing wrong with setFailOnError(false) and spawn.

------------------------------------------------------------------------
r276160 | stevel | 2004-02-25 07:57:12 -0500 (Wed, 25 Feb 2004) | 2 lines

added cloning support; bug #27218

------------------------------------------------------------------------
r276159 | stevel | 2004-02-25 07:44:42 -0500 (Wed, 25 Feb 2004) | 2 lines

adding hints about presetdef/macrodef to the errors. Now that I am using them, they are the main source of this error :)

------------------------------------------------------------------------
r276149 | peterreilly | 2004-02-24 09:05:16 -0500 (Tue, 24 Feb 2004) | 4 lines

Throw build exception if name attribute is missing in a patternset
PR: 25982
Obtained from: Jose Alberto Fernandez

------------------------------------------------------------------------
r276147 | peterreilly | 2004-02-24 08:22:47 -0500 (Tue, 24 Feb 2004) | 2 lines

style check on PatternSet

------------------------------------------------------------------------
r276144 | peterreilly | 2004-02-24 04:30:30 -0500 (Tue, 24 Feb 2004) | 4 lines

MacroDef did not allow attributes named 'description'.
PR: 27175
Reported by: Jayson Raymond

------------------------------------------------------------------------
r276140 | peterreilly | 2004-02-23 14:28:23 -0500 (Mon, 23 Feb 2004) | 4 lines

Fix for SQLExec when used with Informix.
PR: 27162
Obtained from: Bohuslav Roztocil

------------------------------------------------------------------------
r276139 | peterreilly | 2004-02-23 14:17:16 -0500 (Mon, 23 Feb 2004) | 7 lines

Remove Author for SQLExec:
   authors are:
 * @author <a href="mailto:jeff at custommonkey dor org">Jeff Martin</a>
 * @author <A href="mailto:gholam at xtra dot co dot nz">Michael McCallum</A>
 * @author <A href="mailto:tim.stephenson at sybase dot com">Tim Stephenson</A>
conform to stylecheck

------------------------------------------------------------------------
r276138 | peterreilly | 2004-02-23 11:40:55 -0500 (Mon, 23 Feb 2004) | 3 lines

Add nested file element to file list to allow filenames to
contain white space and commas

------------------------------------------------------------------------
r276136 | peterreilly | 2004-02-23 10:42:24 -0500 (Mon, 23 Feb 2004) | 2 lines

stylecheck

------------------------------------------------------------------------
r276135 | peterreilly | 2004-02-23 09:40:04 -0500 (Mon, 23 Feb 2004) | 3 lines

ConditionBase: stylecheck, also remove author as per apache guidelines (should
be added to style check?)

------------------------------------------------------------------------
r276134 | peterreilly | 2004-02-23 09:37:18 -0500 (Mon, 23 Feb 2004) | 2 lines

Remove check for author in javadoc class header

------------------------------------------------------------------------
r276132 | peterreilly | 2004-02-23 04:40:13 -0500 (Mon, 23 Feb 2004) | 2 lines

Autoload of antlib.xml from default namespace

------------------------------------------------------------------------
r276131 | mbenson | 2004-02-20 17:15:52 -0500 (Fri, 20 Feb 2004) | 2 lines

Cause AntLikeTasksAtTopLevelTest to pass on cygwin.

------------------------------------------------------------------------
r276130 | mbenson | 2004-02-20 13:07:44 -0500 (Fri, 20 Feb 2004) | 3 lines

Fix occasionally thrown IOException when the stream has already been closed
with alwaysCreate.

------------------------------------------------------------------------
r276129 | bodewig | 2004-02-20 10:13:22 -0500 (Fri, 20 Feb 2004) | 4 lines

Allow subclasses of <junit> to plug in command lines of their own.

Submitted by:	Mariano Benitez <mariano at fuegolabs dot com>

------------------------------------------------------------------------
r276126 | jhm | 2004-02-20 07:24:04 -0500 (Fri, 20 Feb 2004) | 2 lines

Another testcase for double target-definition

------------------------------------------------------------------------
r276118 | mbenson | 2004-02-19 16:14:16 -0500 (Thu, 19 Feb 2004) | 2 lines

TokenFilter.ReplaceString only replaced the first occurrence.

------------------------------------------------------------------------
r276111 | peterreilly | 2004-02-19 06:01:20 -0500 (Thu, 19 Feb 2004) | 4 lines

fix for macrodef broken @@ escape handling
PR: 27069
Reported by: Daniel Spilker

------------------------------------------------------------------------
r276110 | mbenson | 2004-02-18 11:34:49 -0500 (Wed, 18 Feb 2004) | 3 lines

If initialization determines that the corresponding target could not run,
bail out of the test (pass).

------------------------------------------------------------------------
r276107 | jhm | 2004-02-18 03:17:15 -0500 (Wed, 18 Feb 2004) | 2 lines

Testcase for duplicate targets. Reported by Dominique Devienne.

------------------------------------------------------------------------
r276102 | peterreilly | 2004-02-17 10:41:04 -0500 (Tue, 17 Feb 2004) | 4 lines

subant: catch throwables from ant.execute() with failonerror is false
PR:  27007
Reported by: Mariano Benitez

------------------------------------------------------------------------
r276098 | mbenson | 2004-02-16 14:42:13 -0500 (Mon, 16 Feb 2004) | 2 lines

Code cleanup.

------------------------------------------------------------------------
r276097 | mbenson | 2004-02-16 14:39:13 -0500 (Mon, 16 Feb 2004) | 4 lines

Add several I/O related test cases to <exec> and <apply>.

PR: 26663

------------------------------------------------------------------------
r276096 | mbenson | 2004-02-16 14:33:34 -0500 (Mon, 16 Feb 2004) | 5 lines

Redirector exhibited inconsistent behavior with regard to split
output.  When sent to file only, files would be created in all
cases; when split file-property, files were only created if
writes were performed.

------------------------------------------------------------------------
r276095 | mbenson | 2004-02-16 12:26:16 -0500 (Mon, 16 Feb 2004) | 4 lines

Accommodate Windows bug encountered in both Sun and IBM JDKs.

Obtained from: Java Technology Forums at http://forums.java.sun.com

------------------------------------------------------------------------
r276076 | peterreilly | 2004-02-12 05:09:23 -0500 (Thu, 12 Feb 2004) | 5 lines

support the groovy language for the script and scriptdef tasks
Add groovy to the BSF supported tasks
Change the script names to remove <> to allow current Groovy implementation
to work

------------------------------------------------------------------------
r276074 | bodewig | 2004-02-11 10:59:50 -0500 (Wed, 11 Feb 2004) | 2 lines

Be a little more defensive in a protected method of a non-final public class, PR 26737

------------------------------------------------------------------------
r276072 | antoine | 2004-02-11 03:29:38 -0500 (Wed, 11 Feb 2004) | 9 lines

changes following tests under cygwin
adding a second backslash to variables terminated with a backslash to ensure
also prevent problem with evaluation of test expressions where -f is compared to something else
this error message was happening
+ [ -f = --h -o -f = --help ]
[: --h: unknown operand
+ [ -f = -h -o -f = -help ]
[: -h: unknown operand

------------------------------------------------------------------------
r276065 | antoine | 2004-02-09 16:05:47 -0500 (Mon, 09 Feb 2004) | 2 lines

Copyright owner is The Apache Software Foundation

------------------------------------------------------------------------
r276063 | peterreilly | 2004-02-09 08:58:02 -0500 (Mon, 09 Feb 2004) | 6 lines

XmlLogger:
Remove tasks and targets from the hashtables when the task/target finished
event arrives.
PR: 25086 (a patch provided in one of the comments)
Obtained from: Artur Lorincz

------------------------------------------------------------------------
r276060 | antoine | 2004-02-08 15:48:01 -0500 (Sun, 08 Feb 2004) | 9 lines

Make touchtest pass on Win2
PR:
Obtained from:
Submitted by:
Reviewed by:
Make touchtest pass on Win2K / FAT
Dates earlier than 1990 seem not to work for me
as last modified dates of files

------------------------------------------------------------------------
r276058 | antoine | 2004-02-08 15:42:58 -0500 (Sun, 08 Feb 2004) | 2 lines

Shebang line had been lost in the copyright update

------------------------------------------------------------------------
r276056 | antoine | 2004-02-08 12:38:43 -0500 (Sun, 08 Feb 2004) | 3 lines

Give 2 seconds to these tests to succeed instead of 1
Avoiding gump failures

------------------------------------------------------------------------
r276040 | peterreilly | 2004-02-06 04:39:59 -0500 (Fri, 06 Feb 2004) | 3 lines

Allow unit tests to pass for java 1.5
Compiler name for 1.5 is javac1.5

------------------------------------------------------------------------
r276038 | bodewig | 2004-02-06 04:09:10 -0500 (Fri, 06 Feb 2004) | 12 lines

Make failure to display the splash screen non-fatal.

I've tested this with JDK 1.4 and the java.awt.headless system
property set to true as well as a Unix box running without an X
server.  While the former throws an Exception in the constructor of
SplashScreen, the later throws an Error in the constructor of
ImageIcon.

PR: 11482

Fix a copyright year mistake introduced in revision 1.9 at the same time.

------------------------------------------------------------------------
r276031 | antoine | 2004-02-05 19:05:52 -0500 (Thu, 05 Feb 2004) | 2 lines

License version 2.0

------------------------------------------------------------------------
r276030 | antoine | 2004-02-05 18:49:05 -0500 (Thu, 05 Feb 2004) | 2 lines

New license

------------------------------------------------------------------------
r276029 | antoine | 2004-02-05 18:45:00 -0500 (Thu, 05 Feb 2004) | 2 lines

Apache License 2.0

------------------------------------------------------------------------
r276027 | sbailliez | 2004-02-05 17:45:50 -0500 (Thu, 05 Feb 2004) | 3 lines

PR: 19301
Use xalan extensions to replace strings and avoid a stack overflow when doing deep recursions.

------------------------------------------------------------------------
r276021 | bodewig | 2004-02-05 08:09:28 -0500 (Thu, 05 Feb 2004) | 13 lines

Changes to make Ant installed in JPackage's RPM environment behave a
little bit more friendly.

* a new system property ant.lib.dir that if set will be used instead
  of the location of ant-launcher.jar to slurp in the jars for Ant.

* a --noconfig switch that suppresses sourcing of additional
  configuration files.

* various changes to the $rpm_mode specific parts of the file.

Submitted by:	Randy Watler <rwatler at finali dot com>

------------------------------------------------------------------------
r276019 | antoine | 2004-02-04 17:08:16 -0500 (Wed, 04 Feb 2004) | 2 lines

bring back original copyright years

------------------------------------------------------------------------
r276017 | antoine | 2004-02-04 15:38:09 -0500 (Wed, 04 Feb 2004) | 3 lines

Remove trailing spaces in all java files
in order to make checkstyle happy

------------------------------------------------------------------------
r276015 | peterreilly | 2004-02-04 13:15:34 -0500 (Wed, 04 Feb 2004) | 6 lines

add flush are println in DefaultHandlerHandler#handleInput
- some java jvms do not flush the output for System.err.println()
in particular z/OS
PR:  26655
Obtained from: wwalsh at curamsoftware dot com

------------------------------------------------------------------------
r276013 | antoine | 2004-02-03 18:30:37 -0500 (Tue, 03 Feb 2004) | 2 lines

adapt checkstyle configuration to the new license

------------------------------------------------------------------------
r276010 | antoine | 2004-02-03 17:44:50 -0500 (Tue, 03 Feb 2004) | 2 lines

Switch to Apache Software License 2.0

------------------------------------------------------------------------
r276008 | peterreilly | 2004-02-03 14:21:05 -0500 (Tue, 03 Feb 2004) | 4 lines

Check if character is in range for special array
PR: 26642
Obtained from: Jesse Glick

------------------------------------------------------------------------
r276005 | antoine | 2004-02-02 14:30:05 -0500 (Mon, 02 Feb 2004) | 2 lines

first test to move to the Apache License 2.0

------------------------------------------------------------------------
r275998 | conor | 2004-02-02 09:46:52 -0500 (Mon, 02 Feb 2004) | 2 lines

Handle unexpanded properties in Windows CLASSPATHS

------------------------------------------------------------------------
r275990 | peterreilly | 2004-01-30 13:47:57 -0500 (Fri, 30 Jan 2004) | 2 lines

forgot to setTaskType when cloning UnknownElement

------------------------------------------------------------------------
r275988 | bodewig | 2004-01-30 10:37:08 -0500 (Fri, 30 Jan 2004) | 5 lines

Fail with a useful error message when the user asks us to fork a
process in a directory that doesn't exist.

PR: 25455

------------------------------------------------------------------------
r275986 | bodewig | 2004-01-30 09:44:38 -0500 (Fri, 30 Jan 2004) | 4 lines

The gcj compiler adapter failed if the destdir didn't exist.

PR: 25856

------------------------------------------------------------------------
r275984 | bodewig | 2004-01-30 09:14:21 -0500 (Fri, 30 Jan 2004) | 5 lines

fix wrong javadoc comment.

PR: 25939
Submitted by:	Jesse Glick <jglick at netbeans dot org>

------------------------------------------------------------------------
r275982 | bodewig | 2004-01-30 08:58:58 -0500 (Fri, 30 Jan 2004) | 5 lines

<java> ignored the append attribute.

PR: 26137
Submitted by:	Emmanuel Rayzal <emmanuel at ukibi dot com>

------------------------------------------------------------------------
r275973 | antoine | 2004-01-28 18:24:52 -0500 (Wed, 28 Jan 2004) | 2 lines

got hit by a line ending problem, now this will be the right format

------------------------------------------------------------------------
r275970 | antoine | 2004-01-28 17:51:56 -0500 (Wed, 28 Jan 2004) | 2 lines

added @since tags

------------------------------------------------------------------------
r275969 | antoine | 2004-01-28 17:47:14 -0500 (Wed, 28 Jan 2004) | 5 lines

Add a new cvsversion task
Modify CvsChangeLog to accept a branch as the tag attribute
ChangeLogTask.java now inherits from AbstractCvsTask
PR: 13510

------------------------------------------------------------------------
r275962 | peterreilly | 2004-01-27 12:43:25 -0500 (Tue, 27 Jan 2004) | 2 lines

Change textname attribute in macrodef to a text element

------------------------------------------------------------------------
r275959 | bodewig | 2004-01-23 11:41:13 -0500 (Fri, 23 Jan 2004) | 2 lines

2004

------------------------------------------------------------------------
r275958 | stevel | 2004-01-23 06:56:14 -0500 (Fri, 23 Jan 2004) | 2 lines

followed up peter reilly's suggestion; full testing for unimplemented as well as undefined

------------------------------------------------------------------------
r275957 | peterreilly | 2004-01-22 14:08:36 -0500 (Thu, 22 Jan 2004) | 2 lines

checkstyle

------------------------------------------------------------------------
r275955 | peterreilly | 2004-01-22 13:59:47 -0500 (Thu, 22 Jan 2004) | 4 lines

better reporting of linkage error in checkTaskClass
PR: 26332
Obtained from: Jesse Glick

------------------------------------------------------------------------
r275950 | stevel | 2004-01-22 13:02:57 -0500 (Thu, 22 Jan 2004) | 2 lines

new condition: typefound

------------------------------------------------------------------------
r275948 | peterreilly | 2004-01-22 11:33:16 -0500 (Thu, 22 Jan 2004) | 2 lines

add textname attribute to macrodef

------------------------------------------------------------------------
r275943 | antoine | 2004-01-21 07:55:53 -0500 (Wed, 21 Jan 2004) | 9 lines

- Added an extra option to 'failonerr' to each ClearCase task/command.
- Extended the functionality of cccheckout. It can check (notco) to see if
  the desired element is already checked out to the current view. Thus it
  won't attempt to check it out again.
- Added three new ClearCase commands: ccmkattr, ccmkdir, ccmkelem
- Checkstyle
PR: 26253
Submitted by: Sean Egan (sean at cm-logic dot com)

------------------------------------------------------------------------
r275932 | peterreilly | 2004-01-19 11:48:00 -0500 (Mon, 19 Jan 2004) | 2 lines

use a static map of jarfile->manifest classpath entry

------------------------------------------------------------------------
r275930 | peterreilly | 2004-01-19 04:53:29 -0500 (Mon, 19 Jan 2004) | 2 lines

Fix date

------------------------------------------------------------------------
r275929 | peterreilly | 2004-01-19 04:51:02 -0500 (Mon, 19 Jan 2004) | 4 lines

macrodef element names are case insensentive due to use of DynamicConfigurator
PR: 26225
Reported by: John Sichi

------------------------------------------------------------------------
r275924 | antoine | 2004-01-15 15:27:07 -0500 (Thu, 15 Jan 2004) | 4 lines

Add two new attributes in p4submit :
needsresolveproperty and changeproperty
PR: 25711

------------------------------------------------------------------------
r275916 | bodewig | 2004-01-13 07:42:38 -0500 (Tue, 13 Jan 2004) | 2 lines

2004

------------------------------------------------------------------------
r275908 | peterreilly | 2004-01-13 06:00:50 -0500 (Tue, 13 Jan 2004) | 4 lines

add " to " to jsp output
PR: 26082
Obtained from: Robert Flaherty

------------------------------------------------------------------------
r275903 | peterreilly | 2004-01-13 05:39:54 -0500 (Tue, 13 Jan 2004) | 2 lines

Allow presetdef'ed types to be used with the ant-type attribute

------------------------------------------------------------------------
r275902 | peterreilly | 2004-01-12 14:13:26 -0500 (Mon, 12 Jan 2004) | 5 lines

Fix for ant -keep-going a b
where target a fails
PR: ?
Obtained from: Darin Swanson

------------------------------------------------------------------------
r275899 | bodewig | 2004-01-12 05:29:01 -0500 (Mon, 12 Jan 2004) | 2 lines

Class.getClassLoader may return null for the system classloader

------------------------------------------------------------------------
r275895 | bodewig | 2004-01-12 05:15:55 -0500 (Mon, 12 Jan 2004) | 7 lines

A leading slash in a resource name is only required for
Class.getResource*, not the corresponding ClassLoader methods.  Adding
the slash makes the task completely useless.

Reported by:	<koji underscore sekiguchi at excite dot co dot jp>,
                Jack J. Woehr <jax at purematrix dot com>

------------------------------------------------------------------------
r275894 | bodewig | 2004-01-12 05:07:23 -0500 (Mon, 12 Jan 2004) | 2 lines

Failing unit tests for whichresource

------------------------------------------------------------------------
r275892 | bodewig | 2004-01-12 03:01:41 -0500 (Mon, 12 Jan 2004) | 2 lines

2004

------------------------------------------------------------------------
r275889 | peterreilly | 2004-01-09 12:45:28 -0500 (Fri, 09 Jan 2004) | 2 lines

opps

------------------------------------------------------------------------
r275886 | peterreilly | 2004-01-09 12:36:16 -0500 (Fri, 09 Jan 2004) | 6 lines

fix for CRLF adds extraneous character at the end of File
if a file does not end in an eol, fixcrlf will add an eol
this patch adds an attribute to fixcrlf to stop this behaviour
PR:  23262
Obtained from: gudnabrsam at yahoo dot com

------------------------------------------------------------------------
r275884 | peterreilly | 2004-01-08 12:34:57 -0500 (Thu, 08 Jan 2004) | 4 lines

Add description attributes for elements and attributes of macrodef
PR: 24711
Obtained from: gudnabrsam at yahoo dot com and Yuji Yamano

------------------------------------------------------------------------
r275877 | peterreilly | 2004-01-08 08:38:03 -0500 (Thu, 08 Jan 2004) | 2 lines

date

------------------------------------------------------------------------
r275875 | peterreilly | 2004-01-08 08:36:34 -0500 (Thu, 08 Jan 2004) | 4 lines

Fix npe if <include> does not have a "name" attribute
PR: 25982
Obtained from: Dawid Weiss

------------------------------------------------------------------------
r275874 | bodewig | 2004-01-08 02:15:46 -0500 (Thu, 08 Jan 2004) | 2 lines

2004

------------------------------------------------------------------------
r275870 | peterreilly | 2004-01-07 13:17:08 -0500 (Wed, 07 Jan 2004) | 5 lines

Change message on lack of cmp decriptor from warning to verbose as
it is optional
PR: 25959
Obtained from: Eric Molitor

------------------------------------------------------------------------
r275869 | stevel | 2004-01-07 12:49:37 -0500 (Wed, 07 Jan 2004) | 4 lines

<touch> to handle filelists. Forced me to add more tests for new and existing touch code, and in the process note that the granularity for unix filesystems is not 0 but 1000 milliseconds. oops.
PR: 23526
Submitted by:	gudnabrsam@yahoo.com

------------------------------------------------------------------------
r275868 | bodewig | 2004-01-07 11:49:30 -0500 (Wed, 07 Jan 2004) | 2 lines

Very initial JDK 1.5 support

------------------------------------------------------------------------
r275866 | bodewig | 2004-01-07 07:55:15 -0500 (Wed, 07 Jan 2004) | 2 lines

some more variables named enum

------------------------------------------------------------------------
r275863 | peterreilly | 2004-01-07 05:25:08 -0500 (Wed, 07 Jan 2004) | 2 lines

Previous fix for filterset broke the infinite filter testing

------------------------------------------------------------------------
r275861 | peterreilly | 2004-01-07 05:10:36 -0500 (Wed, 07 Jan 2004) | 3 lines

Fix for error in inifinite loop checking in filtersets
PR: 23154

------------------------------------------------------------------------
r275858 | bodewig | 2004-01-07 02:26:48 -0500 (Wed, 07 Jan 2004) | 2 lines

Happy New Year

------------------------------------------------------------------------
r275856 | peterreilly | 2004-01-06 12:13:06 -0500 (Tue, 06 Jan 2004) | 3 lines

Fix for ant namespace support for nested elements
Obtained from: Dominique Devienne

------------------------------------------------------------------------
r275854 | peterreilly | 2004-01-05 06:45:07 -0500 (Mon, 05 Jan 2004) | 4 lines

Use getDestDir of jboss element of ejbjar
PR: 25826
Obtained from: Damon Sicore

------------------------------------------------------------------------
r275850 | peterreilly | 2003-12-30 07:48:35 -0500 (Tue, 30 Dec 2003) | 5 lines

allow IH to handle Constructor(Project, String) in
general and not just for Path
PR: 25777
Obtained from: Jesse Glick

------------------------------------------------------------------------
r275849 | peterreilly | 2003-12-30 07:46:17 -0500 (Tue, 30 Dec 2003) | 5 lines

add original exception to new buildexception for
projectHelper#addLocationToBuildException(
PR: 25777
Obtained from: Jesse Glick

------------------------------------------------------------------------
r275847 | peterreilly | 2003-12-30 06:37:57 -0500 (Tue, 30 Dec 2003) | 4 lines

Fix unit tests.
  - addtypetest used an unused invalid classpathref
  - PathTest used an invalid reference in testing attributes

------------------------------------------------------------------------
r275842 | peterreilly | 2003-12-24 05:52:03 -0500 (Wed, 24 Dec 2003) | 3 lines

ComponentHelper.
Logic for copying the checked namespaces to new projects was broken.

------------------------------------------------------------------------
r275841 | peterreilly | 2003-12-24 05:48:44 -0500 (Wed, 24 Dec 2003) | 2 lines

Reverting setting the wrapper proxy to null as the unit tests failed.

------------------------------------------------------------------------
r275840 | peterreilly | 2003-12-24 05:38:05 -0500 (Wed, 24 Dec 2003) | 3 lines

UnknownElement set the created task to null for gc , but did not
set the RuntimeConfigurable's copy to null as well

------------------------------------------------------------------------
r275836 | peterreilly | 2003-12-23 10:47:51 -0500 (Tue, 23 Dec 2003) | 4 lines

Fix for script memory retaining problem.
PR: 25394
Obtained from: Jose Alberto Fernandez /  Antoine Levy-Lambert

------------------------------------------------------------------------
r275832 | peterreilly | 2003-12-23 06:07:00 -0500 (Tue, 23 Dec 2003) | 4 lines

Add typedef for concatfilter in types/defaults.properties
PR: 25697
Obtained from: Tomasz Broniarek

------------------------------------------------------------------------
r275830 | peterreilly | 2003-12-22 04:46:23 -0500 (Mon, 22 Dec 2003) | 6 lines

Macrodef can only see lower case attribute names due to its
use of DynamicConfigurator.
Fix the doc and the code to at least make this consistent.
PR: 25687
Obtained from: Geoffrey Wiseman

------------------------------------------------------------------------
r275823 | peterreilly | 2003-12-19 11:52:57 -0500 (Fri, 19 Dec 2003) | 2 lines

stylecheck changes

------------------------------------------------------------------------
r275821 | peterreilly | 2003-12-19 11:42:16 -0500 (Fri, 19 Dec 2003) | 6 lines

Fix javadoc for ScriptDefBase
PR: 25446
Obtained from: gudnabrsam at yahoo dot com
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r275819 | peterreilly | 2003-12-19 11:32:56 -0500 (Fri, 19 Dec 2003) | 2 lines

update setproxy doc with xdocs changes

------------------------------------------------------------------------
r275817 | peterreilly | 2003-12-19 10:13:02 -0500 (Fri, 19 Dec 2003) | 4 lines

Add a setbyline(boolean) as well as a setbyline(String) to replaceregexp
PR:  25653
Obtained from: Jesse Glick

------------------------------------------------------------------------
r275808 | peterreilly | 2003-12-18 04:10:51 -0500 (Thu, 18 Dec 2003) | 4 lines

Initialize targetstarttime, even if the recorder is in a target
PR: 25605
Obtained from: John McDonnell

------------------------------------------------------------------------
r275806 | antoine | 2003-12-18 03:39:06 -0500 (Thu, 18 Dec 2003) | 6 lines

Make checksum work with nested filesets and no total property
Make checksum less loud, downgrading message calculating checksum to verbose
PR: 25606
PR: 25607
Submitted by: Ariel Backenroth ( abackenr at interwoven dot com )

------------------------------------------------------------------------
r275805 | antoine | 2003-12-17 17:13:25 -0500 (Wed, 17 Dec 2003) | 3 lines

We will feel more like maintaining or creating the xdocs example if we
do not need to escape the examples in XML entities.

------------------------------------------------------------------------
r275799 | peterreilly | 2003-12-17 10:57:52 -0500 (Wed, 17 Dec 2003) | 2 lines

Change level of std error message from ERR to WARN

------------------------------------------------------------------------
r275797 | peterreilly | 2003-12-17 10:36:34 -0500 (Wed, 17 Dec 2003) | 6 lines

* Retain difference between "" and "antlib:org.apache.tools.ant" namespaces
  in UE.getNamespace()
* Remove near duplicate method in IntrospectionHelper
* Add UnknownElement to signature of IntrospectionHelper#getElementCreator
  for future xml Namespace use

------------------------------------------------------------------------
r275792 | peterreilly | 2003-12-16 16:13:15 -0500 (Tue, 16 Dec 2003) | 2 lines

allow macrodef to work with namespace free version of dynamicconfigator

------------------------------------------------------------------------
r275786 | peterreilly | 2003-12-12 14:32:58 -0500 (Fri, 12 Dec 2003) | 2 lines

fix whichresouce manual page

------------------------------------------------------------------------
r275784 | peterreilly | 2003-12-12 14:25:13 -0500 (Fri, 12 Dec 2003) | 2 lines

Update the tempfile html page

------------------------------------------------------------------------
r275775 | bodewig | 2003-12-12 04:41:46 -0500 (Fri, 12 Dec 2003) | 17 lines

Add a cloneVm attribute to CommandlineJava and <java> and <junit>.

If set, the forked VM will be configured to match the currently
running VM closely.  This involves:

* copying of all system properties.
* copying of the bootclasspath - only if no bootclasspath has been
  specified explicitly or build.sysclasspath has been set to "only".

This is accompanied by a magic system property build.clonevm that can
be used to force the attribute to be set.

It has to be a system property as CommandlineJava doesn't know about
project instances.

PR: 25327

------------------------------------------------------------------------
r275773 | peterreilly | 2003-12-12 04:09:36 -0500 (Fri, 12 Dec 2003) | 4 lines

Fix off-by-one error in concat with fixlastline="yes"
PR: 25464
Obtained from: wang liang

------------------------------------------------------------------------
r275771 | peterreilly | 2003-12-11 12:21:05 -0500 (Thu, 11 Dec 2003) | 5 lines

Change dynamicConfigurator#create(Name) to pass in the localname
of a namespaced element name and not the internal stingized verion
of the namespaced element name. The local name is lower cased to
be backward compatible with ant 1.5.

------------------------------------------------------------------------
r275769 | peterreilly | 2003-12-11 07:11:36 -0500 (Thu, 11 Dec 2003) | 4 lines

In addReference, remove calling tostring on the references being added.
The tostring can be a very expensive operation, and causes
massive slowdown when used in conjuction with antcall.

------------------------------------------------------------------------
r275764 | antoine | 2003-12-09 09:40:25 -0500 (Tue, 09 Dec 2003) | 2 lines

Remove line with $Id

------------------------------------------------------------------------
r275763 | antoine | 2003-12-09 09:28:30 -0500 (Tue, 09 Dec 2003) | 2 lines

Remove line with $Id which is annoying every time one does a merge

------------------------------------------------------------------------
r275760 | antoine | 2003-12-08 20:17:31 -0500 (Mon, 08 Dec 2003) | 2 lines

Remove unused import added by mistake

------------------------------------------------------------------------
r275759 | antoine | 2003-12-08 20:14:31 -0500 (Mon, 08 Dec 2003) | 3 lines

Fix URIs for DTDs entered with a full path location under Windows
PR: 23913

------------------------------------------------------------------------
r275749 | conor | 2003-12-07 17:37:45 -0500 (Sun, 07 Dec 2003) | 2 lines

Head sync

------------------------------------------------------------------------
r275737 | peterreilly | 2003-12-04 04:09:22 -0500 (Thu, 04 Dec 2003) | 2 lines

change string looked for so test works on windows

------------------------------------------------------------------------
r275733 | antoine | 2003-12-03 16:58:08 -0500 (Wed, 03 Dec 2003) | 14 lines

1) make JarTest pass on Windows, these testcases were failing :
   testRecreateWithUpdateNewerFile
   testRecreateZipfilesetWithUpdateNewerFile,
   the problem is the granularity of time stamps on the FAT
   see http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo/base/filetime_str.asp
   for more information

2) prevent XalanLiaisonTest and XslpLiaisonTest from running in batch
   when Xerces1 is not available,

3) fix one of the 3 failing testcases (testSimple) from JDependTest
   it was failing due to an overdose of \r in the output coming from
   BuildFileTest

------------------------------------------------------------------------
r275731 | peterreilly | 2003-12-03 08:16:01 -0500 (Wed, 03 Dec 2003) | 2 lines

Change ${x} to @{x} for attribute notation of macrodef

------------------------------------------------------------------------
r275727 | bodewig | 2003-12-03 05:32:57 -0500 (Wed, 03 Dec 2003) | 2 lines

mono 0.29 on MacOS X works just fine

------------------------------------------------------------------------
r275722 | antoine | 2003-12-01 17:03:25 -0500 (Mon, 01 Dec 2003) | 4 lines

Make the choice of regular expression implementation possible with
ant.regexp.regexpimpl as a normal project property
PR: 15390

------------------------------------------------------------------------
r275720 | bodewig | 2003-11-28 07:36:06 -0500 (Fri, 28 Nov 2003) | 2 lines

Merge into 1.6

------------------------------------------------------------------------
r275710 | bodewig | 2003-11-28 04:28:49 -0500 (Fri, 28 Nov 2003) | 6 lines

Under some circumstances scp would miss responses from the remote side
leading to corrupted files.

PR: 24449
Submitted by:	Atsuhiko Yamanaka <ymnk at jcraft dot com>

------------------------------------------------------------------------
r275709 | peterreilly | 2003-11-28 04:28:04 -0500 (Fri, 28 Nov 2003) | 2 lines

call replace properties for header or footer elements of concat

------------------------------------------------------------------------
r275704 | bodewig | 2003-11-27 08:42:46 -0500 (Thu, 27 Nov 2003) | 2 lines

Split namespace

------------------------------------------------------------------------
r275702 | bodewig | 2003-11-27 07:00:57 -0500 (Thu, 27 Nov 2003) | 2 lines

Add a helper class for tasks that want literal XML as input

------------------------------------------------------------------------
r275699 | peterreilly | 2003-11-27 05:16:13 -0500 (Thu, 27 Nov 2003) | 2 lines

Allow references and properties to be null without causing NPE in BSF

------------------------------------------------------------------------
r275697 | peterreilly | 2003-11-27 04:07:44 -0500 (Thu, 27 Nov 2003) | 2 lines

use a different name from local for the test local type

------------------------------------------------------------------------
r275695 | peterreilly | 2003-11-26 04:31:45 -0500 (Wed, 26 Nov 2003) | 4 lines

add filename to errormessage if unable to rename file in zip task
PR: 24945
Obtained from: Bart Vanhaute

------------------------------------------------------------------------
r275688 | bodewig | 2003-11-25 06:45:45 -0500 (Tue, 25 Nov 2003) | 2 lines

Allow <exec> to optionally resolve against PATH

------------------------------------------------------------------------
r275682 | bodewig | 2003-11-25 04:16:57 -0500 (Tue, 25 Nov 2003) | 2 lines

Make <csc> default to mcs on non-Windows platforms

------------------------------------------------------------------------
r275665 | peterreilly | 2003-11-24 04:15:41 -0500 (Mon, 24 Nov 2003) | 4 lines

Set tasktype and taskname for preset'defed tasks
PR: 24934
Obtained from: Jacob Kjome

------------------------------------------------------------------------
r275663 | peterreilly | 2003-11-21 10:06:24 -0500 (Fri, 21 Nov 2003) | 4 lines

remove spurious space after ant_version
PR: 24435
Obtained from: Aidan Doolan

------------------------------------------------------------------------
r275659 | bodewig | 2003-11-21 06:12:42 -0500 (Fri, 21 Nov 2003) | 2 lines

Make resolveExecutable method useful for subclasses

------------------------------------------------------------------------
r275649 | peterreilly | 2003-11-20 07:08:17 -0500 (Thu, 20 Nov 2003) | 2 lines

Check if parent file is not null before using it

------------------------------------------------------------------------
r275644 | peterreilly | 2003-11-18 12:06:58 -0500 (Tue, 18 Nov 2003) | 2 lines

Ignore attributes for different uris.

------------------------------------------------------------------------
r275641 | peterreilly | 2003-11-18 07:08:01 -0500 (Tue, 18 Nov 2003) | 3 lines

Do now allow multiple attribute and elements of the same
name for macrodef.

------------------------------------------------------------------------
r275639 | peterreilly | 2003-11-18 05:51:41 -0500 (Tue, 18 Nov 2003) | 4 lines

Implement namespace uri scoping
nested elements of types/tasks use the same NS uri as the task/type.
also cleanup macrodef attribute handling

------------------------------------------------------------------------
r275637 | bodewig | 2003-11-17 10:49:27 -0500 (Mon, 17 Nov 2003) | 2 lines

Remove badly placed quotes, Submitted by Knut Wannheden

------------------------------------------------------------------------
r275634 | peterreilly | 2003-11-13 13:12:24 -0500 (Thu, 13 Nov 2003) | 4 lines

MacroInstance: if owningtarget not set, use a default
MacroInstance: if id is as an attribute, check if this is in the
               macros attribute list and if not ignore

------------------------------------------------------------------------
r275630 | peterreilly | 2003-11-11 07:01:26 -0500 (Tue, 11 Nov 2003) | 3 lines

Implement the sequential element of macrodef by a createSequential and
not a addTask()

------------------------------------------------------------------------
r275624 | antoine | 2003-11-06 15:39:53 -0500 (Thu, 06 Nov 2003) | 5 lines

Allow reporting on multiple modules, aliased or not.
Also report the previous revision of deleted files when it is available.
PR: 21373
PR: 22877

------------------------------------------------------------------------
r275621 | peterreilly | 2003-11-06 09:57:10 -0500 (Thu, 06 Nov 2003) | 3 lines

Provide error stack for [*]ant[*] and macro call
use same code for import and antlib

------------------------------------------------------------------------
r275619 | antoine | 2003-11-06 04:21:36 -0500 (Thu, 06 Nov 2003) | 4 lines

Solve parsing of revisions for new files
with CVS 1.11.9 or higher
PR: 24406

------------------------------------------------------------------------
r275617 | peterreilly | 2003-11-06 04:04:08 -0500 (Thu, 06 Nov 2003) | 3 lines

fixes for presetdef's handling of attributes
PR: 24411

------------------------------------------------------------------------
r275615 | antoine | 2003-11-05 17:00:56 -0500 (Wed, 05 Nov 2003) | 3 lines

Prevent NPE in method CheckRemoteSensitivity
PR: 24440

------------------------------------------------------------------------
r275614 | stevel | 2003-11-05 15:12:28 -0500 (Wed, 05 Nov 2003) | 2 lines

<nice> as a task; unit tests tested on windows.

------------------------------------------------------------------------
r275610 | peterreilly | 2003-11-03 11:36:19 -0500 (Mon, 03 Nov 2003) | 4 lines

make error message for bad imports a little better
When an buildexception is reported in the imported xml, add the importer
xml file to the build exception

------------------------------------------------------------------------
r275608 | bodewig | 2003-11-03 10:47:30 -0500 (Mon, 03 Nov 2003) | 2 lines

Improve error message

------------------------------------------------------------------------
r275605 | peterreilly | 2003-11-03 10:34:13 -0500 (Mon, 03 Nov 2003) | 4 lines

fix timeout attribute of jdepend
add unit tests
add includeruntime to allow unittests to run

------------------------------------------------------------------------
r275603 | bodewig | 2003-11-03 10:22:28 -0500 (Mon, 03 Nov 2003) | 2 lines

Indentation changes

------------------------------------------------------------------------
r275602 | bodewig | 2003-11-03 10:19:50 -0500 (Mon, 03 Nov 2003) | 2 lines

Fix NPE, PR: 24344

------------------------------------------------------------------------
r275601 | peterreilly | 2003-11-03 10:01:41 -0500 (Mon, 03 Nov 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r275598 | peterreilly | 2003-11-03 05:14:49 -0500 (Mon, 03 Nov 2003) | 2 lines

Opps, last change broke relative import

------------------------------------------------------------------------
r275596 | peterreilly | 2003-10-31 10:59:45 -0500 (Fri, 31 Oct 2003) | 5 lines

Use FileUtils#resolveFile instead of doing it by hand
Should work now on windows and netware
PR: 24296
Obtained from: Matt Lennon

------------------------------------------------------------------------
r275593 | peterreilly | 2003-10-31 04:51:24 -0500 (Fri, 31 Oct 2003) | 3 lines

Remove option to have parallel instead of sequential for macrodef. The
former was never tested.

------------------------------------------------------------------------
r275589 | peterreilly | 2003-10-30 10:43:13 -0500 (Thu, 30 Oct 2003) | 3 lines

Only load the first properties resource for typedef and taskdef for
backward compatibility

------------------------------------------------------------------------
r275583 | bodewig | 2003-10-29 10:02:43 -0500 (Wed, 29 Oct 2003) | 5 lines

timeout should result in build failure.

PR: 24170
Submitted by:	Edwin Steele <Edwin underscore STEELE at rta dot nsw dot gov dot au>

------------------------------------------------------------------------
r275581 | peterreilly | 2003-10-29 05:18:14 -0500 (Wed, 29 Oct 2003) | 2 lines

Change default uri from ant:core to antlib:org.apache.tools.ant

------------------------------------------------------------------------
r275579 | peterreilly | 2003-10-28 11:54:56 -0500 (Tue, 28 Oct 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r275576 | bodewig | 2003-10-28 09:39:42 -0500 (Tue, 28 Oct 2003) | 2 lines

2003

------------------------------------------------------------------------
r275572 | antoine | 2003-10-28 04:56:26 -0500 (Tue, 28 Oct 2003) | 4 lines

Solution for the Starteam disconnect bug
PR: 24110
Submitted by: Steve Cohen (scohen at apache dot org)

------------------------------------------------------------------------
r275570 | antoine | 2003-10-28 04:29:50 -0500 (Tue, 28 Oct 2003) | 2 lines

Simplify assertion in testcase (remark of Martin Kruithof)

------------------------------------------------------------------------
r275568 | antoine | 2003-10-27 13:29:53 -0500 (Mon, 27 Oct 2003) | 5 lines

Make org.apache.tools.ant.taskdefs.optional.sitraka.ClassFileTest pass under
JDK 1.2
PR: 23919
Submitted by: Martijn Kruithof (ant at kruithof dot xs4all dot nl)

------------------------------------------------------------------------
r275567 | peterreilly | 2003-10-24 06:16:17 -0400 (Fri, 24 Oct 2003) | 5 lines

Allow typedef resource to pick up all the resources
of the name in the classloader, not just the first
PR: 24024
Obtained from: Jesse Glick

------------------------------------------------------------------------
r275565 | bodewig | 2003-10-24 04:59:58 -0400 (Fri, 24 Oct 2003) | 7 lines

Some typo fixes
well formed != valid
better debug support in ApacheCatalogResolver

PRs: 24059, 24060, 24069, 24070, 24074
Submitted by:	Jesse Glick <jglick at netbeans dot org>

------------------------------------------------------------------------
r275563 | bodewig | 2003-10-24 04:49:11 -0400 (Fri, 24 Oct 2003) | 2 lines

Catch insanely small timeouts (i.e. it occurs before we even start to execute the command), PR 23992

------------------------------------------------------------------------
r275561 | bodewig | 2003-10-24 04:31:35 -0400 (Fri, 24 Oct 2003) | 5 lines

Properly parser return codes from server.

Also fixes PR: 23986
Suggested by:	Atsuhiko Yamanaka <ymnk at jcraft dot com>

------------------------------------------------------------------------
r275559 | bodewig | 2003-10-24 03:57:55 -0400 (Fri, 24 Oct 2003) | 2 lines

If remotedir has been omitted, make it default to . - PR 23987

------------------------------------------------------------------------
r275557 | antoine | 2003-10-24 02:31:44 -0400 (Fri, 24 Oct 2003) | 4 lines

Replace non ASCII characters by UNICODE escapes
PR: 23919
Submitted by: Martijn Kruithof (ant at kruithof dot xs4all dot nl)

------------------------------------------------------------------------
r275555 | stevel | 2003-10-24 01:53:13 -0400 (Fri, 24 Oct 2003) | 2 lines

fix for bug#19630; no handling large files. Needs testing on mono!

------------------------------------------------------------------------
r275554 | stevel | 2003-10-24 01:44:02 -0400 (Fri, 24 Oct 2003) | 2 lines

comment

------------------------------------------------------------------------
r275551 | bodewig | 2003-10-23 05:06:43 -0400 (Thu, 23 Oct 2003) | 2 lines

Better support for people debugging timed out reads in <telnet>, Submitted by Larry Shatzer

------------------------------------------------------------------------
r275548 | bodewig | 2003-10-23 04:43:22 -0400 (Thu, 23 Oct 2003) | 2 lines

Register xmlcatalog as entity resolver for the stylesheet as well

------------------------------------------------------------------------
r275546 | bodewig | 2003-10-22 10:38:50 -0400 (Wed, 22 Oct 2003) | 2 lines

Make properties available in timed-out tests, PR 23935

------------------------------------------------------------------------
r275545 | bodewig | 2003-10-22 10:28:14 -0400 (Wed, 22 Oct 2003) | 2 lines

Test for PR 23862

------------------------------------------------------------------------
r275543 | bodewig | 2003-10-22 09:44:48 -0400 (Wed, 22 Oct 2003) | 2 lines

user and new arguments have been swapped in setNew and setUser, PR 23966, Submitted by Jose Alberto Fernandez

------------------------------------------------------------------------
r275541 | bodewig | 2003-10-22 09:27:07 -0400 (Wed, 22 Oct 2003) | 2 lines

Add jar required for IBM JDK's to the classpath, PR 23922, Submitted by Martijn Kruithof

------------------------------------------------------------------------
r275537 | peterreilly | 2003-10-22 05:23:34 -0400 (Wed, 22 Oct 2003) | 5 lines

Fix and test for unresolved references due inability
to create the reference object to give to scripts.
PR: 23915
Reported by: Jose Alberto Fernandez

------------------------------------------------------------------------
r275532 | peterreilly | 2003-10-20 10:13:40 -0400 (Mon, 20 Oct 2003) | 2 lines

set project for created targets

------------------------------------------------------------------------
r275529 | bodewig | 2003-10-20 06:48:04 -0400 (Mon, 20 Oct 2003) | 2 lines

Pull ant-launcher.jar into the classpath as well

------------------------------------------------------------------------
r275527 | bodewig | 2003-10-20 06:42:41 -0400 (Mon, 20 Oct 2003) | 2 lines

Remove last-modified line

------------------------------------------------------------------------
r275522 | peterreilly | 2003-10-17 04:09:46 -0400 (Fri, 17 Oct 2003) | 12 lines

synchonize ComponentHelper#checkNamespace()
This fixes a bug with use of <parallel> and xmlns:prefix="antlib:package
<project default="bug" xmlns:ac="antlib:net.sf.antcontrib">
  <target name="t2">
    <parallel>
      <ac:shellscript shell="bash">echo hello</ac:shellscript>
      <ac:shellscript shell="bash">echo hello</ac:shellscript>
    </parallel>
  </target>
</project>
- need a unit test for this

------------------------------------------------------------------------
r275513 | peterreilly | 2003-10-16 13:04:01 -0400 (Thu, 16 Oct 2003) | 6 lines

add an optional attribute to import
note this is differnet from a failonerror attribute in
that it only checks for the existance of the
imported file, other errors in the imported
file would cause the build to fail

------------------------------------------------------------------------
r275511 | bodewig | 2003-10-16 07:21:14 -0400 (Thu, 16 Oct 2003) | 2 lines

Make .ssh/known_hosts optional

------------------------------------------------------------------------
r275510 | antoine | 2003-10-15 14:49:53 -0400 (Wed, 15 Oct 2003) | 4 lines

Merge from ANT_16_BRANCH
Fix problem with non absolute remote dirs
PR: 23833

------------------------------------------------------------------------
r275505 | peterreilly | 2003-10-15 11:35:32 -0400 (Wed, 15 Oct 2003) | 3 lines

fix usage of mixed case names of add(typedef) introspection.
fix by moving the tolower method from unknownelement to introspectionhelper.

------------------------------------------------------------------------
r275501 | peterreilly | 2003-10-15 03:39:35 -0400 (Wed, 15 Oct 2003) | 4 lines

Opps, compare defaultvalue with name when testing for macrodef equality
fix equality testing
Obtained from: Larry Shatzer

------------------------------------------------------------------------
r275496 | bodewig | 2003-10-14 10:56:37 -0400 (Tue, 14 Oct 2003) | 2 lines

Make CommandlineJavaTest independent of lib/optional/junit.jar, PR 17402

------------------------------------------------------------------------
r275494 | bodewig | 2003-10-14 09:54:54 -0400 (Tue, 14 Oct 2003) | 2 lines

Don't silently swallow exceptions when something is wrong, PR 23609

------------------------------------------------------------------------
r275490 | bodewig | 2003-10-14 09:19:53 -0400 (Tue, 14 Oct 2003) | 2 lines

More robust cleanup of temporary files, PR 17512

------------------------------------------------------------------------
r275488 | bodewig | 2003-10-14 08:49:19 -0400 (Tue, 14 Oct 2003) | 5 lines

Reuse the resolution logic of <property> inside <loadproperties>.

PR: 17782
Submitted by:	Peter Reilly

------------------------------------------------------------------------
r275486 | bodewig | 2003-10-14 08:28:59 -0400 (Tue, 14 Oct 2003) | 2 lines

One should think that I'd know the copyright line format

------------------------------------------------------------------------
r275484 | bodewig | 2003-10-14 08:27:29 -0400 (Tue, 14 Oct 2003) | 2 lines

2003

------------------------------------------------------------------------
r275483 | bodewig | 2003-10-14 08:26:27 -0400 (Tue, 14 Oct 2003) | 6 lines

Throw an exception for missing manifests - as advertized in the
javadocs.

PR: 19492
Submitted by:	Nikolaus Schmitt <n dot schmitt at scaet dot de>

------------------------------------------------------------------------
r275473 | peterreilly | 2003-10-14 04:51:27 -0400 (Tue, 14 Oct 2003) | 2 lines

remove error added method

------------------------------------------------------------------------
r275472 | peterreilly | 2003-10-14 04:47:42 -0400 (Tue, 14 Oct 2003) | 2 lines

Fix bug for typedefed add() support with namespace

------------------------------------------------------------------------
r275471 | bodewig | 2003-10-14 04:43:44 -0400 (Tue, 14 Oct 2003) | 10 lines

Use exact matches instead of substring matches in the parser so that
comments containing dashes or equals signs are less likely to throw
off the parser.

I have no idea how portable the exact number of characters is, that's
why I won't merge it into the 1.6 branch.

PR: 8085
Suggested by:	Peter Leschev

------------------------------------------------------------------------
r275466 | bodewig | 2003-10-14 04:09:19 -0400 (Tue, 14 Oct 2003) | 2 lines

Do as you say, PR 19967

------------------------------------------------------------------------
r275465 | antoine | 2003-10-14 02:39:15 -0400 (Tue, 14 Oct 2003) | 2 lines

Merge from ANT_16_BRANCH

------------------------------------------------------------------------
r275463 | antoine | 2003-10-13 15:53:01 -0400 (Mon, 13 Oct 2003) | 2 lines

Merge from ANT_16_BRANCH

------------------------------------------------------------------------
r275460 | antoine | 2003-10-13 14:26:36 -0400 (Mon, 13 Oct 2003) | 3 lines

Merge fix for PR 23711 from ANT_16_BRANCH
PR: 23711

------------------------------------------------------------------------
r275444 | bodewig | 2003-10-10 09:50:35 -0400 (Fri, 10 Oct 2003) | 5 lines

Don't mask arbitrary exceptions when looking for a suite method.

PR: 23033
Submitted by:	Steven Segers <ssegers at kiala dot com>

------------------------------------------------------------------------
r275442 | bodewig | 2003-10-10 09:38:25 -0400 (Fri, 10 Oct 2003) | 2 lines

A timed out test is stil a test, PR 23645

------------------------------------------------------------------------
r275441 | bodewig | 2003-10-10 09:22:19 -0400 (Fri, 10 Oct 2003) | 2 lines

Remove misleading debug output

------------------------------------------------------------------------
r275439 | bodewig | 2003-10-10 09:19:46 -0400 (Fri, 10 Oct 2003) | 2 lines

<ant> with more than one <property file="..."/> child didn't work, PR 23601

------------------------------------------------------------------------
r275438 | bodewig | 2003-10-10 09:17:34 -0400 (Fri, 10 Oct 2003) | 2 lines

Tests for PR 23601

------------------------------------------------------------------------
r275436 | bodewig | 2003-10-10 06:39:08 -0400 (Fri, 10 Oct 2003) | 2 lines

Fix PR 23639

------------------------------------------------------------------------
r275435 | bodewig | 2003-10-10 06:33:42 -0400 (Fri, 10 Oct 2003) | 2 lines

Testcase for PR 23639

------------------------------------------------------------------------
r275430 | bodewig | 2003-10-09 04:15:33 -0400 (Thu, 09 Oct 2003) | 2 lines

Use encoding for output as well

------------------------------------------------------------------------
r275426 | peterreilly | 2003-10-08 04:44:46 -0400 (Wed, 08 Oct 2003) | 2 lines

upgrade protected access to public for setMacroDef for macroinstance object

------------------------------------------------------------------------
r275420 | bodewig | 2003-10-06 10:24:49 -0400 (Mon, 06 Oct 2003) | 2 lines

Mono 0.28 on MacOS X comes with a JIT but fails miserably, disable it

------------------------------------------------------------------------
r275415 | umagesh | 2003-10-03 18:37:32 -0400 (Fri, 03 Oct 2003) | 2 lines

Translate task logs a debug message specifying the number of files that it processed.  Bugzilla Report 13938.

------------------------------------------------------------------------
r275414 | umagesh | 2003-10-03 18:21:49 -0400 (Fri, 03 Oct 2003) | 2 lines

Translate task does not remove tokens when a key is not found.   It logs a verbose message.  Bugzilla Report 13936.

------------------------------------------------------------------------
r275412 | stevel | 2003-10-02 21:40:48 -0400 (Thu, 02 Oct 2003) | 2 lines

This is the first visible divergence ofAnt1.7 from 1.6...ant 1.7 has a -nice option that lets you lessen or increase the priority of the main thread. Useful for background builds, though since it doesnt propagate into forked code, not as useful as it could be.

------------------------------------------------------------------------
r275410 | stevel | 2003-10-02 21:10:22 -0400 (Thu, 02 Oct 2003) | 2 lines

More diagnostics. Because some of us never get regexps right first time

------------------------------------------------------------------------
r275408 | bodewig | 2003-10-02 06:14:23 -0400 (Thu, 02 Oct 2003) | 2 lines

label description is not (no longer?) optional

------------------------------------------------------------------------
r275404 | conor | 2003-10-02 02:44:27 -0400 (Thu, 02 Oct 2003) | 2 lines

merge

------------------------------------------------------------------------
r275400 | antoine | 2003-10-01 04:27:46 -0400 (Wed, 01 Oct 2003) | 4 lines

Merge from ANT_16_BRANCH
PR: 23535
Submitted by: Nick Chalko (nick at chalko dot com)

------------------------------------------------------------------------
r275389 | antoine | 2003-09-30 05:45:21 -0400 (Tue, 30 Sep 2003) | 2 lines

Merge from ANT_16_BRANCH

------------------------------------------------------------------------
r275366 | peterreilly | 2003-09-26 06:16:02 -0400 (Fri, 26 Sep 2003) | 2 lines

UE#similar had forgot to check the text

------------------------------------------------------------------------
r275365 | stevel | 2003-09-25 19:52:12 -0400 (Thu, 25 Sep 2003) | 2 lines

ampersands dont make it through to javadocs, do they?

------------------------------------------------------------------------
r275363 | antoine | 2003-09-25 16:47:17 -0400 (Thu, 25 Sep 2003) | 4 lines

PR: 18154
Make logging from p4 submit be done using the SimpleP4OutputHandler in order
to make this logging more homogeneous

------------------------------------------------------------------------
r275359 | bodewig | 2003-09-25 10:51:07 -0400 (Thu, 25 Sep 2003) | 2 lines

The user.dir trick doesn't seem to work on OS X anymore, PR 23400

------------------------------------------------------------------------
r275353 | bodewig | 2003-09-25 09:59:01 -0400 (Thu, 25 Sep 2003) | 2 lines

subant is becoming legacy

------------------------------------------------------------------------
r275346 | bodewig | 2003-09-25 08:36:19 -0400 (Thu, 25 Sep 2003) | 2 lines

improved OpenVMS support, submitted by Knut Wannheden <knut dot wannheden at paranor dot ch>

------------------------------------------------------------------------
r275344 | antoine | 2003-09-25 05:46:38 -0400 (Thu, 25 Sep 2003) | 3 lines

change in runant.py to work with new Launcher
Submitted by: Knut Wannheden <knut dot wannheden at paranor dot ch>

------------------------------------------------------------------------
r275342 | bodewig | 2003-09-25 05:26:40 -0400 (Thu, 25 Sep 2003) | 2 lines

Make docs match the code, PR 20576

------------------------------------------------------------------------
r275340 | bodewig | 2003-09-25 03:44:13 -0400 (Thu, 25 Sep 2003) | 2 lines

2003

------------------------------------------------------------------------
r275338 | conor | 2003-09-25 02:18:46 -0400 (Thu, 25 Sep 2003) | 2 lines

fix encoding

------------------------------------------------------------------------
r275337 | conor | 2003-09-25 02:12:25 -0400 (Thu, 25 Sep 2003) | 2 lines

Unix filesystem is case sensitive

------------------------------------------------------------------------
r275335 | peterreilly | 2003-09-24 11:58:13 -0400 (Wed, 24 Sep 2003) | 5 lines

Roll back check on size of file as it does not deal with
a prepend/append filter.
Just use the default size in ChainReaderHelper rather that
the filesize as the file could be very big.

------------------------------------------------------------------------
r275333 | peterreilly | 2003-09-24 11:51:27 -0400 (Wed, 24 Sep 2003) | 2 lines

get loadproperties to check the size of the file before attemting to read it

------------------------------------------------------------------------
r275331 | conor | 2003-09-24 11:11:13 -0400 (Wed, 24 Sep 2003) | 2 lines

Add warning for multiple classpaths

------------------------------------------------------------------------
r275330 | conor | 2003-09-24 10:52:47 -0400 (Wed, 24 Sep 2003) | 2 lines

merge

------------------------------------------------------------------------
r275328 | stevel | 2003-09-23 20:58:29 -0400 (Tue, 23 Sep 2003) | 2 lines

doc updates in the tasks, for autogenerated docs

------------------------------------------------------------------------
r275326 | antoine | 2003-09-23 18:42:23 -0400 (Tue, 23 Sep 2003) | 4 lines

remove the -lib argument in Launcher if this is the last argument, since Main
does not know what to do with it
PR: 23358

------------------------------------------------------------------------
r275322 | antoine | 2003-09-23 17:51:14 -0400 (Tue, 23 Sep 2003) | 2 lines

Make replace tests pass on cygwin (test9 was failing)

------------------------------------------------------------------------
r275321 | jhm | 2003-09-23 17:21:01 -0400 (Tue, 23 Sep 2003) | 2 lines

Let ConcatFilterTest delete its files without exceptions.

------------------------------------------------------------------------
r275315 | bodewig | 2003-09-23 11:31:48 -0400 (Tue, 23 Sep 2003) | 2 lines

Remove redundant output, PR 20194

------------------------------------------------------------------------
r275313 | bodewig | 2003-09-23 10:43:31 -0400 (Tue, 23 Sep 2003) | 2 lines

forgot to commit file

------------------------------------------------------------------------
r275312 | bodewig | 2003-09-23 10:33:43 -0400 (Tue, 23 Sep 2003) | 4 lines

Defer expansion of reference until the catalog gets used.

PR: 20965

------------------------------------------------------------------------
r275310 | peterreilly | 2003-09-23 10:04:05 -0400 (Tue, 23 Sep 2003) | 2 lines

remove method implemented in superclass

------------------------------------------------------------------------
r275308 | peterreilly | 2003-09-23 09:55:52 -0400 (Tue, 23 Sep 2003) | 2 lines

remove attributestyle attribute from macrodef

------------------------------------------------------------------------
r275307 | bodewig | 2003-09-23 09:16:04 -0400 (Tue, 23 Sep 2003) | 5 lines

Add a granularity attribute to <copy>, <move> and <sync> that works
the same way as the attribute of the <depend> selector.

PR: 22150

------------------------------------------------------------------------
r275296 | bodewig | 2003-09-23 03:29:28 -0400 (Tue, 23 Sep 2003) | 2 lines

Fix docs of <csc>'s includeDefaultReference attribute, fix its default value to match the documentation

------------------------------------------------------------------------
r275295 | bodewig | 2003-09-23 03:23:01 -0400 (Tue, 23 Sep 2003) | 2 lines

Make CSC tests pass on Mono again

------------------------------------------------------------------------
r275294 | stevel | 2003-09-23 02:36:22 -0400 (Tue, 23 Sep 2003) | 2 lines

oops. didnt mean to commit that a- relic of someones patch to jspc that I wasnt happy with.

------------------------------------------------------------------------
r275293 | stevel | 2003-09-23 02:31:46 -0400 (Tue, 23 Sep 2003) | 2 lines

With these changes assertions now work, at least as far as the java tests are concerned...not tested junit

------------------------------------------------------------------------
r275292 | bodewig | 2003-09-23 02:30:24 -0400 (Tue, 23 Sep 2003) | 2 lines

Add test for PR 21037

------------------------------------------------------------------------
r275291 | stevel | 2003-09-23 02:29:20 -0400 (Tue, 23 Sep 2003) | 2 lines

the fix to DotnetCompile forced vbc to explicitly reference things. hmm.

------------------------------------------------------------------------
r275290 | stevel | 2003-09-23 02:28:33 -0400 (Tue, 23 Sep 2003) | 2 lines

minor cleanups; no code changes

------------------------------------------------------------------------
r275288 | bodewig | 2003-09-23 01:59:04 -0400 (Tue, 23 Sep 2003) | 2 lines

Make PreSetDef compile

------------------------------------------------------------------------
r275286 | antoine | 2003-09-22 17:10:10 -0400 (Mon, 22 Sep 2003) | 4 lines

adding a new supported command line argument -lib
this command line argument is eaten by Launcher
shell scripts reworked to pass the classpath in the right location

------------------------------------------------------------------------
r275282 | bodewig | 2003-09-22 11:41:44 -0400 (Mon, 22 Sep 2003) | 2 lines

properly document <cvs>'s dest attribute

------------------------------------------------------------------------
r275281 | bodewig | 2003-09-22 11:05:21 -0400 (Mon, 22 Sep 2003) | 2 lines

Merge fix for 23320 from 1.6 branch

------------------------------------------------------------------------
r275277 | peterreilly | 2003-09-22 04:58:58 -0400 (Mon, 22 Sep 2003) | 4 lines

Remove interface AntlibInterface - replace with class AntlibDefintion
which is a Task and handles setURI and setAntlibClassLoader (from
a e-mail by Knut Wannheden)

------------------------------------------------------------------------
r275276 | conor | 2003-09-21 20:54:31 -0400 (Sun, 21 Sep 2003) | 2 lines

Make SQL task work under Oracle

------------------------------------------------------------------------
r275275 | stevel | 2003-09-21 18:30:44 -0400 (Sun, 21 Sep 2003) | 2 lines

added assertions as an explicit datatype

------------------------------------------------------------------------
r275274 | stevel | 2003-09-21 18:29:54 -0400 (Sun, 21 Sep 2003) | 4 lines

1. remove the default library stuff from csc & the compiler.
2. remove the new standardlib flag needed to work around (1)
3. added a test for the jsharp compiler, and a fix to get the task to work.

------------------------------------------------------------------------
r275272 | antoine | 2003-09-21 16:20:03 -0400 (Sun, 21 Sep 2003) | 3 lines

Style
Submitted by: Larry Shatzer (larry dot shatzer at spirent dot com)

------------------------------------------------------------------------
r275271 | antoine | 2003-09-20 13:10:13 -0400 (Sat, 20 Sep 2003) | 2 lines

Copyright line fixed.

------------------------------------------------------------------------
r275270 | antoine | 2003-09-20 12:40:42 -0400 (Sat, 20 Sep 2003) | 3 lines

Spelling corrections.
Submitted by: Larry Shatzer (larry dot shatzer at spirent dot com)

------------------------------------------------------------------------
r275267 | peterreilly | 2003-09-19 05:36:22 -0400 (Fri, 19 Sep 2003) | 3 lines

Dissallow <import> within targets
remove some commented out code in ImportTask

------------------------------------------------------------------------
r275266 | jhm | 2003-09-19 05:24:13 -0400 (Fri, 19 Sep 2003) | 2 lines

ConcatFilter: rename attributes after->append and before->prepend; added documentation.

------------------------------------------------------------------------
r275265 | bodewig | 2003-09-19 05:18:16 -0400 (Fri, 19 Sep 2003) | 5 lines

<junit includeantruntime="true" fork="true"> replaced the CLASSPATH
instead of adding to it.

PR: 14971

------------------------------------------------------------------------
r275263 | bodewig | 2003-09-19 04:31:06 -0400 (Fri, 19 Sep 2003) | 4 lines

Restart stream reading and writing for each execution in <apply>.

PR: 22446

------------------------------------------------------------------------
r275260 | jhm | 2003-09-18 11:39:26 -0400 (Thu, 18 Sep 2003) | 4 lines

New filter <concatfilter>. Adds the content of file at the beginning
or end of a file.
Discussion started at http://marc.theaimsgroup.com/?l=ant-user&m=106336791228585&w=2

------------------------------------------------------------------------
r275258 | bodewig | 2003-09-18 10:21:41 -0400 (Thu, 18 Sep 2003) | 2 lines

Treat timeout like a failed execution, fix comments on Execute#getExitCode

------------------------------------------------------------------------
r275257 | bodewig | 2003-09-18 05:02:23 -0400 (Thu, 18 Sep 2003) | 2 lines

Add tests for <import> inside <target>

------------------------------------------------------------------------
r275256 | antoine | 2003-09-17 16:15:56 -0400 (Wed, 17 Sep 2003) | 2 lines

Removed backslash r characters (problem mentioned by Larry Shatzer)

------------------------------------------------------------------------
r275255 | antoine | 2003-09-17 16:11:44 -0400 (Wed, 17 Sep 2003) | 3 lines

Spelling fixes.
Submitted by: Larry Shatzer (Larry dot Shatzer at Spirent dot com)

------------------------------------------------------------------------
r275254 | peterreilly | 2003-09-17 13:06:44 -0400 (Wed, 17 Sep 2003) | 3 lines

Restrict antlib tasks to be instanceof AntLibInterface
Deal with types later

------------------------------------------------------------------------
r275253 | peterreilly | 2003-09-17 12:17:56 -0400 (Wed, 17 Sep 2003) | 3 lines

Update antlib testcases to reflect restrictions in
tasks allowd in an antlib

------------------------------------------------------------------------
r275251 | peterreilly | 2003-09-17 10:23:27 -0400 (Wed, 17 Sep 2003) | 3 lines

add back removed description
+ checkstyle javadoc

------------------------------------------------------------------------
r275250 | peterreilly | 2003-09-17 10:13:53 -0400 (Wed, 17 Sep 2003) | 3 lines

change implementation of handling importing files top-level tasks
to be less hachy

------------------------------------------------------------------------
r275248 | bodewig | 2003-09-17 05:20:38 -0400 (Wed, 17 Sep 2003) | 6 lines

Create a deep (well, deeper) clone in AbstractFileSet#clone

PR: 23090

Make PatternSet Clonable.

------------------------------------------------------------------------
r275247 | bodewig | 2003-09-17 04:50:22 -0400 (Wed, 17 Sep 2003) | 2 lines

JDK 1.3- compatibility

------------------------------------------------------------------------
r275246 | bodewig | 2003-09-17 04:30:30 -0400 (Wed, 17 Sep 2003) | 2 lines

A test that has timed out must be considered an error, PR 23150

------------------------------------------------------------------------
r275245 | bodewig | 2003-09-17 04:22:50 -0400 (Wed, 17 Sep 2003) | 2 lines

Drop JDK 1.1 compatibility in favor of improved error handling, submitted by Martijn Kruithof

------------------------------------------------------------------------
r275244 | bodewig | 2003-09-17 04:20:54 -0400 (Wed, 17 Sep 2003) | 5 lines

Log tests that have timed out in the summary as well.

PR: 23160
Submitted by:	Martijn Kruithof <ant at kruithof dot xs4all dot nl>

------------------------------------------------------------------------
r275243 | bodewig | 2003-09-16 06:38:14 -0400 (Tue, 16 Sep 2003) | 5 lines

Add new asofdate attribute to <stcheckout> and <stcheckin>

PR: 20578
Submitted by:	Steve Cohen <scohen at apache dot org>

------------------------------------------------------------------------
r275242 | peterreilly | 2003-09-16 05:08:57 -0400 (Tue, 16 Sep 2003) | 2 lines

Next round of typo fixes by Larry Shatzer

------------------------------------------------------------------------
r275241 | bodewig | 2003-09-16 04:29:08 -0400 (Tue, 16 Sep 2003) | 2 lines

2003

------------------------------------------------------------------------
r275240 | peterreilly | 2003-09-15 12:55:01 -0400 (Mon, 15 Sep 2003) | 2 lines

next set of typo corrections by Larry  Shatzer

------------------------------------------------------------------------
r275238 | ehatcher | 2003-09-15 05:11:57 -0400 (Mon, 15 Sep 2003) | 2 lines

xjavadoc has issues with parsing the trailing comment.  easier to remove the comment than to fix xjavadoc :)

------------------------------------------------------------------------
r275236 | jhm | 2003-09-13 12:35:52 -0400 (Sat, 13 Sep 2003) | 3 lines

New <modified> container.
Bugzilla Report 20474

------------------------------------------------------------------------
r275235 | antoine | 2003-09-13 08:58:33 -0400 (Sat, 13 Sep 2003) | 3 lines

Spelling
Submitted by: Larry Shatzer (Larry dot Shatzer At Spirent Dot Com)

------------------------------------------------------------------------
r275234 | antoine | 2003-09-13 08:37:04 -0400 (Sat, 13 Sep 2003) | 3 lines

Removed hard coded \n from files.
Thanks to a remark of Larry Shatzer (Larry dot Shatzer at Spirent dot com).

------------------------------------------------------------------------
r275232 | antoine | 2003-09-12 16:56:46 -0400 (Fri, 12 Sep 2003) | 3 lines

Typos
Submitted by: Larry Shatzer (larry dot shatzer at servent dot com)

------------------------------------------------------------------------
r275231 | antoine | 2003-09-12 16:32:29 -0400 (Fri, 12 Sep 2003) | 4 lines

send the filename in the proper remote format in the site command done
to chmod a file after a put
PR: 23143

------------------------------------------------------------------------
r275230 | conor | 2003-09-12 11:42:21 -0400 (Fri, 12 Sep 2003) | 2 lines

Verbose it is ...

------------------------------------------------------------------------
r275227 | conor | 2003-09-12 10:04:46 -0400 (Fri, 12 Sep 2003) | 5 lines

Mark entry and exit of <ant> and <antcall>

PR:	22718
Submitted by:	Jesse Glick

------------------------------------------------------------------------
r275226 | conor | 2003-09-12 10:01:39 -0400 (Fri, 12 Sep 2003) | 2 lines

Old entry point is deprecated

------------------------------------------------------------------------
r275225 | conor | 2003-09-12 09:59:35 -0400 (Fri, 12 Sep 2003) | 2 lines

Make easier to read

------------------------------------------------------------------------
r275223 | bodewig | 2003-09-12 07:29:49 -0400 (Fri, 12 Sep 2003) | 8 lines

Fix typo.

Actually I dodn't mean to include this file with my last commit, but
now that it's in ...

This is part of my ongoing effort to run the .NET tests against a fink
installed mono-0.23 on my iBook (there no jit for PPC yet).

------------------------------------------------------------------------
r275222 | bodewig | 2003-09-12 07:25:31 -0400 (Fri, 12 Sep 2003) | 2 lines

Correct pointer to Antidote, submitted by Larry Shatzer

------------------------------------------------------------------------
r275221 | conor | 2003-09-11 10:41:07 -0400 (Thu, 11 Sep 2003) | 5 lines

Fix new style test so that it pases on Linux. There appeared
to be a clock granularity problem where the output and the stylesheet
both have the same timestamp. I have change the test in XSLTProcess to
run the xslt in this case. Also added a more meaningful message

------------------------------------------------------------------------
r275220 | conor | 2003-09-11 10:04:16 -0400 (Thu, 11 Sep 2003) | 4 lines

Fix some incorrect comments

PR:	23042

------------------------------------------------------------------------
r275218 | bodewig | 2003-09-11 06:41:53 -0400 (Thu, 11 Sep 2003) | 2 lines

2003

------------------------------------------------------------------------
r275217 | antoine | 2003-09-10 14:20:46 -0400 (Wed, 10 Sep 2003) | 6 lines

close the socket created by the socket condition
I have tested the issue. With the new code, within approximatively 100 milliseconds,
the socket is gone while ant keeps running.
PR: 23040
Submitted by: John C. Kendall (jkendall at technologist dot com)

------------------------------------------------------------------------
r275216 | peterreilly | 2003-09-10 11:44:01 -0400 (Wed, 10 Sep 2003) | 2 lines

Another typo!

------------------------------------------------------------------------
r275215 | conor | 2003-09-10 11:29:52 -0400 (Wed, 10 Sep 2003) | 2 lines

typo - sort of

------------------------------------------------------------------------
r275214 | conor | 2003-09-10 11:29:25 -0400 (Wed, 10 Sep 2003) | 2 lines

Imports

------------------------------------------------------------------------
r275213 | conor | 2003-09-10 11:18:41 -0400 (Wed, 10 Sep 2003) | 5 lines

Refactor TraxLiasion initialization to remove dependency from
core Ant to optional packages.

PR:	11103

------------------------------------------------------------------------
r275212 | peterreilly | 2003-09-10 09:57:20 -0400 (Wed, 10 Sep 2003) | 7 lines

Changes to <ant>
   do not call the "" target (it gets run anyway)
   allow duplicate params with the same name, last
     param will be used.

Test cases for above

------------------------------------------------------------------------
r275211 | bodewig | 2003-09-10 09:17:00 -0400 (Wed, 10 Sep 2003) | 2 lines

It is legal to omit the target attribute in <ant>, don't die with a NPE

------------------------------------------------------------------------
r275210 | peterreilly | 2003-09-10 06:55:58 -0400 (Wed, 10 Sep 2003) | 3 lines

Antlib: set location before maybeConfigure as maybeConfigure could
        throw an exception (invalid element/attribute for example)

------------------------------------------------------------------------
r275209 | peterreilly | 2003-09-10 06:37:14 -0400 (Wed, 10 Sep 2003) | 5 lines

Change design for storing the current antlib uri
Allows deferred execution to work - for example
ant script in macro def.
Bugzilla report : 23029 from Yannick Menager

------------------------------------------------------------------------
r275207 | peterreilly | 2003-09-09 12:52:03 -0400 (Tue, 09 Sep 2003) | 3 lines

fix typeofs
Patch from Larry Shatzer

------------------------------------------------------------------------
r275205 | jhm | 2003-09-08 10:05:51 -0400 (Mon, 08 Sep 2003) | 2 lines

Remove dependency to bootstap version.

------------------------------------------------------------------------
r275203 | jhm | 2003-09-08 09:48:10 -0400 (Mon, 08 Sep 2003) | 3 lines

Test if <style> generates new if the XSL is new.
Forgotten to "add" before "commit".

------------------------------------------------------------------------
r275201 | bodewig | 2003-09-08 07:44:58 -0400 (Mon, 08 Sep 2003) | 2 lines

Typos found by Larry Shatzer

------------------------------------------------------------------------
r275197 | jhm | 2003-09-07 05:40:40 -0400 (Sun, 07 Sep 2003) | 2 lines

Checks that a property file is created when not present.

------------------------------------------------------------------------
r275193 | jhm | 2003-09-06 09:51:47 -0400 (Sat, 06 Sep 2003) | 2 lines

Undo change made by accident ...

------------------------------------------------------------------------
r275192 | jhm | 2003-09-06 09:30:30 -0400 (Sat, 06 Sep 2003) | 2 lines

Test if <style> generates new if the XSL is new.

------------------------------------------------------------------------
r275191 | jhm | 2003-09-06 04:50:20 -0400 (Sat, 06 Sep 2003) | 2 lines

spell check

------------------------------------------------------------------------
r275190 | stevel | 2003-09-06 03:09:59 -0400 (Sat, 06 Sep 2003) | 10 lines

1. new ildasm command to disassemble .il files. So that you can disassemble the output of tlbimport, patch it and recompile it. Yes, that is the official way to get C arrays marshalled into .net

2. patch to ilasm so that the default fileset is ignored when <src> elements are added and srcDir attr is undefined

3. tests!

ildasm has duff resource handling. It autogenerates the resources in the dir it runs, you cannot predict or control their names. So we CD to output dir, that is the dir of destFile unless an explicit res dir is provided. Ugly, ugly ugly.

And to think that they claim .net is better on account of the ease of development.

------------------------------------------------------------------------
r275189 | stevel | 2003-09-06 03:03:33 -0400 (Sat, 06 Sep 2003) | 2 lines

factored out the FAT granularity constant into FileUtils, though I am sure it is used in many other places.

------------------------------------------------------------------------
r275188 | stevel | 2003-09-06 03:02:31 -0400 (Sat, 06 Sep 2003) | 15 lines

1. autogenerate text messages from if and unless clauses, when there is no text. Because it is very useful.

2. test cases to check for if and unless combinations are what we intended.

current behaviour is as follows:

if  unless  outcome

F     F     pass
T     F     fail
F     T     pass
T     T     pass

I am not sure this is what makes perfect sense, i'd expect if=F, unless=F to also fail, but what we have, we have. Though since it aint stated in the docs...

------------------------------------------------------------------------
r275187 | conor | 2003-09-04 07:58:02 -0400 (Thu, 04 Sep 2003) | 6 lines

Make sure continuations of multi valued attributes (Class-Path) are
added to the correct instance

PR:	22816
Submitted by:	Dan Douglas

------------------------------------------------------------------------
r275186 | bodewig | 2003-09-04 07:46:03 -0400 (Thu, 04 Sep 2003) | 2 lines

Catch another simple to detect case of infinite antcall loops

------------------------------------------------------------------------
r275180 | jhm | 2003-09-03 12:47:17 -0400 (Wed, 03 Sep 2003) | 2 lines

Checkstyle

------------------------------------------------------------------------
r275179 | jhm | 2003-09-03 11:22:10 -0400 (Wed, 03 Sep 2003) | 2 lines

Let Project.toBoolean(String) handle null as argument.

------------------------------------------------------------------------
r275178 | jhm | 2003-09-03 10:19:07 -0400 (Wed, 03 Sep 2003) | 7 lines

New shortcuts for ant options:
-d  -->  -debug
-e  -->  -emacs
-h  -->  -help
-p  -->  -projecthelp
-s  -->  -find

------------------------------------------------------------------------
r275176 | bodewig | 2003-09-03 06:03:47 -0400 (Wed, 03 Sep 2003) | 4 lines

Throw an exception instead of looping forever in top-level <*ant*> task.

PR: 22759

------------------------------------------------------------------------
r275174 | bodewig | 2003-09-03 04:37:56 -0400 (Wed, 03 Sep 2003) | 2 lines

Examples of infinite loops, PR 22759

------------------------------------------------------------------------
r275167 | bodewig | 2003-09-02 10:38:19 -0400 (Tue, 02 Sep 2003) | 5 lines

Add a reallyquiet attribute to <cvs>.

PR: 22774
Submitted by:	Larry Shatzer <larry dot shatzer at spirent dot com>

------------------------------------------------------------------------
r275166 | jhm | 2003-09-02 07:36:02 -0400 (Tue, 02 Sep 2003) | 2 lines

Display number of the column where the "error" occured (if present).

------------------------------------------------------------------------
r275163 | peterreilly | 2003-09-01 10:15:30 -0400 (Mon, 01 Sep 2003) | 2 lines

Place antlibs temp defintions in a ant:current namespace.

------------------------------------------------------------------------
r275162 | antoine | 2003-09-01 08:45:07 -0400 (Mon, 01 Sep 2003) | 4 lines

Use again Permissions to catch non zero exit statuses when using the Java task
with FailOnError = "true"
PR: 22533

------------------------------------------------------------------------
r275161 | antoine | 2003-09-01 06:52:43 -0400 (Mon, 01 Sep 2003) | 2 lines

Add cygwin support in runant.pl

------------------------------------------------------------------------
r275160 | bodewig | 2003-09-01 06:14:26 -0400 (Mon, 01 Sep 2003) | 2 lines

Sync runant.pl with the other scripts to use new Launcher

------------------------------------------------------------------------
r275158 | bodewig | 2003-09-01 05:57:01 -0400 (Mon, 01 Sep 2003) | 2 lines

Add Copyright lines, PR 22807

------------------------------------------------------------------------
r275157 | bodewig | 2003-09-01 05:53:05 -0400 (Mon, 01 Sep 2003) | 5 lines

label and lock/unlock cannot be used at the same time in <stcheckout>.

PR: 22829
Submitted by:	Steve Cohen <scohen at apache dot org>

------------------------------------------------------------------------
r275156 | bodewig | 2003-09-01 05:50:05 -0400 (Mon, 01 Sep 2003) | 9 lines

DelayedFileOutputStream -> LazyFileOutputStream (thanks, DD).

Add test for LazyFileOutputStream.

Make sure that output files get created, even if they are empty.  This
is for backwards compatibility.

Found and removed an attempt to close the same stream twice.

------------------------------------------------------------------------
r275155 | antoine | 2003-08-29 09:05:06 -0400 (Fri, 29 Aug 2003) | 3 lines

Rollback temporarily the setting of new permissions when failonerror="true"
and fork="false"

------------------------------------------------------------------------
r275154 | antoine | 2003-08-29 07:10:58 -0400 (Fri, 29 Aug 2003) | 2 lines

Adding a permission to read file.encoding in the default set of permissions

------------------------------------------------------------------------
r275153 | antoine | 2003-08-28 09:46:33 -0400 (Thu, 28 Aug 2003) | 4 lines

Set default permissions appropriate to fail the builds when failonerror is
true (and fork false) and no other permissions were set.
Suggestion of Steve Loughran.

------------------------------------------------------------------------
r275152 | antoine | 2003-08-28 08:24:31 -0400 (Thu, 28 Aug 2003) | 2 lines

Make the tests pass under Gump

------------------------------------------------------------------------
r275151 | bodewig | 2003-08-28 03:10:40 -0400 (Thu, 28 Aug 2003) | 5 lines

Make <sshexec> evaluate the exit code of the remote command.

PR: 19237
Based on a submission by:	Rob Meyer <rob at bigdis dot com>

------------------------------------------------------------------------
r275150 | antoine | 2003-08-27 15:12:42 -0400 (Wed, 27 Aug 2003) | 4 lines

Save the nerves of future generations of committers,
by failing the JavaTest if tests-classpath.value is not set
Also removed an unused path definition.

------------------------------------------------------------------------
r275149 | antoine | 2003-08-27 10:23:17 -0400 (Wed, 27 Aug 2003) | 3 lines

PR: 22533
Submitted by: J.M. (Martijn) Kruithof (ant at kruithof dot xs4all dot nl)

------------------------------------------------------------------------
r275148 | bodewig | 2003-08-27 06:08:25 -0400 (Wed, 27 Aug 2003) | 2 lines

whitespace changes only

------------------------------------------------------------------------
r275147 | bodewig | 2003-08-27 06:07:11 -0400 (Wed, 27 Aug 2003) | 4 lines

Don't connect to remote site when you know there is nothing to transfer.

also fixes PR: 22726

------------------------------------------------------------------------
r275146 | bodewig | 2003-08-27 05:34:25 -0400 (Wed, 27 Aug 2003) | 2 lines

resolve relative paths in file and todir attributes like all other Ant tasks do - i.e. relative to basedir

------------------------------------------------------------------------
r275145 | bodewig | 2003-08-27 04:45:03 -0400 (Wed, 27 Aug 2003) | 2 lines

Improve symmetry

------------------------------------------------------------------------
r275144 | bodewig | 2003-08-27 04:40:23 -0400 (Wed, 27 Aug 2003) | 7 lines

A JUnit TestSuite can contain tests from multiple classes.  In particular it
can contain tests from two different classes but with the same method
name.

Add a new classname attribute to the <testcase> element in the
XML report so that people know which test the report is talking about.

------------------------------------------------------------------------
r275143 | bodewig | 2003-08-26 08:32:57 -0400 (Tue, 26 Aug 2003) | 5 lines

Don't open the file used for <exec output="file"> and friends before
it gets actually written.

Needed to fix PR: 13652

------------------------------------------------------------------------
r275142 | bodewig | 2003-08-26 04:34:49 -0400 (Tue, 26 Aug 2003) | 6 lines

explicitly cast StringBuffer to Object so that the "right" append
method gets chosen.  This ensures that a JDK 1.4 compiled Ant can be
run on JDK 1.2.  Well, makes it more likely.

PR: 22705

------------------------------------------------------------------------
r275141 | bodewig | 2003-08-26 04:21:02 -0400 (Tue, 26 Aug 2003) | 5 lines

Make tests pass on OpenVMS.

PR: 22696
Submitted by:	Knut Wannheden <knut at paranor dot ch>

------------------------------------------------------------------------
r275139 | bodewig | 2003-08-25 11:29:14 -0400 (Mon, 25 Aug 2003) | 2 lines

remove must be synchronized, too.  Thanks Antoine

------------------------------------------------------------------------
r275138 | bodewig | 2003-08-25 04:28:27 -0400 (Mon, 25 Aug 2003) | 5 lines

Switch BuildListener management from "copy on each event" to "copy on
add/remove".

Suggested by:	Sylvain Wallez <sylvain dot wallez at anyware dash tech dot com>

------------------------------------------------------------------------
r275136 | bodewig | 2003-08-25 03:36:19 -0400 (Mon, 25 Aug 2003) | 2 lines

2003

------------------------------------------------------------------------
r275133 | antoine | 2003-08-22 11:25:45 -0400 (Fri, 22 Aug 2003) | 6 lines

Remove direct call to deprecated project, location, tasktype Task field,
replaced by an accessor way into tasks.
Remove too some unused variable declaration and some unused imports.
PR: 22515
Submitted by: Emmanuel Feller ( Emmanuel dot Feller at free dot fr)

------------------------------------------------------------------------
r275131 | antoine | 2003-08-22 10:08:24 -0400 (Fri, 22 Aug 2003) | 3 lines

make the script to start ant from python use the new launcher
Submitted by: Knut Wannheden (knut dot wannheden at paranor dot ch)

------------------------------------------------------------------------
r275130 | antoine | 2003-08-22 07:23:48 -0400 (Fri, 22 Aug 2003) | 2 lines

Fixes unsensitive searches on case sensitive remote file systems

------------------------------------------------------------------------
r275129 | antoine | 2003-08-22 06:48:08 -0400 (Fri, 22 Aug 2003) | 5 lines

Added a new testcase which fails on UNIX.
I need to change the inner class AntFTPFile so that it scans subdir
on case sensitive systems when case sensitive is set to false
and a path element is not found with its original spelling.

------------------------------------------------------------------------
r275127 | antoine | 2003-08-22 05:20:56 -0400 (Fri, 22 Aug 2003) | 16 lines

Quoting Rob Oxspring :

I was using the image task to create thumbnails and couldn't figure out
how to keep proportions of an image but keep it within a fixed size.
My solution was to change the keepproportions attribute to be a little cleverer.
The keepproportions attribute is no more and has been replaced by the proportions
attribute, which has been added with the following features:

proportions="ignore" - treat the dimensions independently (==keepproportions="false" and is default)
proportions="width" - keep proportions based on the width (==keepproportions="true")
proportions="height" - keep proportions based on the height
proportions="fit" - keep proportions and fit in the supplied dimensions
proportions="cover" - keep proportions and cover the supplied dimensions

Submitted by: Rob Oxspring (roxspring at imapmail dot org)

------------------------------------------------------------------------
r275126 | bodewig | 2003-08-22 05:20:40 -0400 (Fri, 22 Aug 2003) | 2 lines

2003

------------------------------------------------------------------------
r275124 | antoine | 2003-08-21 15:42:15 -0400 (Thu, 21 Aug 2003) | 4 lines

Avoid altering unnecessarily the timestamps of the directories of the
files processed by replaceregexp
PR: 22541

------------------------------------------------------------------------
r275123 | antoine | 2003-08-21 14:14:30 -0400 (Thu, 21 Aug 2003) | 6 lines

finish off the bug report of Martijn.
Note that the diffs of StyleTest.java is big, the file contained
control M characters at the end of each line
PR: 22549
Submitted by: J.M. (Martijn) Kruithof ant at kruithof dot xs4all dot nl

------------------------------------------------------------------------
r275122 | antoine | 2003-08-21 14:00:41 -0400 (Thu, 21 Aug 2003) | 5 lines

Make JavaTest pass under JDK 1.2 (and 1.3) under linux
The same problem was seen on JDK 1.3 on FreeBSD
PR: 22549
Submitted by: J.M. (Martijn) Kruithof ant at kruithof dot xs4all dot nl

------------------------------------------------------------------------
r275121 | antoine | 2003-08-21 13:45:12 -0400 (Thu, 21 Aug 2003) | 7 lines

Let the unzip testEncoding testcase use UnicodeBig instead of UTF16
UnicodeBig is supported by rt.jar of 1.2.2 as opposed to UTF16.
UTF16 is not even listed on
http://java.sun.com/products/jdk/1.2/docs/guide/internat/encoding.doc.html
PR: 22549
Submitted by: J.M. (Martijn) Kruithof (ant at kruithof dot xs4all dot nl)

------------------------------------------------------------------------
r275120 | antoine | 2003-08-21 12:56:12 -0400 (Thu, 21 Aug 2003) | 9 lines

Optimize scanning in FTP.FTPDirectoryScanner, using similar algorithms
to the ones introduced in DirectoryScanner.
There is a gain when
- the include patterns look like some/very/long/path
- the remote file system is case sensitive
- the casesensitive and followsymlinks options of the fileset are set
to true (the default)
PR: 20103

------------------------------------------------------------------------
r275119 | antoine | 2003-08-21 12:15:55 -0400 (Thu, 21 Aug 2003) | 7 lines

Prevent empty headers from being sent in plain mail messages.
Make the order of the headers of plain mail predictable by using
two parallel vectors instead of a hashset to store the headers internally.
Style corrections
PR: 22088
Submitted by: Michael Davey (michael dot davey at coderage dot org)

------------------------------------------------------------------------
r275118 | antoine | 2003-08-21 11:26:46 -0400 (Thu, 21 Aug 2003) | 3 lines

Make PlainMailer also work with foreign character sets.
PR: 15434

------------------------------------------------------------------------
r275114 | antoine | 2003-08-19 08:15:04 -0400 (Tue, 19 Aug 2003) | 7 lines

Changes to the constructor of EmailAddress(String address) to make it support
addresses containing also the name such as name <address> or (name) address.
This allows these syntaxes to be used in the attributes from, tolist, cclist, replyto
of the email task.
PR: 22474
Submitted by: Michael Davey ( michael dot davey at coderage dot org)

------------------------------------------------------------------------
r275106 | peterreilly | 2003-08-15 11:04:29 -0400 (Fri, 15 Aug 2003) | 6 lines

* add equality and similar methods for the ant definitions
  used to check if a new definition overriding a previous
  definition is actually the same definition via a ant or
  antcall command
* remove pointless check for antlib: in setUri

------------------------------------------------------------------------
r275105 | peterreilly | 2003-08-15 05:33:45 -0400 (Fri, 15 Aug 2003) | 8 lines

macrodef changes:
 * change nested element name from param to attribute
   (now the same as scriptdef)
 * expermintal testing for @attribute notation - controlled
   by an attributeStyle attribute
 * checking if correct attribute/element names are used
 * samedefinition method overloaded

------------------------------------------------------------------------
r275103 | peterreilly | 2003-08-15 05:09:29 -0400 (Fri, 15 Aug 2003) | 2 lines

make the fields private

------------------------------------------------------------------------
r275102 | peterreilly | 2003-08-15 04:52:55 -0400 (Fri, 15 Aug 2003) | 2 lines

stylecheck

------------------------------------------------------------------------
r275101 | peterreilly | 2003-08-15 04:51:10 -0400 (Fri, 15 Aug 2003) | 6 lines

make scriptdef an antlibbable definition
derive from DefBase and use the uri for the name
this change also provides the classloader attributes
and elements from DefBase to ScriptDef
use the DefBase classloader

------------------------------------------------------------------------
r275100 | peterreilly | 2003-08-15 04:42:52 -0400 (Fri, 15 Aug 2003) | 2 lines

implement sameDefinition for preset definition

------------------------------------------------------------------------
r275099 | peterreilly | 2003-08-15 04:40:37 -0400 (Fri, 15 Aug 2003) | 2 lines

move same definition to AntTypeDefinition

------------------------------------------------------------------------
r275097 | antoine | 2003-08-14 17:01:43 -0400 (Thu, 14 Aug 2003) | 5 lines

Add two new attributes timediffmillis and timediffauto for the ftp task
so that the newer attribute can take into account time differences between local
machine and remote server.
PR: 19358

------------------------------------------------------------------------
r275096 | antoine | 2003-08-14 13:23:22 -0400 (Thu, 14 Aug 2003) | 2 lines

removed useless <property environment="env"/>

------------------------------------------------------------------------
r275095 | bodewig | 2003-08-14 12:25:52 -0400 (Thu, 14 Aug 2003) | 5 lines

Newer versions of Kaffe have a filesystem layout similar to Sun's VMs,
don't exclude rt.jar and friends.

PR: 22297

------------------------------------------------------------------------
r275093 | antoine | 2003-08-14 11:47:37 -0400 (Thu, 14 Aug 2003) | 2 lines

mistake found ... oops ... corrected

------------------------------------------------------------------------
r275090 | bodewig | 2003-08-14 10:52:42 -0400 (Thu, 14 Aug 2003) | 6 lines

Make <jjtree>'s outputdirectory and outputfile attributes work as
expected (i.e. consistent with the command line of jjtree).

PR: 21526
Submitted by:	Jene Jasper <jjasper at abz dot nl>

------------------------------------------------------------------------
r275089 | antoine | 2003-08-14 10:47:54 -0400 (Thu, 14 Aug 2003) | 4 lines

Go on working on the followsymlinks support in the FTP task.
The scanner was working previously, but the retrieving of links was not working
because the followsymlinks attribute was not passed through.

------------------------------------------------------------------------
r275085 | peterreilly | 2003-08-14 09:22:24 -0400 (Thu, 14 Aug 2003) | 2 lines

Add in Ant 1.6 javadocs for presetdef and macrodef

------------------------------------------------------------------------
r275084 | peterreilly | 2003-08-14 09:17:26 -0400 (Thu, 14 Aug 2003) | 2 lines

some unittests for presetdef and macrodef

------------------------------------------------------------------------
r275082 | peterreilly | 2003-08-14 08:46:01 -0400 (Thu, 14 Aug 2003) | 2 lines

Adding tasks presetdef and macrodef

------------------------------------------------------------------------
r275081 | antoine | 2003-08-14 07:37:36 -0400 (Thu, 14 Aug 2003) | 2 lines

files which are pointed to by symbolic links should be excluded if followsymlinks="false"

------------------------------------------------------------------------
r275080 | peterreilly | 2003-08-14 05:45:39 -0400 (Thu, 14 Aug 2003) | 2 lines

fix head as DefBase.java is a new file

------------------------------------------------------------------------
r275079 | bodewig | 2003-08-14 03:04:41 -0400 (Thu, 14 Aug 2003) | 2 lines

2003

------------------------------------------------------------------------
r275078 | bodewig | 2003-08-14 03:02:34 -0400 (Thu, 14 Aug 2003) | 2 lines

make definitions work for Mono

------------------------------------------------------------------------
r275077 | peterreilly | 2003-08-13 11:19:34 -0400 (Wed, 13 Aug 2003) | 2 lines

enum change

------------------------------------------------------------------------
r275076 | peterreilly | 2003-08-13 11:14:31 -0400 (Wed, 13 Aug 2003) | 4 lines

remove enum variable
PR: 22336
Obtained from: Robert Stupp, using Jan Mat��rne's checkstyle check

------------------------------------------------------------------------
r275075 | peterreilly | 2003-08-13 11:02:29 -0400 (Wed, 13 Aug 2003) | 6 lines

removing enum variabe
PR: 22345
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r275074 | peterreilly | 2003-08-13 10:46:15 -0400 (Wed, 13 Aug 2003) | 6 lines

removing enum variable
PR: 22345
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r275073 | peterreilly | 2003-08-13 10:22:29 -0400 (Wed, 13 Aug 2003) | 6 lines

some 1.1 isms
PR: 22326
Obtained from: Martijn Kruithof
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r275072 | bodewig | 2003-08-13 10:06:38 -0400 (Wed, 13 Aug 2003) | 2 lines

execute mono instead of .EXE

------------------------------------------------------------------------
r275071 | peterreilly | 2003-08-13 10:06:20 -0400 (Wed, 13 Aug 2003) | 3 lines

remove some deprecated methods and 1.1 holdovers
Bugzilla: 22326

------------------------------------------------------------------------
r275070 | peterreilly | 2003-08-13 09:44:26 -0400 (Wed, 13 Aug 2003) | 6 lines

Two of the files in 22326
PR: 22326
Obtained from: Martijn Kruithof
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r275069 | bodewig | 2003-08-13 09:42:54 -0400 (Wed, 13 Aug 2003) | 2 lines

More Mono tests

------------------------------------------------------------------------
r275068 | peterreilly | 2003-08-13 09:36:36 -0400 (Wed, 13 Aug 2003) | 2 lines

typeo use use -> use

------------------------------------------------------------------------
r275067 | bodewig | 2003-08-13 09:28:12 -0400 (Wed, 13 Aug 2003) | 2 lines

enable assertions for <junit> the same way as <java> uses them

------------------------------------------------------------------------
r275066 | peterreilly | 2003-08-13 09:26:31 -0400 (Wed, 13 Aug 2003) | 4 lines

unit tests for namespace support
PR: 19897
Submitted by:	Peter Reilly

------------------------------------------------------------------------
r275064 | peterreilly | 2003-08-13 09:18:54 -0400 (Wed, 13 Aug 2003) | 8 lines

Add ns support
Also split Definer.java in a base class (DefBase) to allow
it to be used for other defining tasks
Also add AntlibInterface to allow antlib to set uri and
classloader for other tasks/types that Definer.

Bugzilla: 19897

------------------------------------------------------------------------
r275063 | peterreilly | 2003-08-13 08:45:41 -0400 (Wed, 13 Aug 2003) | 2 lines

remove unused copy method

------------------------------------------------------------------------
r275058 | conor | 2003-08-12 11:15:06 -0400 (Tue, 12 Aug 2003) | 2 lines

Rename some enums ...

------------------------------------------------------------------------
r275056 | peterreilly | 2003-08-11 09:43:10 -0400 (Mon, 11 Aug 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r275049 | conor | 2003-08-08 10:33:03 -0400 (Fri, 08 Aug 2003) | 4 lines

Don't include ext dir for microsoft jvc when java runtime is excluded.

PR:	18055

------------------------------------------------------------------------
r275048 | bodewig | 2003-08-08 03:59:51 -0400 (Fri, 08 Aug 2003) | 2 lines

.NET "executables" are not executable on Linux

------------------------------------------------------------------------
r275047 | stevel | 2003-08-07 20:15:47 -0400 (Thu, 07 Aug 2003) | 2 lines

compiles but doesnt run. Path issues?

------------------------------------------------------------------------
r275046 | stevel | 2003-08-07 20:11:05 -0400 (Thu, 07 Aug 2003) | 3 lines

Lets try this as a fix: A new option to turn standardlib on
or off that overrides the defaultreferences switch

------------------------------------------------------------------------
r275045 | antoine | 2003-08-07 18:23:35 -0400 (Thu, 07 Aug 2003) | 2 lines

Removed unused variable

------------------------------------------------------------------------
r275042 | bodewig | 2003-08-07 07:17:17 -0400 (Thu, 07 Aug 2003) | 2 lines

Add missing import

------------------------------------------------------------------------
r275041 | bodewig | 2003-08-07 07:14:14 -0400 (Thu, 07 Aug 2003) | 2 lines

2003 and missing license

------------------------------------------------------------------------
r275040 | conor | 2003-08-06 11:15:27 -0400 (Wed, 06 Aug 2003) | 5 lines

Fix extraction of long file names in Tar

PR:	15230
Submitted by:	J. David Beutel

------------------------------------------------------------------------
r275039 | conor | 2003-08-06 10:35:03 -0400 (Wed, 06 Aug 2003) | 2 lines

oops

------------------------------------------------------------------------
r275038 | conor | 2003-08-06 10:12:29 -0400 (Wed, 06 Aug 2003) | 3 lines

Change the check for the external resolver catalog impl to
ensure it can be loaded by the resolver classes.

------------------------------------------------------------------------
r275037 | antoine | 2003-08-06 08:24:42 -0400 (Wed, 06 Aug 2003) | 5 lines

Issue a warning message indicating that selectors within filesets
are not supported in the ftp task when the fileset is remote
(all actions except put)
PR: 18280

------------------------------------------------------------------------
r275035 | antoine | 2003-08-06 06:58:24 -0400 (Wed, 06 Aug 2003) | 3 lines

Fix the ftp task, its documentation and testcases to maintain backward
compatibility.

------------------------------------------------------------------------
r275034 | antoine | 2003-08-06 06:27:15 -0400 (Wed, 06 Aug 2003) | 3 lines

use user.name as default for ftp.user
new target for testing scanning a file which is a symbolic link

------------------------------------------------------------------------
r275032 | bodewig | 2003-08-06 05:53:23 -0400 (Wed, 06 Aug 2003) | 2 lines

Remove trailing delimiter from addReferenceFileset

------------------------------------------------------------------------
r275031 | bodewig | 2003-08-06 05:43:19 -0400 (Wed, 06 Aug 2003) | 2 lines

2003

------------------------------------------------------------------------
r275030 | antoine | 2003-08-05 19:18:25 -0400 (Tue, 05 Aug 2003) | 4 lines

Added a testcase showing resolution of PR 14063
Ant ftp did not download file it is a symlink
PR: 14063

------------------------------------------------------------------------
r275029 | antoine | 2003-08-05 18:59:16 -0400 (Tue, 05 Aug 2003) | 2 lines

removed output on System.out, sorry

------------------------------------------------------------------------
r275028 | antoine | 2003-08-05 18:23:57 -0400 (Tue, 05 Aug 2003) | 8 lines

Make the FTP.FTPDirectoryScanner behave like the DirectoryScanner
in terms of following symbolic links which are directories.
This will make a change of behavior in comparison with ant 1.5.3
where the behavior of the ftp task was to never follow symbolic links.

Also select symbolic links which are files
PR: 14063

------------------------------------------------------------------------
r275027 | antoine | 2003-08-05 13:38:57 -0400 (Tue, 05 Aug 2003) | 2 lines

fix a problem of protected access to FTP.resolveFile

------------------------------------------------------------------------
r275026 | antoine | 2003-08-05 12:44:43 -0400 (Tue, 05 Aug 2003) | 6 lines

Make the FTP.FTPDirectoryScanner class also register the root of a fileset
when the root matches include exclude patterns.
This is the behavior of the DirectoryScanner for normal filesets.
This change should only possibly impact the RMDIR modus of the ftp task
when the root directory is included.

------------------------------------------------------------------------
r275025 | bodewig | 2003-08-05 12:13:02 -0400 (Tue, 05 Aug 2003) | 5 lines

Add a keepcompression attribute to control the compression of entries
that come from existing archives.

PR: 16084

------------------------------------------------------------------------
r275023 | peterreilly | 2003-08-05 12:01:10 -0400 (Tue, 05 Aug 2003) | 5 lines

Add if/unless attributes to <param/> element of <style/> task
PR: 22044
Obtained from: Jens
Submitted by:	 Peter Reilly & Jan Mat��rne

------------------------------------------------------------------------
r275022 | bodewig | 2003-08-05 11:40:56 -0400 (Tue, 05 Aug 2003) | 4 lines

ant -Debug would cause a NullPointerException

PR: 22065

------------------------------------------------------------------------
r275021 | bodewig | 2003-08-05 11:08:17 -0400 (Tue, 05 Aug 2003) | 2 lines

Slowly approaching <csc> with Mono

------------------------------------------------------------------------
r275019 | peterreilly | 2003-08-05 09:56:26 -0400 (Tue, 05 Aug 2003) | 4 lines

test case to show bug report 11418
PR: 11418
Obtained from: John-Mason P. Shackelford

------------------------------------------------------------------------
r275017 | peterreilly | 2003-08-05 07:47:33 -0400 (Tue, 05 Aug 2003) | 2 lines

Remove unneeded setting of properties in reinit()

------------------------------------------------------------------------
r275016 | antoine | 2003-08-04 18:23:57 -0400 (Mon, 04 Aug 2003) | 4 lines

new test for the ftp task
requires ftp.properties in ant's root directory (with your password in it) and a local ftp server.
The test is disabled by default in build.xml

------------------------------------------------------------------------
r275013 | antoine | 2003-08-04 12:06:45 -0400 (Mon, 04 Aug 2003) | 3 lines

scan the fileset after having called setupDirectoryScanner
PR: 22080

------------------------------------------------------------------------
r275012 | bodewig | 2003-08-04 08:23:26 -0400 (Mon, 04 Aug 2003) | 2 lines

Restore System.in, PR: 22066

------------------------------------------------------------------------
r275010 | bodewig | 2003-08-04 08:11:37 -0400 (Mon, 04 Aug 2003) | 4 lines

Only calculate the CRC of STORED entries in <zip> if absolutely necessary.

PR: 21899

------------------------------------------------------------------------
r275009 | conor | 2003-08-03 07:27:27 -0400 (Sun, 03 Aug 2003) | 2 lines

Revert final on System classpath

------------------------------------------------------------------------
r275008 | antoine | 2003-08-01 09:36:56 -0400 (Fri, 01 Aug 2003) | 3 lines

increase time allocated for shell script to complete,
following failure of the test on August 1st 2003 on cvs.apache.org

------------------------------------------------------------------------
r275006 | peterreilly | 2003-08-01 06:22:30 -0400 (Fri, 01 Aug 2003) | 2 lines

style

------------------------------------------------------------------------
r275005 | bodewig | 2003-08-01 06:08:12 -0400 (Fri, 01 Aug 2003) | 10 lines

Revert part of the commit that made tasks use Execute#isFailure.

On OpenVMS the Java VM will exit with a return code of 0 on success,
even though this is going to signal a failure for the OS.  All tasks
that spawn new VMs have now been reverted to explicitly check for
retCode != 0 instead of Execite.isFailure(retCode).

We could as well introduce Execute#isJavaFailure or something like
this in case future VM's on OpenVMS will start to do the right thing.

------------------------------------------------------------------------
r275004 | peterreilly | 2003-08-01 04:34:00 -0400 (Fri, 01 Aug 2003) | 2 lines

Fix location when error occurs in running antlib

------------------------------------------------------------------------
r275002 | stevel | 2003-08-01 02:44:36 -0400 (Fri, 01 Aug 2003) | 6 lines

I always worry when I change something fundamental, and the amount of refactoring here to get assertions in 'cleanly' means the change here is larger than one would expect. The key problem is that the existing code created presized arrays, but sizing these arrays meant resolving every single option and counting the #of commands -effectively creating the command line twice. Once to size it, once to save the results. this was silly and unwieldy, though it made sense given how this command grew and grew.

Most of the diff is changing CommandLine and CommmandLineJava to append their info to a supplied ListIterator, so that we dont need to create string arrays and keep on appending them. All the old stuff is still there, but used less -certainly not used at all by CommandLineJava.

No assertion tests yet...

------------------------------------------------------------------------
r275000 | stevel | 2003-08-01 01:55:16 -0400 (Fri, 01 Aug 2003) | 6 lines

add the ability to set the executable used in .net tasks. Why do this
(a) so you can refer to versions off the path (useful for multiple versions)
(b) so you can use other implementations than the windows one.

Specifically, Mono Csharp compiler, msc, apparently uses the same syntax as csc if desired. We will have to test this... I suppose we could test Rotor too, but I cant be bothered

------------------------------------------------------------------------
r274999 | stevel | 2003-08-01 01:52:31 -0400 (Fri, 01 Aug 2003) | 2 lines

I cant believe we never noticed this typo before

------------------------------------------------------------------------
r274998 | stevel | 2003-08-01 01:52:04 -0400 (Fri, 01 Aug 2003) | 2 lines

want to catch failure to fork here.

------------------------------------------------------------------------
r274997 | stevel | 2003-08-01 01:02:30 -0400 (Fri, 01 Aug 2003) | 2 lines

fix a couple of IDE highighted jdoc typos

------------------------------------------------------------------------
r274996 | antoine | 2003-07-31 15:38:39 -0400 (Thu, 31 Jul 2003) | 4 lines

Display properly in junitreport the root package
PR: 21915
Submitted by: J.M. (Martijn) Kruithof (ant at kruithof dot xs4all dot nl)

------------------------------------------------------------------------
r274995 | antoine | 2003-07-31 05:20:10 -0400 (Thu, 31 Jul 2003) | 4 lines

Improve logging and exception behavior of Perforce tasks
PR: 18154
Submitted by: Matt Bishop (Matt at thebishops dot org)

------------------------------------------------------------------------
r274994 | peterreilly | 2003-07-31 05:03:46 -0400 (Thu, 31 Jul 2003) | 3 lines

Fix invalid URL for property test with url.
PR: 21948

------------------------------------------------------------------------
r274993 | antoine | 2003-07-30 11:25:51 -0400 (Wed, 30 Jul 2003) | 4 lines

TestCase fixed, works now also on nagoya (Solaris).
The problem was that I did not allow enough time for java to start.
1 second is OK, 400 millis were not enough.

------------------------------------------------------------------------
r274992 | antoine | 2003-07-30 09:56:06 -0400 (Wed, 30 Jul 2003) | 3 lines

Add spawn attribute to java task as well
PR: 5907

------------------------------------------------------------------------
r274991 | bodewig | 2003-07-30 08:23:10 -0400 (Wed, 30 Jul 2003) | 4 lines

Keep permissions of directories as well when updating a zip archive.

PR: 21308

------------------------------------------------------------------------
r274988 | antoine | 2003-07-30 05:10:09 -0400 (Wed, 30 Jul 2003) | 2 lines

suppress unnecessary output from the test

------------------------------------------------------------------------
r274987 | antoine | 2003-07-30 04:57:55 -0400 (Wed, 30 Jul 2003) | 4 lines

Allow several space separated arguments in Perforce globalopts
PR: 14395
Submitted by: Matt Bishop (matt at thebishops dot org)

------------------------------------------------------------------------
r274986 | conor | 2003-07-30 03:39:26 -0400 (Wed, 30 Jul 2003) | 2 lines

grammar ... sorry :-)

------------------------------------------------------------------------
r274985 | antoine | 2003-07-29 16:03:07 -0400 (Tue, 29 Jul 2003) | 3 lines

Similarly to what happens with the delete task, there seem to be race conditions which prevent successful directory creation on Windows.
This change allows a second try.

------------------------------------------------------------------------
r274984 | antoine | 2003-07-29 15:47:16 -0400 (Tue, 29 Jul 2003) | 5 lines

the method isMorePowerfulThanExcludes was returning false on org/apache/tools/ant/taskdefs
in the run-tests target of our buildfile because of the exclude pattern :
          <exclude name="${ant.package}/taskdefs/TaskdefTest*Task.java"/>
:-(

------------------------------------------------------------------------
r274983 | antoine | 2003-07-29 15:44:38 -0400 (Tue, 29 Jul 2003) | 2 lines

new testcase

------------------------------------------------------------------------
r274982 | antoine | 2003-07-29 09:09:11 -0400 (Tue, 29 Jul 2003) | 3 lines

throw an exception if <exec/> is used with an attribute
which is incompatible with spawn and spawn=true.

------------------------------------------------------------------------
r274980 | antoine | 2003-07-29 07:19:27 -0400 (Tue, 29 Jul 2003) | 4 lines

Some ftp servers have binary as default, so when binary is false
it is good to set explicitly the ascii mode for the transfer.
Problem reported by Michael Nebus (Michael dot Nebus at Pfizer dot com)

------------------------------------------------------------------------
r274979 | antoine | 2003-07-29 06:49:11 -0400 (Tue, 29 Jul 2003) | 3 lines

do not scan needlessly excluded directories
PR: 21941

------------------------------------------------------------------------
r274978 | antoine | 2003-07-29 06:38:35 -0400 (Tue, 29 Jul 2003) | 2 lines

adding 3 tests showing how include and exclude patterns together interact

------------------------------------------------------------------------
r274977 | bodewig | 2003-07-29 05:35:46 -0400 (Tue, 29 Jul 2003) | 2 lines

avoid spurious ${baseScratchDest} directory

------------------------------------------------------------------------
r274976 | bodewig | 2003-07-29 05:10:07 -0400 (Tue, 29 Jul 2003) | 2 lines

Some tasks rely on the DFS ordering getIncludedXYZ used to provide

------------------------------------------------------------------------
r274975 | peterreilly | 2003-07-29 05:07:29 -0400 (Tue, 29 Jul 2003) | 2 lines

copyright-date

------------------------------------------------------------------------
r274974 | peterreilly | 2003-07-29 04:57:32 -0400 (Tue, 29 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274973 | bodewig | 2003-07-29 04:53:00 -0400 (Tue, 29 Jul 2003) | 2 lines

JDK 1.2 compatibility

------------------------------------------------------------------------
r274972 | peterreilly | 2003-07-29 04:47:12 -0400 (Tue, 29 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274971 | peterreilly | 2003-07-29 04:37:18 -0400 (Tue, 29 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274970 | antoine | 2003-07-28 18:07:47 -0400 (Mon, 28 Jul 2003) | 3 lines

changed the implementation of testChildrenOfExcludedDirectory
to use the new test bed system

------------------------------------------------------------------------
r274969 | antoine | 2003-07-28 13:59:28 -0400 (Mon, 28 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274968 | antoine | 2003-07-28 11:23:51 -0400 (Mon, 28 Jul 2003) | 2 lines

this time, this test really behaves well !!!

------------------------------------------------------------------------
r274967 | antoine | 2003-07-28 11:09:39 -0400 (Mon, 28 Jul 2003) | 2 lines

converted to UNIX format, there were some backslash rs checked in

------------------------------------------------------------------------
r274966 | antoine | 2003-07-28 10:36:44 -0400 (Mon, 28 Jul 2003) | 2 lines

test really works now, thats better.

------------------------------------------------------------------------
r274965 | antoine | 2003-07-28 09:38:09 -0400 (Mon, 28 Jul 2003) | 2 lines

new files for tests of the exec task

------------------------------------------------------------------------
r274964 | antoine | 2003-07-28 09:30:13 -0400 (Mon, 28 Jul 2003) | 3 lines

Add a testcase demonstrating the use of spawn
PR: 5907

------------------------------------------------------------------------
r274963 | antoine | 2003-07-28 06:39:31 -0400 (Mon, 28 Jul 2003) | 10 lines

This change allows exec to start a process which will run independently of ant.
I have used the patch prepared by Charles Hudak and Peter Nimmervoll, but made it even
simpler, in the sense that I do not connect at all the new process to stream handlers
and the ant logging system, disabling input, output, error, and return exec attributes
in the case of spawn.
Strangely, it works well on Windows if one puts a sleep of one second after having spawned
the process. Why ? No idea.
PR: 5907
Submitted by: Charles Hudak ( CHudak at arrowheadgrp dot com)

------------------------------------------------------------------------
r274962 | antoine | 2003-07-27 20:22:00 -0400 (Sun, 27 Jul 2003) | 2 lines

Prevent \r\n from being changed to \r\r\n under Windows

------------------------------------------------------------------------
r274961 | antoine | 2003-07-27 20:16:06 -0400 (Sun, 27 Jul 2003) | 2 lines

new testcase to show a problem on Windows with \r\n being replaced to \r\r\n

------------------------------------------------------------------------
r274960 | antoine | 2003-07-27 19:22:01 -0400 (Sun, 27 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274958 | antoine | 2003-07-26 12:58:14 -0400 (Sat, 26 Jul 2003) | 3 lines

PR: 21520
throw an exception if input file does not exist

------------------------------------------------------------------------
r274957 | antoine | 2003-07-26 12:40:08 -0400 (Sat, 26 Jul 2003) | 8 lines

XSLT/param@expression used as string instead of as expression as documented
There were 2 options to fix the bugreport :
- change the code
- change the documentation
I hope that the option to change the documentation is OK.
Thanks for the bug report.
PR: 21525

------------------------------------------------------------------------
r274955 | antoine | 2003-07-26 11:58:11 -0400 (Sat, 26 Jul 2003) | 3 lines

resolve files sent to chmod
PR: 21865

------------------------------------------------------------------------
r274954 | antoine | 2003-07-25 14:44:39 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274953 | peterreilly | 2003-07-25 12:28:24 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274952 | bodewig | 2003-07-25 10:06:36 -0400 (Fri, 25 Jul 2003) | 4 lines

Add support for OpenVMS logicals as "environment variables".

Submitted by:	Knut Wannheden <knut dot wannheden at paranor dot ch>

------------------------------------------------------------------------
r274951 | bodewig | 2003-07-25 08:14:44 -0400 (Fri, 25 Jul 2003) | 2 lines

Use Execute.isFailure

------------------------------------------------------------------------
r274950 | conor | 2003-07-25 07:02:53 -0400 (Fri, 25 Jul 2003) | 3 lines

Add <daemons> element to <parallel> to start <daemon> threads which
continue to run after the <parallel> task has completed.

------------------------------------------------------------------------
r274949 | bodewig | 2003-07-25 06:06:32 -0400 (Fri, 25 Jul 2003) | 5 lines

Add OpenVMS support to <exec>.

PR: 21877
Submitted by:	Knut Wannheden <knut at paranor dot ch>

------------------------------------------------------------------------
r274948 | bodewig | 2003-07-25 05:44:49 -0400 (Fri, 25 Jul 2003) | 2 lines

backwards compatibility fix submitted by Jene Jasper

------------------------------------------------------------------------
r274947 | bodewig | 2003-07-25 05:11:50 -0400 (Fri, 25 Jul 2003) | 2 lines

whitespace changes

------------------------------------------------------------------------
r274946 | bodewig | 2003-07-25 05:10:30 -0400 (Fri, 25 Jul 2003) | 2 lines

Don't let the garbage collector close System.in

------------------------------------------------------------------------
r274945 | peterreilly | 2003-07-25 05:01:39 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274944 | peterreilly | 2003-07-25 04:51:39 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274941 | peterreilly | 2003-07-25 04:45:26 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274940 | peterreilly | 2003-07-25 04:37:50 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274939 | peterreilly | 2003-07-25 04:31:45 -0400 (Fri, 25 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274937 | conor | 2003-07-24 10:24:07 -0400 (Thu, 24 Jul 2003) | 7 lines

Rework parallel
Remove need for poll interval (only covered race condition between isAlive
and notifyAll calls
Add timeout capability
Add flag to fail if any nested task fails without waiting for other tasks
to complete.

------------------------------------------------------------------------
r274936 | bodewig | 2003-07-24 10:20:56 -0400 (Thu, 24 Jul 2003) | 2 lines

Remove unused fields

------------------------------------------------------------------------
r274935 | bodewig | 2003-07-24 10:20:31 -0400 (Thu, 24 Jul 2003) | 2 lines

JDK 1.2 compatibility

------------------------------------------------------------------------
r274934 | antoine | 2003-07-24 10:07:51 -0400 (Thu, 24 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274933 | bodewig | 2003-07-24 10:05:49 -0400 (Thu, 24 Jul 2003) | 2 lines

Fix inconsistent synchronization

------------------------------------------------------------------------
r274932 | bodewig | 2003-07-24 09:55:57 -0400 (Thu, 24 Jul 2003) | 2 lines

Make some things final

------------------------------------------------------------------------
r274931 | peterreilly | 2003-07-24 09:54:04 -0400 (Thu, 24 Jul 2003) | 2 lines

use valueof instead of new Boolean

------------------------------------------------------------------------
r274930 | peterreilly | 2003-07-24 09:48:45 -0400 (Thu, 24 Jul 2003) | 7 lines

Add antlib xml functionality
This is patch 7204 the fourth patch of the antlib + ns enhancement. The
issues reported by Stephan will need be
addressed, so the implementation may change
before ant 1.6 is released.
PR: 19897

------------------------------------------------------------------------
r274929 | bodewig | 2003-07-24 09:48:16 -0400 (Thu, 24 Jul 2003) | 2 lines

Make some private things static

------------------------------------------------------------------------
r274928 | bodewig | 2003-07-24 09:29:37 -0400 (Thu, 24 Jul 2003) | 2 lines

notifyAll instead of notify

------------------------------------------------------------------------
r274927 | bodewig | 2003-07-24 09:24:35 -0400 (Thu, 24 Jul 2003) | 2 lines

Fix inconsistent synchronization

------------------------------------------------------------------------
r274925 | bodewig | 2003-07-24 09:17:04 -0400 (Thu, 24 Jul 2003) | 2 lines

Fix incorrect finalize override

------------------------------------------------------------------------
r274924 | bodewig | 2003-07-24 09:14:31 -0400 (Thu, 24 Jul 2003) | 2 lines

Fix incorrect equals() override

------------------------------------------------------------------------
r274923 | peterreilly | 2003-07-24 09:14:21 -0400 (Thu, 24 Jul 2003) | 7 lines

Add multimapping to the copy and move task
Some slight changes from the orignal patch - rename
of ignoremultiplemapping to enablemultiplemapping and
some checkstyle changes
PR: 21320
Obtained from: Evan Easton

------------------------------------------------------------------------
r274922 | bodewig | 2003-07-24 09:08:20 -0400 (Thu, 24 Jul 2003) | 2 lines

Replace == with equals()

------------------------------------------------------------------------
r274921 | bodewig | 2003-07-24 08:59:19 -0400 (Thu, 24 Jul 2003) | 2 lines

Fix potential stream leak

------------------------------------------------------------------------
r274920 | bodewig | 2003-07-24 08:53:35 -0400 (Thu, 24 Jul 2003) | 2 lines

Fix potential NPEs

------------------------------------------------------------------------
r274919 | conor | 2003-07-24 08:02:51 -0400 (Thu, 24 Jul 2003) | 2 lines

Remove reflection which is no longer required

------------------------------------------------------------------------
r274918 | bodewig | 2003-07-24 04:09:34 -0400 (Thu, 24 Jul 2003) | 2 lines

Resolve properties recursively to get a more robust handle on circular definitions

------------------------------------------------------------------------
r274917 | bodewig | 2003-07-24 03:16:34 -0400 (Thu, 24 Jul 2003) | 2 lines

Things are even more complicated

------------------------------------------------------------------------
r274916 | bodewig | 2003-07-24 03:13:28 -0400 (Thu, 24 Jul 2003) | 2 lines

Oops

------------------------------------------------------------------------
r274915 | bodewig | 2003-07-24 03:07:06 -0400 (Thu, 24 Jul 2003) | 2 lines

Show bug I've introduced yesterday

------------------------------------------------------------------------
r274914 | bodewig | 2003-07-23 11:14:19 -0400 (Wed, 23 Jul 2003) | 6 lines

resolveAllProperties would be caught in an endless loop when trying to
expand b -> ${a} -> ${a}.  It would keep replacing ${a} for ${a} as it
only detected a circular reference if the expansion pointed back to b.

PR: 21825

------------------------------------------------------------------------
r274913 | bodewig | 2003-07-23 10:12:12 -0400 (Wed, 23 Jul 2003) | 7 lines

New task <jjdoc>.

New attribute outputfile for <jjtree>.

PR: 21526
Submitted by:	Jene Jasper <jjasper at abz dot nl>

------------------------------------------------------------------------
r274910 | peterreilly | 2003-07-23 08:22:36 -0400 (Wed, 23 Jul 2003) | 2 lines

remove unused field

------------------------------------------------------------------------
r274909 | bodewig | 2003-07-23 08:15:48 -0400 (Wed, 23 Jul 2003) | 2 lines

2003

------------------------------------------------------------------------
r274908 | peterreilly | 2003-07-23 08:13:58 -0400 (Wed, 23 Jul 2003) | 2 lines

add tests for addConfigured()

------------------------------------------------------------------------
r274907 | conor | 2003-07-23 08:11:09 -0400 (Wed, 23 Jul 2003) | 5 lines

Handle relative DTDs in XMLProperty

PR:	14685
Submitted by:	Kimbo Mundy

------------------------------------------------------------------------
r274906 | peterreilly | 2003-07-23 08:06:04 -0400 (Wed, 23 Jul 2003) | 10 lines

This commit implements:
    - addConfigured(Type) to introspection rules
    - ant-type magic polymorhic attribute
    - allow types that have Project as a constructor to
      be used in addName(Type) and addConfiguredName(Type) methods
    - allow addName and addConfiguredName methods to have higher
      presedence that createName() methods.

PR: 19897

------------------------------------------------------------------------
r274905 | peterreilly | 2003-07-23 07:32:13 -0400 (Wed, 23 Jul 2003) | 2 lines

Refactor: move LineTokenizer out of TokenFilter

------------------------------------------------------------------------
r274904 | peterreilly | 2003-07-23 06:50:32 -0400 (Wed, 23 Jul 2003) | 2 lines

stylecheck

------------------------------------------------------------------------
r274903 | peterreilly | 2003-07-23 06:39:19 -0400 (Wed, 23 Jul 2003) | 2 lines

typeo

------------------------------------------------------------------------
r274902 | peterreilly | 2003-07-23 06:24:39 -0400 (Wed, 23 Jul 2003) | 2 lines

stylecheck

------------------------------------------------------------------------
r274901 | bodewig | 2003-07-23 04:09:01 -0400 (Wed, 23 Jul 2003) | 2 lines

Whitespace changes

------------------------------------------------------------------------
r274900 | bodewig | 2003-07-23 04:07:33 -0400 (Wed, 23 Jul 2003) | 2 lines

One more tweak

------------------------------------------------------------------------
r274899 | bodewig | 2003-07-23 03:57:07 -0400 (Wed, 23 Jul 2003) | 2 lines

Now that we avoid double scanning in scanDir, we don't need to perform parent-tests on the patterns anymore

------------------------------------------------------------------------
r274898 | bodewig | 2003-07-23 03:50:25 -0400 (Wed, 23 Jul 2003) | 2 lines

Avoid double scanning of directories

------------------------------------------------------------------------
r274897 | bodewig | 2003-07-23 03:30:13 -0400 (Wed, 23 Jul 2003) | 2 lines

Some additional tests to increase confidence

------------------------------------------------------------------------
r274896 | bodewig | 2003-07-23 03:28:01 -0400 (Wed, 23 Jul 2003) | 2 lines

whitespace changes

------------------------------------------------------------------------
r274895 | bodewig | 2003-07-23 03:25:59 -0400 (Wed, 23 Jul 2003) | 2 lines

fix new DirectoryScanner tests, still needs to be improved to avoid double-scanning

------------------------------------------------------------------------
r274894 | bodewig | 2003-07-23 03:15:02 -0400 (Wed, 23 Jul 2003) | 2 lines

better be consistent

------------------------------------------------------------------------
r274893 | bodewig | 2003-07-23 03:13:39 -0400 (Wed, 23 Jul 2003) | 2 lines

More problems with case sensitivity

------------------------------------------------------------------------
r274892 | bodewig | 2003-07-23 02:59:47 -0400 (Wed, 23 Jul 2003) | 2 lines

fix behavior on case insensitive file systems

------------------------------------------------------------------------
r274891 | antoine | 2003-07-22 13:59:52 -0400 (Tue, 22 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274890 | peterreilly | 2003-07-22 12:40:32 -0400 (Tue, 22 Jul 2003) | 2 lines

add space in error message

------------------------------------------------------------------------
r274889 | antoine | 2003-07-22 12:09:05 -0400 (Tue, 22 Jul 2003) | 2 lines

there was a small bone here too (name of a target was wrong).

------------------------------------------------------------------------
r274888 | antoine | 2003-07-22 10:58:48 -0400 (Tue, 22 Jul 2003) | 2 lines

there was still a little bone :)

------------------------------------------------------------------------
r274887 | bodewig | 2003-07-22 10:53:55 -0400 (Tue, 22 Jul 2003) | 2 lines

removeLeadingPath doesn't work if leading is a filesystem root - found by Antoine

------------------------------------------------------------------------
r274886 | bodewig | 2003-07-22 08:34:56 -0400 (Tue, 22 Jul 2003) | 2 lines

Typo

------------------------------------------------------------------------
r274885 | bodewig | 2003-07-22 08:13:10 -0400 (Tue, 22 Jul 2003) | 2 lines

Add comments as suggested by Jan

------------------------------------------------------------------------
r274884 | antoine | 2003-07-22 07:58:55 -0400 (Tue, 22 Jul 2003) | 3 lines

References not passed by antcall
PR: 21724

------------------------------------------------------------------------
r274883 | bodewig | 2003-07-22 07:37:21 -0400 (Tue, 22 Jul 2003) | 6 lines

Don't use a data descriptor for deflated entries in ZipOutputStream if
we can seek the output.  Use this feature in <zip>.

PR: 19195
Submitted by:	Richard Evans <richard.evans@retek.com>

------------------------------------------------------------------------
r274881 | antoine | 2003-07-22 03:56:14 -0400 (Tue, 22 Jul 2003) | 3 lines

Prevent adding sysproperties with a null key or a null value
PR: 21684

------------------------------------------------------------------------
r274880 | bodewig | 2003-07-22 03:24:13 -0400 (Tue, 22 Jul 2003) | 2 lines

2003

------------------------------------------------------------------------
r274878 | conor | 2003-07-21 20:19:15 -0400 (Mon, 21 Jul 2003) | 2 lines

Correct case of Class-Path attribute

------------------------------------------------------------------------
r274877 | antoine | 2003-07-21 06:52:20 -0400 (Mon, 21 Jul 2003) | 4 lines

Add a method in DirectoryScanner to reset the default exclude patterns
Add corresponding functionality in <defaultexcludes>
Update tests

------------------------------------------------------------------------
r274876 | peterreilly | 2003-07-21 06:10:07 -0400 (Mon, 21 Jul 2003) | 4 lines

Fix for NPE reported by Nick Chalko.
When overriding a definition the code did not
check if the old (or new) definitions classes existed

------------------------------------------------------------------------
r274874 | bodewig | 2003-07-21 05:13:37 -0400 (Mon, 21 Jul 2003) | 2 lines

OpenVMS is not Unix

------------------------------------------------------------------------
r274871 | bodewig | 2003-07-21 04:54:17 -0400 (Mon, 21 Jul 2003) | 2 lines

2003

------------------------------------------------------------------------
r274870 | conor | 2003-07-20 06:18:29 -0400 (Sun, 20 Jul 2003) | 5 lines

Update stylesheets to use Xalan2 redirect.

PR:	21627
Submitted by:	Paul Krause

------------------------------------------------------------------------
r274869 | conor | 2003-07-20 06:01:27 -0400 (Sun, 20 Jul 2003) | 2 lines

Some javadoc'ing

------------------------------------------------------------------------
r274867 | conor | 2003-07-20 05:42:21 -0400 (Sun, 20 Jul 2003) | 2 lines

Ensure text is added

------------------------------------------------------------------------
r274866 | conor | 2003-07-20 05:34:21 -0400 (Sun, 20 Jul 2003) | 2 lines

Refactor script related tasks into single ScriptRunner utility.

------------------------------------------------------------------------
r274865 | antoine | 2003-07-19 13:08:06 -0400 (Sat, 19 Jul 2003) | 7 lines

Fix a problem introduced in the recent optimization of DirectoryScanner :
under Windows, the case of the includedFiles and of the includedDirectories
was influenced by the case used in the include patterns of the fileset.
This change fixes it.
I am using File.getCanonicalFile() because it is the only way I know to get
the real case of a file under Windows.

------------------------------------------------------------------------
r274864 | antoine | 2003-07-19 11:57:21 -0400 (Sat, 19 Jul 2003) | 2 lines

make the new tests involving case sensitivity or not pass on Windows

------------------------------------------------------------------------
r274863 | antoine | 2003-07-19 11:44:57 -0400 (Sat, 19 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274861 | antoine | 2003-07-19 10:29:40 -0400 (Sat, 19 Jul 2003) | 3 lines

Add a line ending at the end of the file used for unit test
Fix the code of Translate.java to preserve line endings

------------------------------------------------------------------------
r274860 | antoine | 2003-07-19 10:10:55 -0400 (Sat, 19 Jul 2003) | 2 lines

allow 2 classes to compile (missing import)

------------------------------------------------------------------------
r274859 | conor | 2003-07-19 07:20:23 -0400 (Sat, 19 Jul 2003) | 2 lines

Coding conventions

------------------------------------------------------------------------
r274858 | conor | 2003-07-19 04:11:10 -0400 (Sat, 19 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274857 | conor | 2003-07-18 10:21:24 -0400 (Fri, 18 Jul 2003) | 2 lines

Last for a while ... :-)

------------------------------------------------------------------------
r274856 | conor | 2003-07-18 08:45:58 -0400 (Fri, 18 Jul 2003) | 2 lines

Coding conventions

------------------------------------------------------------------------
r274851 | conor | 2003-07-17 11:44:45 -0400 (Thu, 17 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274850 | conor | 2003-07-17 10:55:44 -0400 (Thu, 17 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274849 | conor | 2003-07-17 10:36:40 -0400 (Thu, 17 Jul 2003) | 2 lines

More style

------------------------------------------------------------------------
r274848 | conor | 2003-07-17 10:17:01 -0400 (Thu, 17 Jul 2003) | 2 lines

Style and remove one stray debug

------------------------------------------------------------------------
r274847 | conor | 2003-07-17 09:02:57 -0400 (Thu, 17 Jul 2003) | 2 lines

Implement array writes for output processing

------------------------------------------------------------------------
r274843 | peterreilly | 2003-07-17 07:04:16 -0400 (Thu, 17 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274842 | peterreilly | 2003-07-17 06:39:07 -0400 (Thu, 17 Jul 2003) | 14 lines

Fix for serial import relative files bug
The import task now uses getLocation().getFileName() to
get the file that the <import/> task is located and not
the importstack.

Also the canonical form of the imported file is stored
in the importstack.

Changed message if imported file is imported more than
once.

Include unit test for above.
PR: 21662

------------------------------------------------------------------------
r274841 | conor | 2003-07-17 06:36:29 -0400 (Thu, 17 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274840 | conor | 2003-07-17 06:20:16 -0400 (Thu, 17 Jul 2003) | 5 lines

Ensure all generated output gets through the output system to the
generating task

PR:	21636

------------------------------------------------------------------------
r274839 | peterreilly | 2003-07-17 05:25:13 -0400 (Thu, 17 Jul 2003) | 2 lines

Expose filename and linecount of location

------------------------------------------------------------------------
r274838 | peterreilly | 2003-07-17 05:21:32 -0400 (Thu, 17 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274837 | antoine | 2003-07-16 13:29:36 -0400 (Wed, 16 Jul 2003) | 4 lines

Allow Result Sets and Errors to be processed properly in SQL task with multiple statements
PR: 21594
Submitted by: Jeff Bohanek (jeff dot bohanek at msi dot com)

------------------------------------------------------------------------
r274836 | peterreilly | 2003-07-16 10:39:44 -0400 (Wed, 16 Jul 2003) | 7 lines

get the tasks imported using <import> to be placed
in-line and not at the end of the current tasks
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r274834 | peterreilly | 2003-07-16 10:14:38 -0400 (Wed, 16 Jul 2003) | 4 lines

Add make's keep-going feature into ANT.
PR: 21144
Obtained from: Alexey Solofnenko

------------------------------------------------------------------------
r274833 | bodewig | 2003-07-16 09:56:55 -0400 (Wed, 16 Jul 2003) | 2 lines

Fix symlink check

------------------------------------------------------------------------
r274832 | bodewig | 2003-07-16 09:34:14 -0400 (Wed, 16 Jul 2003) | 7 lines

Demonstrate symlink problem.

With includes="alpha/beta/gamma", gamma must not be scanned if beta is
a symlink.

Fix is in the works.

------------------------------------------------------------------------
r274831 | bodewig | 2003-07-16 07:47:52 -0400 (Wed, 16 Jul 2003) | 2 lines

Fix case-insensitive DirectiryScanner - I hope

------------------------------------------------------------------------
r274830 | bodewig | 2003-07-16 07:09:19 -0400 (Wed, 16 Jul 2003) | 7 lines

Add tests for case insensitive matching.

Both tests with CaseInsensitive in their name fail on Linux, I expect
test2ButCaseInsesitive to pass on case insensitive file systems.

Will be either fixed or disabled shortly.

------------------------------------------------------------------------
r274829 | bodewig | 2003-07-16 07:00:36 -0400 (Wed, 16 Jul 2003) | 5 lines

PathTokenizer didn't deal correctly with ../ style relative paths
following a colon in Unix style PATH structures on Netware.

Submitted by:	Jeff Tulley <JTULLEY at novell dot com>

------------------------------------------------------------------------
r274828 | bodewig | 2003-07-16 06:57:56 -0400 (Wed, 16 Jul 2003) | 2 lines

some whitespace changes plus assertTrue -> assertEquals in a couple of cases

------------------------------------------------------------------------
r274827 | bodewig | 2003-07-16 06:43:15 -0400 (Wed, 16 Jul 2003) | 4 lines

Make toURI and fromURI work correctly on Netware.

Submitted by: Jeff Tulley <JTULLEY at novell dot com>

------------------------------------------------------------------------
r274826 | antoine | 2003-07-15 19:19:15 -0400 (Tue, 15 Jul 2003) | 7 lines

Fix the following (remark of Stefan Bodewig on July 15th 2003 on the dev list)
* You go a long way to avoid redundantly adding patterns in
DirectoryScanner#checkIncludePatterns (the parent check).  If the
patterns come in reversed, you'll still have duplicate roots, no?  Say
a/b/c is added before a/b is.  You may avoid this by sorting the
include patterns first.

------------------------------------------------------------------------
r274825 | peterreilly | 2003-07-15 12:44:27 -0400 (Tue, 15 Jul 2003) | 2 lines

stylecheck

------------------------------------------------------------------------
r274824 | conor | 2003-07-15 10:54:15 -0400 (Tue, 15 Jul 2003) | 2 lines

style

------------------------------------------------------------------------
r274823 | bodewig | 2003-07-15 10:18:07 -0400 (Tue, 15 Jul 2003) | 2 lines

Only whitespace changes

------------------------------------------------------------------------
r274822 | peterreilly | 2003-07-15 05:05:53 -0400 (Tue, 15 Jul 2003) | 7 lines

use for loop instead of iterator when walking the list
of tasks, this allows tasks to be added to the current
list while the list is being walked.

Revert the script test that failed when it was adding
to the current task to test the change

------------------------------------------------------------------------
r274821 | conor | 2003-07-15 03:19:15 -0400 (Tue, 15 Jul 2003) | 5 lines

Ensure terminated processes are allowed to complete before finishing the
Ant shutdown

PR:	8510

------------------------------------------------------------------------
r274820 | antoine | 2003-07-14 18:13:18 -0400 (Mon, 14 Jul 2003) | 3 lines

checkstyle
remainders : mostly instance variables which should be private but are protected or public

------------------------------------------------------------------------
r274819 | antoine | 2003-07-14 16:21:11 -0400 (Mon, 14 Jul 2003) | 4 lines

Optimize DirectoryScanner to take advantage of include patterns which are
not beginning with wildcards
PR: 20103

------------------------------------------------------------------------
r274818 | peterreilly | 2003-07-14 13:29:17 -0400 (Mon, 14 Jul 2003) | 2 lines

fix for possible race condition on windows

------------------------------------------------------------------------
r274817 | conor | 2003-07-14 12:02:41 -0400 (Mon, 14 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274816 | conor | 2003-07-14 11:29:41 -0400 (Mon, 14 Jul 2003) | 2 lines

a bit o' checkstyling

------------------------------------------------------------------------
r274815 | conor | 2003-07-14 09:47:27 -0400 (Mon, 14 Jul 2003) | 2 lines

Slightly better message

------------------------------------------------------------------------
r274814 | conor | 2003-07-14 09:42:34 -0400 (Mon, 14 Jul 2003) | 2 lines

Remove use of InitializeClass now that we are JDK 1.2+

------------------------------------------------------------------------
r274813 | conor | 2003-07-14 08:07:22 -0400 (Mon, 14 Jul 2003) | 3 lines

Remove explicit mention of Parser jars in the manifest classpath
Set the context loader to allow parser to be found.

------------------------------------------------------------------------
r274812 | conor | 2003-07-14 06:28:42 -0400 (Mon, 14 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274811 | conor | 2003-07-13 22:53:52 -0400 (Sun, 13 Jul 2003) | 4 lines

Subtargets is a little confusing - change to "Other Targets"

PR:	14866

------------------------------------------------------------------------
r274810 | antoine | 2003-07-11 17:25:35 -0400 (Fri, 11 Jul 2003) | 5 lines

resolves bug : propertyfile does *2 instead of +1
actually due to field value of PropertyFile.Entry class overwritten
after execution with the result (contains the increment before execution)
PR: 21505

------------------------------------------------------------------------
r274809 | antoine | 2003-07-11 10:53:05 -0400 (Fri, 11 Jul 2003) | 4 lines

Allow FileUtilsTest to run on DOS/Windows when current drive letter is not C:
PR: 21383
Submitted by: Brad Clarke ( bclarke at booksys dot com)

------------------------------------------------------------------------
r274808 | antoine | 2003-07-11 08:59:29 -0400 (Fri, 11 Jul 2003) | 2 lines

added 3 new testcases for DirectoryScanner

------------------------------------------------------------------------
r274807 | antoine | 2003-07-11 05:13:16 -0400 (Fri, 11 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274806 | bodewig | 2003-07-11 05:03:20 -0400 (Fri, 11 Jul 2003) | 4 lines

Deal with jpackage's file system layout.

Submitted by:	Paul Nasrat <pauln at truemesh dot com>

------------------------------------------------------------------------
r274805 | antoine | 2003-07-11 04:33:11 -0400 (Fri, 11 Jul 2003) | 3 lines

PR: 21481
Solve issue with CvsTagDiff.java: rdiff command string adds single quote in wrong place

------------------------------------------------------------------------
r274803 | bodewig | 2003-07-10 07:52:50 -0400 (Thu, 10 Jul 2003) | 2 lines

Detect OpenVMS as <os family>

------------------------------------------------------------------------
r274802 | conor | 2003-07-10 07:49:08 -0400 (Thu, 10 Jul 2003) | 5 lines

Use language neutral variable, %ProgramFiles%, to locate Program Files dir

PR:	17308
Submitted by:	Dennis M�ller

------------------------------------------------------------------------
r274801 | conor | 2003-07-10 07:29:38 -0400 (Thu, 10 Jul 2003) | 2 lines

Remove warning about JAVA_HOME as it isn't required anymore

------------------------------------------------------------------------
r274799 | conor | 2003-07-09 23:32:34 -0400 (Wed, 09 Jul 2003) | 2 lines

Make launcher work on Win2K

------------------------------------------------------------------------
r274797 | conor | 2003-07-09 10:44:16 -0400 (Wed, 09 Jul 2003) | 2 lines

Checkstyle

------------------------------------------------------------------------
r274796 | conor | 2003-07-09 09:44:49 -0400 (Wed, 09 Jul 2003) | 2 lines

checkstyle

------------------------------------------------------------------------
r274795 | conor | 2003-07-09 09:14:51 -0400 (Wed, 09 Jul 2003) | 2 lines

Rollback - not tested yet

------------------------------------------------------------------------
r274794 | conor | 2003-07-09 09:12:25 -0400 (Wed, 09 Jul 2003) | 2 lines

Checkstyle

------------------------------------------------------------------------
r274793 | conor | 2003-07-09 09:11:16 -0400 (Wed, 09 Jul 2003) | 3 lines

Refactor some code into the Launcher.
Update ant script to use new launcher.

------------------------------------------------------------------------
r274792 | conor | 2003-07-09 08:12:59 -0400 (Wed, 09 Jul 2003) | 2 lines

Checkstyle

------------------------------------------------------------------------
r274791 | conor | 2003-07-09 07:34:09 -0400 (Wed, 09 Jul 2003) | 2 lines

typo

------------------------------------------------------------------------
r274790 | conor | 2003-07-09 07:24:31 -0400 (Wed, 09 Jul 2003) | 2 lines

Checkstyle

------------------------------------------------------------------------
r274789 | conor | 2003-07-07 20:26:38 -0400 (Mon, 07 Jul 2003) | 4 lines

Ensure logging message flag is reset
Reported By Darin Swanson
PR:	21386

------------------------------------------------------------------------
r274788 | peterreilly | 2003-07-07 10:54:00 -0400 (Mon, 07 Jul 2003) | 2 lines

checkstyle changes

------------------------------------------------------------------------
r274787 | peterreilly | 2003-07-07 10:40:14 -0400 (Mon, 07 Jul 2003) | 2 lines

add comment

------------------------------------------------------------------------
r274786 | peterreilly | 2003-07-07 10:39:13 -0400 (Mon, 07 Jul 2003) | 2 lines

Checkstyle changes

------------------------------------------------------------------------
r274785 | bodewig | 2003-07-07 09:57:28 -0400 (Mon, 07 Jul 2003) | 2 lines

Some whitespace changes

------------------------------------------------------------------------
r274784 | bodewig | 2003-07-07 09:50:57 -0400 (Mon, 07 Jul 2003) | 2 lines

Make checkstyle a little happier.

------------------------------------------------------------------------
r274783 | bodewig | 2003-07-07 09:05:03 -0400 (Mon, 07 Jul 2003) | 2 lines

Add destfile attribute to patch.

------------------------------------------------------------------------
r274782 | bodewig | 2003-07-07 05:08:44 -0400 (Mon, 07 Jul 2003) | 2 lines

Add support for JavaCC 3.1

------------------------------------------------------------------------
r274781 | bodewig | 2003-07-07 04:20:52 -0400 (Mon, 07 Jul 2003) | 2 lines

Move EmptyEnumeration to CollectionUtils

------------------------------------------------------------------------
r274780 | bodewig | 2003-07-07 04:18:39 -0400 (Mon, 07 Jul 2003) | 5 lines

Don't merge Class-Path attributes, deal with them like with any other
attribute - except that they may occur several times, that is.

PR: 21170

------------------------------------------------------------------------
r274777 | conor | 2003-07-06 11:33:27 -0400 (Sun, 06 Jul 2003) | 5 lines

Ignore directories in checking for out of date elements in a Zip/Jar task.
Directories can't really be out of date since they have no content.

PR:	21245

------------------------------------------------------------------------
r274776 | conor | 2003-07-06 05:57:37 -0400 (Sun, 06 Jul 2003) | 2 lines

More cleanup

------------------------------------------------------------------------
r274775 | conor | 2003-07-06 05:03:18 -0400 (Sun, 06 Jul 2003) | 2 lines

Fix a few checkstyle errors

------------------------------------------------------------------------
r274774 | conor | 2003-07-05 10:34:13 -0400 (Sat, 05 Jul 2003) | 2 lines

More cleanup

------------------------------------------------------------------------
r274773 | bruce | 2003-07-04 19:18:49 -0400 (Fri, 04 Jul 2003) | 2 lines

First pass at fixing checkstyle issues by using IDEA to reformat code and identify problem spots

------------------------------------------------------------------------
r274772 | peterreilly | 2003-07-04 15:20:53 -0400 (Fri, 04 Jul 2003) | 7 lines

fix for concurrent access to list exception for rhino testcase
The original script added tasks to the current target.
This is not a good idea, as an the task list of the target is being walked.
A change made recently uses an iterator instead of an enumerator to walk the list.
The iterator picks up the fact that the list has been changed
and causes the concurrent access exception.

------------------------------------------------------------------------
r274771 | peterreilly | 2003-07-04 13:00:11 -0400 (Fri, 04 Jul 2003) | 2 lines

changed for checkstyle

------------------------------------------------------------------------
r274770 | peterreilly | 2003-07-04 12:16:50 -0400 (Fri, 04 Jul 2003) | 2 lines

Fix echeckstyle reported issues

------------------------------------------------------------------------
r274769 | antoine | 2003-07-04 11:51:53 -0400 (Fri, 04 Jul 2003) | 3 lines

1) make sure that the -GTC flag on VSSGET only shows up when a timestamp has been set
2) make sure that if you have label="" you are not going to have -VL-L in the command line arguments

------------------------------------------------------------------------
r274768 | conor | 2003-07-04 10:04:56 -0400 (Fri, 04 Jul 2003) | 2 lines

Easy stuff - imports and licence headers

------------------------------------------------------------------------
r274767 | conor | 2003-07-04 09:22:43 -0400 (Fri, 04 Jul 2003) | 2 lines

Remove double-check pattern.

------------------------------------------------------------------------
r274766 | conor | 2003-07-04 09:03:38 -0400 (Fri, 04 Jul 2003) | 2 lines

More checkstyle fixes

------------------------------------------------------------------------
r274763 | conor | 2003-07-04 07:36:32 -0400 (Fri, 04 Jul 2003) | 2 lines

Fix up style errors

------------------------------------------------------------------------
r274762 | peterreilly | 2003-07-04 05:53:08 -0400 (Fri, 04 Jul 2003) | 2 lines

Use getProject() instead of the project field

------------------------------------------------------------------------
r274761 | peterreilly | 2003-07-04 05:35:31 -0400 (Fri, 04 Jul 2003) | 3 lines

Remove cloning of AntTypeDefinition when creating a sub-project
PR: 21296

------------------------------------------------------------------------
r274760 | bodewig | 2003-07-04 04:52:44 -0400 (Fri, 04 Jul 2003) | 2 lines

Indentation changes

------------------------------------------------------------------------
r274759 | peterreilly | 2003-07-04 04:48:19 -0400 (Fri, 04 Jul 2003) | 2 lines

clean up to pass checkstyle

------------------------------------------------------------------------
r274758 | bodewig | 2003-07-04 04:44:50 -0400 (Fri, 04 Jul 2003) | 4 lines

Reduce memory consumption by using lazy initialization.
Speed things up a little by using unsynchronized collections.
PR: 21296

------------------------------------------------------------------------
r274757 | bodewig | 2003-07-04 04:43:39 -0400 (Fri, 04 Jul 2003) | 3 lines

Speed up Path tokeinzation.
PR: 21296

------------------------------------------------------------------------
r274756 | peterreilly | 2003-07-04 04:15:43 -0400 (Fri, 04 Jul 2003) | 2 lines

clean up to pass checkstyle

------------------------------------------------------------------------
r274754 | antoine | 2003-07-03 17:48:06 -0400 (Thu, 03 Jul 2003) | 5 lines

Nested websphere element for ejbjar does not support spaces in file name.
This commit addresses this issue
PR: 21298
Submitted by: Lee Carver (leeca at pnambic dot com)

------------------------------------------------------------------------
r274753 | antoine | 2003-07-03 16:56:15 -0400 (Thu, 03 Jul 2003) | 4 lines

checkstyle fixes
PR: 21319
Submitted by: Patrick G. Heck (gus dot heck at olin dot edu)

------------------------------------------------------------------------
r274752 | antoine | 2003-07-03 16:47:10 -0400 (Thu, 03 Jul 2003) | 4 lines

checkstyle fixes
PR: 21316
Submitted by: Gus Heck (Gus dot Heck at Olin dot edu)

------------------------------------------------------------------------
r274751 | bodewig | 2003-07-03 11:43:09 -0400 (Thu, 03 Jul 2003) | 10 lines

Base <zip> and <zipfileset> on new ZipFile code.

This happens mainly for two reasons:

* preserve stored permissions unless the user explicitly overrides them
  (PR 2130).  This is now fixed for stored files, but not for directories.

* deal with filename encoding of existing archives.  Supposed to work
  properly now.

------------------------------------------------------------------------
r274750 | bodewig | 2003-07-03 11:38:39 -0400 (Thu, 03 Jul 2003) | 2 lines

Improve algorithm that searches for the central directory - don't get fooled by signatures appearing inside payload.

------------------------------------------------------------------------
r274749 | bodewig | 2003-07-03 11:00:36 -0400 (Thu, 03 Jul 2003) | 2 lines

Need to override isDirectory for situations where setName has been called

------------------------------------------------------------------------
r274748 | bodewig | 2003-07-03 10:59:59 -0400 (Thu, 03 Jul 2003) | 2 lines

Calendar.HOUR is different from Calendar.HOUR_OF_DAY

------------------------------------------------------------------------
r274747 | conor | 2003-07-03 09:59:50 -0400 (Thu, 03 Jul 2003) | 9 lines

Checkstyle update
I've updated the checkstyle buildfile (check.xml) to the
latest version of checkstyle. I've also updated
the HTML stylesheet and created two new stylesheets to render
the checkstyle report in plain text and the xdoc format we
use for the other Ant documentation.

I've also moved the checkstyle related stuff into its own area.

------------------------------------------------------------------------
r274746 | bodewig | 2003-07-03 09:02:01 -0400 (Thu, 03 Jul 2003) | 4 lines

Add support for filename-encodings other than UTF8 to <untar>.

PR: 10504

------------------------------------------------------------------------
r274743 | bodewig | 2003-07-03 04:30:11 -0400 (Thu, 03 Jul 2003) | 2 lines

Finish implementation of ZipFile, use it in Expand (AKA <unzip>).

------------------------------------------------------------------------
r274742 | bodewig | 2003-07-02 10:36:14 -0400 (Wed, 02 Jul 2003) | 6 lines

Initial support for reading of ZIP files - uncomplete as you cannot
get an InputStream to the ZipEntrys yet.

Will be needed to fix PR 10504 as well as to preserve permissions when
updating an archive (no PR yet).

------------------------------------------------------------------------
r274736 | antoine | 2003-06-30 09:51:35 -0400 (Mon, 30 Jun 2003) | 2 lines

cancel previous change

------------------------------------------------------------------------
r274735 | antoine | 2003-06-30 09:45:17 -0400 (Mon, 30 Jun 2003) | 2 lines

fix translate test

------------------------------------------------------------------------
r274733 | antoine | 2003-06-30 08:42:20 -0400 (Mon, 30 Jun 2003) | 2 lines

Try quick fix to make tests pass

------------------------------------------------------------------------
r274730 | antoine | 2003-06-30 06:41:00 -0400 (Mon, 30 Jun 2003) | 5 lines

The translate task did not translate tokens that are placed too close together.
This change fixes this. Thanks Tom, sorry for the time it took to process your patch.
PR: 17297
Submitted by: Tom Eugelink (tom at tbee dot org)

------------------------------------------------------------------------
r274728 | antoine | 2003-06-28 10:18:40 -0400 (Sat, 28 Jun 2003) | 5 lines

Make FileUtilsTest pass under cygwin
I found doing this how to tell whether one is running under cygwin
if the first letter (drive letter) of System.getProperty("user.dir")
is lower case then one is under cygwin

------------------------------------------------------------------------
r274726 | peterreilly | 2003-06-27 14:16:59 -0400 (Fri, 27 Jun 2003) | 2 lines

quick fix for Ant.java use of property in Ant#reinit

------------------------------------------------------------------------
r274724 | conor | 2003-06-27 07:19:22 -0400 (Fri, 27 Jun 2003) | 4 lines

New Launch facility. Separate jar now can be used to launch Ant which
takes over some of the functionality traditionally found in the Ant launch
scripts.

------------------------------------------------------------------------
r274723 | peterreilly | 2003-06-27 05:24:10 -0400 (Fri, 27 Jun 2003) | 7 lines

Get Project#getTaskDefinitions and Project#getDataTypeDefinitions
to emulate old behaviour
  This fixs the <antstructure/> output.
Provide ComponentHelper#getAntTypeTable to provide the full table
Revert changes to ProjectTest
Update Typedef.java (forgot this in previous commit)

------------------------------------------------------------------------
r274722 | peterreilly | 2003-06-26 12:45:05 -0400 (Thu, 26 Jun 2003) | 2 lines

opps - 2: set includedelims to the attribute in the C&P method

------------------------------------------------------------------------
r274721 | peterreilly | 2003-06-26 12:34:24 -0400 (Thu, 26 Jun 2003) | 2 lines

opps: set includedelims to the attribute

------------------------------------------------------------------------
r274720 | antoine | 2003-06-26 11:21:13 -0400 (Thu, 26 Jun 2003) | 2 lines

Make filtersets preserve line endings

------------------------------------------------------------------------
r274719 | bodewig | 2003-06-26 09:15:22 -0400 (Thu, 26 Jun 2003) | 2 lines

2003

------------------------------------------------------------------------
r274718 | peterreilly | 2003-06-26 04:54:29 -0400 (Thu, 26 Jun 2003) | 16 lines

Second patch from antlib update as described in
http://issues.apache.org/bugzilla/show_bug.cgi?id=19897
This patch
   * unifies the type and task definitions into one table
   * types and tasks are represented by a AntTypeDefinition object
   * taskadapter has been generalized to a typeadapter
   * <typedef/> has a number of new attributes:
       - adapter
       - adaptto
       - onerror
   * <taskdef/> html page updated to refer to <typedef/> page

PR: 19897
Submitted by:	Peter Reilly
Reviewed by:

------------------------------------------------------------------------
r274717 | antoine | 2003-06-25 16:17:45 -0400 (Wed, 25 Jun 2003) | 4 lines

Added ANTLR#setGlib(File)
Marked ANTLR#setGlib(String) as deprecated, and make it call
the new setGlib(File)

------------------------------------------------------------------------
r274716 | antoine | 2003-06-25 14:35:28 -0400 (Wed, 25 Jun 2003) | 3 lines

All the tests in ANTLRTest.java involving a super-grammar file were failing on Windows.
This change fixes the problem.

------------------------------------------------------------------------
r274715 | bodewig | 2003-06-25 08:13:52 -0400 (Wed, 25 Jun 2003) | 2 lines

Remove paste error

------------------------------------------------------------------------
r274714 | bodewig | 2003-06-25 07:52:47 -0400 (Wed, 25 Jun 2003) | 2 lines

Use the new FileUtils#rename method

------------------------------------------------------------------------
r274713 | bodewig | 2003-06-25 07:11:52 -0400 (Wed, 25 Jun 2003) | 2 lines

2003

------------------------------------------------------------------------
r274712 | bodewig | 2003-06-25 06:31:45 -0400 (Wed, 25 Jun 2003) | 2 lines

Make fixcrlf work even with /tmp on a separate filesystem

------------------------------------------------------------------------
r274711 | antoine | 2003-06-25 04:59:39 -0400 (Wed, 25 Jun 2003) | 4 lines

Fix ImageTest for Windows environments.
The test was failing due to non respect of the date/time granularity of the
filesystem.

------------------------------------------------------------------------
r274709 | antoine | 2003-06-24 17:20:04 -0400 (Tue, 24 Jun 2003) | 3 lines

Make ClassFileSetTest pass under Windows.
Scanned files are represented with File.separator, not with a slash under Windows

------------------------------------------------------------------------
r274708 | antoine | 2003-06-24 16:25:58 -0400 (Tue, 24 Jun 2003) | 4 lines

An error was happening under Windows when executing the cleanup,
test3.zip could not be deleted.
This is now fixed.

------------------------------------------------------------------------
r274706 | antoine | 2003-06-24 12:07:26 -0400 (Tue, 24 Jun 2003) | 3 lines

Use java.io.tmpdir as location for temporary files
in FileUtils#createTempFile (when the directory parameter is null)

------------------------------------------------------------------------
r274705 | bodewig | 2003-06-24 11:40:28 -0400 (Tue, 24 Jun 2003) | 2 lines

fix tests that failed because of wrong case in filenames

------------------------------------------------------------------------
r274704 | bodewig | 2003-06-24 11:28:23 -0400 (Tue, 24 Jun 2003) | 2 lines

2003 and some 'since' information

------------------------------------------------------------------------
r274702 | ehatcher | 2003-06-24 11:06:12 -0400 (Tue, 24 Jun 2003) | 2 lines

#20767 - adding totalproperty and todir attributes to checksum task - submitted by Aslak Hellesoy

------------------------------------------------------------------------
r274701 | ehatcher | 2003-06-24 10:58:25 -0400 (Tue, 24 Jun 2003) | 2 lines

Aslak prodded: issue 20767 - enhancements to checksum

------------------------------------------------------------------------
r274700 | bodewig | 2003-06-24 08:46:57 -0400 (Tue, 24 Jun 2003) | 4 lines

Allow <touch>'s datetime attribute to accept seconds as well.

PR: 21014

------------------------------------------------------------------------
r274699 | conor | 2003-06-24 07:33:48 -0400 (Tue, 24 Jun 2003) | 2 lines

2003

------------------------------------------------------------------------
r274698 | conor | 2003-06-24 07:29:20 -0400 (Tue, 24 Jun 2003) | 3 lines

PR:	17195
Submitted by:	Markku Saarela

------------------------------------------------------------------------
r274697 | bodewig | 2003-06-24 05:37:06 -0400 (Tue, 24 Jun 2003) | 3 lines

Fix error message when filtersfile is missing.
PR: 20825

------------------------------------------------------------------------
r274696 | bodewig | 2003-06-24 05:16:10 -0400 (Tue, 24 Jun 2003) | 6 lines

Add support for nested dirsets to <apply> and thus to a couple of
subclass-tasks as well.

PR: 20687
Submitted by:	Gus Heck <gus dot heck at olin dot edu>

------------------------------------------------------------------------
r274695 | bodewig | 2003-06-24 04:44:02 -0400 (Tue, 24 Jun 2003) | 4 lines

Create parent directories for destination files if they are missing.

PR: 20840

------------------------------------------------------------------------
r274694 | bodewig | 2003-06-24 04:32:43 -0400 (Tue, 24 Jun 2003) | 2 lines

Demonstrate PR 20840

------------------------------------------------------------------------
r274693 | antoine | 2003-06-23 12:18:00 -0400 (Mon, 23 Jun 2003) | 15 lines

Make FileUtilsTest pass on my machine (Windows 2000, JDK 1.4.1_02)
2 changes :
- there was no luck with setting the date/time of a file to 123456
milliseconds since the epoch
Instead, I set the date time of the file to current time + one day
this works.
- I changed the test toURI, specs beginning with / or \\ turn URIs
beginning with file:///C:/

Note :
I observed an error in the date/time returned by java and what I would
expect theoretically under Win 2000 and JDK 1.4.1_02
of 16,344,000 (16 millions of milliseconds), slightly
more than 4 and a half hours.

------------------------------------------------------------------------
r274692 | bodewig | 2003-06-23 10:56:32 -0400 (Mon, 23 Jun 2003) | 5 lines

Make Expand behave like DirectoryScanner if a pattern ends with a
trailing slash or backslash.

PR: 20696

------------------------------------------------------------------------
r274691 | bodewig | 2003-06-23 10:47:02 -0400 (Mon, 23 Jun 2003) | 2 lines

Demonstrate Bugzilla Report 20969

------------------------------------------------------------------------
r274690 | conor | 2003-06-23 08:07:20 -0400 (Mon, 23 Jun 2003) | 3 lines

PR:	20966
Submitted by:	Jesse Glick

------------------------------------------------------------------------
r274687 | bodewig | 2003-06-23 05:07:30 -0400 (Mon, 23 Jun 2003) | 2 lines

2003

------------------------------------------------------------------------
r274686 | antoine | 2003-06-23 05:06:59 -0400 (Mon, 23 Jun 2003) | 3 lines

Fixed imports, replaced import java.io.*; by each of the 4 classes
really used.

------------------------------------------------------------------------
r274684 | stevel | 2003-06-20 18:59:22 -0400 (Fri, 20 Jun 2003) | 2 lines

Doc fixup. I have just started to use this: I like it, but still need to understand all that it does.

------------------------------------------------------------------------
r274683 | stevel | 2003-06-20 15:33:51 -0400 (Fri, 20 Jun 2003) | 2 lines

xdocs fixup

------------------------------------------------------------------------
r274682 | antoine | 2003-06-20 12:29:53 -0400 (Fri, 20 Jun 2003) | 3 lines

Allow JUnit to reuse the same classloader when fork is set to false
Submitted by: michael_beauregard at transcanada dot com

------------------------------------------------------------------------
r274680 | antoine | 2003-06-20 07:09:36 -0400 (Fri, 20 Jun 2003) | 5 lines

Prevent <ejbjar> Borland implementation
from being blocked by java2iiop warning messages
PR: 19385
Submitted by: Benoit Moussaud (benoit dot moussaud at criltelecom dot com)

------------------------------------------------------------------------
r274678 | antoine | 2003-06-19 18:00:35 -0400 (Thu, 19 Jun 2003) | 7 lines

Create the temporary file for output of FixCrLf in the default directory
of FileUtils#createTempFile
This default directory is presently the current directory where ant is running.
I think it should be changed to the java.io.tmpdir
PR: 20870
Submitted by: Antoine Levy-Lambert

------------------------------------------------------------------------
r274677 | antoine | 2003-06-19 17:25:18 -0400 (Thu, 19 Jun 2003) | 4 lines

fix the issue : VAJRemoteUtil calls getAbsolutePath instead of getPath
PR: 20457
Submitted by: Douglas Reith (douglas_reith at yahoo dot com dot au)

------------------------------------------------------------------------
r274676 | conor | 2003-06-18 09:02:12 -0400 (Wed, 18 Jun 2003) | 2 lines

Rework scriptdef to use DynamicConfigurator

------------------------------------------------------------------------
r274675 | peterreilly | 2003-06-18 04:10:21 -0400 (Wed, 18 Jun 2003) | 4 lines

Add url attribute to the properties task
PR: 20749
Obtained from: Andrew Ferguson

------------------------------------------------------------------------
r274674 | peterreilly | 2003-06-18 03:44:55 -0400 (Wed, 18 Jun 2003) | 4 lines

get UpToDate task to log at verbose level when the target file does not exist
PR: 20848
Obtained from: Eli Tucker

------------------------------------------------------------------------
r274673 | umagesh | 2003-06-17 11:49:00 -0400 (Tue, 17 Jun 2003) | 5 lines

Throw a build exception if a public constructor that takes in a Reader as its
sole argument is absent.

PR: 20768

------------------------------------------------------------------------
r274671 | peterreilly | 2003-06-16 05:28:29 -0400 (Mon, 16 Jun 2003) | 5 lines

Added the mapper unpackage
PR: 18908
Obtained from: Brad Clark
Submitted by:  Peter Reilly

------------------------------------------------------------------------
r274670 | antoine | 2003-06-15 16:26:57 -0400 (Sun, 15 Jun 2003) | 4 lines

add cvsroot and package attributes to the output of <cvstagdiff/>
PR: 16081
Submitted by: Rob van Oostrum (rob at springwellfarms dot ca)

------------------------------------------------------------------------
r274668 | antoine | 2003-06-15 15:37:11 -0400 (Sun, 15 Jun 2003) | 4 lines

fix handling in cvstagdiff of date time formatted as "dd-MM-yy hh:mm:ss"
PR: 15995
Obtained from: Rob Van Oostrum (rob at springwellfarms dot ca)

------------------------------------------------------------------------
r274667 | stevel | 2003-06-13 01:16:36 -0400 (Fri, 13 Jun 2003) | 2 lines

This is not yet linked into <java> but its the intent, or maybe commandLineJava: a datatype for configuring assertion options. This'll be a fun one to test :)

------------------------------------------------------------------------
r274666 | stevel | 2003-06-13 01:15:11 -0400 (Fri, 13 Jun 2003) | 2 lines

refactoring out something that I see in too, too many places in datatypes

------------------------------------------------------------------------
r274665 | stevel | 2003-06-13 01:14:34 -0400 (Fri, 13 Jun 2003) | 2 lines

nobody can hide from the comment police

------------------------------------------------------------------------
r274660 | stevel | 2003-06-10 16:57:59 -0400 (Tue, 10 Jun 2003) | 2 lines

Importing COM into .NET is adding injury to insult, but if you had to unit test a COM object, how would you do it?

------------------------------------------------------------------------
r274659 | conor | 2003-06-10 10:05:58 -0400 (Tue, 10 Jun 2003) | 2 lines

Improve error messages when creating tasks

------------------------------------------------------------------------
r274658 | conor | 2003-06-10 10:01:24 -0400 (Tue, 10 Jun 2003) | 4 lines

Resolve memory leak when ejecuteJava cleans up AntClassLoader

PR:	20264

------------------------------------------------------------------------
r274657 | conor | 2003-06-10 09:29:56 -0400 (Tue, 10 Jun 2003) | 6 lines

Various I/O fixes to support input from java tasks.
Addition of a -noinput flag to indicate input is not allowed
to prevent locking up non-interactive builds.

PR:	18133

------------------------------------------------------------------------
r274656 | conor | 2003-06-09 23:00:45 -0400 (Mon, 09 Jun 2003) | 4 lines

Add support for -target to Jikes compiler adapter

PR:	20580

------------------------------------------------------------------------
r274655 | conor | 2003-06-09 10:40:44 -0400 (Mon, 09 Jun 2003) | 2 lines

Wrong date

------------------------------------------------------------------------
r274654 | conor | 2003-06-09 09:38:07 -0400 (Mon, 09 Jun 2003) | 2 lines

Allow tasks to be defined on the fly using scripts

------------------------------------------------------------------------
r274653 | antoine | 2003-06-06 17:12:13 -0400 (Fri, 06 Jun 2003) | 5 lines

Fix hopefully bug 18956.
The code has been tested on Linux by Adam Ambrose
P4HandlerAdapter will now delegate to PumpStreamHandler
PR: 18956

------------------------------------------------------------------------
r274649 | peterreilly | 2003-06-05 05:35:47 -0400 (Thu, 05 Jun 2003) | 8 lines

Fix for 20499:
When a proxied task throws a build exception, or other
exception, the taskadapter reports this at
error level. This is incorrect as the
intent of taskadapter is to transparently adapt
a task, the exception should be reported
at verbose level.

------------------------------------------------------------------------
r274642 | antoine | 2003-06-03 17:13:54 -0400 (Tue, 03 Jun 2003) | 7 lines

Make sure that javac source files in lists passed to external compilers
are always quoted in the default external compiler implementations
Also replace backslashes with slashes in path names containing spaces
PR: 10499 17683
Submitted by: Joe Boon (joe dot boon at cdcsolutions dot com) and
              Anne Kinsella (anne dot kinsella at iona dot com)

------------------------------------------------------------------------
r274641 | bodewig | 2003-05-30 05:31:45 -0400 (Fri, 30 May 2003) | 8 lines

Revert logic that performs the <os family="win9x"/> check from "I know
all that are not win9x" to "I know all thar are win9x".

Note that the list is as authoritative, complete and real-world-tested
as my knowledge on said platform. ;-)

PR: 16611

------------------------------------------------------------------------
r274640 | bodewig | 2003-05-30 02:35:41 -0400 (Fri, 30 May 2003) | 3 lines

Log all statements in <sql>
PR: 20309

------------------------------------------------------------------------
r274639 | antoine | 2003-05-29 17:35:42 -0400 (Thu, 29 May 2003) | 4 lines

config attribute added to set the location of a specific PVCS .cfg file
PR: 9752
Submitted by: Jon Dickinson (dickinson dot j at ucles dot org dot uk )

------------------------------------------------------------------------
r274638 | antoine | 2003-05-29 11:56:18 -0400 (Thu, 29 May 2003) | 3 lines

changed email address of Rob van Oostrum to rob at springwellfarms dot ca
PR: 14709

------------------------------------------------------------------------
r274637 | antoine | 2003-05-29 11:35:26 -0400 (Thu, 29 May 2003) | 5 lines

Adds functionality that makes jboss element look for jbosscmp-jdbc.xml
descriptor if ejbjar has cmpversion="2.0" set
PR: 14709
Submitted by: Rob van Oostrum (rvanoo at xs4all dot nl)

------------------------------------------------------------------------
r274636 | antoine | 2003-05-28 16:58:03 -0400 (Wed, 28 May 2003) | 3 lines

Support for SMTP over TLS/SSL in the mail task
PR: 19180

------------------------------------------------------------------------
r274635 | peterreilly | 2003-05-28 12:27:37 -0400 (Wed, 28 May 2003) | 61 lines


PR: 19897
Submitted by:	Peter Reilly

This patch adds the add(Type) to the introspection rules and
updates ConditionBase, FilterChain, Path, SelectorBase and TokenFilter
to use the new introspection rule.

=========================================
=   Changed Files
=========================================

src/main/org/apache/tools/ant/ProjectHelper.java
  add two methods used by introspection - getComponentClass and
  createComponent

src/main/org/apache/tools/ant/IntrospectionHelper.java
  implement addTypeMethods add(Type)

src/main/org/apache/tools/ant/filters/TokenFilter.java
   get TokenFilter to use add(Type) instead of dynamicconfigurator
   make all nested classes ProjectComponents

src/main/org/apache/tools/ant/taskdefs/Delete.java
   implement an add(FileSelector) method

src/main/org/apache/tools/ant/taskdefs/MatchingTask.java
   implement an add(FileSelector) method

src/main/org/apache/tools/ant/taskdefs/condition/ConditionBase.java
   add an add(Condition) method to demostrate use of add(Type) method

src/main/org/apache/tools/ant/types/AbstractFileSet.java
   implement add(FileSelector)

src/main/org/apache/tools/ant/types/FilterChain.java
   use add(ChainableReader) instead of DynamicConfigurator

src/main/org/apache/tools/ant/types/Path.java
  add an add(Path) method

src/main/org/apache/tools/ant/types/optional/ScriptFilter.java
  remove set/get project as parent imlements them now

src/main/org/apache/tools/ant/types/selectors/BaseSelectorContainer.java
  implement the add(FileSelector) method

src/main/org/apache/tools/ant/types/selectors/SelectorContainer.java
  add an add(FileSelector) method


=========================================
=   New Files
=========================================

src/etc/testcases/types/addtype.xml
  testcases for addtype

src/testcases/org/apache/tools/ant/types/AddTypeTest.java
  test cases for add type

------------------------------------------------------------------------
r274634 | bodewig | 2003-05-28 11:42:21 -0400 (Wed, 28 May 2003) | 2 lines

2003

------------------------------------------------------------------------
r274633 | peterreilly | 2003-05-28 11:31:07 -0400 (Wed, 28 May 2003) | 2 lines

fix for bug 20306 - regex handling of $ in replace string

------------------------------------------------------------------------
r274631 | antoine | 2003-05-28 09:21:24 -0400 (Wed, 28 May 2003) | 5 lines

Followed Peter Reilly's suggestion and added support for the selectors
<different> and <type> in SelectorContainer and MatchingTask.
This type of changes will soon become history.
PR: 20220

------------------------------------------------------------------------
r274630 | ehatcher | 2003-05-28 09:12:03 -0400 (Wed, 28 May 2003) | 2 lines

Apply patch from #20270 - adds if/unless clause to junit formatters.  Submitted by Eli Tucker

------------------------------------------------------------------------
r274629 | antoine | 2003-05-28 04:02:41 -0400 (Wed, 28 May 2003) | 5 lines

Remove dependency to JavaMail for MailLogger by using the Mailer class
and Class.forName() instead of the MimeMailer class directly
Also remove another bug in the MailLogger which would have forbidden to send plain mail
PR: 5969

------------------------------------------------------------------------
r274626 | bruce | 2003-05-27 11:41:35 -0400 (Tue, 27 May 2003) | 2 lines

Finally added some documentation on the Selectors Test Framework

------------------------------------------------------------------------
r274624 | antoine | 2003-05-27 11:25:48 -0400 (Tue, 27 May 2003) | 4 lines

Implementation of SMTP-Auth for MimeMail, available through <mail/>
and MailLogger.
PR: 5969

------------------------------------------------------------------------
r274623 | bodewig | 2003-05-27 05:43:22 -0400 (Tue, 27 May 2003) | 3 lines

Remove split System.arraycopy that is a leftover from times where we
forced the -jar argument to be the first on the command line.

------------------------------------------------------------------------
r274622 | bodewig | 2003-05-27 05:30:17 -0400 (Tue, 27 May 2003) | 2 lines

fix the completely broken clone() implementations.

------------------------------------------------------------------------
r274621 | bodewig | 2003-05-27 04:49:42 -0400 (Tue, 27 May 2003) | 5 lines

Add a nested <bootclasspath> to <java>.
Submitted by:	W. Craig Trader <craig dot trader at lmco dot com>

Do the same for <junit>.

------------------------------------------------------------------------
r274618 | bodewig | 2003-05-26 02:17:49 -0400 (Mon, 26 May 2003) | 2 lines

Copyright line fixes

------------------------------------------------------------------------
r274617 | antoine | 2003-05-25 07:40:54 -0400 (Sun, 25 May 2003) | 9 lines

new selector <type> allowing to sort files only or directories only
can be extended to support selecting
 - is file readable
 - is file writeable
 - file exists
 - file is hidden
PR: 20222
Submitted by: Jeff Turner (jefft at apache dot org)

------------------------------------------------------------------------
r274615 | antoine | 2003-05-25 05:43:53 -0400 (Sun, 25 May 2003) | 6 lines

Make ignoreFileTimes default to true in DifferentSelector to preserve backward compatibility
in the behavior of the selector and also make the selector more user friendly.
One expects that most users want to ignore file timestamps.
PR: 20205
Submitted by: Jeff Turner (jefft at apache dot org)

------------------------------------------------------------------------
r274614 | antoine | 2003-05-25 05:07:18 -0400 (Sun, 25 May 2003) | 4 lines

Allow to nest the DifferentSelector using the tag <different/> directly inside filesets
PR: 20220
Submitted by: Jeff Turner (jefft at apache dot org)

------------------------------------------------------------------------
r274612 | antoine | 2003-05-24 11:28:38 -0400 (Sat, 24 May 2003) | 3 lines

New p4labelsync task - update in documentation of Perforce tasks
PR: 18431

------------------------------------------------------------------------
r274611 | antoine | 2003-05-24 09:52:49 -0400 (Sat, 24 May 2003) | 12 lines

While reviewing this contribution, I saw that the original test in line 120
of DifferentSelector.java :
        if(sameDate && !ignoreFileTimes) {
            return true;
        }
was wrong. I changed it to if (!sameDate) {
                             return true;
                            }
Also, DifferentSelector has no Junit test yet, this should be done.
PR: 20205
Submitted by: Jeff Turner (jefft at apache dot org)

------------------------------------------------------------------------
r274609 | bodewig | 2003-05-23 10:23:58 -0400 (Fri, 23 May 2003) | 2 lines

simplify patch a little further

------------------------------------------------------------------------
r274608 | bodewig | 2003-05-23 10:15:42 -0400 (Fri, 23 May 2003) | 5 lines

Load formatter from user specified classpath - even in the timeout case.

PR: 19953
Submitted by:	Mariano Benitez <mariano at fuegolabs dot com>

------------------------------------------------------------------------
r274607 | bodewig | 2003-05-23 09:40:37 -0400 (Fri, 23 May 2003) | 6 lines

NonStop Kernel is Unix as far as Ant is concerned.

<attrib> doesn't like to be called with parallel.

<chgrp> and <chown> should also disable the addsourcefile attribute.

------------------------------------------------------------------------
r274606 | antoine | 2003-05-22 03:27:51 -0400 (Thu, 22 May 2003) | 5 lines

Removed ignoremissingbuildfile, following a remark of DD (Dominique Devienne)
in bugzilla.
fileset(s) should be used in the case where some directories do not contain a build file.
PR: 18715

------------------------------------------------------------------------
r274605 | bodewig | 2003-05-21 09:29:55 -0400 (Wed, 21 May 2003) | 5 lines

What has been -traceTreeWalker in ANTLR 2.7.0 has become
-traceTreeParser in 2.7.2

PR: 20020

------------------------------------------------------------------------
r274600 | antoine | 2003-05-21 03:27:26 -0400 (Wed, 21 May 2003) | 7 lines

changes in subant mainly concerning iterations done inside a dirset
new attributes ignoremissingbuildfiles and genericantfile
genericantfile allows to run the same build file with different base dirs
it is not compulsory any more to set the attribute target to quote quote to run the default target
PR: 18715
Submitted by: Andreas Ames (Andreas dot Ames at tenovis dot com)

------------------------------------------------------------------------
r274599 | bodewig | 2003-05-21 02:37:06 -0400 (Wed, 21 May 2003) | 2 lines

Fix self assignment - PR: 19288 - Submitted by: Thierry Lach

------------------------------------------------------------------------
r274596 | bodewig | 2003-05-19 11:55:23 -0400 (Mon, 19 May 2003) | 4 lines

removeLeadingPath didn't work as expected when trying to remove a path
from itself.
PR: 19979

------------------------------------------------------------------------
r274595 | bodewig | 2003-05-19 11:41:22 -0400 (Mon, 19 May 2003) | 2 lines

revert funny reformatting accidentially introduced with last commit

------------------------------------------------------------------------
r274594 | bodewig | 2003-05-19 11:37:31 -0400 (Mon, 19 May 2003) | 4 lines

Make <copy>'s failonerror attribute swallow exception while copying as
well.
PR: 12999

------------------------------------------------------------------------
r274593 | bodewig | 2003-05-19 11:21:15 -0400 (Mon, 19 May 2003) | 3 lines

Remove directories explicitly matched with includes.
PR: 11732

------------------------------------------------------------------------
r274592 | bodewig | 2003-05-19 10:43:17 -0400 (Mon, 19 May 2003) | 4 lines

Don't remove basedirectories of <fileset>s that just happen to be
matched completely.
PR: 18886

------------------------------------------------------------------------
r274591 | bodewig | 2003-05-19 10:27:43 -0400 (Mon, 19 May 2003) | 2 lines

Actually, the test for 18886 was supposed to work as is, this is a better test

------------------------------------------------------------------------
r274589 | bodewig | 2003-05-19 10:11:24 -0400 (Mon, 19 May 2003) | 2 lines

Demonstrate bug 18886

------------------------------------------------------------------------
r274588 | bodewig | 2003-05-19 10:05:23 -0400 (Mon, 19 May 2003) | 2 lines

Demonstrate bug 11732

------------------------------------------------------------------------
r274587 | bodewig | 2003-05-19 08:18:08 -0400 (Mon, 19 May 2003) | 16 lines

You can now limit the parallelism of <apply> and <chmod> by using the
new maxparallel attribute.
Submitted by:	Frank A. Hunleth <fhunleth at cs dot wustl dot edu>
used in build.xml to fix PR: 17640

With the new addsourcefile attribute, you can make <apply> ommit the
source file names from the command line.
PR: 13654

<apply> and <chmod> now support nested <filelist>s as well.
PR: 15929

<apply> and <chmod> will display a summary if you set the new verbose
attribute to true.
PR: 19883

------------------------------------------------------------------------
r274585 | bodewig | 2003-05-16 05:22:29 -0400 (Fri, 16 May 2003) | 4 lines

Skip <input> if it is asked to set a property that has already been set.

PR: 19967

------------------------------------------------------------------------
r274584 | bodewig | 2003-05-15 08:44:01 -0400 (Thu, 15 May 2003) | 14 lines

<javac>'s executable attribute can now also be used to specify the
executable for jikes, jvc, sj or gcj.
PR: 13814

<javac> has a new attribute tempdir that can control the placement of
temporary files.
PR: 19765

A new magic property build.compiler.jvc.extensions has been added that
can be used to turn of Microsoft extensions while using the jvc
compiler.
PR: 19826
Submitted by:	Joseph Walton <joe at kafsemo dot org>

------------------------------------------------------------------------
r274583 | bodewig | 2003-05-15 08:22:47 -0400 (Thu, 15 May 2003) | 2 lines

2003

------------------------------------------------------------------------
r274582 | antoine | 2003-05-15 07:30:27 -0400 (Thu, 15 May 2003) | 9 lines

implemented replyto in the EmailTask and the MailLogger.
I have implemented it similarly to the other lists of email addresses (To, CC, Bcc)
because it might actually be easier that way
We might still need a generic parameter collection for other header elements
PR: 19141
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r274580 | bodewig | 2003-05-14 11:10:23 -0400 (Wed, 14 May 2003) | 2 lines

fix @since tag

------------------------------------------------------------------------
r274578 | bodewig | 2003-05-14 11:01:12 -0400 (Wed, 14 May 2003) | 12 lines

Similar to PR: 10499, filenames passed in via @argfile needs to be
quoted if they contain spaces in JDK 1.4's javadoc.
PR: 16871

Enable usage of standard tags in <tag> by making description optional.
PR: 18912

Support the -noqualifier switch.
PR: 19288

Add nested <arg> as a more convenient alternative to additionalparams.

------------------------------------------------------------------------
r274577 | bodewig | 2003-05-14 09:37:21 -0400 (Wed, 14 May 2003) | 2 lines

Provide more feedback while <get>ing in verbose mode

------------------------------------------------------------------------
r274576 | bodewig | 2003-05-14 08:49:14 -0400 (Wed, 14 May 2003) | 3 lines

Add new builtin attribute to <propertyset> that selects certain
predefined propertysets.

------------------------------------------------------------------------
r274575 | bodewig | 2003-05-14 08:40:18 -0400 (Wed, 14 May 2003) | 2 lines

Make <echoproperties> support nested <propertyset>s.

------------------------------------------------------------------------
r274571 | bodewig | 2003-05-14 07:52:08 -0400 (Wed, 14 May 2003) | 5 lines

Remove *encoding attributes from <sync> as they are meaningless when
we are not filtering in <copy>.

Add documentation for <sync>.

------------------------------------------------------------------------
r274566 | bodewig | 2003-05-13 10:37:04 -0400 (Tue, 13 May 2003) | 5 lines

Add <rexec> to accompany <telnet> and/or <sshexec>.

PR: 19541
Submitted by:	Fran�ois Rey <francois dot rey at capco dot com>

------------------------------------------------------------------------
r274565 | bodewig | 2003-05-13 03:22:02 -0400 (Tue, 13 May 2003) | 5 lines

Make <rpm> deal with RedHat 8+'s rpmbuild command.

PR: 14650
Submitted by:	Ville Skytta <ville dot skytta at iki dot fi>

------------------------------------------------------------------------
r274562 | bodewig | 2003-05-12 10:00:10 -0400 (Mon, 12 May 2003) | 2 lines

Add nested <propertyset>s to <java> and <junit>.

------------------------------------------------------------------------
r274561 | bodewig | 2003-05-12 08:57:05 -0400 (Mon, 12 May 2003) | 2 lines

Add nested <propertyset>s to <ant>, <antcall> and <subant>.

------------------------------------------------------------------------
r274560 | bodewig | 2003-05-12 08:16:07 -0400 (Mon, 12 May 2003) | 2 lines

Nested mappers didn't work for references

------------------------------------------------------------------------
r274557 | bodewig | 2003-05-09 09:32:07 -0400 (Fri, 09 May 2003) | 5 lines

outputencoding and fixlastline attributes for <concat>

PR: 12511
Submitted by:	Peter Reilly <peter dot reilly at corvil dot com>

------------------------------------------------------------------------
r274556 | bodewig | 2003-05-09 09:01:00 -0400 (Fri, 09 May 2003) | 4 lines

New data-type <propertyset>.

Submitted by:	Dominique Devienne <ddevienne at lgc dot com>

------------------------------------------------------------------------
r274555 | bodewig | 2003-05-09 08:44:52 -0400 (Fri, 09 May 2003) | 2 lines

retain old array for backwards compatibility.

------------------------------------------------------------------------
r274554 | bodewig | 2003-05-09 08:10:36 -0400 (Fri, 09 May 2003) | 5 lines

A new task that allows users to modify the list of default excludes.

PR: 12700
Submitted by:	Gus Heck <gus dot heck at olin dot edu>

------------------------------------------------------------------------
r274553 | bodewig | 2003-05-06 11:19:17 -0400 (Tue, 06 May 2003) | 18 lines

Big VAJ changes, in particular if they have ever worked for anybody,
they probably won't do so any longer.

Make the servlets work by using IBM's servlet classes
PR: 10016

URL-encoding in <vaj*port> didn't work properly.

The VAJ tasks now support a haltonfailure attribute to conditionally
keep building even if they fail.

It is now possible to use the latest (versioned or unversioned)
edition in <vajload> by using special wildcard characters.
PR: 2236.

Submitted by:	Martin Landers <landers at in dot tum dot de>
                Francois Rey <francois dot rey at capco dot com>

------------------------------------------------------------------------
r274551 | bodewig | 2003-05-06 09:01:07 -0400 (Tue, 06 May 2003) | 2 lines

need a leading dash for JProbe 4 as well

------------------------------------------------------------------------
r274550 | costin | 2003-05-05 09:59:24 -0400 (Mon, 05 May 2003) | 7 lines

Last part of component helper merge ( including the fix contains -> containsKey for the test case )

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r274549 | costin | 2003-05-04 22:20:25 -0400 (Sun, 04 May 2003) | 9 lines

ComponentHelper has been checked in for some time - and I don't know
any -1 or major complain.

This removes the duplicated code and switches the component creation
to component helper.

I used it in my workspace for a long time without problem - and the gump
seems to work just like before.

------------------------------------------------------------------------
r274548 | costin | 2003-05-04 22:17:28 -0400 (Sun, 04 May 2003) | 9 lines

Remove one method - it wasn't used, and it seems it's not powerfull enough for
all cases discussed. The method that takes UnknownElement, ns, tag should
be able to cover everything ( by having access to UE you get access to parent
and all the tree - so any kind of policy can be implemented )

Of course - nothing calls this method yet. Switching UnknwonElement and the
normal component creation is easy - but there are many pieces of code that
call the old method.

------------------------------------------------------------------------
r274547 | costin | 2003-05-03 10:30:26 -0400 (Sat, 03 May 2003) | 9 lines

Plug the namespace uri. One way or another - we'll need it.

Also fix the qname - we need to use the localname.

Originally used qname to avoid breaking build files that used : ( they still
needed to declare a namespace for that previx - otherwise SAX would complain ).
( not sure about the last part - I think some parsers, when validation is off, will
allow : to be used and pass whatever was used as qname ).

------------------------------------------------------------------------
r274546 | costin | 2003-05-03 02:27:00 -0400 (Sat, 03 May 2003) | 7 lines

The ctor takes Project as param.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r274545 | costin | 2003-05-03 01:59:35 -0400 (Sat, 03 May 2003) | 11 lines

Update with the changes in Project.

This makes ComponentHelper the almost exact duplication of the task creation
code in Project.


PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r274544 | bodewig | 2003-05-02 10:50:10 -0400 (Fri, 02 May 2003) | 5 lines

Improve fix for PR: 19449.

Don't drop directory entries after we've found out they were outdated,
but simply do not perform timestamp checks on the at all.

------------------------------------------------------------------------
r274543 | bodewig | 2003-05-02 10:44:53 -0400 (Fri, 02 May 2003) | 5 lines

Don't update archives because it lacks directory entries when we are
not going to add directory entries either.

PR: 19449

------------------------------------------------------------------------
r274542 | bodewig | 2003-05-02 10:24:58 -0400 (Fri, 02 May 2003) | 2 lines

Demonstrate bug 19449

------------------------------------------------------------------------
r274541 | bodewig | 2003-05-02 04:18:36 -0400 (Fri, 02 May 2003) | 6 lines

Provide control over EOL conversion via a new attribute.

PR: 18884
Submitted by:	Steve Cohen <scohen at apache dot org>
                Aaron DeForest <aaron underscore deforest at rosettabio dot com>

------------------------------------------------------------------------
r274535 | bodewig | 2003-04-29 10:16:45 -0400 (Tue, 29 Apr 2003) | 2 lines

Minor doc changes and optimizations

------------------------------------------------------------------------
r274534 | bodewig | 2003-04-29 09:27:38 -0400 (Tue, 29 Apr 2003) | 3 lines

A more defensive approach to PR: 14849, keep things as they've been
unless we are using JProbe 4+.

------------------------------------------------------------------------
r274533 | bodewig | 2003-04-29 09:16:22 -0400 (Tue, 29 Apr 2003) | 12 lines

From the JDK tool-docs for javac of JDK 1.4:

> An argument file can include javac options and source filenames in
> any combination. The arguments within a file can be space-separated
> or newline-separated.

that means, file names must be quoted if they contain spaces.  No idea
whether this is true for JDK 1.2 or 1.3 as well (1.1 doesn't support
@argfile).

PR: 10499

------------------------------------------------------------------------
r274528 | jesse | 2003-04-28 11:46:03 -0400 (Mon, 28 Apr 2003) | 2 lines

Fix javadocs comments and add new @ant.attribute tags for xdocs

------------------------------------------------------------------------
r274527 | bodewig | 2003-04-28 08:42:47 -0400 (Mon, 28 Apr 2003) | 3 lines

Only tasks should be case-sensitive inside TaskContainers - simply the
code a little.

------------------------------------------------------------------------
r274525 | bodewig | 2003-04-28 08:19:18 -0400 (Mon, 28 Apr 2003) | 6 lines

Enable mixed-case task names inside task-containers while trying to
keep backwards compatibility for all other cases (all "normal" nested
element names get converted to lower case).

PR: 19323

------------------------------------------------------------------------
r274524 | bodewig | 2003-04-28 06:30:00 -0400 (Mon, 28 Apr 2003) | 4 lines

Demonstrate bug 19323

Submitted by:	Jim Scarborough <jimes at hiwaay dot net>

------------------------------------------------------------------------
r274523 | bodewig | 2003-04-28 06:07:11 -0400 (Mon, 28 Apr 2003) | 4 lines

output file must be specified as argument for JProbe 4.x.

PR: 14849

------------------------------------------------------------------------
r274518 | jesse | 2003-04-25 17:10:02 -0400 (Fri, 25 Apr 2003) | 2 lines

Fix the javadoc comments and add @ant.attribute tags for xdocs documentation generation

------------------------------------------------------------------------
r274515 | jesse | 2003-04-25 10:11:16 -0400 (Fri, 25 Apr 2003) | 2 lines

Add some new @tags for xdocs

------------------------------------------------------------------------
r274512 | bodewig | 2003-04-24 09:02:57 -0400 (Thu, 24 Apr 2003) | 5 lines

<unzip> can now deal with self-extracting archives.

PR: 16213
Submitted by:	Jason Salter <jasonsalter at hotmail dot com>

------------------------------------------------------------------------
r274511 | bodewig | 2003-04-24 05:37:48 -0400 (Thu, 24 Apr 2003) | 2 lines

More code reuse

------------------------------------------------------------------------
r274510 | bodewig | 2003-04-24 05:27:02 -0400 (Thu, 24 Apr 2003) | 2 lines

More code reuse

------------------------------------------------------------------------
r274509 | bodewig | 2003-04-24 05:11:38 -0400 (Thu, 24 Apr 2003) | 4 lines

Properly deal with multi-byte encodings by reusing existing code that does.

PR: 19187

------------------------------------------------------------------------
r274507 | bodewig | 2003-04-23 11:57:43 -0400 (Wed, 23 Apr 2003) | 11 lines

Improve OS/2 support:

* Apparently the vmlauncher in OS/2's JDK 1.3 doesn't work properly,
  disable it.

* Add REXX scripts to run Ant.

* Add OS/2 specific notes to the docs.

Submitted by:	Zdenek Wagner <wagner at cesnet dot cz>

------------------------------------------------------------------------
r274506 | umagesh | 2003-04-23 11:12:13 -0400 (Wed, 23 Apr 2003) | 7 lines

Enable previously disabled head-tail tests.
Make StripJavaComments recognize and retain Mac line endings.

PR: 18476

Submitted by: peter.reilly@corvil.com (peter reilly)

------------------------------------------------------------------------
r274505 | bodewig | 2003-04-23 11:03:06 -0400 (Wed, 23 Apr 2003) | 6 lines

Make Definer use the new ClasspathUtils, make ClasspathUtils even more
reuse-friendly.

PR: 19213
Submitted by:	Marc Portier <mpo at apache dot org>

------------------------------------------------------------------------
r274504 | antoine | 2003-04-23 03:20:17 -0400 (Wed, 23 Apr 2003) | 2 lines

fix ZipFileSet#getRef for referenced ZipFileSets

------------------------------------------------------------------------
r274503 | bodewig | 2003-04-23 02:34:53 -0400 (Wed, 23 Apr 2003) | 4 lines

Add testcase for containsregexp selector.

Submitted by:	Jay <jvandermeer2 at comcast dot net>

------------------------------------------------------------------------
r274502 | antoine | 2003-04-22 19:33:32 -0400 (Tue, 22 Apr 2003) | 2 lines

fix because of class cast exception detected

------------------------------------------------------------------------
r274501 | antoine | 2003-04-22 19:16:30 -0400 (Tue, 22 Apr 2003) | 2 lines

avoid backward compatibility problems for lib attribute of war task, so relax ZipFileSet#getRef

------------------------------------------------------------------------
r274500 | antoine | 2003-04-22 18:12:53 -0400 (Tue, 22 Apr 2003) | 2 lines

allow to set a property with the exit code of java bugrep 19099 submitted by Donal Quinlan (donal at savvion dot com)

------------------------------------------------------------------------
r274499 | umagesh | 2003-04-22 14:23:55 -0400 (Tue, 22 Apr 2003) | 6 lines

filter readers modify lineendings.

PR: 18476

Submitted by: peter.reilly@corvil.com (peter reilly)

------------------------------------------------------------------------
r274495 | bodewig | 2003-04-22 03:35:17 -0400 (Tue, 22 Apr 2003) | 2 lines

2003

------------------------------------------------------------------------
r274490 | antoine | 2003-04-21 12:48:25 -0400 (Mon, 21 Apr 2003) | 2 lines

removed 4 duplicate Visual Source Safe tasks

------------------------------------------------------------------------
r274489 | jesse | 2003-04-21 10:27:58 -0400 (Mon, 21 Apr 2003) | 2 lines

More javadoc warning fixes

------------------------------------------------------------------------
r274488 | jesse | 2003-04-21 10:26:00 -0400 (Mon, 21 Apr 2003) | 2 lines

Fix javadoc warnings

------------------------------------------------------------------------
r274485 | jesse | 2003-04-20 21:08:18 -0400 (Sun, 20 Apr 2003) | 4 lines

StarTeam performance enhancement
PR: 15730
Submitted by: Steve Cohen

------------------------------------------------------------------------
r274484 | antoine | 2003-04-19 13:10:26 -0400 (Sat, 19 Apr 2003) | 2 lines

make the WarTest pass

------------------------------------------------------------------------
r274483 | conor | 2003-04-18 19:40:30 -0400 (Fri, 18 Apr 2003) | 2 lines

Import cleanup

------------------------------------------------------------------------
r274481 | antoine | 2003-04-18 18:02:59 -0400 (Fri, 18 Apr 2003) | 2 lines

allow to define ZipFileSet(s) outside of Zip task bugrep 17007

------------------------------------------------------------------------
r274480 | antoine | 2003-04-17 13:09:35 -0400 (Thu, 17 Apr 2003) | 2 lines

add international support for mailtask - bug report 15434

------------------------------------------------------------------------
r274479 | bodewig | 2003-04-17 09:41:25 -0400 (Thu, 17 Apr 2003) | 8 lines

Add linksource attribute to Javadoc.

Submitted by:	<smagoun at mac dot com>

Add breakiterator attribute to Javadoc.

PR: 11569

------------------------------------------------------------------------
r274478 | bodewig | 2003-04-17 09:09:19 -0400 (Thu, 17 Apr 2003) | 4 lines

Add destfile attribute to <gzip> and <bzip2>.

PR: 11102

------------------------------------------------------------------------
r274477 | conor | 2003-04-17 00:50:27 -0400 (Thu, 17 Apr 2003) | 6 lines

Improve event dispatch performance (OK because we are using a cloned
list of listeners)

PR:	19101
Submiitted By:	smagoun from mac.com

------------------------------------------------------------------------
r274475 | jesse | 2003-04-16 11:20:24 -0400 (Wed, 16 Apr 2003) | 2 lines

Missed updated testcase in previous commit

------------------------------------------------------------------------
r274474 | bodewig | 2003-04-16 09:02:00 -0400 (Wed, 16 Apr 2003) | 5 lines

Enable <antlr>'s debug attribute.

PR: 19051
Submitted by:	Jorge <jorgemanrubia at terra dot es>

------------------------------------------------------------------------
r274473 | bodewig | 2003-04-16 08:56:44 -0400 (Wed, 16 Apr 2003) | 5 lines

Correctly echo selected properties.

PR: 18588
Submitted by:	Gary Gregory <ggregory at seagullsw dot com>

------------------------------------------------------------------------
r274467 | antoine | 2003-04-15 15:16:03 -0400 (Tue, 15 Apr 2003) | 2 lines

fix bugrep 18956 p4change task causes build to hang

------------------------------------------------------------------------
r274466 | umagesh | 2003-04-15 13:23:16 -0400 (Tue, 15 Apr 2003) | 2 lines

Refactor static method into a non-static version.

------------------------------------------------------------------------
r274464 | jesse | 2003-04-15 11:12:42 -0400 (Tue, 15 Apr 2003) | 2 lines

Make it work with JDK 1.2

------------------------------------------------------------------------
r274462 | bodewig | 2003-04-15 09:19:41 -0400 (Tue, 15 Apr 2003) | 8 lines

Beanshell and Apache BSF don't like each other.  As the test is going
to use Javascript anyway, the check whether scripting is available
should do so, too.  In particular, the test will now checke whether
Rhino is there, which the old test didn't.

Remove excess logging that lead me to think the test was failing
instead of skipped.

------------------------------------------------------------------------
r274460 | bodewig | 2003-04-15 02:03:09 -0400 (Tue, 15 Apr 2003) | 2 lines

It's me again, erm, 2003, I mean.

------------------------------------------------------------------------
r274459 | jesse | 2003-04-15 00:58:56 -0400 (Tue, 15 Apr 2003) | 2 lines

Make javadoc happy

------------------------------------------------------------------------
r274457 | jesse | 2003-04-15 00:26:52 -0400 (Tue, 15 Apr 2003) | 8 lines

Add ability to overwrite or skip writable files during 'get latest' or 'checkout'
Add ability to specify timestamps for files retrieved during 'get latest' or 'checkout'
Fix label length issues
Other minor fixes unearthed after major refactoring of VSS tasks

PR: #11562 #8451 #4387 #12793 #14174 #13532 #14463
Submitted by:	Nigel Magnay, Keying Xi, and others

------------------------------------------------------------------------
r274456 | jesse | 2003-04-14 23:34:11 -0400 (Mon, 14 Apr 2003) | 3 lines

Better detection of classes passed as method params like 'System.out.println(Outer.Inner.class);'
PR: 13273

------------------------------------------------------------------------
r274451 | umagesh | 2003-04-14 14:42:16 -0400 (Mon, 14 Apr 2003) | 6 lines

6 New ClearCase Tasks Created

PR: 17408

Submitted by: spkane@genomatica.com (Sean P. Kane)

------------------------------------------------------------------------
r274449 | umagesh | 2003-04-14 14:02:24 -0400 (Mon, 14 Apr 2003) | 6 lines

New tokenfilter for filterchain

PR: 18312

Submitted by: peter.reilly@corvil.com (peter reilly)

------------------------------------------------------------------------
r274448 | umagesh | 2003-04-14 13:21:27 -0400 (Mon, 14 Apr 2003) | 6 lines

Call setproject for all created objects.

PR: 18312

Submitted by: peter.reilly@corvil.com (peter reilly)

------------------------------------------------------------------------
r274446 | umagesh | 2003-04-14 11:37:48 -0400 (Mon, 14 Apr 2003) | 6 lines

New "skip" attribute for HeadFilter and TailFilter

PR: 18849

Submitted by: jan@materne.de (Jan Mat�rne)

------------------------------------------------------------------------
r274445 | conor | 2003-04-14 11:01:09 -0400 (Mon, 14 Apr 2003) | 2 lines

typo

------------------------------------------------------------------------
r274444 | conor | 2003-04-14 10:47:42 -0400 (Mon, 14 Apr 2003) | 2 lines

More cleanup

------------------------------------------------------------------------
r274441 | conor | 2003-04-14 07:58:04 -0400 (Mon, 14 Apr 2003) | 2 lines

style fixes

------------------------------------------------------------------------
r274440 | bodewig | 2003-04-14 07:47:42 -0400 (Mon, 14 Apr 2003) | 2 lines

Argh

------------------------------------------------------------------------
r274439 | bodewig | 2003-04-14 07:42:14 -0400 (Mon, 14 Apr 2003) | 2 lines

Fix javadoc typos

------------------------------------------------------------------------
r274438 | bodewig | 2003-04-14 03:53:07 -0400 (Mon, 14 Apr 2003) | 4 lines

Add a new containsregexp selector.

Submitted by:	Jay van der Meer <jvandermeer2 at comcast dot net>

------------------------------------------------------------------------
r274437 | bodewig | 2003-04-14 03:06:55 -0400 (Mon, 14 Apr 2003) | 6 lines

Utility class to centralize all classloader and "instante from custom
classloader" related actions.

PR: 18906
Submitted by:	Marc Portier <mpo at apache dot org>

------------------------------------------------------------------------
r274427 | bodewig | 2003-04-10 02:37:57 -0400 (Thu, 10 Apr 2003) | 7 lines

Fix <signjar>'s documentation (jar attribute is not required).

PR: 18876

At the same time fix the broken "do I have fileset child elements"
check and warn users if nested filesets are ignored.

------------------------------------------------------------------------
r274424 | bodewig | 2003-04-09 11:37:57 -0400 (Wed, 09 Apr 2003) | 4 lines

Don't die on empty values.

PR: 18625

------------------------------------------------------------------------
r274423 | bodewig | 2003-04-09 11:28:51 -0400 (Wed, 09 Apr 2003) | 2 lines

Demonstrate bug 18625

------------------------------------------------------------------------
r274420 | bodewig | 2003-04-09 10:23:01 -0400 (Wed, 09 Apr 2003) | 2 lines

There is no bug

------------------------------------------------------------------------
r274419 | bodewig | 2003-04-09 10:02:23 -0400 (Wed, 09 Apr 2003) | 2 lines

Demonstrate bug 18670

------------------------------------------------------------------------
r274418 | bodewig | 2003-04-09 09:36:32 -0400 (Wed, 09 Apr 2003) | 5 lines

Make <javah> work on JDK 1.4.2.

PR: 18667
Submitted by:	James Allers <jallers at advancedreality dot com>

------------------------------------------------------------------------
r274417 | bodewig | 2003-04-09 09:15:31 -0400 (Wed, 09 Apr 2003) | 4 lines

Provide user control over Statement's escape processing.

PR: 18822

------------------------------------------------------------------------
r274415 | bodewig | 2003-04-09 08:46:17 -0400 (Wed, 09 Apr 2003) | 6 lines

Don't defer setting of default excludes for the implicit fileset,
thereby making <tar basedir="..."> and <zip basedir="..."> honor this
attribute.

PR: 18637

------------------------------------------------------------------------
r274405 | conor | 2003-04-07 10:47:02 -0400 (Mon, 07 Apr 2003) | 2 lines

Remove duplication in Parallel

------------------------------------------------------------------------
r274402 | conor | 2003-04-06 05:30:57 -0400 (Sun, 06 Apr 2003) | 2 lines

Fix up handling of TaskContainer configuration.

------------------------------------------------------------------------
r274400 | bodewig | 2003-04-04 09:04:43 -0500 (Fri, 04 Apr 2003) | 2 lines

Add license

------------------------------------------------------------------------
r274398 | conor | 2003-04-04 08:53:18 -0500 (Fri, 04 Apr 2003) | 3 lines

New task container test, which fails. This doesn't fail as badly
under 1.5.x but nevertheless is not functional

------------------------------------------------------------------------
r274397 | bodewig | 2003-04-04 08:51:12 -0500 (Fri, 04 Apr 2003) | 6 lines

Avoid reusing StringBuffers to work around JDK 1.4.1 memory leak.

I'm sure that my changes in most cases are of the paranoid type,
ResourceUtils and FixCRLF look as if they really had a chance of
running into trouble.

------------------------------------------------------------------------
r274396 | bodewig | 2003-04-04 08:02:40 -0500 (Fri, 04 Apr 2003) | 2 lines

Remove stray CRs

------------------------------------------------------------------------
r274395 | bodewig | 2003-04-04 04:08:52 -0500 (Fri, 04 Apr 2003) | 5 lines

Make <javacc> and <jjtree> work with JavaCC version 3.x.

PR: 18664
Submitted by:	Jene Jasper <jjasper at abz dot nl>

------------------------------------------------------------------------
r274393 | bodewig | 2003-04-04 03:36:22 -0500 (Fri, 04 Apr 2003) | 9 lines

Speed up <junitreport> by buffering output.

Vastly reduce memory requirements of DOMElementWriter on JDK 1.4.1 by
using the workaround for JDK 1.4.1's StringBuffer#toString memory leak
(JDC BugParade Bug 4724129).

PR: 18504
Submitted by:	Andrus Adamchik <mensk at users dot sourceforge dot net>

------------------------------------------------------------------------
r274389 | bodewig | 2003-04-03 10:49:48 -0500 (Thu, 03 Apr 2003) | 2 lines

Apply some reflection to become JDepend version independent

------------------------------------------------------------------------
r274388 | conor | 2003-04-03 09:44:02 -0500 (Thu, 03 Apr 2003) | 4 lines

Fix up handling of input in nested builds.

PR:	18642

------------------------------------------------------------------------
r274387 | bodewig | 2003-04-03 03:48:51 -0500 (Thu, 03 Apr 2003) | 4 lines

Add support for JProbe 4.x.

PR: 14849

------------------------------------------------------------------------
r274386 | bodewig | 2003-04-03 01:41:51 -0500 (Thu, 03 Apr 2003) | 4 lines

Improve standards compliance of created index.

PR: 16972

------------------------------------------------------------------------
r274385 | bodewig | 2003-04-03 01:06:00 -0500 (Thu, 03 Apr 2003) | 2 lines

Demonstrate bug 16972

------------------------------------------------------------------------
r274380 | bodewig | 2003-04-02 11:20:13 -0500 (Wed, 02 Apr 2003) | 2 lines

Make sure that streams get closed

------------------------------------------------------------------------
r274379 | bodewig | 2003-04-02 11:19:07 -0500 (Wed, 02 Apr 2003) | 2 lines

2003

------------------------------------------------------------------------
r274378 | bodewig | 2003-04-02 11:01:15 -0500 (Wed, 02 Apr 2003) | 4 lines

Ignore index lists found when creating a jar with index="on".

PR: 10262

------------------------------------------------------------------------
r274377 | bodewig | 2003-04-02 10:53:38 -0500 (Wed, 02 Apr 2003) | 2 lines

Demonstrate bug 10262

------------------------------------------------------------------------
r274375 | bodewig | 2003-04-02 09:53:22 -0500 (Wed, 02 Apr 2003) | 4 lines

Don't hardcode /usr/bin/env for Unix.

PR: 17642

------------------------------------------------------------------------
r274373 | bodewig | 2003-04-02 09:26:15 -0500 (Wed, 02 Apr 2003) | 5 lines

Use a class that's only in antlrall.jar to add the "real" jar to our
classpath.

PR: 17807

------------------------------------------------------------------------
r274372 | bodewig | 2003-04-02 07:42:50 -0500 (Wed, 02 Apr 2003) | 2 lines

Initial refactoring to address 14849

------------------------------------------------------------------------
r274371 | bodewig | 2003-04-02 07:00:27 -0500 (Wed, 02 Apr 2003) | 9 lines

Add <classespath> nested element to mirror <sourcespath> but point to
compiled classes.

Add <exclude> nested element to conditionally exclude packages from
being parsed.

PR: 17134
Submitted by:	Bob Hays <electricbob at alephnaught dot com>

------------------------------------------------------------------------
r274370 | conor | 2003-04-02 06:43:41 -0500 (Wed, 02 Apr 2003) | 7 lines

Tweak the handling of config of tasks in task containers.
Tasks in task containers are not configured until they are used.
Other elements in Task containers (which is now supported by 1.6)
will be configured when the task container itself is configured.

Remove override in Sequential as it is no longer necessary

------------------------------------------------------------------------
r274368 | bodewig | 2003-04-02 01:24:34 -0500 (Wed, 02 Apr 2003) | 2 lines

2003

------------------------------------------------------------------------
r274366 | conor | 2003-04-01 10:34:38 -0500 (Tue, 01 Apr 2003) | 4 lines

Defer configuration of TaskContainer's tasks. This forces Tasks to get
configured just prior to execution picking up latest property values
etc.

------------------------------------------------------------------------
r274365 | conor | 2003-04-01 09:59:58 -0500 (Tue, 01 Apr 2003) | 3 lines

Change reporting of problems creating elements within Task containers to
say that the container does not support the given nested element.

------------------------------------------------------------------------
r274364 | bodewig | 2003-04-01 09:44:00 -0500 (Tue, 01 Apr 2003) | 4 lines

Recompile grammar if supergrammar has changed.

PR: 12961

------------------------------------------------------------------------
r274363 | bodewig | 2003-04-01 09:33:28 -0500 (Tue, 01 Apr 2003) | 2 lines

demonstrate bug 12961

------------------------------------------------------------------------
r274362 | bodewig | 2003-04-01 08:47:06 -0500 (Tue, 01 Apr 2003) | 2 lines

Fix ANTLR's test8 testcase.

------------------------------------------------------------------------
r274361 | bodewig | 2003-04-01 08:29:03 -0500 (Tue, 01 Apr 2003) | 2 lines

Remove redundant classes

------------------------------------------------------------------------
r274360 | bodewig | 2003-04-01 08:09:28 -0500 (Tue, 01 Apr 2003) | 2 lines

Compile, then commit!

------------------------------------------------------------------------
r274359 | bodewig | 2003-04-01 08:05:25 -0500 (Tue, 01 Apr 2003) | 2 lines

Don't say milliseconds when you mean seconds

------------------------------------------------------------------------
r274358 | bodewig | 2003-04-01 08:01:09 -0500 (Tue, 01 Apr 2003) | 6 lines

Make <sshexec> wait for the remote command to finish.

Requires jsch-0.1.3 to work.

Submitted by:	Dale Anson <danson at germane dash software dot com>

------------------------------------------------------------------------
r274355 | conor | 2003-04-01 06:25:26 -0500 (Tue, 01 Apr 2003) | 2 lines

Small cleanup

------------------------------------------------------------------------
r274354 | bodewig | 2003-04-01 05:54:36 -0500 (Tue, 01 Apr 2003) | 2 lines

ANTLR 2.7.2 creates two files, PR 17807

------------------------------------------------------------------------
r274353 | bodewig | 2003-03-31 10:08:37 -0500 (Mon, 31 Mar 2003) | 4 lines

unURIfy build-file name if necessary.

PR: 18352

------------------------------------------------------------------------
r274352 | bodewig | 2003-03-31 08:46:18 -0500 (Mon, 31 Mar 2003) | 12 lines

Move "where has this class been loaded from?" logic to LoaderUtils.
Use it in <junit>, <antlr> and Diagnostics.

As side effects:

* fix PR: 15131

* make Diagnostics compile using JDK 1.1

this doesn't mean CVS HEAD will build on JDK 1.1, still to fix are
Sync, SQLExec and EscapeUnicode.

------------------------------------------------------------------------
r274351 | bodewig | 2003-03-31 07:27:14 -0500 (Mon, 31 Mar 2003) | 4 lines

Add tempdir attribute to <junit> to control placement of temporary file.

PR: 15454

------------------------------------------------------------------------
r274349 | bodewig | 2003-03-31 04:23:30 -0500 (Mon, 31 Mar 2003) | 2 lines

One ANT_OPTS should be enough

------------------------------------------------------------------------
r274344 | bodewig | 2003-03-28 09:52:23 -0500 (Fri, 28 Mar 2003) | 4 lines

Insert empty strings instead of "null" for groups that didn't match.

PR: 14619

------------------------------------------------------------------------
r274341 | bodewig | 2003-03-28 07:41:01 -0500 (Fri, 28 Mar 2003) | 5 lines

Various <concat> enhancements.

PR: 18166
Submitted by:	Peter Reilly <peter dot reilly at corvil dot com>

------------------------------------------------------------------------
r274340 | bodewig | 2003-03-28 07:20:51 -0500 (Fri, 28 Mar 2003) | 5 lines

The xml formatter for JUnit will now honor test case names set with
setName

PR: 17040

------------------------------------------------------------------------
r274338 | bodewig | 2003-03-28 03:42:00 -0500 (Fri, 28 Mar 2003) | 2 lines

Add testcase that shows property expansion in action - this one fails

------------------------------------------------------------------------
r274335 | bodewig | 2003-03-28 03:06:53 -0500 (Fri, 28 Mar 2003) | 2 lines

revert some formatting changes

------------------------------------------------------------------------
r274334 | bodewig | 2003-03-28 02:51:11 -0500 (Fri, 28 Mar 2003) | 5 lines

<copy> and <move>'s failonerror didn't apply to filesets pointing to
non-existant directories.

PR: 18414.

------------------------------------------------------------------------
r274333 | bodewig | 2003-03-28 02:35:31 -0500 (Fri, 28 Mar 2003) | 2 lines

Oops

------------------------------------------------------------------------
r274332 | bodewig | 2003-03-28 02:33:05 -0500 (Fri, 28 Mar 2003) | 2 lines

Demonstrate bug 18414

------------------------------------------------------------------------
r274330 | bodewig | 2003-03-27 12:03:13 -0500 (Thu, 27 Mar 2003) | 5 lines

<stripjavacomments> would consider // inside String constants comments.

PR: 17441
Submitted by:	Jan Materne <jan at materne dot de>

------------------------------------------------------------------------
r274329 | bodewig | 2003-03-27 11:54:00 -0500 (Thu, 27 Mar 2003) | 2 lines

demonstrate bug 17441

------------------------------------------------------------------------
r274328 | bodewig | 2003-03-27 11:32:19 -0500 (Thu, 27 Mar 2003) | 4 lines

Add outputencoding attribute to <copy> and friends.

PR: 18217

------------------------------------------------------------------------
r274322 | bodewig | 2003-03-27 08:14:31 -0500 (Thu, 27 Mar 2003) | 4 lines

Add a forwardslash attribute to <apply>

Submitted by:	Zdenek Wagner <wagner at cesnet dot cz>

------------------------------------------------------------------------
r274320 | bodewig | 2003-03-27 05:02:04 -0500 (Thu, 27 Mar 2003) | 5 lines

prefix attribute of <zipfileset> would not generate directory entries
for the prefix itself.

PR: 18403

------------------------------------------------------------------------
r274319 | bodewig | 2003-03-27 04:43:49 -0500 (Thu, 27 Mar 2003) | 2 lines

Demonstrate bug 18403

------------------------------------------------------------------------
r274318 | bodewig | 2003-03-27 03:24:21 -0500 (Thu, 27 Mar 2003) | 6 lines

Make wrapper script work if ant is a relative symlink and ANT_HOME
isn't set.

PR: 17721
Submitted by:	Martin Frost <martin at macrospace dot com>

------------------------------------------------------------------------
r274317 | bodewig | 2003-03-27 03:02:15 -0500 (Thu, 27 Mar 2003) | 6 lines

Make starteam checkout handle deleted labels correctly.

PR: 17646
Submitted by:	Brian Brooks <brian dot brooks at metavante dot com>
Reviewed by:	Steve Cohen

------------------------------------------------------------------------
r274315 | bodewig | 2003-03-26 10:50:28 -0500 (Wed, 26 Mar 2003) | 5 lines

Fix javadocs.

PR: 17143
Submitted by:	Gus Heck

------------------------------------------------------------------------
r274313 | bodewig | 2003-03-25 04:30:59 -0500 (Tue, 25 Mar 2003) | 6 lines

New task <sync>.

PR: 12632
Submitted by:   Dominique Devienne <ddevienne at lgc dot com>
                Dan Armbrust <daniel dot armbrust at mayo dot edu>

------------------------------------------------------------------------
r274301 | conor | 2003-03-22 04:39:46 -0500 (Sat, 22 Mar 2003) | 5 lines

Add manifest encoding options to control the encoding used to read in
manifests

PR:	17634

------------------------------------------------------------------------
r274295 | bodewig | 2003-03-20 04:10:54 -0500 (Thu, 20 Mar 2003) | 5 lines

Don't include Sun's runtime when compiling with jvc unless the user
explicitly asks for it.

PR: 18055

------------------------------------------------------------------------
r274288 | bodewig | 2003-03-19 05:48:01 -0500 (Wed, 19 Mar 2003) | 4 lines

Make <cab>'s basedir optional.

PR: 18046

------------------------------------------------------------------------
r274286 | bodewig | 2003-03-19 05:09:38 -0500 (Wed, 19 Mar 2003) | 6 lines

TarEntry's File-constructor didn't work for many OSes.

PR: 18105

At the same time, make the OS check Locale independent.

------------------------------------------------------------------------
r274285 | bodewig | 2003-03-19 05:06:41 -0500 (Wed, 19 Mar 2003) | 2 lines

Demonstrate bug 18105

------------------------------------------------------------------------
r274266 | bodewig | 2003-03-18 08:15:48 -0500 (Tue, 18 Mar 2003) | 2 lines

JDK 1.1

------------------------------------------------------------------------
r274262 | bodewig | 2003-03-14 11:01:04 -0500 (Fri, 14 Mar 2003) | 5 lines

Add support for HP's NonStop Server (formerly known by several names,
including Tandem).

Submitted by:	Mirko Zeibig <Mirko dot Zeibig at t dash systems dot com>

------------------------------------------------------------------------
r274258 | bodewig | 2003-03-14 08:45:17 -0500 (Fri, 14 Mar 2003) | 5 lines

New filter <escapeunicode> that translates non-ASCII characters to
\u1234 escapes.

addresses PR: 17506

------------------------------------------------------------------------
r274256 | bodewig | 2003-03-14 04:24:41 -0500 (Fri, 14 Mar 2003) | 2 lines

Remove reference to Jakarta

------------------------------------------------------------------------
r274254 | stevel | 2003-03-13 19:42:04 -0500 (Thu, 13 Mar 2003) | 2 lines

subant goes in there (provisionally)

------------------------------------------------------------------------
r274253 | stevel | 2003-03-13 19:39:54 -0500 (Thu, 13 Mar 2003) | 2 lines

documentation for xdocs to pick up

------------------------------------------------------------------------
r274252 | stevel | 2003-03-13 19:31:43 -0500 (Thu, 13 Mar 2003) | 2 lines

xdocs is strict about semicolons outside methods

------------------------------------------------------------------------
r274251 | stevel | 2003-03-13 16:41:11 -0500 (Thu, 13 Mar 2003) | 4 lines

option to preserve formatting in inline SQL, bug ID http://nagoya.apache.org/bugzilla/show_bug.cgi?id=10719

The diff is bigger than it need be; someone's editor must have stripped extroneous whitespace, or tab to spaced it. There are no tabs or trailing spaces in the commit, I believe.

------------------------------------------------------------------------
r274249 | bodewig | 2003-03-13 11:15:47 -0500 (Thu, 13 Mar 2003) | 2 lines

misleading @since tag

------------------------------------------------------------------------
r274248 | bodewig | 2003-03-13 11:14:51 -0500 (Thu, 13 Mar 2003) | 6 lines

This is supposed to fix bug 17871.

The patch looks innocent enough for me to merge it into the 1.5 branch
right away, but I cannot really verify it fixes the bug because of my
persistent (and self-imposed) lack of a Windows system.

------------------------------------------------------------------------
r274241 | bodewig | 2003-03-12 06:23:27 -0500 (Wed, 12 Mar 2003) | 4 lines

Fix the bug.

PR: 17780

------------------------------------------------------------------------
r274240 | bodewig | 2003-03-12 05:19:59 -0500 (Wed, 12 Mar 2003) | 2 lines

currently failing testcase to demonstrate PR: 17780

------------------------------------------------------------------------
r274238 | bodewig | 2003-03-11 09:42:43 -0500 (Tue, 11 Mar 2003) | 2 lines

remove JDK 1.4 dependency

------------------------------------------------------------------------
r274236 | bodewig | 2003-03-11 09:21:31 -0500 (Tue, 11 Mar 2003) | 4 lines

No reason for a dummy passphrase.

Pointed out by:	Atsuhiko Yamanaka <ymnk at jcraft dot com>

------------------------------------------------------------------------
r274233 | bodewig | 2003-03-11 08:15:43 -0500 (Tue, 11 Mar 2003) | 4 lines

New task <sshexec>.

Submitted by:	Robert Anderson <riznob at hotmail dot com>

------------------------------------------------------------------------
r274232 | bodewig | 2003-03-11 08:00:31 -0500 (Tue, 11 Mar 2003) | 4 lines

Add key based authentication to scp.

Submitted by:	Robert Anderson <riznob at hotmail dot com>

------------------------------------------------------------------------
r274231 | bodewig | 2003-03-11 05:57:42 -0500 (Tue, 11 Mar 2003) | 5 lines

Adapt to JDK 1.4.1 for Mac OS X.

Note that there are more jars in that directory that I'm not sure
about (whether we want to add them in addJavaRuntime, that is).

------------------------------------------------------------------------
r274230 | bodewig | 2003-03-11 05:42:28 -0500 (Tue, 11 Mar 2003) | 2 lines

Make test more robust.  In particular - make it pass on Mac OS X.

------------------------------------------------------------------------
r274229 | bodewig | 2003-03-11 05:30:15 -0500 (Tue, 11 Mar 2003) | 2 lines

Make test more robust.  In particular - make it pass on Mac OS X.

------------------------------------------------------------------------
r274228 | bodewig | 2003-03-11 04:26:44 -0500 (Tue, 11 Mar 2003) | 2 lines

Save some (mega)bytes

------------------------------------------------------------------------
r274226 | bodewig | 2003-03-11 03:28:38 -0500 (Tue, 11 Mar 2003) | 2 lines

2003

------------------------------------------------------------------------
r274224 | stevel | 2003-03-11 01:10:47 -0500 (Tue, 11 Mar 2003) | 2 lines

dotnet tests in the build file. with the references and definitions, we are almost nearing a workable .net solution in ant. Which makes this a good candiate for tearing out into a standalone project, were it more popular

------------------------------------------------------------------------
r274223 | stevel | 2003-03-11 01:08:11 -0500 (Tue, 11 Mar 2003) | 2 lines

new tests

------------------------------------------------------------------------
r274222 | stevel | 2003-03-11 01:07:37 -0500 (Tue, 11 Mar 2003) | 6 lines

Rounding off the toolchain with <defines> that has the same syntax as that of <cc>, a resource type for resource inclusion, and , uh, a J# compiler. Notice how I reverse the pureJava setting from that of vjc, so you need to explicitly ask for impure java. I havent enabled this in the types yet, in case anyone wants to veto the concept altogether.

Then I add <reference> fileset support into vbc, jsharp and csc, including inside the dependency checking.

resources still need dependency checking, and testing.

------------------------------------------------------------------------
r274221 | stevel | 2003-03-10 12:38:24 -0500 (Mon, 10 Mar 2003) | 2 lines

ildasm inserts a copyright statement on everything it disassembles...

------------------------------------------------------------------------
r274220 | bodewig | 2003-03-10 05:11:19 -0500 (Mon, 10 Mar 2003) | 2 lines

2003

------------------------------------------------------------------------
r274219 | bodewig | 2003-03-10 05:05:43 -0500 (Mon, 10 Mar 2003) | 2 lines

Upgrade to jsch-0.1.2

------------------------------------------------------------------------
r274218 | stevel | 2003-03-10 03:03:34 -0500 (Mon, 10 Mar 2003) | 2 lines

dotnet tests

------------------------------------------------------------------------
r274217 | stevel | 2003-03-10 03:02:24 -0500 (Mon, 10 Mar 2003) | 2 lines

refactoring so that ilasm can share code (and moved something into NetCommand as it may be more at home there, but that may be bogus). Fixed  ilasm to handle multiple files and do dependency checking. More convoluted than one would have thought.

------------------------------------------------------------------------
r274216 | stevel | 2003-03-10 02:54:29 -0500 (Mon, 10 Mar 2003) | 5 lines

a raid by the deprecation police.

1. Why is log used at the project level, not the task level?
2. documentation?

------------------------------------------------------------------------
r274215 | stevel | 2003-03-10 02:36:45 -0500 (Mon, 10 Mar 2003) | 6 lines

implementing bug 12060: provide a toString operator
so that turning into a property is mildly meaningful.

We dont include base dir info, so you get a list of
files relative to the basem, all with a ; separator.

------------------------------------------------------------------------
r274212 | bodewig | 2003-03-07 09:53:36 -0500 (Fri, 07 Mar 2003) | 2 lines

.ssh is in ${user.home}, not ${user.dir}.

------------------------------------------------------------------------
r274211 | conor | 2003-03-07 09:51:59 -0500 (Fri, 07 Mar 2003) | 3 lines

When changing dirs resolve to the coorect separator conventions
PR:	10755

------------------------------------------------------------------------
r274209 | bodewig | 2003-03-07 09:43:17 -0500 (Fri, 07 Mar 2003) | 2 lines

looks better that way

------------------------------------------------------------------------
r274208 | bodewig | 2003-03-07 09:41:10 -0500 (Fri, 07 Mar 2003) | 4 lines

Improve log message when classloader fails to read a resource.

Submitted by:	Sascha Freitag <freitag at objtec dot com>

------------------------------------------------------------------------
r274203 | bodewig | 2003-03-07 06:23:16 -0500 (Fri, 07 Mar 2003) | 2 lines

Remove email address from sources

------------------------------------------------------------------------
r274202 | bodewig | 2003-03-07 03:42:26 -0500 (Fri, 07 Mar 2003) | 6 lines

Make JIKESPATH construction on Mac OS X take JAVA_HOME into account.
This won't change anything if the user doesn't set JAVA_HOME.

PR: 17458
Submitted by:	Dwayne Schultz <dwayne at schultz dot net>

------------------------------------------------------------------------
r274201 | bodewig | 2003-03-07 03:07:17 -0500 (Fri, 07 Mar 2003) | 5 lines

Set file mode correctly for files read from <zipfileset>s.

PR: 17648
Submitted by:	 Antoine Levy-Lambert

------------------------------------------------------------------------
r274200 | bodewig | 2003-03-06 07:42:44 -0500 (Thu, 06 Mar 2003) | 4 lines

<scp>

Submitted by:	charliehubbard76 at yahoo dot com

------------------------------------------------------------------------
r274196 | ehatcher | 2003-03-04 22:03:11 -0500 (Tue, 04 Mar 2003) | 2 lines

#17142 - enhance Javadoc tag element to allow a fileset

------------------------------------------------------------------------
r274191 | bodewig | 2003-02-26 09:29:21 -0500 (Wed, 26 Feb 2003) | 2 lines

forgot to give credit

------------------------------------------------------------------------
r274189 | bodewig | 2003-02-26 09:22:45 -0500 (Wed, 26 Feb 2003) | 4 lines

Implementation-Vendor and Implementation-VendorId have been swapped.

PR: 17295

------------------------------------------------------------------------
r274188 | bodewig | 2003-02-26 08:12:58 -0500 (Wed, 26 Feb 2003) | 2 lines

Add file I forgot in last commit

------------------------------------------------------------------------
r274187 | bodewig | 2003-02-26 08:06:06 -0500 (Wed, 26 Feb 2003) | 6 lines

Only register ProcessDestroyer when needed (and unregister it when no
longer needed).

PR: 17216
Submitted by:	James Allers <jallers at advancedreality dot com>

------------------------------------------------------------------------
r274186 | bodewig | 2003-02-26 07:46:47 -0500 (Wed, 26 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r274185 | bodewig | 2003-02-26 07:33:01 -0500 (Wed, 26 Feb 2003) | 4 lines

Avoid to read mor from System.in than necessary.

PR: 17396

------------------------------------------------------------------------
r274182 | bodewig | 2003-02-26 05:46:10 -0500 (Wed, 26 Feb 2003) | 2 lines

Merge fix for bug 17365 from HEAD

------------------------------------------------------------------------
r274179 | bodewig | 2003-02-26 05:35:01 -0500 (Wed, 26 Feb 2003) | 2 lines

Ack, 2003

------------------------------------------------------------------------
r274178 | bodewig | 2003-02-26 05:34:09 -0500 (Wed, 26 Feb 2003) | 2 lines

Avoid NPE if input failed

------------------------------------------------------------------------
r274176 | bodewig | 2003-02-26 04:57:01 -0500 (Wed, 26 Feb 2003) | 4 lines

Avoid NPE in <zip> and friends for empty <fileset>s.

Submitted by:	Nico Seessle <nico at apache dot org>

------------------------------------------------------------------------
r274168 | bodewig | 2003-02-24 03:25:19 -0500 (Mon, 24 Feb 2003) | 2 lines

commons-net 1.0.0 has been released, drop NetComponents in favor of it.

------------------------------------------------------------------------
r274164 | conor | 2003-02-21 06:53:26 -0500 (Fri, 21 Feb 2003) | 5 lines

Remove incorrect --path arguments to cygpath

PR:     17212
Submitted by:   Shankar Unni

------------------------------------------------------------------------
r274162 | conor | 2003-02-21 05:41:53 -0500 (Fri, 21 Feb 2003) | 2 lines

Optimization

------------------------------------------------------------------------
r274160 | conor | 2003-02-21 04:42:36 -0500 (Fri, 21 Feb 2003) | 7 lines

Change the way FTP tries to create parent directories. It now does this
by attempting to change to the dir first and if that fails, then trying to
make the dir. This means that file upload should not require non-critical
errors to be ignored.

PR:	9586

------------------------------------------------------------------------
r274158 | conor | 2003-02-20 19:19:40 -0500 (Thu, 20 Feb 2003) | 2 lines

Roll back

------------------------------------------------------------------------
r274155 | bodewig | 2003-02-20 12:15:46 -0500 (Thu, 20 Feb 2003) | 2 lines

Make sure streams get closed so that the temporary files can be deleted

------------------------------------------------------------------------
r274153 | conor | 2003-02-20 09:11:35 -0500 (Thu, 20 Feb 2003) | 6 lines

Allow date format to be specified other than the locale default provided
by IntrospectionHelper

PR:	16879
Submitted by:	Ken Gentle

------------------------------------------------------------------------
r274151 | bodewig | 2003-02-20 03:34:13 -0500 (Thu, 20 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r274149 | conor | 2003-02-19 09:40:37 -0500 (Wed, 19 Feb 2003) | 4 lines

Fix character setters which are given empty string values

PR:	12186

------------------------------------------------------------------------
r274147 | conor | 2003-02-19 09:11:42 -0500 (Wed, 19 Feb 2003) | 4 lines

replaceTokens now finds tokens which overlap with other token candidates

PR: 12134

------------------------------------------------------------------------
r274145 | conor | 2003-02-19 07:30:55 -0500 (Wed, 19 Feb 2003) | 4 lines

Trim javadoc sourcefiles entries

PR:	10700

------------------------------------------------------------------------
r274144 | conor | 2003-02-19 05:53:00 -0500 (Wed, 19 Feb 2003) | 2 lines

Merge

------------------------------------------------------------------------
r274134 | bodewig | 2003-02-19 02:57:30 -0500 (Wed, 19 Feb 2003) | 2 lines

Preparing merge to 1.5 branch

------------------------------------------------------------------------
r274131 | shemnon | 2003-02-19 00:11:34 -0500 (Wed, 19 Feb 2003) | 5 lines



Improve reliability if ant parallel task tests
docuemnt new attrutes to parallel task

------------------------------------------------------------------------
r274129 | bodewig | 2003-02-18 10:19:05 -0500 (Tue, 18 Feb 2003) | 8 lines

<http://java.sun.com/products/jdk/1.2/docs/tooldocs/solaris/javadoc.html#linkoffline>
says the second arg to linkoffline must be an URL.  The docs for JDK
1.3 and later say URL or file, but comments in

PR: 10964

indicate it doesn't work that way.

------------------------------------------------------------------------
r274124 | bodewig | 2003-02-18 09:29:56 -0500 (Tue, 18 Feb 2003) | 4 lines

destdir is required.

PR: 16483

------------------------------------------------------------------------
r274120 | bodewig | 2003-02-18 09:06:22 -0500 (Tue, 18 Feb 2003) | 5 lines

Replace algorithm with a less recursive one - avoid StackOverflow on
large files.

PR: 15528

------------------------------------------------------------------------
r274118 | conor | 2003-02-18 08:20:24 -0500 (Tue, 18 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r274117 | conor | 2003-02-18 08:19:45 -0500 (Tue, 18 Feb 2003) | 5 lines

Turn warning about input = output into an exception. Filling up your disk
is not a good behaviour.

PR:	17154

------------------------------------------------------------------------
r274115 | conor | 2003-02-18 07:46:28 -0500 (Tue, 18 Feb 2003) | 4 lines

Find the java executable accordining to standard Ant rules

PR:	17145

------------------------------------------------------------------------
r274113 | conor | 2003-02-18 07:12:02 -0500 (Tue, 18 Feb 2003) | 2 lines

Manifests should remain in UTF-8, not the platform encoding.

------------------------------------------------------------------------
r274106 | bodewig | 2003-02-17 10:47:45 -0500 (Mon, 17 Feb 2003) | 5 lines

Use a non-recursive (well, less recursive, max depth is 2) approach
for <linecontains>.

PR: 15528

------------------------------------------------------------------------
r274105 | bodewig | 2003-02-17 09:35:44 -0500 (Mon, 17 Feb 2003) | 2 lines

Add a Resource version of isOutOfDate

------------------------------------------------------------------------
r274103 | conor | 2003-02-17 09:12:10 -0500 (Mon, 17 Feb 2003) | 6 lines

Detect listener attempts to access System.out/System.err and
terminate with a build exception before entering an infinte loop


PR:	14863

------------------------------------------------------------------------
r274102 | bodewig | 2003-02-17 09:00:34 -0500 (Mon, 17 Feb 2003) | 2 lines

remove now obsolete override

------------------------------------------------------------------------
r274101 | bodewig | 2003-02-17 08:48:35 -0500 (Mon, 17 Feb 2003) | 2 lines

remove logging from ZipScanner.

------------------------------------------------------------------------
r274100 | conor | 2003-02-17 08:27:38 -0500 (Mon, 17 Feb 2003) | 3 lines

Make parallel test (much) more likely to succeed by delaying start of each
task in the set.

------------------------------------------------------------------------
r274099 | bodewig | 2003-02-17 07:59:24 -0500 (Mon, 17 Feb 2003) | 2 lines

Tighten up contract for resource names.

------------------------------------------------------------------------
r274097 | bodewig | 2003-02-17 04:07:34 -0500 (Mon, 17 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r274095 | conor | 2003-02-16 19:17:14 -0500 (Sun, 16 Feb 2003) | 4 lines

Handle spaces in JAVA_HOME

PR:	15351

------------------------------------------------------------------------
r274094 | conor | 2003-02-16 18:34:21 -0500 (Sun, 16 Feb 2003) | 2 lines

Minor edits - i.e. make it compile

------------------------------------------------------------------------
r274092 | conor | 2003-02-16 09:05:42 -0500 (Sun, 16 Feb 2003) | 2 lines

Make sure stream gets closed when input finishes

------------------------------------------------------------------------
r274091 | conor | 2003-02-16 09:04:28 -0500 (Sun, 16 Feb 2003) | 6 lines

Catch more than IOExceptions in stream pumper to take care of strange
close conditions where another thread can close the stream after the
ensureOpen check has been done.

PR:	13372

------------------------------------------------------------------------
r274089 | conor | 2003-02-16 08:57:42 -0500 (Sun, 16 Feb 2003) | 4 lines

Try to make error message clearer

PR:	17033

------------------------------------------------------------------------
r274087 | conor | 2003-02-16 08:46:43 -0500 (Sun, 16 Feb 2003) | 5 lines

Make P4OutputHandler less greedy

PR:	16080
Submitted by:	Matt Bishop

------------------------------------------------------------------------
r274086 | conor | 2003-02-16 08:41:54 -0500 (Sun, 16 Feb 2003) | 5 lines

recognize local interfaces in <ejbjar>

PR:	15862
Submitted by:	Colin Sampaleanu

------------------------------------------------------------------------
r274084 | conor | 2003-02-16 08:30:37 -0500 (Sun, 16 Feb 2003) | 5 lines

Add suffix support for ejbjar jboss element

PR:	14959
Submitted by:	Jesse Stockall

------------------------------------------------------------------------
r274083 | conor | 2003-02-16 08:24:50 -0500 (Sun, 16 Feb 2003) | 2 lines

Pickup missing merge

------------------------------------------------------------------------
r274082 | conor | 2003-02-16 08:19:40 -0500 (Sun, 16 Feb 2003) | 2 lines

Merge

------------------------------------------------------------------------
r274076 | conor | 2003-02-15 21:24:07 -0500 (Sat, 15 Feb 2003) | 2 lines

Also write manifets into JAR as UTF-8

------------------------------------------------------------------------
r274074 | conor | 2003-02-15 21:03:06 -0500 (Sat, 15 Feb 2003) | 4 lines

Read/Write manifests in UTF-8

PR:	17075

------------------------------------------------------------------------
r274073 | conor | 2003-02-15 20:46:20 -0500 (Sat, 15 Feb 2003) | 2 lines

Minor edit

------------------------------------------------------------------------
r274067 | conor | 2003-02-13 08:19:28 -0500 (Thu, 13 Feb 2003) | 4 lines

Make message clear when updating and whenempty=skip

PR:	4448

------------------------------------------------------------------------
r274065 | conor | 2003-02-12 09:29:07 -0500 (Wed, 12 Feb 2003) | 5 lines

Resolve DTD locations relative to project basedir
Also more into when dependency analyzer cannot be found.

PR:	13271

------------------------------------------------------------------------
r274061 | bodewig | 2003-02-12 09:14:03 -0500 (Wed, 12 Feb 2003) | 5 lines

Only the TraX liaison is really supported.

PR: 16913
Submitted by:	Ville Skytt� <ville dot skytta at iki dot fi>

------------------------------------------------------------------------
r274060 | bodewig | 2003-02-12 04:05:04 -0500 (Wed, 12 Feb 2003) | 2 lines

Remove the (at least for now) superfluous ResourceScanner interface.

------------------------------------------------------------------------
r274057 | conor | 2003-02-12 00:04:31 -0500 (Wed, 12 Feb 2003) | 5 lines

JDK 1.1 File parent determination is a bit lacking when the
path is a combined Windows/Unix path

PR:	16923

------------------------------------------------------------------------
r274056 | conor | 2003-02-11 08:41:33 -0500 (Tue, 11 Feb 2003) | 3 lines

Allow TaskContainers to have nested elements which take precedence
over tasks

------------------------------------------------------------------------
r274055 | bodewig | 2003-02-11 06:57:27 -0500 (Tue, 11 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r274054 | conor | 2003-02-11 06:43:10 -0500 (Tue, 11 Feb 2003) | 6 lines

iStarteam - when checking out to a revision label, directories are
never created unless needed.

PR:	14295
Submitted By: Steve Cohen

------------------------------------------------------------------------
r274053 | conor | 2003-02-11 06:26:44 -0500 (Tue, 11 Feb 2003) | 5 lines

Add a thread count to the parallel task to stop it using too many threads

PR:	16906
Submitted by:	Danno Ferrin

------------------------------------------------------------------------
r274052 | bodewig | 2003-02-11 05:08:39 -0500 (Tue, 11 Feb 2003) | 5 lines

Don't use "cd /d" on OS/2.

PR: 16924
Submitted by:	Zdenek Wagner <wagner at cesnet dot cz>

------------------------------------------------------------------------
r274049 | bodewig | 2003-02-11 01:43:54 -0500 (Tue, 11 Feb 2003) | 2 lines

CVS module move - Gump is going to nag us once 8-)

------------------------------------------------------------------------
r274048 | conor | 2003-02-10 23:44:36 -0500 (Mon, 10 Feb 2003) | 2 lines

New repository

------------------------------------------------------------------------
r274040 | bodewig | 2003-02-10 09:15:00 -0500 (Mon, 10 Feb 2003) | 2 lines

Remove Jakarta Project from license

------------------------------------------------------------------------
r274035 | conor | 2003-02-10 07:36:46 -0500 (Mon, 10 Feb 2003) | 6 lines

Use ThreadGroups to link tasks to any threads they create
Make sure parallel creates a separate thread group for each
thread it spawns

PR:	7980

------------------------------------------------------------------------
r274033 | conor | 2003-02-10 06:22:46 -0500 (Mon, 10 Feb 2003) | 5 lines

SOS tasks refactor.

PR:	16911
Submitted by:	Jesse Stockall

------------------------------------------------------------------------
r274030 | conor | 2003-02-10 05:32:34 -0500 (Mon, 10 Feb 2003) | 4 lines

Make variables private with protected accessors
PR:	16910
Submitted by:	Jesse Stockall

------------------------------------------------------------------------
r274027 | bodewig | 2003-02-10 03:06:10 -0500 (Mon, 10 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r274025 | conor | 2003-02-09 07:59:13 -0500 (Sun, 09 Feb 2003) | 5 lines

VSS Task refactor

PR:	16910
Submitted by:	Jesse Stockall

------------------------------------------------------------------------
r274022 | conor | 2003-02-09 03:09:44 -0500 (Sun, 09 Feb 2003) | 2 lines

Javadocing

------------------------------------------------------------------------
r274021 | conor | 2003-02-09 02:59:53 -0500 (Sun, 09 Feb 2003) | 8 lines

Input handling framework

Non-forked Java tasks can now have their input redirected.

Note that it would be possible to add a noninteractive flag to
Ant preventing any input from System.in in any java classes
druing a build. Would prevent locking up waiting for input

------------------------------------------------------------------------
r274020 | conor | 2003-02-08 09:14:27 -0500 (Sat, 08 Feb 2003) | 4 lines

Refactor output handling from Exec into a new class Redirector and
use this in Java task to get access to features such as
separate error stream, redirected input, etc.

------------------------------------------------------------------------
r274019 | conor | 2003-02-07 18:14:12 -0500 (Fri, 07 Feb 2003) | 5 lines

Fix up new input stuff since input thread won't always exist

PR:	16891
Submitted by:	paul at priorartisans

------------------------------------------------------------------------
r274017 | bodewig | 2003-02-07 09:59:06 -0500 (Fri, 07 Feb 2003) | 5 lines

PR: 11100

revisited.  The original patch wouldn't pass Unzip's new
testPatternSetIncludeAndExclude test.

------------------------------------------------------------------------
r274016 | conor | 2003-02-07 08:57:41 -0500 (Fri, 07 Feb 2003) | 2 lines

First cut at input redirection for <exec>.

------------------------------------------------------------------------
r274014 | bodewig | 2003-02-07 04:50:49 -0500 (Fri, 07 Feb 2003) | 2 lines

Testlet is dead

------------------------------------------------------------------------
r274011 | bodewig | 2003-02-06 11:27:45 -0500 (Thu, 06 Feb 2003) | 2 lines

Very quick fix for bug 16611

------------------------------------------------------------------------
r274008 | bodewig | 2003-02-06 11:19:22 -0500 (Thu, 06 Feb 2003) | 4 lines

Try to clean up after a failed copy.

PR: 16768

------------------------------------------------------------------------
r274007 | bodewig | 2003-02-06 09:20:38 -0500 (Thu, 06 Feb 2003) | 2 lines

Adapt some @since tags after merge to 1.5 branch

------------------------------------------------------------------------
r274005 | conor | 2003-02-06 08:43:38 -0500 (Thu, 06 Feb 2003) | 4 lines

Apply latest patch from Antoine

PR:	15707

------------------------------------------------------------------------
r274004 | conor | 2003-02-06 08:10:21 -0500 (Thu, 06 Feb 2003) | 5 lines

Further development for 7330. Allow errors to be sent to the
Ant log when redirecting output.

PR:	7330

------------------------------------------------------------------------
r274003 | conor | 2003-02-06 07:53:49 -0500 (Thu, 06 Feb 2003) | 21 lines

Allow <exec>'s error and output streams to be redirected independently

This is primarily to address bug 7330 but it includes a few other changes.

You can now use both output and outputproperty. While it was not documented,
previously, these used to be mutually exclusive. A simple TeeOutptuStream
is used to write the value to both a property and a file, if required.

The LogStreamHandler is no longer used by Exec. The main thing it did over
the PumpStreamHandler was to close the output streams when the stream
handler's stop method was called. This needed to be done in the
PumpStreamHandler in any case or the output file would be left open.
The PumpStreamHandler can now close its streams on stop() although the
default is still to leave them open

There are new attributes "error" and "errorProperty" which if present
separate output and error streams. If not present the current
behaviour is unchanged.

PR:	7330

------------------------------------------------------------------------
r274002 | bodewig | 2003-02-06 07:39:06 -0500 (Thu, 06 Feb 2003) | 4 lines

set URI resolver on transformer factory as well.

PR: 16809

------------------------------------------------------------------------
r274001 | conor | 2003-02-06 07:38:05 -0500 (Thu, 06 Feb 2003) | 2 lines

Remove sleep from the stream pumper. I can't see the reason for this.

------------------------------------------------------------------------
r273996 | bodewig | 2003-02-06 06:48:00 -0500 (Thu, 06 Feb 2003) | 4 lines

Make sure the splash screen disappears when the build is finished.

PR: 16818

------------------------------------------------------------------------
r273994 | bodewig | 2003-02-06 04:07:32 -0500 (Thu, 06 Feb 2003) | 2 lines

There are CVS snapshots

------------------------------------------------------------------------
r273993 | bodewig | 2003-02-05 11:16:27 -0500 (Wed, 05 Feb 2003) | 2 lines

Remove the ugly hack, but still ensure that jars always at least contain a manifest

------------------------------------------------------------------------
r273991 | bodewig | 2003-02-05 10:31:33 -0500 (Wed, 05 Feb 2003) | 2 lines

fix the 'is the manifest up-to-date?' checks

------------------------------------------------------------------------
r273988 | bodewig | 2003-02-05 06:20:21 -0500 (Wed, 05 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r273986 | bodewig | 2003-02-05 05:43:08 -0500 (Wed, 05 Feb 2003) | 4 lines

Refactor <zip> and friends.

PR: 10755

------------------------------------------------------------------------
r273976 | ehatcher | 2003-02-04 11:52:52 -0500 (Tue, 04 Feb 2003) | 2 lines

adding category to Perforce tasks

------------------------------------------------------------------------
r273975 | ehatcher | 2003-02-04 10:45:21 -0500 (Tue, 04 Feb 2003) | 2 lines

adding category to Perforce tasks

------------------------------------------------------------------------
r273974 | conor | 2003-02-04 09:26:24 -0500 (Tue, 04 Feb 2003) | 6 lines

Capture build test output and error streams into the appropriate
buffers

PR:	16748
Submitted by:	John McGrath

------------------------------------------------------------------------
r273972 | conor | 2003-02-04 08:53:52 -0500 (Tue, 04 Feb 2003) | 4 lines

Make this test pass on different JDK 1.4 minor versions

PR:	15250

------------------------------------------------------------------------
r273971 | bodewig | 2003-02-04 08:13:38 -0500 (Tue, 04 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r273970 | conor | 2003-02-04 08:03:49 -0500 (Tue, 04 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r273969 | conor | 2003-02-04 07:58:36 -0500 (Tue, 04 Feb 2003) | 2 lines

Minor fixes

------------------------------------------------------------------------
r273968 | conor | 2003-02-04 07:23:52 -0500 (Tue, 04 Feb 2003) | 5 lines

New perforce functionality

PR:	15707
Submitted by:	Antoine Levy-Lambert

------------------------------------------------------------------------
r273967 | bruce | 2003-02-03 18:03:03 -0500 (Mon, 03 Feb 2003) | 4 lines

Added an option to the ContainsSelector to ignore whitespace.

Submitted by Elizabeth Cooper (with some modifications)

------------------------------------------------------------------------
r273965 | bodewig | 2003-02-03 10:41:18 -0500 (Mon, 03 Feb 2003) | 6 lines

Close original archive after checking for old manifest in <jar> -
otherwise the file may still be locked on Windows and friends when we
try to rename it.

Submitted by:	Antoine Levy-Lambert <levylambert at tiscali dash dsl dot de>

------------------------------------------------------------------------
r273964 | conor | 2003-02-03 09:07:00 -0500 (Mon, 03 Feb 2003) | 5 lines

Added a revision attribute, a synonym for label

PR:	13847
Submitted By:	Steven Newton

------------------------------------------------------------------------
r273960 | conor | 2003-02-02 09:18:06 -0500 (Sun, 02 Feb 2003) | 2 lines

Allow yearcheck to work out of the box - no symlink required

------------------------------------------------------------------------
r273958 | conor | 2003-02-02 08:59:47 -0500 (Sun, 02 Feb 2003) | 2 lines

2003

------------------------------------------------------------------------
r273957 | conor | 2003-02-02 08:58:50 -0500 (Sun, 02 Feb 2003) | 4 lines

JDK 1.1 does not like 0 for initial size of hashtables

PR:	15445

------------------------------------------------------------------------
r273955 | conor | 2003-02-02 06:50:08 -0500 (Sun, 02 Feb 2003) | 2 lines

Minor tweak to which usage

------------------------------------------------------------------------
r273954 | conor | 2003-02-02 06:40:23 -0500 (Sun, 02 Feb 2003) | 3 lines

Add info about JAVA_HOME possibly being set but not exported
PR:	14181

------------------------------------------------------------------------
r273953 | conor | 2003-02-02 01:56:30 -0500 (Sun, 02 Feb 2003) | 2 lines

Allow JAVA_HOME to be unset by finding java if it is in the path.

------------------------------------------------------------------------
r273951 | conor | 2003-02-02 00:34:21 -0500 (Sun, 02 Feb 2003) | 4 lines

Fix ant.bat for Win95/98/ME users - check for existence of ant.jar

PR:	13582

------------------------------------------------------------------------
r273948 | conor | 2003-02-01 01:09:02 -0500 (Sat, 01 Feb 2003) | 5 lines

Add support for filesets to ccmcheckout

PR:	14857
Submitted By: 	Benoit Moussaud

------------------------------------------------------------------------
r273947 | conor | 2003-02-01 00:14:14 -0500 (Sat, 01 Feb 2003) | 2 lines

Minor edit

------------------------------------------------------------------------
r273945 | conor | 2003-02-01 00:09:17 -0500 (Sat, 01 Feb 2003) | 5 lines

Avoid perforce task lockup when only output on stderr

PR:	16544
Submitted by:	Antoine Levy-Lambert

------------------------------------------------------------------------
r273944 | conor | 2003-01-31 23:39:07 -0500 (Fri, 31 Jan 2003) | 6 lines

Rename the reuseloadedstylesheet to reloadstylesheet with inverted sense
Make the TraxLiason cache the templates instance
Reset the transformer if a new stylsheet is set

PR:     13589

------------------------------------------------------------------------
r273940 | bodewig | 2003-01-31 07:15:51 -0500 (Fri, 31 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273939 | bodewig | 2003-01-31 07:15:18 -0500 (Fri, 31 Jan 2003) | 2 lines

Add encoding attribute to <replaceregexp>

------------------------------------------------------------------------
r273938 | conor | 2003-01-31 02:57:42 -0500 (Fri, 31 Jan 2003) | 2 lines

Much better solution to unterminated output - better backward compat

------------------------------------------------------------------------
r273936 | stevel | 2003-01-31 02:10:28 -0500 (Fri, 31 Jan 2003) | 2 lines

jasper4.1 name mangling support via new name mangler, a new compiler in the factory (jasper41), and various new tests.

------------------------------------------------------------------------
r273935 | stevel | 2003-01-31 02:08:46 -0500 (Fri, 31 Jan 2003) | 2 lines

little code cleanup and remove trace line.

------------------------------------------------------------------------
r273934 | stevel | 2003-01-31 01:52:13 -0500 (Fri, 31 Jan 2003) | 2 lines

oh look, a new name mangler for jasper41 and up

------------------------------------------------------------------------
r273933 | stevel | 2003-01-31 01:49:44 -0500 (Fri, 31 Jan 2003) | 2 lines

making helper methods public for foreach to use

------------------------------------------------------------------------
r273932 | stevel | 2003-01-31 01:48:49 -0500 (Fri, 31 Jan 2003) | 2 lines

definition of whichresource

------------------------------------------------------------------------
r273931 | stevel | 2003-01-31 01:46:57 -0500 (Fri, 31 Jan 2003) | 2 lines

something I wrote to track down too many copies of log4j.properties on my classpath.  Docs I leave to xdoc, tests will be written (remind me!). I am still a bit unsure that <whichresource class="foo" > works in jars, though I've seen it work on the file system.

------------------------------------------------------------------------
r273930 | conor | 2003-01-30 10:12:53 -0500 (Thu, 30 Jan 2003) | 5 lines

Flush output of Java task when finished.
Propagate indication of whether line is terminated or not
through to project and tasks
PR: 16555

------------------------------------------------------------------------
r273929 | conor | 2003-01-30 10:07:15 -0500 (Thu, 30 Jan 2003) | 2 lines

Add in new perforce task

------------------------------------------------------------------------
r273928 | conor | 2003-01-30 09:42:03 -0500 (Thu, 30 Jan 2003) | 6 lines

Perforce task to show differences between local source repository and
p4 repository and report on files that still not under revision control.

PR:	13928
Submitted by:	Miha

------------------------------------------------------------------------
r273926 | conor | 2003-01-30 05:28:24 -0500 (Thu, 30 Jan 2003) | 6 lines

Make Create-By attribute in manifest compliant with spec by listing
the java implementation version and vendor. Add an Ant-Version field to
show the Ant version

PR:	12219

------------------------------------------------------------------------
r273925 | bodewig | 2003-01-30 04:09:54 -0500 (Thu, 30 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273920 | conor | 2003-01-29 05:48:17 -0500 (Wed, 29 Jan 2003) | 5 lines

iAllow several views per label

PR:	12585
Submitted By: Steve Hunter

------------------------------------------------------------------------
r273917 | conor | 2003-01-28 09:15:56 -0500 (Tue, 28 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273916 | conor | 2003-01-28 08:57:46 -0500 (Tue, 28 Jan 2003) | 5 lines

Provide mechanism for additional global options on perforce tasks

PR:	14395
Submitted by:	Matt Bishop

------------------------------------------------------------------------
r273913 | conor | 2003-01-28 06:44:31 -0500 (Tue, 28 Jan 2003) | 2 lines

set the executable for now for subclasses and change later if resolving

------------------------------------------------------------------------
r273907 | bodewig | 2003-01-28 04:12:12 -0500 (Tue, 28 Jan 2003) | 2 lines

Move the 'round up to next even second' logic to where it belongs -> out of the library and into the task

------------------------------------------------------------------------
r273906 | bodewig | 2003-01-28 04:03:53 -0500 (Tue, 28 Jan 2003) | 2 lines

More Xerces upgrade changes, better debug output for JUnitReport

------------------------------------------------------------------------
r273900 | bodewig | 2003-01-27 11:24:06 -0500 (Mon, 27 Jan 2003) | 2 lines

Now really fix 14995

------------------------------------------------------------------------
r273898 | bodewig | 2003-01-27 11:19:02 -0500 (Mon, 27 Jan 2003) | 4 lines

<tar>'s up-to-date check didn't work for nested filesets.

PR: 14995

------------------------------------------------------------------------
r273896 | conor | 2003-01-27 10:10:36 -0500 (Mon, 27 Jan 2003) | 2 lines

Make default not to resolve executable

------------------------------------------------------------------------
r273895 | conor | 2003-01-27 09:51:49 -0500 (Mon, 27 Jan 2003) | 4 lines

Resolve the executable if possible in <exec>

PR:	16040

------------------------------------------------------------------------
r273893 | conor | 2003-01-27 09:42:41 -0500 (Mon, 27 Jan 2003) | 2 lines

Use JRE version of Java

------------------------------------------------------------------------
r273891 | conor | 2003-01-27 08:49:40 -0500 (Mon, 27 Jan 2003) | 4 lines

Allow tests (and tasks) to run when java is not in the path

PR:	15998

------------------------------------------------------------------------
r273890 | bodewig | 2003-01-27 08:29:03 -0500 (Mon, 27 Jan 2003) | 2 lines

ZIP-Entries always use forward slashes

------------------------------------------------------------------------
r273889 | bodewig | 2003-01-27 07:55:13 -0500 (Mon, 27 Jan 2003) | 4 lines

speed ZipScanner up by using a hashtable.

Submitted by:	Antoine Levy-Lambert <levylambert at tiscali dash dsl dot de>

------------------------------------------------------------------------
r273887 | bodewig | 2003-01-27 02:45:49 -0500 (Mon, 27 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273886 | conor | 2003-01-26 18:43:37 -0500 (Sun, 26 Jan 2003) | 3 lines

Actually may as well use ZipFile/ZipEntry since not using the JDK
manifest class - it cannot handle multiple Class-Path entries

------------------------------------------------------------------------
r273885 | conor | 2003-01-26 17:59:05 -0500 (Sun, 26 Jan 2003) | 2 lines

Fix possible ClassCastExceptions due to use of ZipEntry rather than JarEntry

------------------------------------------------------------------------
r273883 | conor | 2003-01-26 05:25:52 -0500 (Sun, 26 Jan 2003) | 5 lines

Handle whatever reason a platform specific class is in accessible
(some users get security exceptions)

PR:	15421

------------------------------------------------------------------------
r273882 | stevel | 2003-01-25 14:00:44 -0500 (Sat, 25 Jan 2003) | 2 lines

add src nested element, remove full listing of commands; get definition nested elt to work properly

------------------------------------------------------------------------
r273881 | conor | 2003-01-25 10:03:16 -0500 (Sat, 25 Jan 2003) | 4 lines

Include jars from the manifest's classpath into the classloader

PR:	6921

------------------------------------------------------------------------
r273877 | conor | 2003-01-24 09:45:57 -0500 (Fri, 24 Jan 2003) | 2 lines

Quick, before Stefan finds out ...

------------------------------------------------------------------------
r273876 | conor | 2003-01-24 09:44:24 -0500 (Fri, 24 Jan 2003) | 5 lines

Move ANT_OPTS to front of Java command line to supprot JDKs with position
sensitive command line options

PR:	16260

------------------------------------------------------------------------
r273875 | bodewig | 2003-01-24 09:34:49 -0500 (Fri, 24 Jan 2003) | 2 lines

cvs up -dP --pedantic-copyrigt-check

------------------------------------------------------------------------
r273874 | conor | 2003-01-24 09:18:23 -0500 (Fri, 24 Jan 2003) | 15 lines

Add support for Package information to the ClassLoader

Rather than using reflection I have created a JDK 1.2+ specific
subclass of the AntClassLoader. This has necessitated replacing
direct construction of the classloader with a factory method in
Project. This factory method will attempt to create the new
class loader dynamically and then fall back to the current version if
the new loader is not available.

Existing users who construct the classloader directly will continue to
work as at Ant 1.5 - i.e. no package information is created. All Ant
code (except classloader) uses the new factory method

PR:	11196

------------------------------------------------------------------------
r273873 | bodewig | 2003-01-24 08:45:49 -0500 (Fri, 24 Jan 2003) | 2 lines

handle some directory cases in ZipScanner

------------------------------------------------------------------------
r273872 | conor | 2003-01-24 08:28:46 -0500 (Fri, 24 Jan 2003) | 2 lines

JDK 1.1

------------------------------------------------------------------------
r273865 | bodewig | 2003-01-23 12:03:28 -0500 (Thu, 23 Jan 2003) | 2 lines

Typo

------------------------------------------------------------------------
r273864 | bodewig | 2003-01-23 11:58:13 -0500 (Thu, 23 Jan 2003) | 4 lines

Don't out-of-date sources more than once.

PR: 16371

------------------------------------------------------------------------
r273863 | bodewig | 2003-01-23 11:33:24 -0500 (Thu, 23 Jan 2003) | 5 lines

handle errors in command line arguments by throwing exception, making
Jon Skeet happy and fixing

PR: 16123

------------------------------------------------------------------------
r273861 | bodewig | 2003-01-23 10:11:12 -0500 (Thu, 23 Jan 2003) | 5 lines

Java Runtime Libraries in JDK 1.4 is a bit more than just rt.jar.

PR: 16242
Submitted by:	Ville Skytt� <ville dot skytta at iki dot fi>

------------------------------------------------------------------------
r273860 | bodewig | 2003-01-23 10:03:29 -0500 (Thu, 23 Jan 2003) | 2 lines

Some cosmetics

------------------------------------------------------------------------
r273858 | bodewig | 2003-01-23 06:40:13 -0500 (Thu, 23 Jan 2003) | 2 lines

Add some tests

------------------------------------------------------------------------
r273853 | bodewig | 2003-01-22 08:33:24 -0500 (Wed, 22 Jan 2003) | 2 lines

forgot to run my script ;-)

------------------------------------------------------------------------
r273851 | bodewig | 2003-01-22 08:27:13 -0500 (Wed, 22 Jan 2003) | 2 lines

Give proper credit

------------------------------------------------------------------------
r273848 | bodewig | 2003-01-22 07:36:41 -0500 (Wed, 22 Jan 2003) | 6 lines

Initial fix for the <jar> doesn't update bug, will need some
refinement (see extra mail to list).

PR: 10755
Submitted by:	Antoine Levy-Lambert <levylambert at tiscali-dsl dot de>

------------------------------------------------------------------------
r273842 | bodewig | 2003-01-22 03:53:16 -0500 (Wed, 22 Jan 2003) | 4 lines

Add pointer to VPP.

Submitted by:	didge <didge at foundrylogic dot com>

------------------------------------------------------------------------
r273841 | conor | 2003-01-21 23:49:15 -0500 (Tue, 21 Jan 2003) | 5 lines

Fix uptodate check when using attributes rather than filesets

PR:	16119
Submitted by:	Larry Isaacs

------------------------------------------------------------------------
r273834 | bodewig | 2003-01-20 07:44:24 -0500 (Mon, 20 Jan 2003) | 4 lines

Properly support containsKey in LazyHashtable.

Fix the wrong semantics of AntTaskTable#contains.

------------------------------------------------------------------------
r273830 | bodewig | 2003-01-20 03:09:01 -0500 (Mon, 20 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273829 | ehatcher | 2003-01-18 20:32:11 -0500 (Sat, 18 Jan 2003) | 2 lines

added .DS_Store to default excludes

------------------------------------------------------------------------
r273828 | conor | 2003-01-18 09:21:02 -0500 (Sat, 18 Jan 2003) | 3 lines

Factor out XML Context into its own class
Clean up style conformance in ProjectHelper2

------------------------------------------------------------------------
r273826 | stevel | 2003-01-18 01:51:21 -0500 (Sat, 18 Jan 2003) | 2 lines

refactoring of the <depends> Selector and a new subclass <different>, which has a more advanced definition of different from just timestamps.

------------------------------------------------------------------------
r273824 | bodewig | 2003-01-17 09:34:55 -0500 (Fri, 17 Jan 2003) | 7 lines

Fix some JDK 1.1 issues - only culprit remaining is Diagnostics with
its class locating code.

Learned by failing <xmlvalidate> tests that FileUtils.getFileURL
wouldn't append slashes where it should (because normalize strips
them).

------------------------------------------------------------------------
r273822 | bodewig | 2003-01-17 07:30:44 -0500 (Fri, 17 Jan 2003) | 5 lines

Take care of the original manifest when updating a jar.

PR: 12651
Based on code submitted by:	Ben Jenkins <bjenkins at dynamicsoft dot com>

------------------------------------------------------------------------
r273821 | bodewig | 2003-01-17 05:50:57 -0500 (Fri, 17 Jan 2003) | 2 lines

Add (disabled) tests for 12651

------------------------------------------------------------------------
r273820 | bodewig | 2003-01-17 05:35:10 -0500 (Fri, 17 Jan 2003) | 2 lines

Add (disabled) tests for 10755

------------------------------------------------------------------------
r273819 | conor | 2003-01-17 05:27:12 -0500 (Fri, 17 Jan 2003) | 2 lines

Actually enable namespace support in ProjectHelper2

------------------------------------------------------------------------
r273818 | conor | 2003-01-16 21:14:39 -0500 (Thu, 16 Jan 2003) | 5 lines

Fix up PVCS folder creation

PR:	3219
Submitted by:	Shane Hartman

------------------------------------------------------------------------
r273817 | conor | 2003-01-16 09:45:24 -0500 (Thu, 16 Jan 2003) | 10 lines

Associate messages with the correct tasks in XML Logger.
Where an UnknownElement is involved, need to look a little harder

Commented out for now the code which associated a project level message
with the currently active element - better to have it go to the project
level


PR:	7926

------------------------------------------------------------------------
r273809 | bodewig | 2003-01-16 06:23:07 -0500 (Thu, 16 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273808 | conor | 2003-01-16 06:17:13 -0500 (Thu, 16 Jan 2003) | 4 lines

Search for jarsigner in JAVA_HOME using standard JDK tool search
(JavaEnvUtils is cool)
PR:	11175

------------------------------------------------------------------------
r273807 | conor | 2003-01-16 06:09:43 -0500 (Thu, 16 Jan 2003) | 4 lines

Restore ability of signjar keystore to take a URL

PR:     10672

------------------------------------------------------------------------
r273804 | bodewig | 2003-01-15 09:25:12 -0500 (Wed, 15 Jan 2003) | 2 lines

&x should better be &#x

------------------------------------------------------------------------
r273802 | conor | 2003-01-15 09:10:59 -0500 (Wed, 15 Jan 2003) | 3 lines

Initial tests for Import including a test to highlight issue importing
unnamed projects

------------------------------------------------------------------------
r273801 | bodewig | 2003-01-15 09:02:49 -0500 (Wed, 15 Jan 2003) | 2 lines

Don't allow ]]> within CDATA sections.

------------------------------------------------------------------------
r273800 | umagesh | 2003-01-14 13:43:12 -0500 (Tue, 14 Jan 2003) | 2 lines

Oops... 2003

------------------------------------------------------------------------
r273798 | umagesh | 2003-01-14 13:39:56 -0500 (Tue, 14 Jan 2003) | 5 lines

Translate not ignoring comment lines

PR: 16042
Submitted by: morpheus@smi.stanford.edu (Mark Woon)

------------------------------------------------------------------------
r273795 | bodewig | 2003-01-13 10:52:12 -0500 (Mon, 13 Jan 2003) | 4 lines

Make build.sysclasspath handling more consistent.

PR: 15014

------------------------------------------------------------------------
r273785 | bodewig | 2003-01-13 07:05:52 -0500 (Mon, 13 Jan 2003) | 5 lines

Enable <get> compilation without Sun classes.

PR: 16006
Submitted by:	Dalibor Topic <robilad at yahoo dot com>

------------------------------------------------------------------------
r273784 | bodewig | 2003-01-09 03:23:17 -0500 (Thu, 09 Jan 2003) | 5 lines

Don't fail if the file doesn't exist in <xmlproperty>

PR: 15674
Submitted by:	Nicola Ken Barozzi <nicolaken at apache dot org>

------------------------------------------------------------------------
r273783 | conor | 2003-01-08 22:39:53 -0500 (Wed, 08 Jan 2003) | 2 lines

Import updates

------------------------------------------------------------------------
r273782 | conor | 2003-01-08 22:30:59 -0500 (Wed, 08 Jan 2003) | 2 lines

Make this compile

------------------------------------------------------------------------
r273780 | bodewig | 2003-01-08 05:05:23 -0500 (Wed, 08 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273776 | conor | 2003-01-08 03:31:05 -0500 (Wed, 08 Jan 2003) | 2 lines

Don't execute the implict target if no default available.

------------------------------------------------------------------------
r273773 | bodewig | 2003-01-08 03:06:48 -0500 (Wed, 08 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273772 | costin | 2003-01-07 23:35:21 -0500 (Tue, 07 Jan 2003) | 22 lines

Few changes:
- implement the BuildLogger - so it can be used with -logger

- few hacks/changes to support logging messages to stdout/stderr without
going to infinite loop. The trick is to create the logger with stdout
beeing the "real" one. Just to be sure it also logs with stdout set to
the real one. This could be done more cleanely probably - with some
changes in core.

- less verbosity ( task started/stoped doesn't need info, etc ).

- the log category is based on the real task name, combine with the
target. That means you can arbitrarily enable debug on tasks and
to tasks that are in particular target.



PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273769 | costin | 2003-01-06 11:00:55 -0500 (Mon, 06 Jan 2003) | 7 lines

Warn of duplicated project name only if importing.

There are normal cases ( antcall) where the same build file is parsed many times
( this could be avoided now - as an optimization ).
It is a problem only in import, because of the target conflict resolution.
( targets are qualified with the project name )

------------------------------------------------------------------------
r273766 | bodewig | 2003-01-06 09:16:13 -0500 (Mon, 06 Jan 2003) | 2 lines

2003

------------------------------------------------------------------------
r273765 | bodewig | 2003-01-06 09:12:36 -0500 (Mon, 06 Jan 2003) | 2 lines

Keep track of fixes

------------------------------------------------------------------------
r273763 | conor | 2003-01-06 09:04:54 -0500 (Mon, 06 Jan 2003) | 2 lines

Actually add the test case too

------------------------------------------------------------------------
r273762 | conor | 2003-01-06 08:58:31 -0500 (Mon, 06 Jan 2003) | 4 lines

Check if loaderrefs are valid before casting them.

Reported By: 	Jeroen Breedveld

------------------------------------------------------------------------
r273760 | bodewig | 2003-01-06 08:51:26 -0500 (Mon, 06 Jan 2003) | 5 lines

Deal with lazy class verification.

PR: 15377
Submitted by:	David Konecny <david.konecny at volny.cz>

------------------------------------------------------------------------
r273757 | bodewig | 2003-01-06 02:32:35 -0500 (Mon, 06 Jan 2003) | 2 lines

Happy New Year ;-)

------------------------------------------------------------------------
r273746 | conor | 2003-01-05 08:16:42 -0500 (Sun, 05 Jan 2003) | 2 lines

Can't compare files with strings

------------------------------------------------------------------------
r273745 | costin | 2003-01-04 11:36:42 -0500 (Sat, 04 Jan 2003) | 17 lines

Cut&paste of all code related to task/types from Project.

This is _not_ an antlib, just a mechansim to make the task/type
management pluggable and simplify Project ( which will just delegate
for backward compat. ).

Please review - and -1 ( or just remove/change ) if you think this
is bad.

The actual details of the plugin mechanisms are not perfect -
we need to settle on them before 1.6 is released ( same for PropertyHelper).

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273744 | ehatcher | 2003-01-03 19:34:01 -0500 (Fri, 03 Jan 2003) | 2 lines

XDoclet does not like the semicolons on these lines

------------------------------------------------------------------------
r273736 | costin | 2002-12-31 17:07:07 -0500 (Tue, 31 Dec 2002) | 7 lines

Ant is reusing the same helper

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273735 | costin | 2002-12-31 12:36:43 -0500 (Tue, 31 Dec 2002) | 7 lines

Remove the debug statement.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273734 | costin | 2002-12-31 12:36:15 -0500 (Tue, 31 Dec 2002) | 7 lines

Ant will try to copy all inheritedReferences. Some may not exist.
Display a warning.

I don't understand very well the code - but we take the name from
"references" ( which is specified by the user ), and assume that
all of them exist. For some reason that's not allways true.

------------------------------------------------------------------------
r273733 | costin | 2002-12-31 12:33:58 -0500 (Tue, 31 Dec 2002) | 9 lines

Added back the import property.
Added a small message to allow debugging of duplicated project names.


PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273732 | costin | 2002-12-31 10:49:25 -0500 (Tue, 31 Dec 2002) | 10 lines

Extra check for null.

Input is calling setNewProperty - but if defaultValue and value are null
we'll get NPE

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273731 | costin | 2002-12-31 10:33:36 -0500 (Tue, 31 Dec 2002) | 8 lines

Weird. UE didn't seem to call setProject on the task. That seems to be
the cause of the NPE.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273729 | costin | 2002-12-30 10:36:25 -0500 (Mon, 30 Dec 2002) | 2 lines

Fix getParent() ( cut&paste from ProjectHelperImpl )

------------------------------------------------------------------------
r273728 | costin | 2002-12-30 01:11:14 -0500 (Mon, 30 Dec 2002) | 10 lines

Update with the current name generation schema.

There is no standard for how jsp generates names - and jasper
changes from time to time :-)

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273727 | costin | 2002-12-30 01:10:14 -0500 (Mon, 30 Dec 2002) | 19 lines

Finally fix the jspc test failure.

This is just the first round, it can be improved - not sure what's
the best way to deal with classpath specific issues in path.

The problem is that CLASSPATH ( as given in the system property,
and added in concatSystemPath ) may contain relative paths,
and they are relative to user.dir, not the project basedir.

Since gump is using relative paths, the launched java didn't find
the classes it needed, returning the strange -1 error.

Of course, the test suite could be more informative too :-)

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273725 | costin | 2002-12-29 02:31:26 -0500 (Sun, 29 Dec 2002) | 16 lines

Fix the CRLF failure.

The test relies on the order of attributes ( cr set before eol ). Probably
other tasks are in the same situation.

The original change tried to reduce the dependencies on SAX - we may
use DOM or direct API calls in future, and the code will become very
complex. I just used the same thing that SAX is using ( 2 Vectors to
preserve the order ). We could also pick one ( SAX2 attributes ) and use
it in all cases.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273720 | costin | 2002-12-29 00:56:26 -0500 (Sun, 29 Dec 2002) | 10 lines

Few small changes. If the core loader is set and no explicit classpath
is present, use it.

I think this can be further cleaned up to use the right parent loader
etc. But probably the best would be to just use the loaderRef.
Or just deprecate Definer completely - when we have a good antlib solution

Also added getters ( it's nice to have access to info - especially with
dynamic properties :-)

------------------------------------------------------------------------
r273719 | costin | 2002-12-29 00:53:38 -0500 (Sun, 29 Dec 2002) | 7 lines

Few fixes, AntClassLoader uses parentFirst, Classloader was using reverse.
Make them consistent
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273714 | costin | 2002-12-28 16:26:30 -0500 (Sat, 28 Dec 2002) | 7 lines

Call direcltly project ( all other tasks do this )

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273713 | costin | 2002-12-28 16:25:43 -0500 (Sat, 28 Dec 2002) | 8 lines

Call project.replaceProperties(). Probably should call PropertyHelper directly,
but Grant ( and others ) may extend project and override it.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273712 | costin | 2002-12-28 16:16:24 -0500 (Sat, 28 Dec 2002) | 6 lines

Everything related with properties is in PropertyHelper.
ProjectHelper delegates for backward compat.

I deprecated some of the methods, easy to revert if you think they
are needed.

------------------------------------------------------------------------
r273711 | costin | 2002-12-28 16:14:31 -0500 (Sat, 28 Dec 2002) | 6 lines

Everything related with properties is now in PropertyHelper.
Project delegates to PropertyHelper ( for backward compatibility ).

As soon as the API is stable ( i.e. do we pass ns ? Object ? )
we can deprecate the methods in Project.

------------------------------------------------------------------------
r273709 | costin | 2002-12-28 12:10:17 -0500 (Sat, 28 Dec 2002) | 44 lines

"Dynamic properties" and a bit more.

This is "slightly" different from embed - if dynamic properties will be
accepted in 1.6, it is better to do it right. Embed uses few hacks to
trick the ProjectHelper.

PropertyHelper includes all the code related with property manipulation
from Project (cut&paste). I added a very simple hook mechanism ( Filter/Valve
like ) for the most common operations.

The API is obviously far from final - someone who really understand "user"
and "inherited" properties should review it and make few changes.

In Project, all properties fields are private - so all can be removed.
The methods related with properties will just delegate to PropertyHelper.
From a user point of view - no visible change ( hopefully :-). Even grant
will continue to work ( but won't be able to use the new features ).

Benefits:
- cleanup of Project. Less code and better organised.
- Property handling will hopefully be cleaner too
- we get to add APIs for namespace support, and maybe support non-string
properties ( JSP-EL like - that needs to be disussed, but IMO it would
be very helpfull ). While refs are Objects, the main distinction is imutability.

Also:
- apps embeding or extending ant can fully customize _all_ aspects of
property processing, including ${} replacement and even the syntax.
- it should be very easy to hook a different storage mechanism ( i.e.
integrated with the embeding app, without requiring copy of properties ).
- it should be possible to avoid copy when creating execution frames
( by using a chain that keeps changes and delegates getters ).
- dynamic properties support ( my original itch :-)

Please wait few days before firing, it seems all tests are passing
and gump works - but I'm sure there are few problems :-)

( I'll commit the change in Project later today )

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273708 | costin | 2002-12-28 11:54:12 -0500 (Sat, 28 Dec 2002) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r273707 | costin | 2002-12-28 11:17:07 -0500 (Sat, 28 Dec 2002) | 10 lines

Quick fail if ImportTask is used with a ProjectHelper that doesn't
support imports. The original helper won't work ( because of eval order ),
and embed will fail too ( since it can't use 1.6 features - one of the
goals is to work in ant1.5 ).

I'm ready to move the dynamic properties and the component hooks - I'll
porbably do it this weekend ( most people are in vacation, so fewer
will feel any breakage ). In any case [embed] should now used only
if you want to use (some) new features in ant1.5.

------------------------------------------------------------------------
r273705 | costin | 2002-12-27 13:14:50 -0500 (Fri, 27 Dec 2002) | 9 lines

Update with the 2 changes: set attributes explicitely ( instead of passing
the SAX2 Attributes).
- import will use the normal entry point and will not depend on the sax
context. We know we are in an import by looking at the importStack,
that will set ignoreProjectTag flag and we'll reuse the context.
There are few more changes needed to clean up the context ( some fields
are no longer needed, and it needs to use proper getter/setters instead
of the fields ).

------------------------------------------------------------------------
r273704 | costin | 2002-12-27 13:11:15 -0500 (Fri, 27 Dec 2002) | 14 lines

A change in ProjectHelper2 - RC doesn't need to depend on SAX2.
The attributes are just stored in a Hashtable, you can construct the
UE/RC tree without using any SAX at all.

I added @deprecated tags to the SAX1 attributes as well.

Also added a (harmless - I hope ) Serializable interface to RC, and
transient to the fields that don't need to be serialized.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273703 | costin | 2002-12-27 13:06:23 -0500 (Fri, 27 Dec 2002) | 21 lines

Add "importStack" that will allow import to keep track of loops.
If importStack has more than one element, ProjectHelper implementations
should know they are inside an import. This can also be used to
display more informative error messages ( i.e. the include path to
a file with errors ).

Removed the SAX2 Attributes and deprecate the SAX1 Attributes methods.
I made a small change to RuntimeConfigurable to make it less SAX-dependent,
ProjectHelper2 will just use a simple Hashtable and RC/ProjectHelper will
be SAX-independent ( except the deprecated methods ). This would allow
better programmatic use of ant and maybe a DOM ProjectHelper.

One interesting note: while SAX is faster, using DOM or caching the
UE/RC tree will greatly optimize <antCall>, where the same file
is parsed on each call.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273702 | costin | 2002-12-27 13:01:14 -0500 (Fri, 27 Dec 2002) | 10 lines

Add a new method to get an IntrospectionHelper.
If one already exists, it'll be returned.
The method will register itself for projectEnd notifications.
( this avoids multiple IH and listeners )

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273701 | costin | 2002-12-27 12:59:40 -0500 (Fri, 27 Dec 2002) | 11 lines

Remove the dependency on ProjectHelper2.

We only need the import stack to avoid loops and some
mechanism to let let the helper know we're processing an import.


PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273695 | costin | 2002-12-25 12:56:22 -0500 (Wed, 25 Dec 2002) | 9 lines

Revert the change, it causes gump failures ( thanks Gump ! )

I can't reproduce the error yet ( my gump works fine ), but
most likely this is the cause of the errors ( classloader changes
couldn't affect anything not using <classloader>).

I'll apply again the patch from Nicola, without making more
changes.

------------------------------------------------------------------------
r273694 | costin | 2002-12-24 13:09:39 -0500 (Tue, 24 Dec 2002) | 9 lines

Use classpath instead of path.

Allow more convenient specification of the classpath.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273693 | costin | 2002-12-24 12:40:34 -0500 (Tue, 24 Dec 2002) | 5 lines

Make the basedir of each project available.

I added both ant.file.NAME and basedir.NAME, and cleaned up a bit
the code.

------------------------------------------------------------------------
r273690 | costin | 2002-12-23 20:31:56 -0500 (Mon, 23 Dec 2002) | 10 lines

Made the messages for loading with direct and reverse delegation different.

Added a small message to display the source of the class ( like the
verbose:class option )

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273689 | costin | 2002-12-23 20:28:08 -0500 (Mon, 23 Dec 2002) | 7 lines

Add <classloader> and <import>

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273688 | costin | 2002-12-23 20:27:45 -0500 (Mon, 23 Dec 2002) | 13 lines

Add the <classloader> task.

It'll create a new loader or add paths to an existing loader.

The main use is for the core loader - used to load ant regular
and optional tasks.

This is similar with embed, but 90% of the code is not needed for
ant1.6 ( due to the delayed task creation ).

For both import and classloader I changed the name of the class
so embed can still compile.

------------------------------------------------------------------------
r273687 | costin | 2002-12-23 20:25:09 -0500 (Mon, 23 Dec 2002) | 10 lines

<import> task.

This is almost the same as in embed, except few simplifications
and cleanups.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273686 | costin | 2002-12-23 20:21:26 -0500 (Mon, 23 Dec 2002) | 14 lines

A small build test for <classloader>

I don't know how this can be included in the junit tests
( at least the part that loads optional tasks ) since the
test env already includes most classes.

In order to test - you need to run this without junit.jar
in ant/lib and to pass the path to junit.jar

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273685 | costin | 2002-12-23 20:19:25 -0500 (Mon, 23 Dec 2002) | 9 lines

Add 2 (small) test files for import.
I still need to add the .java file and add tests for the
more advanced features.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273684 | conor | 2002-12-23 08:29:16 -0500 (Mon, 23 Dec 2002) | 7 lines

Add maxmemory option to control memory of the jarsigner VM
revert sigfile to a String - does not make sense to be a File
Added a testcase with keystore for signjar

PR:	1284, 10754
Submitted by:	Jonathan Keller

------------------------------------------------------------------------
r273682 | conor | 2002-12-23 06:51:59 -0500 (Mon, 23 Dec 2002) | 2 lines

cut and paste error fixup

------------------------------------------------------------------------
r273681 | conor | 2002-12-23 06:50:52 -0500 (Mon, 23 Dec 2002) | 2 lines

Minor formatting

------------------------------------------------------------------------
r273680 | conor | 2002-12-23 06:49:41 -0500 (Mon, 23 Dec 2002) | 2 lines

Update test code to account for the new dependency file

------------------------------------------------------------------------
r273679 | conor | 2002-12-21 10:04:17 -0500 (Sat, 21 Dec 2002) | 6 lines

Make the message more informative when a class cannot be loaded
due to a missing dependent class.

PR:	14806
Submitted by:	David Jencks

------------------------------------------------------------------------
r273678 | conor | 2002-12-20 09:34:32 -0500 (Fri, 20 Dec 2002) | 5 lines

Remove incorrect check on the output file length

PR:	15568
Submitted by:	Mike Schilling

------------------------------------------------------------------------
r273677 | conor | 2002-12-20 08:57:12 -0500 (Fri, 20 Dec 2002) | 5 lines

Add test cases for class fileset to pick up new dependency types

PR: 13273
Obtained from: Jesse

------------------------------------------------------------------------
r273674 | conor | 2002-12-19 09:05:04 -0500 (Thu, 19 Dec 2002) | 5 lines

Detect more class references, particularly the ones used to create
Class  instances

Suggested by: Frank-Michael Moser

------------------------------------------------------------------------
r273673 | conor | 2002-12-19 06:20:29 -0500 (Thu, 19 Dec 2002) | 5 lines

Make sure random component of names is always purely numeric - no negative signs

PR:	15399
Submitted by:	Rob Shafer

------------------------------------------------------------------------
r273671 | costin | 2002-12-17 00:47:16 -0500 (Tue, 17 Dec 2002) | 12 lines

Fix for the lowercase problem. Sorry for the delay, I didn't have access to
email this weekend.

The code may still have a small problem - but the original had similar
issues. I'll try to move the fix in UE later this week.

I think getting to a consistent behavior is quite important - I wouldn't
mind having all elements converted to lowercase, and I don't remember
and design and explicit decision to have some lowercased and some not.

If you still see problems - switch back to the original PH.

------------------------------------------------------------------------
r273670 | conor | 2002-12-15 05:43:36 -0500 (Sun, 15 Dec 2002) | 3 lines

Testcase to test conformance to case sesnitivity rules for tasks
and nested elements

------------------------------------------------------------------------
r273669 | costin | 2002-12-13 17:00:05 -0500 (Fri, 13 Dec 2002) | 10 lines

getDescription() now computes the description ( on demand ) using
the tree.

If ProjectHelperImpl is used - no differences should be visible.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273668 | costin | 2002-12-13 16:58:23 -0500 (Fri, 13 Dec 2002) | 13 lines

Initial fix for description problems.

If the original ProjectHelperImpl will be used, things will
work as before.

If not - Description will look into each target and do
whatever it is supposed to do.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273667 | costin | 2002-12-13 16:56:52 -0500 (Fri, 13 Dec 2002) | 12 lines

Project stores the targets in a hashtable. There is no way to
retrieve the ordered list. This should eventually be included in
Project, but for now I added a small workaround in order to
support Description.



PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273666 | costin | 2002-12-13 16:55:45 -0500 (Fri, 13 Dec 2002) | 7 lines

Add accessor for the text content.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273664 | conor | 2002-12-13 09:51:03 -0500 (Fri, 13 Dec 2002) | 2 lines

addConfiguredXXX was not working for TaskAdpater wrapped classes

------------------------------------------------------------------------
r273663 | bodewig | 2002-12-13 08:45:02 -0500 (Fri, 13 Dec 2002) | 4 lines

Add mac, unix and dos as alternatives for <fixcrlf>'s eol option.

Submitted by:	Martin van den Bemt <mllist at mvdb dot net>

------------------------------------------------------------------------
r273661 | bodewig | 2002-12-13 07:29:33 -0500 (Fri, 13 Dec 2002) | 5 lines

IBM has decided that one runtime jar simply is not enough.

PR: 15289
Submitted by:	Ville Skytt� <ville dot skytta at iki dot fi>

------------------------------------------------------------------------
r273656 | costin | 2002-12-12 19:52:18 -0500 (Thu, 12 Dec 2002) | 10 lines

Add a method to support configuration using SAX2 attributes.

Changed ( at least for few now ) the default helper to the SAX2
processor.
The original processor can still be used using the system property,
and we can revert if we have see problems.

Description4 still fails - I'll add try to fix it later, I
don't think it's a big show-stopper.

------------------------------------------------------------------------
r273655 | costin | 2002-12-12 19:49:36 -0500 (Thu, 12 Dec 2002) | 9 lines

Few changes merged from embed to support delayed evaluation.

All of them should be harmless if used with the original parser.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273654 | costin | 2002-12-12 19:47:59 -0500 (Thu, 12 Dec 2002) | 10 lines

Added support for SAX2 attributes.

This is merged from RuntimeConfigurable2 ( sorry for the indentation
changes ).

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273653 | costin | 2002-12-12 19:46:51 -0500 (Thu, 12 Dec 2002) | 5 lines

This is the delayed-task creation helper. It's a clened-up
version of ProjectHelperImpl from embed, with all other extensions
removed. I also removed all code that supported the old eval
mode ( which reduced the size in 1/2 )

------------------------------------------------------------------------
r273650 | costin | 2002-12-11 14:45:42 -0500 (Wed, 11 Dec 2002) | 10 lines

Another try with delayed task Class creation and runtime replacement
of UE in refs.

Revert to 1.120 if any problem.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273649 | costin | 2002-12-11 14:44:40 -0500 (Wed, 11 Dec 2002) | 7 lines

Different test - it seems the field is no private, so it can't pass.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273645 | bodewig | 2002-12-10 11:38:26 -0500 (Tue, 10 Dec 2002) | 4 lines

Rumors say that absolute file: URLs on Windows need a third slash.

Get rid of some code duplication.

------------------------------------------------------------------------
r273638 | bodewig | 2002-12-10 02:39:22 -0500 (Tue, 10 Dec 2002) | 2 lines

remove catalogfiles from xmlcatalog

------------------------------------------------------------------------
r273629 | bodewig | 2002-12-09 07:40:38 -0500 (Mon, 09 Dec 2002) | 5 lines

Add support for Unix permissions to <zip> and friends, doing it the
Info-Zip way.

PR: 6492

------------------------------------------------------------------------
r273625 | stevel | 2002-12-07 19:38:07 -0500 (Sat, 07 Dec 2002) | 2 lines

test that we get the expected reference on java1.2, by a bit of convolution. (i.e that we dont get the 1.1 compatible ref)

------------------------------------------------------------------------
r273624 | stevel | 2002-12-07 19:37:13 -0500 (Sat, 07 Dec 2002) | 2 lines

exposing the internal class for testing

------------------------------------------------------------------------
r273623 | costin | 2002-12-07 11:04:38 -0500 (Sat, 07 Dec 2002) | 2 lines

Roll back. I'll do more testing and try again...

------------------------------------------------------------------------
r273622 | costin | 2002-12-06 18:45:07 -0500 (Fri, 06 Dec 2002) | 14 lines

Another small improvement - if the 'coreLoader' is set, try
it before Class.forName().

AFAIK nobody sets it right now. The 'only' system property is
checked.

I'll wait for the gump runs to see if anything breaks and revert
the "lazy task creation" if it does.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273621 | costin | 2002-12-06 18:29:19 -0500 (Fri, 06 Dec 2002) | 7 lines

Few extra checks and small improvements to the delayed tasks

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273620 | costin | 2002-12-06 18:11:04 -0500 (Fri, 06 Dec 2002) | 22 lines

2 small (?) changes.

References are stored in a special hashtable that automatically
configures UnknownElements. ( this will probably be a noop with
the current execution model most of the times - since ProjectHelper
already does that ).

Also task and type creation is delayed and not all tasks are
constructed. That should remove few seconds from the startup time,
and will simplify a lot of code that modifies the classpath at
runtime.

Please review - and if you see any problem -1 it. I checked it in
mostly to allow other people to verify the Script with lazy
eval. If there are objections I can turn this into a hook
and move it to [embed].

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273619 | costin | 2002-12-06 18:02:30 -0500 (Fri, 06 Dec 2002) | 13 lines

Added a hashtable that allows delayed initialization.

In most build files you don't use _all_ tasks and types -
and it takes few second to process all exceptions due to class not
found ( for optional tasks ). This class will allow tasks to
be created when needed, and will also improve the behavior
when the main class loader is changed.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273617 | bodewig | 2002-12-06 11:17:36 -0500 (Fri, 06 Dec 2002) | 2 lines

getting close to Info-Zip now, will enable it next week

------------------------------------------------------------------------
r273616 | bodewig | 2002-12-06 09:02:01 -0500 (Fri, 06 Dec 2002) | 2 lines

Some prelimnary commit for bug 6492 - I'm still trying to understand how Info-Zip stores the permissions

------------------------------------------------------------------------
r273610 | umagesh | 2002-12-04 11:42:34 -0500 (Wed, 04 Dec 2002) | 2 lines

Real tired of seeing email address being abused.

------------------------------------------------------------------------
r273609 | umagesh | 2002-12-04 10:31:18 -0500 (Wed, 04 Dec 2002) | 4 lines

The zip task doesn't work correctly if you're using filesetmanifest and update is false - Fix for this problem caused by previous patch.

Submitted by: Brian Deitte <bdeitte@macromedia.com>

------------------------------------------------------------------------
r273606 | bodewig | 2002-12-03 09:51:23 -0500 (Tue, 03 Dec 2002) | 2 lines

Make ConcatTest work on non-Unix

------------------------------------------------------------------------
r273605 | bodewig | 2002-12-03 09:40:50 -0500 (Tue, 03 Dec 2002) | 2 lines

Actually test the resolver stuff of xmlcatalog

------------------------------------------------------------------------
r273604 | bodewig | 2002-12-03 07:29:15 -0500 (Tue, 03 Dec 2002) | 2 lines

Add download from mirror links

------------------------------------------------------------------------
r273601 | bodewig | 2002-12-03 04:01:52 -0500 (Tue, 03 Dec 2002) | 2 lines

Don't append a dot to package roots if there already is one.

------------------------------------------------------------------------
r273600 | bodewig | 2002-12-02 11:30:51 -0500 (Mon, 02 Dec 2002) | 2 lines

make XMLCatalog less verbose

------------------------------------------------------------------------
r273599 | bodewig | 2002-12-02 11:06:09 -0500 (Mon, 02 Dec 2002) | 5 lines

Add <catalogpath> to <xmlcatalog>.

PR: 14978
Submitted by:	Jeff Turner <jefft at apache.org>

------------------------------------------------------------------------
r273596 | bodewig | 2002-12-02 09:20:06 -0500 (Mon, 02 Dec 2002) | 2 lines

remove trailing dot

------------------------------------------------------------------------
r273595 | stevel | 2002-11-30 23:38:44 -0500 (Sat, 30 Nov 2002) | 2 lines

because I had a pressing need to be find out which parser I was using on java1.4, and new all the code was a cut and paste away

------------------------------------------------------------------------
r273585 | bodewig | 2002-11-27 12:01:12 -0500 (Wed, 27 Nov 2002) | 2 lines

<http>'s errorsbeginat didn't work, Bug 14833

------------------------------------------------------------------------
r273582 | bodewig | 2002-11-27 11:38:57 -0500 (Wed, 27 Nov 2002) | 5 lines

<xmlvalidate> ignored the encoding declaration of files it should
validate.

PR: 11279

------------------------------------------------------------------------
r273572 | umagesh | 2002-11-21 17:16:57 -0500 (Thu, 21 Nov 2002) | 5 lines

Expand tasks did not behave as expected with PatternSets.

PR: 11100
Submitted by: gudnabrsam@yahoo.com

------------------------------------------------------------------------
r273571 | umagesh | 2002-11-21 17:00:29 -0500 (Thu, 21 Nov 2002) | 6 lines

Patch that fix memory leaks in SelectorUtils.java

The method matchPatternStart generates memory leaks due to the 2 Vectors:    patDirs and strDirs,  used to hold tokenizedPaths.

Submitted by: "Francis ANDRE" <francis.andre@e-xmlmedia.fr>

------------------------------------------------------------------------
r273570 | umagesh | 2002-11-21 16:47:53 -0500 (Thu, 21 Nov 2002) | 5 lines

The filesetmanifest attribute of <jar> has been reenabled.

PR: 13296
Submitted by: bdeitte@macromedia.com (Brian Deitte)

------------------------------------------------------------------------
r273569 | umagesh | 2002-11-21 16:35:41 -0500 (Thu, 21 Nov 2002) | 6 lines

Allow start and end tokens to be multiple characters long.

PR: 13939

Submitted by: "Don Brown" <mrdon@twdata.org>

------------------------------------------------------------------------
r273568 | bodewig | 2002-11-21 05:06:13 -0500 (Thu, 21 Nov 2002) | 5 lines

Add a test that shows that <script> can use beanshell.

... and disable it as Apache BSF now supports beanshell, but beanshell
doesn't seem to support Apache BSF yet.

------------------------------------------------------------------------
r273564 | bodewig | 2002-11-21 03:49:37 -0500 (Thu, 21 Nov 2002) | 2 lines

Add tests for <script>

------------------------------------------------------------------------
r273561 | bodewig | 2002-11-20 07:55:53 -0500 (Wed, 20 Nov 2002) | 2 lines

Looks as if JDK 1.4 is counting lines differently

------------------------------------------------------------------------
r273559 | bodewig | 2002-11-20 05:10:13 -0500 (Wed, 20 Nov 2002) | 2 lines

Good-Bye resolver 1.0.

------------------------------------------------------------------------
r273556 | stevel | 2002-11-18 14:05:43 -0500 (Mon, 18 Nov 2002) | 2 lines

bug ID 14613: no passdown of webinc and webxml, by toby.

------------------------------------------------------------------------
r273555 | bodewig | 2002-11-18 10:47:45 -0500 (Mon, 18 Nov 2002) | 4 lines

Add drimode attribute for the permissions od directories to <tarfileset>.

PR: 12289

------------------------------------------------------------------------
r273553 | bodewig | 2002-11-18 10:22:52 -0500 (Mon, 18 Nov 2002) | 5 lines

Don't add newlines in <concat> that haven't been in the files
originally - no matter what encoding.

PR: 12511

------------------------------------------------------------------------
r273552 | bodewig | 2002-11-18 09:31:52 -0500 (Mon, 18 Nov 2002) | 6 lines

Don't stop with encoding # when creating URIs for the XML parser.
Code heavily inspired by Xerces-J code.  This version is extremely
simplified as it doesn't deal with non-ASCII characters for now.

PR: 13679

------------------------------------------------------------------------
r273550 | bodewig | 2002-11-18 07:02:27 -0500 (Mon, 18 Nov 2002) | 13 lines

The cvschangelog task doesn't seem to report changes for the current
calendar day.

The problem lies in the fact that the exec'ed cvs command is in the form:
> cvs log "-d >=2002-11-7"
rather than:
> cvs log -d ">=2002-11-7"

The two commands return different results when changes have been made today!

PR: 14397
Submitted by:	Paul Berrevoets <paul at swi.com>

------------------------------------------------------------------------
r273547 | bodewig | 2002-11-15 08:15:23 -0500 (Fri, 15 Nov 2002) | 2 lines

merge some minor changes from 1.5 branch

------------------------------------------------------------------------
r273545 | bodewig | 2002-11-15 06:59:31 -0500 (Fri, 15 Nov 2002) | 8 lines

Throw in a reuseloadedstylesheet attribute for <style> (feel free to
come up with a better name).  This provides a workaround for a bug in
Xalan-J - the version that gets distributed with JDK 1.4.1.

PR: 13859

based on a patch submitted by:	Jens Elkner <elkner at linofee.org>

------------------------------------------------------------------------
r273543 | bodewig | 2002-11-15 06:31:20 -0500 (Fri, 15 Nov 2002) | 2 lines

correct attribute name in icontract docs, PR13972

------------------------------------------------------------------------
r273541 | bodewig | 2002-11-14 02:48:25 -0500 (Thu, 14 Nov 2002) | 2 lines

Switching to Apache BSF

------------------------------------------------------------------------
r273539 | bodewig | 2002-11-12 06:58:28 -0500 (Tue, 12 Nov 2002) | 6 lines

Print a warning and don't create an output file if there is no input
to <concat>.

PR: 14310
Submitted by:	Gus Heck <gus.heck at olin.edu>

------------------------------------------------------------------------
r273536 | bodewig | 2002-11-12 03:17:22 -0500 (Tue, 12 Nov 2002) | 2 lines

Reenable tests for xmlcatalog

------------------------------------------------------------------------
r273535 | stevel | 2002-11-12 00:54:47 -0500 (Tue, 12 Nov 2002) | 2 lines

forgot the since tags

------------------------------------------------------------------------
r273530 | stevel | 2002-11-11 02:21:19 -0500 (Mon, 11 Nov 2002) | 2 lines

added user/password support in the proxy, though I cant test it myself. Also added removal of http host in cleanup routine.

------------------------------------------------------------------------
r273528 | bodewig | 2002-11-08 11:39:57 -0500 (Fri, 08 Nov 2002) | 2 lines

Clean up on concat test

------------------------------------------------------------------------
r273527 | bodewig | 2002-11-08 11:37:44 -0500 (Fri, 08 Nov 2002) | 2 lines

Make PMD a bit more happy

------------------------------------------------------------------------
r273524 | bodewig | 2002-11-08 11:07:55 -0500 (Fri, 08 Nov 2002) | 4 lines

-source is a javadoc option, not one of the standard doclet.

PR: 13747

------------------------------------------------------------------------
r273522 | bodewig | 2002-11-08 10:40:55 -0500 (Fri, 08 Nov 2002) | 4 lines

Add Date header to MailLogger by reusing code from <mail> task.

PR: 14046

------------------------------------------------------------------------
r273520 | bodewig | 2002-11-08 09:59:46 -0500 (Fri, 08 Nov 2002) | 5 lines

Improve error reporting in <fixcrlf>

PR: 14061
Submitted by:	Jesse Glick <jesse.glick at netbeans.com>

------------------------------------------------------------------------
r273518 | bodewig | 2002-11-08 08:10:22 -0500 (Fri, 08 Nov 2002) | 4 lines

Fix NPE in <concat>.

PR: 14310

------------------------------------------------------------------------
r273515 | bodewig | 2002-11-08 05:27:40 -0500 (Fri, 08 Nov 2002) | 4 lines

Missing pieces from Craeg's patch.

Fix small backwards incompatibility introduced by last commit.

------------------------------------------------------------------------
r273514 | bodewig | 2002-11-08 04:53:22 -0500 (Fri, 08 Nov 2002) | 5 lines

re-enable tests that failed after the first iteration of Craeg's
resolver patch.

Submitted by:	Craeg K Strong <cstrong@arielpartners.com>

------------------------------------------------------------------------
r273513 | bodewig | 2002-11-08 04:06:20 -0500 (Fri, 08 Nov 2002) | 2 lines

help XML parsers that think an URI was a java.net.URL

------------------------------------------------------------------------
r273512 | bodewig | 2002-11-08 03:32:13 -0500 (Fri, 08 Nov 2002) | 3 lines

Simplify a few methods by using FileSet#setFile, remove redundant dir
attribute from the three latest task additions.

------------------------------------------------------------------------
r273510 | bodewig | 2002-11-07 11:52:07 -0500 (Thu, 07 Nov 2002) | 2 lines

Normalize build file location for symlink test

------------------------------------------------------------------------
r273509 | bodewig | 2002-11-07 11:26:18 -0500 (Thu, 07 Nov 2002) | 7 lines

New task <attrib>

Submitted by:	Shiraz Kanga <SKanga at ingenuus.com>,
                J�r�me Lacoste <jerome.lacoste at smartcardsystem.com>

seventeen months ago 8-)

------------------------------------------------------------------------
r273508 | bodewig | 2002-11-07 10:59:47 -0500 (Thu, 07 Nov 2002) | 5 lines

New tasks <chown> and <chgrp>

PR: 9809
Submitted by:	Gus Heck <gus.heck at olin.edu>

------------------------------------------------------------------------
r273505 | bodewig | 2002-11-07 10:15:01 -0500 (Thu, 07 Nov 2002) | 4 lines

fix misleading message in <replace>.

PR: 14315

------------------------------------------------------------------------
r273503 | bodewig | 2002-11-07 02:50:08 -0500 (Thu, 07 Nov 2002) | 2 lines

fix NPE

------------------------------------------------------------------------
r273502 | bodewig | 2002-11-06 10:07:23 -0500 (Wed, 06 Nov 2002) | 5 lines

New optional task <symlink>.

PR: 9808
Submitted by:	Gus Heck <gus.heck at olin.edu>

------------------------------------------------------------------------
r273493 | sbailliez | 2002-11-06 06:18:55 -0500 (Wed, 06 Nov 2002) | 2 lines

Fixed spelling. ie occured -> occurred

------------------------------------------------------------------------
r273492 | bodewig | 2002-11-06 06:07:09 -0500 (Wed, 06 Nov 2002) | 7 lines

various starteam task enhancements.

PR: 14006,14208,14210
Submitted by:	Steve Cohen <SteveC at ignitesports.com>
Reviewed by:	Art Blake <Art.Blake at Metavante.com>,
                Jonny Boman <Jonny.Boman@vikingline.fi>

------------------------------------------------------------------------
r273490 | bodewig | 2002-11-06 05:44:19 -0500 (Wed, 06 Nov 2002) | 5 lines

Generate some dummy output if <junit> kills a test because of a timeout.

PR: 2499
Submitted by:	Martijn Kruithof <martijn at kruithof.xs4all.nl>

------------------------------------------------------------------------
r273488 | bodewig | 2002-11-06 05:22:56 -0500 (Wed, 06 Nov 2002) | 5 lines

Fix of by one error in printTargets

PR: 14274
Submitted by:	Martijn Kruithof <martijn at kruithof.xs4all.nl>

------------------------------------------------------------------------
r273487 | bodewig | 2002-11-06 03:43:46 -0500 (Wed, 06 Nov 2002) | 4 lines

Doc patches and additional tests for <xmlproperty>.

Submitted by:	Paul Christmann <paul at priorartisans.com>

------------------------------------------------------------------------
r273486 | bodewig | 2002-11-05 11:33:29 -0500 (Tue, 05 Nov 2002) | 5 lines

Make <xmlcatalog> support the OASIS "Open Catalog" standard with
Norman Walsh resolver code from xml-commons.

Submitted by:	Craeg K Strong <cstrong at arielpartners.com>

------------------------------------------------------------------------
r273485 | bodewig | 2002-11-05 11:20:03 -0500 (Tue, 05 Nov 2002) | 3 lines

Disable some tests that fail if I apply Craeg's patch and don't have
resolver.jar in my CLASSPATH.

------------------------------------------------------------------------
r273484 | bodewig | 2002-11-05 09:51:52 -0500 (Tue, 05 Nov 2002) | 7 lines

Enhancements for <xmlproperty>: you can now expand ${properties},
define ids or paths and use Ant's location magic for filename
resolutions in the XML file.

PR: 11321, 12045
Submitted by:	Paul Christmann <paul at priorartisans.com>

------------------------------------------------------------------------
r273483 | sbailliez | 2002-11-04 12:37:05 -0500 (Mon, 04 Nov 2002) | 4 lines

Fixed NPEs that could have been flying if ant.home was not defined
PR: 14232
Reported by: darin_swanson@oti.com (Darin Swanson)

------------------------------------------------------------------------
r273480 | bodewig | 2002-10-31 10:12:53 -0500 (Thu, 31 Oct 2002) | 2 lines

fix issues reported by PMD

------------------------------------------------------------------------
r273479 | bodewig | 2002-10-31 09:30:08 -0500 (Thu, 31 Oct 2002) | 2 lines

Merge Stephane's system-id refactoring into HEAD.

------------------------------------------------------------------------
r273471 | donaldp | 2002-10-29 17:38:04 -0500 (Tue, 29 Oct 2002) | 2 lines

Remove unused method

------------------------------------------------------------------------
r273469 | bodewig | 2002-10-25 03:49:46 -0400 (Fri, 25 Oct 2002) | 2 lines

merge from 1.5 branch

------------------------------------------------------------------------
r273459 | bodewig | 2002-10-24 04:15:52 -0400 (Thu, 24 Oct 2002) | 5 lines

re-add support for JAVACMD environment variable to ant.bat which has
been lost in revision 1.19 of that file.

Reported by:	Shorn Tolley <shorntolley at yahoo.co.uk>

------------------------------------------------------------------------
r273455 | sbailliez | 2002-10-23 18:23:28 -0400 (Wed, 23 Oct 2002) | 5 lines

Handle correctly the classpath if multiple jars are passed as arguments.
; is the right path separator.
PR: 13905
Reported by: vishy@borland.com (Vishy Kasar)

------------------------------------------------------------------------
r273454 | bodewig | 2002-10-23 05:34:05 -0400 (Wed, 23 Oct 2002) | 5 lines

Swallow warning about filesetManifest as long as its value cannot be
altered.

Merge from 1.5 branch.

------------------------------------------------------------------------
r273451 | costin | 2002-10-18 14:50:03 -0400 (Fri, 18 Oct 2002) | 2 lines

Added a small comment on the test ( it is one of the failings for embed )

------------------------------------------------------------------------
r273450 | bodewig | 2002-10-18 03:00:54 -0400 (Fri, 18 Oct 2002) | 6 lines

Avoid hanging listcab on large filesets (because writing the filelist
blocks before listcab's output is being read).

PR: 13546
Submitted by:	Jim Newsham <newsham at hotu.com>

------------------------------------------------------------------------
r273447 | bodewig | 2002-10-17 01:51:29 -0400 (Thu, 17 Oct 2002) | 2 lines

Provide more meaningfull message if source doesn't exist in <.+zip>

------------------------------------------------------------------------
r273444 | bodewig | 2002-10-14 06:22:44 -0400 (Mon, 14 Oct 2002) | 2 lines

explicitly check whether destFile exists in <copy file="..."/>

------------------------------------------------------------------------
r273442 | bodewig | 2002-10-14 02:38:56 -0400 (Mon, 14 Oct 2002) | 2 lines

Typo reported by Bob Summerwill <bobsummerwill at yahoo.com>

------------------------------------------------------------------------
r273428 | bodewig | 2002-10-11 10:13:22 -0400 (Fri, 11 Oct 2002) | 12 lines

<delete> doesn't catch all cases where the implicit fileset gets used
(and may thus ignore some attributes or nested selectors).

On a side-note.  I found it amusing to read

 * <p>Currently Delete extends MatchingTask.  This is intend <i>only</i>
 * to provide backwards compatibility for a release.  The future position
 * is to use nested filesets exclusively.</p>

in Delete.java.  This is sticking in there since almost exactly two
years ago.  Revision 1.8 2000-10-04.  Revision 1.9 went into Ant 1.2. 8-)

------------------------------------------------------------------------
r273426 | bodewig | 2002-10-10 09:56:02 -0400 (Thu, 10 Oct 2002) | 11 lines

* Create separate jars for all those optional tasks that have external
dependencies.

* <patternset> --> <selector> for most stuff.

I've kept optional.jar for now as I'm not sure whether I've really
covered all classes (and no class appears twice).

Feel free to change names or optimize my "mutiple nested selectors"
constructs. ;-)

------------------------------------------------------------------------
r273422 | bodewig | 2002-10-10 03:03:43 -0400 (Thu, 10 Oct 2002) | 5 lines

"plain" result formatter could throw NPE if an exception occured in
the test's setUp method.

PR: 13465

------------------------------------------------------------------------
r273419 | stevel | 2002-10-08 12:56:06 -0400 (Tue, 08 Oct 2002) | 2 lines

move WeakishReference1.2 to optional, fix copyright, fix string ref to classname

------------------------------------------------------------------------
r273417 | bodewig | 2002-10-08 04:11:39 -0400 (Tue, 08 Oct 2002) | 5 lines

re-add support for ANT_ARGS environment variable to ant.bat which has
been lost in revision 1.19 of that file.

Reported by:	Paul Christmann <paul at priorartisans.com>

------------------------------------------------------------------------
r273416 | bodewig | 2002-10-08 02:20:15 -0400 (Tue, 08 Oct 2002) | 2 lines

initial JDK 1.1 fixes

------------------------------------------------------------------------
r273415 | stevel | 2002-10-08 01:55:54 -0400 (Tue, 08 Oct 2002) | 2 lines

and the new task declaration

------------------------------------------------------------------------
r273414 | stevel | 2002-10-08 01:54:59 -0400 (Tue, 08 Oct 2002) | 2 lines

Brian's new tests

------------------------------------------------------------------------
r273413 | stevel | 2002-10-08 01:53:43 -0400 (Tue, 08 Oct 2002) | 4 lines

Refactoring and extension of the .net compiler tasks

This stuff is unfinished. The tests are passing, but the new stuff is not tested yet and I want to do references better. But I wanted to put this in so Brian Felden and others can play with it,

------------------------------------------------------------------------
r273412 | stevel | 2002-10-08 01:45:35 -0400 (Tue, 08 Oct 2002) | 2 lines

This is the reflection based fixup for weak refs on 1.2+

------------------------------------------------------------------------
r273410 | stevel | 2002-10-06 18:14:23 -0400 (Sun, 06 Oct 2002) | 2 lines

doc correct

------------------------------------------------------------------------
r273405 | bodewig | 2002-10-04 08:43:46 -0400 (Fri, 04 Oct 2002) | 5 lines

<manifest> could miss situations in which an update was necessary.

PR: 12440
Submitted by:	Thomas Zimber <tzimber at e2e.ch>

------------------------------------------------------------------------
r273404 | bodewig | 2002-10-04 07:59:49 -0400 (Fri, 04 Oct 2002) | 4 lines

Add pathref attribute to <arg>.

PR: 13137

------------------------------------------------------------------------
r273402 | bodewig | 2002-10-04 06:06:28 -0400 (Fri, 04 Oct 2002) | 5 lines

Suppress "ignoring compiler setting" warning in javac if the user
hasn't set the compiler.

PR: 13246

------------------------------------------------------------------------
r273401 | bodewig | 2002-10-04 05:18:46 -0400 (Fri, 04 Oct 2002) | 3 lines

Make use of nested <manifest> for ant-bootstrap.jar instead of using
separate files that need to be kept in sync.

------------------------------------------------------------------------
r273393 | bodewig | 2002-10-02 09:39:11 -0400 (Wed, 02 Oct 2002) | 3 lines

Remove Class-Path from Ant's manifest and provide an ant-bootstrap.jar
for people who'd like to run Ant via java -jar.

------------------------------------------------------------------------
r273385 | bodewig | 2002-09-30 08:08:20 -0400 (Mon, 30 Sep 2002) | 5 lines

Fix <linecontains> filter.

PR: 13048
Submitted by:	Eric Pugh <epugh at upstate.com>

------------------------------------------------------------------------
r273384 | bodewig | 2002-09-30 05:40:39 -0400 (Mon, 30 Sep 2002) | 6 lines

Throw BuildException in <xmlvalidate> if a requested feature is not
supported.

Make <xmlvalidate>'s unit tests handle parsers without knowledge about
XML Schema gracefully, passes with Crimson and Xerces on my box now.

------------------------------------------------------------------------
r273383 | bodewig | 2002-09-27 06:57:35 -0400 (Fri, 27 Sep 2002) | 2 lines

Next try for PR: 12844 (Stochern im Nebel)

------------------------------------------------------------------------
r273381 | bodewig | 2002-09-27 05:30:38 -0400 (Fri, 27 Sep 2002) | 5 lines

filtersets that are nested into filersets don't work as the code tries
to access nested elements before they have been configured.

PR: 9056

------------------------------------------------------------------------
r273380 | bodewig | 2002-09-27 04:18:51 -0400 (Fri, 27 Sep 2002) | 5 lines

Add <os> and <exec> support for OS/400.

PR: 13047
Submitted by:	Brian Farrar <brian_farrar at countrywide.com>

------------------------------------------------------------------------
r273372 | bodewig | 2002-09-26 12:14:52 -0400 (Thu, 26 Sep 2002) | 5 lines

Make jjtree as verbose as javacc.

PR: 12589
Submitted by:	Kimbo Mundy <kmundy at denovis.com>

------------------------------------------------------------------------
r273367 | bodewig | 2002-09-26 09:48:05 -0400 (Thu, 26 Sep 2002) | 2 lines

forgot to save some files

------------------------------------------------------------------------
r273365 | bodewig | 2002-09-26 09:28:41 -0400 (Thu, 26 Sep 2002) | 6 lines

Remove magic that prepends a $ to vsspath and projectpath in VSS and
SOS tasks.

PR: 10201
Submitted by:	Jesse Stockall <jesse at cryptocard.com>

------------------------------------------------------------------------
r273360 | bodewig | 2002-09-26 08:11:38 -0400 (Thu, 26 Sep 2002) | 6 lines

<junitreport> would create an empty junit-noframes.html if format was
not defined.

PR: 12390
Testcase submitted by:	Martijn Kruithof <martijn at kruithof.xs4all.nl>

------------------------------------------------------------------------
r273358 | bodewig | 2002-09-26 07:14:43 -0400 (Thu, 26 Sep 2002) | 5 lines

Make HTML generated by <junitreport> look more like valid HTML.

PR: 12604
Submitted by:	Ville Skytt� <ville.skytta at iki.fi>

------------------------------------------------------------------------
r273356 | bodewig | 2002-09-26 04:13:58 -0400 (Thu, 26 Sep 2002) | 5 lines

Make <cab> use the not deprecated methods of ExecTask.

PR: 12468
Submitted by:	Jesse Stockall <jesse at cryptocard.com>

------------------------------------------------------------------------
r273354 | bodewig | 2002-09-25 11:12:55 -0400 (Wed, 25 Sep 2002) | 8 lines

<tstamp>'s prefix attribute didn't apply to nested <format>s.

The code tries to use the prefix but fails because setPrefix() gets
called after createFormat().

PR: 12829
Submitted by:   gjfdh at yahoo.com

------------------------------------------------------------------------
r273353 | bodewig | 2002-09-25 10:25:25 -0400 (Wed, 25 Sep 2002) | 4 lines

Go on if a non-JSP has been found in <wljspc>.

PR: 12844

------------------------------------------------------------------------
r273352 | bodewig | 2002-09-25 10:08:48 -0400 (Wed, 25 Sep 2002) | 5 lines

Make <ftp>'s MKDIR action work recursively (if necessary).

PR: 12576
Submitted by:	Kyle Adams <kadams at gfs.com>

------------------------------------------------------------------------
r273347 | bodewig | 2002-09-23 12:01:43 -0400 (Mon, 23 Sep 2002) | 5 lines

New <ftp> action rmdir.

PR: 12765
Submitted by:   Gabriele Garuglieri <gabriele.garuglieri at infoblu.it>

------------------------------------------------------------------------
r273346 | bodewig | 2002-09-23 11:47:56 -0400 (Mon, 23 Sep 2002) | 5 lines

Add preservelastmodified attribute to <ftp>.

PR: 12548
Submitted by:	gudnabrsam at yahoo.com

------------------------------------------------------------------------
r273345 | bodewig | 2002-09-23 10:59:42 -0400 (Mon, 23 Sep 2002) | 4 lines

Add ability to set parser features in <xmlvalidate>.

Submitted by:	Nick Pellow <nick.pellow at mindmatics.de>

------------------------------------------------------------------------
r273339 | bodewig | 2002-09-23 07:28:44 -0400 (Mon, 23 Sep 2002) | 4 lines

AbstractFileSet should check whether it is a reference in a couple of places

Triggered by PR: 12838

------------------------------------------------------------------------
r273335 | bodewig | 2002-09-23 07:00:10 -0400 (Mon, 23 Sep 2002) | 2 lines

remove commented out lines

------------------------------------------------------------------------
r273332 | bodewig | 2002-09-23 06:37:31 -0400 (Mon, 23 Sep 2002) | 6 lines

Make sure <replaceregexp> doesn't add a newline char at the end of the
file if byline="true" either.

PR: 12407
Submitted by:	Stefan Moebius <stmoebius at yahoo.com>

------------------------------------------------------------------------
r273331 | bodewig | 2002-09-20 02:29:35 -0400 (Fri, 20 Sep 2002) | 4 lines

This looks like duplicate code, I'm not 100% sure, waiting to see
whether it affects any Gump run.  It causes problems with custom tasks
that have nested Sequential child elements.

------------------------------------------------------------------------
r273330 | bodewig | 2002-09-16 12:19:30 -0400 (Mon, 16 Sep 2002) | 8 lines

Don't add extra linefeed in <replaceregexp>

PR: 12407
Submitted by:	Stefan Moebius <stmoebius at yahoo.com>

Note that the byline="true" case is still broken (and a commented-out
test confirms this) - I'll look into it later this week.

------------------------------------------------------------------------
r273328 | bodewig | 2002-09-16 10:08:38 -0400 (Mon, 16 Sep 2002) | 4 lines

Support name() accessors as well.

Submitted by:	Andrew Everitt <Andrew.Everitt at gbr.xerox.com>

------------------------------------------------------------------------
r273326 | bodewig | 2002-09-16 03:24:09 -0400 (Mon, 16 Sep 2002) | 6 lines

even more missing quotes.

Add some indentation to reduce confusion on my side 8-)

Submitted by:	JonL White <jonl.white at commerceone.com>

------------------------------------------------------------------------
r273325 | ehatcher | 2002-09-13 09:28:11 -0400 (Fri, 13 Sep 2002) | 2 lines

IDEA reformat, and changed destdir to be File type

------------------------------------------------------------------------
r273322 | bodewig | 2002-09-13 06:03:11 -0400 (Fri, 13 Sep 2002) | 9 lines

Provide a resonable name value for test implementations that are not
TestCase subclasses - user their getName method if present.

This should give better reports for tests that use jFunc or similar
frameworks.

PR: 11531
Submitted by:	<ender at one.net>

------------------------------------------------------------------------
r273321 | bodewig | 2002-09-13 04:54:26 -0400 (Fri, 13 Sep 2002) | 5 lines

Release references to the child project when <ant*> has been done.

PR: 12499
Submitted by:	<gregm at bea.com>

------------------------------------------------------------------------
r273320 | stevel | 2002-09-10 18:21:18 -0400 (Tue, 10 Sep 2002) | 5 lines

I'm always scared of changing the core classes, so would be more reluctant to commit this if it wasnt needed so much by Axis. Once committed. I'm going to do more soak testing.

Purpose of fix: use weak references on Java1.2+ for the createdTasks list.
We may want to think of cleaning this list up for extra leak prevention.

------------------------------------------------------------------------
r273319 | stevel | 2002-09-10 18:19:28 -0400 (Tue, 10 Sep 2002) | 2 lines

a reference that is hard on 1.1, weak on 1.2+

------------------------------------------------------------------------
r273318 | stevel | 2002-09-10 18:05:09 -0400 (Tue, 10 Sep 2002) | 2 lines

little consequence of "" not being a valid target name; you cannot have default="" in <project>

------------------------------------------------------------------------
r273317 | stevel | 2002-09-10 16:17:25 -0400 (Tue, 10 Sep 2002) | 2 lines

This is a fractional refactor of the class to split task creation from adding it to the list of tasks we know about. As the factored out method is private, external routines still cannot create tasks that arent added to the list...this change does not alter the external API of Project, just makes it possible.

------------------------------------------------------------------------
r273316 | stevel | 2002-09-10 12:35:01 -0400 (Tue, 10 Sep 2002) | 2 lines

and commenting out the feature tests in the test file.

------------------------------------------------------------------------
r273313 | stevel | 2002-09-09 12:44:28 -0400 (Mon, 09 Sep 2002) | 2 lines

rolling back feature support till it works on 1.1 and looks more like xstyle

------------------------------------------------------------------------
r273312 | bodewig | 2002-09-09 08:12:47 -0400 (Mon, 09 Sep 2002) | 4 lines

Merge fix from 1.5 branch.

PR: 5781 and 11630

------------------------------------------------------------------------
r273311 | bodewig | 2002-09-09 06:34:48 -0400 (Mon, 09 Sep 2002) | 2 lines

Supply location when complaining about empty target names.

------------------------------------------------------------------------
r273309 | bodewig | 2002-09-09 04:21:39 -0400 (Mon, 09 Sep 2002) | 2 lines

New <isreference> condition.

------------------------------------------------------------------------
r273307 | stevel | 2002-09-08 22:50:35 -0400 (Sun, 08 Sep 2002) | 2 lines

Feature support from Nick Pellow, nick.pellow@mindmatics.de.

------------------------------------------------------------------------
r273306 | stevel | 2002-09-08 22:37:50 -0400 (Sun, 08 Sep 2002) | 2 lines

Tests for XML schema support. I think we have issues w.r.t catalogs, dtd and Schema, or at least need some docs on the subject.

------------------------------------------------------------------------
r273305 | stevel | 2002-09-08 00:07:00 -0400 (Sun, 08 Sep 2002) | 2 lines

case change

------------------------------------------------------------------------
r273302 | stevel | 2002-09-05 20:06:01 -0400 (Thu, 05 Sep 2002) | 2 lines

more tag to space fixup on the rest of the dir. left alone tagdiff.xsl as that has other problems, like every second line is blank. Saved as binary?

------------------------------------------------------------------------
r273301 | stevel | 2002-09-05 20:01:34 -0400 (Thu, 05 Sep 2002) | 2 lines

DD's junit patch. a bigger diff than you'd think on account of tab to space fixup across the whole doc.

------------------------------------------------------------------------
r273296 | bodewig | 2002-09-04 08:12:14 -0400 (Wed, 04 Sep 2002) | 4 lines

Make sure the prompt is visible even in -quiet mode.

PR: 10729

------------------------------------------------------------------------
r273295 | bodewig | 2002-09-04 07:51:03 -0400 (Wed, 04 Sep 2002) | 5 lines

Make cvstagdiff inherit from AbstractCvsTask

PR: 12119
Submitted by:	Rob van Oostrum <rvanoo@xs4all.nl>

------------------------------------------------------------------------
r273290 | bodewig | 2002-09-03 11:51:53 -0400 (Tue, 03 Sep 2002) | 4 lines

Add explicit tests for <fixcrlf>'s CRCRLF handling.

PR: 12219

------------------------------------------------------------------------
r273286 | umagesh | 2002-09-03 11:06:57 -0400 (Tue, 03 Sep 2002) | 4 lines

getParentFile may return null.

Reported by: Bayyapu, Pavan <pavan.bayyapu@sap.com>

------------------------------------------------------------------------
r273284 | umagesh | 2002-09-03 10:52:25 -0400 (Tue, 03 Sep 2002) | 4 lines

Merge from 1.5 Branch

PR: 11675

------------------------------------------------------------------------
r273281 | ehatcher | 2002-09-02 11:08:27 -0400 (Mon, 02 Sep 2002) | 2 lines

refactored to be 1.1 compatible and allow filenames that contain spaces

------------------------------------------------------------------------
r273262 | sbailliez | 2002-08-30 04:54:45 -0400 (Fri, 30 Aug 2002) | 3 lines

Add quotes when %JAVA_HOME% contains spaces
Submitted by: Patrick Luby <patrick.luby@sun.com>

------------------------------------------------------------------------
r273261 | ehatcher | 2002-08-29 13:14:27 -0400 (Thu, 29 Aug 2002) | 4 lines

More patches (+ test cases!) from Eric Pugh on the <image> task.

sorry for the multiple commits - getting lock errors otherwise

------------------------------------------------------------------------
r273260 | ehatcher | 2002-08-29 13:13:33 -0400 (Thu, 29 Aug 2002) | 2 lines

More patches (+ test cases!) from Eric Pugh on the <image> task.

------------------------------------------------------------------------
r273250 | ehatcher | 2002-08-23 13:25:46 -0400 (Fri, 23 Aug 2002) | 2 lines

changes submitted by Eric Pugh improving the <image> task.  dest is now destdir - this breaks backwards compatibility, but its still in alpha so no worries.

------------------------------------------------------------------------
r273246 | sbailliez | 2002-08-22 15:23:33 -0400 (Thu, 22 Aug 2002) | 5 lines

More batch hacking. JAVACMD was reset each time and was jumping right off without
appending tools.jar

Reported by Brian DeWeese <brd1_reuters@yahoo.com>

------------------------------------------------------------------------
r273245 | stevel | 2002-08-22 14:24:14 -0400 (Thu, 22 Aug 2002) | 2 lines

Costins need reminded me to turn on the java version specific system library stuff; though I would still like a good test for this.

------------------------------------------------------------------------
r273244 | costin | 2002-08-22 13:34:06 -0400 (Thu, 22 Aug 2002) | 2 lines

Add an extra attempt to load tools.jar

------------------------------------------------------------------------
r273243 | costin | 2002-08-22 13:32:21 -0400 (Thu, 22 Aug 2002) | 8 lines

Allow the task type to be set from a differnet package. That elminate
the need to have RuntimeConfigurable2 in the same package.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273242 | costin | 2002-08-22 13:31:15 -0400 (Thu, 22 Aug 2002) | 10 lines

If no logger is set, default to system.out instead of ignoring the
message.

This happens when ant is embeded ( if no logger is set ).

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r273241 | costin | 2002-08-22 13:21:57 -0400 (Thu, 22 Aug 2002) | 2 lines

Added org.w3c.dom too.

------------------------------------------------------------------------
r273239 | costin | 2002-08-22 13:09:05 -0400 (Thu, 22 Aug 2002) | 15 lines

Few fixes ( I hope it won't brake anything ).

Added 'org.sax' and 'sun.reflect' to the list of system pacakges. There are
problems when using JDK1.4 with 'endorsed' not set up corectly. This allows
using a different parser, but doesn't allow the overriting of system classes.

Made loadClass synchronized. Yes, it must be - there is a race condition,
we check if the class was not loaded and then load it, but 2 threads
may end up loading the class, and the second will get an exception.
This happen when using tomcat in ant for example - probably other
multithreaded tasks as well.

I left the stack trace in, it shouldn't happen in normal cases ( AFAIK ),
but when something strange happens it helps a lot to know what was wrong.

------------------------------------------------------------------------
r273238 | bruce | 2002-08-20 17:53:13 -0400 (Tue, 20 Aug 2002) | 6 lines

Correct javadoc strings on methods that list deselected files and
directories to indicate that they do in fact list files that have
NOT been selected.

Submitted by: JimWright@quick.cz (Jim Wright)

------------------------------------------------------------------------
r273231 | bodewig | 2002-08-18 14:16:28 -0400 (Sun, 18 Aug 2002) | 2 lines

2002

------------------------------------------------------------------------
r273230 | sbailliez | 2002-08-16 11:31:45 -0400 (Fri, 16 Aug 2002) | 5 lines

Clean up batch scripts with simplified syntax to avoid problems with some
w2k boxes and 4nt.
PR:11478, 11250
Submitted by: Patrick Luby <patrick.luby@sun.com>

------------------------------------------------------------------------
r273228 | sbailliez | 2002-08-15 18:00:27 -0400 (Thu, 15 Aug 2002) | 4 lines

Add missing rmicoptions setter
PR: 9830
Submitted by: hengels@mercatis.de (Holger Engels)

------------------------------------------------------------------------
r273227 | sbailliez | 2002-08-15 06:25:42 -0400 (Thu, 15 Aug 2002) | 4 lines

Make junit report more informative when looking for xalan
PR: 11067
Reported by: stevel@apache.org (Steve Loughran)

------------------------------------------------------------------------
r273226 | sbailliez | 2002-08-15 04:18:20 -0400 (Thu, 15 Aug 2002) | 8 lines

Siwtch to strict dtd.
The escaping has been removed because this case is not adressed by the
xslt specs. Xalan 2.4D1 unescape &amp in the attribute while Saxon 7.1 does.
See PR 1604 for more information.

PR: 11701
Submitted by: ville.skytta@iki.fi (Ville Skytt�)

------------------------------------------------------------------------
r273225 | sbailliez | 2002-08-14 19:35:05 -0400 (Wed, 14 Aug 2002) | 2 lines

Ooops. Bad IDEA configuration ruined the imports.

------------------------------------------------------------------------
r273224 | sbailliez | 2002-08-14 19:13:05 -0400 (Wed, 14 Aug 2002) | 10 lines

The date format seems to be in 24h format (did not have time to browse all
docs but this is what I get on my machine so far) though it is clear that unlike
all cvs commands the timezone is in UTC so I added an additional setup
to configure the format with the utc timezone.

The hour format has been changed from hh to HH to accomodate 24h.

PR: 11582
Reported by: m.mehrmann@fernuni-hagen.de (Mathias Mehrmann)

------------------------------------------------------------------------
r273223 | sbailliez | 2002-08-14 18:20:51 -0400 (Wed, 14 Aug 2002) | 7 lines

Fix the xsl to produce a valid html
(I changed the font size since it was not that readable for me, switched to a
loose dtd otherwise we have to work more on the html and I encoded
the entity '&' so that it is correct in the html attribute.)
PR: 11701
Submitted by: ville.skytta@iki.fi (Ville Skytt�)

------------------------------------------------------------------------
r273222 | ehatcher | 2002-08-14 10:28:00 -0400 (Wed, 14 Aug 2002) | 6 lines

Why this has not been done before is beyond me, but its something I can't live without!  :)

I typically have properties that refer to a JAR file, but its very difficult to construct a fileset to copy it or include it in a WAR/EAR - so this change fixes this.  <fileset file="${some.jar}"/>

If this change is ok with everyone I'll take care of documenting it.

------------------------------------------------------------------------
r273218 | sbailliez | 2002-08-13 14:31:33 -0400 (Tue, 13 Aug 2002) | 4 lines

Revive int constructor for 1.4 compatibility
PR: 11207
Reported by: martin.brehovsky@sun.com (Martin Brehovsky)

------------------------------------------------------------------------
r273215 | stevel | 2002-08-10 03:06:24 -0400 (Sat, 10 Aug 2002) | 2 lines

here is the bugfix. concatSystemClasspath returns a new classpath, so if jasperc was in ant's lib it got lost along with everything else.

------------------------------------------------------------------------
r273214 | stevel | 2002-08-10 03:04:28 -0400 (Sat, 10 Aug 2002) | 2 lines

this patch does not fix the failing of jspc test, it fixes two other bugs in bugzilla -NPE on inclusion of non jsp file, and webapp attr broken.

------------------------------------------------------------------------
r273213 | stevel | 2002-08-10 03:03:05 -0400 (Sat, 10 Aug 2002) | 2 lines

cleanup

------------------------------------------------------------------------
r273212 | stevel | 2002-08-10 01:18:16 -0400 (Sat, 10 Aug 2002) | 2 lines

two new tests

------------------------------------------------------------------------
r273210 | bodewig | 2002-08-09 09:57:50 -0400 (Fri, 09 Aug 2002) | 4 lines

Only set jikes.class.path if JIKESPATH is defined.

Submitted by:	Patrick Luby <patrick.luby@sun.com>

------------------------------------------------------------------------
r273209 | bodewig | 2002-08-09 04:49:46 -0400 (Fri, 09 Aug 2002) | 6 lines

Make <arg line="''"/> closer to what a shell would do.

PR: 5906

Don't use <arg line="..." />!

------------------------------------------------------------------------
r273206 | bodewig | 2002-08-09 03:57:05 -0400 (Fri, 09 Aug 2002) | 4 lines

Fix a problem with HOME containing spaces on Cygwin.

PR: 10654

------------------------------------------------------------------------
r273204 | bodewig | 2002-08-09 03:08:27 -0400 (Fri, 09 Aug 2002) | 4 lines

Make <available> less noisy.

Merged from the 1.5 branch.

------------------------------------------------------------------------
r273200 | costin | 2002-08-08 13:07:48 -0400 (Thu, 08 Aug 2002) | 21 lines

Submited the patch from Patrick.


1. Removes the extraneous "cd `dirname $PRG`" line that causes the
    script to break when Ant is invoked with from a relative path
    (i.e. ../jakarta-ant/bin/ant).

2. Properly quote all environment variables that may contain paths.
    The script would break if any of these environment variables
    contained paths with spaces in them (a common occurrence on Windows).

3. Invoke Java using the "exec" shell command. There really is no need
    to create a child process to run the JVM and by using the "exec"
    command, there is less chance that killing the script will fail to
    kill Ant.

PR:
Obtained from:
Submitted by:	 Patrick Luby <patrick.luby@sun.com>
Reviewed by:

------------------------------------------------------------------------
r273199 | ehatcher | 2002-08-08 10:35:23 -0400 (Thu, 08 Aug 2002) | 2 lines

Applied patch from Romin Irani, thanks

------------------------------------------------------------------------
r273196 | bruce | 2002-08-08 01:47:27 -0400 (Thu, 08 Aug 2002) | 5 lines


Added a check on Property names using the "if" and "unless" attributes
for the selector tag, so that selectors that it contains are made
conditional.

------------------------------------------------------------------------
r273195 | conor | 2002-08-06 19:42:39 -0400 (Tue, 06 Aug 2002) | 2 lines

Include underlying exception message in exception. Makes it simpler to debug

------------------------------------------------------------------------
r273193 | conor | 2002-08-06 01:14:27 -0400 (Tue, 06 Aug 2002) | 2 lines

Keep the kids happy - they need a project too.

------------------------------------------------------------------------
r273190 | donaldp | 2002-08-01 00:40:26 -0400 (Thu, 01 Aug 2002) | 4 lines

Add a getter for linkname.

Submitted by: njoneill@llnl.gov

------------------------------------------------------------------------
r273189 | bodewig | 2002-07-31 03:04:48 -0400 (Wed, 31 Jul 2002) | 2 lines

merge bug fix from 1.5 branch.

------------------------------------------------------------------------
r273181 | bodewig | 2002-07-30 05:12:12 -0400 (Tue, 30 Jul 2002) | 5 lines

port ANTLR fix from 1.5 branch.
PR: 11222

Some copyright year fixes.

------------------------------------------------------------------------
r273179 | ehatcher | 2002-07-29 11:23:20 -0400 (Mon, 29 Jul 2002) | 2 lines

Kevin Grey's <image> task.  A few modifications were made, most notably changes on setter types and removal of some unused variables flagged by IDEA.

------------------------------------------------------------------------
r273169 | donaldp | 2002-07-25 11:21:25 -0400 (Thu, 25 Jul 2002) | 2 lines

Remove unused imports, remove glob imports, sort imports.

------------------------------------------------------------------------
r273168 | donaldp | 2002-07-25 11:01:53 -0400 (Thu, 25 Jul 2002) | 2 lines

Remove unused import

------------------------------------------------------------------------
r273167 | donaldp | 2002-07-25 10:59:02 -0400 (Thu, 25 Jul 2002) | 2 lines

Encapsulate some fields of DataType.

------------------------------------------------------------------------
r273166 | donaldp | 2002-07-25 10:45:15 -0400 (Thu, 25 Jul 2002) | 2 lines

Remove redudent assignments

------------------------------------------------------------------------
r273163 | bodewig | 2002-07-24 11:43:28 -0400 (Wed, 24 Jul 2002) | 2 lines

Make <project>'s default attribute required to stop the sky from falling.

------------------------------------------------------------------------
r273162 | sbailliez | 2002-07-23 16:01:44 -0400 (Tue, 23 Jul 2002) | 2 lines

'java' attribute has never been used here. Get rid of it.

------------------------------------------------------------------------
r273160 | sbailliez | 2002-07-23 15:33:43 -0400 (Tue, 23 Jul 2002) | 5 lines

Destroy the process in case the thread is interrupted
otherwise it may run forever.
PR: 10345
Submitted by: Hal.Hildebrand@hellblazer.com (Hal Hildebrand)

------------------------------------------------------------------------
r273159 | jskeet | 2002-07-23 11:13:38 -0400 (Tue, 23 Jul 2002) | 2 lines

Fixed up JavaDocs (where possible) to remove warnings (mostly about breakiterator).

------------------------------------------------------------------------
r273157 | donaldp | 2002-07-23 04:39:59 -0400 (Tue, 23 Jul 2002) | 2 lines

Encapsulate some fields in Task and add some deprecation warnings to coresponding fields.

------------------------------------------------------------------------
r273156 | donaldp | 2002-07-23 03:57:30 -0400 (Tue, 23 Jul 2002) | 2 lines

Remove redundent assignments

------------------------------------------------------------------------
r273155 | donaldp | 2002-07-23 03:54:56 -0400 (Tue, 23 Jul 2002) | 4 lines

Encapsulate usage of project object rather than allowing objects 7 subclasses acessing a protected variable of their super super super .... class.

Deprecated the variable so that that anyone directly referencing variable will get warning and suggestion to use the accessor.

------------------------------------------------------------------------
r273150 | donaldp | 2002-07-23 02:54:31 -0400 (Tue, 23 Jul 2002) | 2 lines

Remove unused variable

------------------------------------------------------------------------
r273149 | donaldp | 2002-07-23 02:53:29 -0400 (Tue, 23 Jul 2002) | 2 lines

Remove javadoc for throws that no exist

------------------------------------------------------------------------
r273145 | bodewig | 2002-07-22 08:39:33 -0400 (Mon, 22 Jul 2002) | 2 lines

fix should go into 1.5.1

------------------------------------------------------------------------
r273144 | bodewig | 2002-07-22 08:28:57 -0400 (Mon, 22 Jul 2002) | 6 lines

Make task replacements recreate their child elements when they get redefined.

PR: 10904

This should also fix the Axis build failure Sam has reported.

------------------------------------------------------------------------
r273143 | bodewig | 2002-07-22 07:12:16 -0400 (Mon, 22 Jul 2002) | 2 lines

Merge changes from 1.5 branch to HEAD.

------------------------------------------------------------------------
r273132 | umagesh | 2002-07-19 13:48:36 -0400 (Fri, 19 Jul 2002) | 5 lines

* Add encoding attribute to <loadproperties>
* Remove dependency of <loadproperties> on StringInputStream
* Modify StringInputStream to support encoding
* Note that StringInputStream is not being used by any other Ant classes - the sole consumer was LoadProperties which no longer uses it.

------------------------------------------------------------------------
r273127 | bodewig | 2002-07-17 11:40:14 -0400 (Wed, 17 Jul 2002) | 15 lines

Make build files that rely on Ant 1.5's behavior work again.

These build files rely on the fact that references to top level data
types get added before the data type's child elements have been
added.  In a case like

<path id="foo">
  <fileset dir="not-there" />
</path>

The toString method will return "" before the fileset has been added
but throw a BuildException afterwards.  A logging statement in
Project#addReference will call toString and thus make the build fail,
while it would work in 1.5 as long as you never use the path.

------------------------------------------------------------------------
r273125 | bodewig | 2002-07-17 03:36:51 -0400 (Wed, 17 Jul 2002) | 4 lines

Merge from the 1.5 branch.

PR: 10875

------------------------------------------------------------------------
r273116 | bodewig | 2002-07-16 09:06:46 -0400 (Tue, 16 Jul 2002) | 6 lines

Move all top level elements to an implicit target named "" and make
all othere targets depend on that one.

As a side effect, <description> is now handled by ProjectHelperImpl,
the data type has become unused.

------------------------------------------------------------------------
r273114 | sbailliez | 2002-07-16 08:48:22 -0400 (Tue, 16 Jul 2002) | 4 lines

Forgot to catch Errors while doing the diagnostics..making it totally useless
when there is a ClassDefNotFoundError...that is...most of the time..
hem...

------------------------------------------------------------------------
r273111 | bodewig | 2002-07-15 10:41:47 -0400 (Mon, 15 Jul 2002) | 7 lines

Allow target-less build files by

(1) making project's default attribute optional.
(2) don't run executeTarget(s) if not asked for one

Adapt documentation and <antstructure>.

------------------------------------------------------------------------
r273110 | sbailliez | 2002-07-15 08:37:56 -0400 (Mon, 15 Jul 2002) | 3 lines

Make it serializable
Requested by: Jonas G�ransson (jongo728@student.liu.se)

------------------------------------------------------------------------
r273105 | sbailliez | 2002-07-13 05:44:57 -0400 (Sat, 13 Jul 2002) | 6 lines

Take care of extreme cases to do some suffix magic.
Added some more testcases to document this behavior.

PR: 10769
Reported by: jan.grant@bristol.ac.uk (Jan Grant)

------------------------------------------------------------------------
r273104 | sbailliez | 2002-07-12 17:25:29 -0400 (Fri, 12 Jul 2002) | 2 lines

trax factory settings are now configured within a <factory> element.

------------------------------------------------------------------------
r273099 | bodewig | 2002-07-12 11:15:46 -0400 (Fri, 12 Jul 2002) | 7 lines

More quotes.

I think it has been Diane who said we could almost put the entire
script into quotes - she's been right.

PR: 9550

------------------------------------------------------------------------
r273090 | sbailliez | 2002-07-11 18:54:55 -0400 (Thu, 11 Jul 2002) | 2 lines

Remove useless import

------------------------------------------------------------------------
r273089 | sbailliez | 2002-07-11 18:52:55 -0400 (Thu, 11 Jul 2002) | 11 lines

Allow to specify a given factory implementation for the transformer
(xsltc, xalan, saxon...) and to specify processor specific settings.

TraxLiaison has been completely refactored because the factory
needed to be created once everything was set up.

I don't think it is final state since it might be better to specify factory attributes
and element in a <factory> element rather than how it is now.

XSLTProcess starts to bevery difficult to read with all the inner classes as well...

------------------------------------------------------------------------
r273088 | bodewig | 2002-07-11 03:46:34 -0400 (Thu, 11 Jul 2002) | 2 lines

Allow all tasks to be used outside of targets.

------------------------------------------------------------------------
r273086 | donaldp | 2002-07-10 22:00:26 -0400 (Wed, 10 Jul 2002) | 2 lines

Add jdk1.4 friendly getCause() method

------------------------------------------------------------------------
r273085 | sbailliez | 2002-07-10 17:46:11 -0400 (Wed, 10 Jul 2002) | 4 lines

Fix ANT_LIB path so that it uses a valid ANT_HOME under Cygwin..
PR: 10664
Submitted by: patdtaylor2000@yahoo.com (Patrick Taylor)

------------------------------------------------------------------------
r273081 | umagesh | 2002-07-09 17:06:15 -0400 (Tue, 09 Jul 2002) | 2 lines

Merge differences between the ANT_15_FINAL branch and the trunk into the trunk.

------------------------------------------------------------------------
r273080 | ehatcher | 2002-07-09 14:49:49 -0400 (Tue, 09 Jul 2002) | 2 lines

dIon's cleanup and doc patches.  I put this on the HEAD branch so as to not touch 1.5 branch right before the release.

------------------------------------------------------------------------
r273043 | bodewig | 2002-06-28 08:47:18 -0400 (Fri, 28 Jun 2002) | 4 lines

Add default value to <input>.

Submitted by:	Scott Sanders <ssanders@nextance.com>

------------------------------------------------------------------------
r273040 | bodewig | 2002-06-28 02:47:31 -0400 (Fri, 28 Jun 2002) | 4 lines

Pointer to PMD.

Submitted by:	Tom Copeland <tom@infoether.com>

------------------------------------------------------------------------
r272999 | sbailliez | 2002-06-23 15:57:43 -0400 (Sun, 23 Jun 2002) | 4 lines

MParse refactoring
PR: 10160
Submitted by: jesse@cryptocard.com (Jesse)

------------------------------------------------------------------------
r272973 | conor | 2002-06-22 21:24:01 -0400 (Sat, 22 Jun 2002) | 2 lines

Provide messages when JUnit assertions fail

------------------------------------------------------------------------
r272972 | conor | 2002-06-22 21:20:01 -0400 (Sat, 22 Jun 2002) | 2 lines

Make sure Bzip tests start with a clean sheet

------------------------------------------------------------------------
r272967 | umagesh | 2002-06-22 19:38:38 -0400 (Sat, 22 Jun 2002) | 2 lines

Merge changes made to 1.5 Beta2.

------------------------------------------------------------------------
r272941 | sbailliez | 2002-06-20 11:03:46 -0400 (Thu, 20 Jun 2002) | 4 lines

Extend the range of options ANTLR task is able to deal with
Submitted by:
Stephen Chin, aphid@versionablestore.com

------------------------------------------------------------------------
r272868 | bodewig | 2002-06-12 11:07:33 -0400 (Wed, 12 Jun 2002) | 4 lines

Don't catch stuff thrown in System.exit

PR: 9414

------------------------------------------------------------------------
r272867 | bodewig | 2002-06-12 10:54:41 -0400 (Wed, 12 Jun 2002) | 4 lines

recursively expand filter tokens.

PR: 9378

------------------------------------------------------------------------
r272855 | bodewig | 2002-06-10 02:19:32 -0400 (Mon, 10 Jun 2002) | 2 lines

Merge over a bug-fix needed to get jakarta-tomcat built by Gump.

------------------------------------------------------------------------
r272843 | stevel | 2002-06-05 17:02:11 -0400 (Wed, 05 Jun 2002) | 2 lines

Keith Wannamaker's classpath patches to jspc.

------------------------------------------------------------------------
r272826 | umagesh | 2002-06-01 08:26:43 -0400 (Sat, 01 Jun 2002) | 2 lines

Merge changes made to 1.5 Beta1.

------------------------------------------------------------------------
r272810 | holtdl | 2002-05-29 18:43:01 -0400 (Wed, 29 May 2002) | 2 lines

Avoid getting an NPE by making sure the property attr is set.

------------------------------------------------------------------------
r272806 | bodewig | 2002-05-29 11:24:38 -0400 (Wed, 29 May 2002) | 6 lines

Add ability to generate XML to <echoproperties>.

Add sourcefile attribute that can read arbitrary files to the same task.

Submitted by:	Ingmar Stein <stein@xtramind.com>

------------------------------------------------------------------------
r272796 | bodewig | 2002-05-28 10:19:31 -0400 (Tue, 28 May 2002) | 8 lines

Make sure user-properties remain user-properties.

This is a partial merge of Ant.java from the 1.5 branch (only partial,
sorry Magesh) that is required to avoid a Gump build failure of
avalon-phoenix (which does several nested <ant>'s with varying
inheritall values and ends up with relying on a property that has been
set on the command line but has disappeared).

------------------------------------------------------------------------
r272728 | costin | 2002-05-17 19:10:55 -0400 (Fri, 17 May 2002) | 2 lines

Fix getResource() for the project helper, there's no / at the beginning.

------------------------------------------------------------------------
r272670 | bodewig | 2002-05-07 07:08:33 -0400 (Tue, 07 May 2002) | 2 lines

JDK 1.2 compatibility.

------------------------------------------------------------------------
r272630 | umagesh | 2002-04-30 18:38:36 -0400 (Tue, 30 Apr 2002) | 8 lines

Selectors feature to specify sophisticated selection criteria to create filesets.

Got it in in the 11(and a half)th hour ;-)

Submitted by: Bruce Atherton <bruce@callenish.com>

Docs and testcases to follow in the next few days.

------------------------------------------------------------------------
r272628 | holtdl | 2002-04-30 13:31:06 -0400 (Tue, 30 Apr 2002) | 6 lines

Bye-bye <do>...
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272627 | bodewig | 2002-04-30 12:01:31 -0400 (Tue, 30 Apr 2002) | 2 lines

Fix License

------------------------------------------------------------------------
r272625 | donaldp | 2002-04-30 10:41:11 -0400 (Tue, 30 Apr 2002) | 2 lines

If property is already set then generate a warning or an exception - dont try to chekc if it is valid.

------------------------------------------------------------------------
r272623 | conor | 2002-04-30 10:40:04 -0400 (Tue, 30 Apr 2002) | 5 lines

Weblogic 7 updates
Document ejbcclass attribute

PR:	7871

------------------------------------------------------------------------
r272622 | donaldp | 2002-04-30 10:33:55 -0400 (Tue, 30 Apr 2002) | 5 lines

Add in a resolver task.
The resolver takes an extension and a set of operations that can be
used to get library coresponding to specified extension. The task
will run through each operation until required extension is found.

------------------------------------------------------------------------
r272621 | donaldp | 2002-04-30 10:31:01 -0400 (Tue, 30 Apr 2002) | 2 lines

Removed unused import.

------------------------------------------------------------------------
r272620 | donaldp | 2002-04-30 10:30:00 -0400 (Tue, 30 Apr 2002) | 2 lines

Removed some bogus javadocs that were errors.

------------------------------------------------------------------------
r272619 | donaldp | 2002-04-30 10:28:48 -0400 (Tue, 30 Apr 2002) | 2 lines

Fix javadoc errors.

------------------------------------------------------------------------
r272618 | donaldp | 2002-04-30 10:20:16 -0400 (Tue, 30 Apr 2002) | 3 lines

Renamed msg --> message so that advanced editors can correctly deduce
a variable name that is not abreviated.

------------------------------------------------------------------------
r272617 | conor | 2002-04-30 09:33:28 -0400 (Tue, 30 Apr 2002) | 5 lines

Pass the classpath in the -classpath argument. This is required when the weblogic
classpath is used.

PR:	6931

------------------------------------------------------------------------
r272616 | bodewig | 2002-04-30 07:36:03 -0400 (Tue, 30 Apr 2002) | 2 lines

A sourcepath without package names is a no-op now (again).

------------------------------------------------------------------------
r272615 | jskeet | 2002-04-30 06:32:01 -0400 (Tue, 30 Apr 2002) | 2 lines

Fix-up of JavaDocs for filters (and a couple of style fixes too).

------------------------------------------------------------------------
r272614 | donaldp | 2002-04-30 04:13:42 -0400 (Tue, 30 Apr 2002) | 2 lines

Write a task to test availability of specific extension

------------------------------------------------------------------------
r272613 | donaldp | 2002-04-30 03:57:19 -0400 (Tue, 30 Apr 2002) | 5 lines

Add task that will generate manifest that declares
* extensions "exported"
* required dependencies
* optional dependencies

------------------------------------------------------------------------
r272612 | donaldp | 2002-04-30 03:54:57 -0400 (Tue, 30 Apr 2002) | 2 lines

Register libfileset as a datatype

------------------------------------------------------------------------
r272611 | donaldp | 2002-04-30 03:54:19 -0400 (Tue, 30 Apr 2002) | 2 lines

Moved getManifest method to ExtensionUtil to make method usable from other locaitons

------------------------------------------------------------------------
r272607 | stevel | 2002-04-30 01:03:04 -0400 (Tue, 30 Apr 2002) | 2 lines

my, isnt the java1.4 javadoc fussy

------------------------------------------------------------------------
r272605 | donaldp | 2002-04-29 23:47:53 -0400 (Mon, 29 Apr 2002) | 2 lines

Register task that displays extensions in particular files

------------------------------------------------------------------------
r272604 | donaldp | 2002-04-29 23:47:10 -0400 (Mon, 29 Apr 2002) | 2 lines

Register new extension types

------------------------------------------------------------------------
r272603 | donaldp | 2002-04-29 23:45:39 -0400 (Mon, 29 Apr 2002) | 5 lines

Added in two datatypes;

* ExtensionSet: (Contains set of extensions - oh der)
* LibFileSet: allows you to extract a list of extensions from a fileset. It also allows you to explicitly pick certain features to include in extension set (ie don't include implementation attributes or url attributes unless explicitly required)

------------------------------------------------------------------------
r272602 | donaldp | 2002-04-29 23:43:11 -0400 (Mon, 29 Apr 2002) | 2 lines

Added brackets to make toString omre readable when multiple extensions printed out.

------------------------------------------------------------------------
r272601 | donaldp | 2002-04-29 23:17:53 -0400 (Mon, 29 Apr 2002) | 4 lines

Make sure can not set attributes if is a reference datatype

add a nicer toString method

------------------------------------------------------------------------
r272598 | stevel | 2002-04-29 20:03:25 -0400 (Mon, 29 Apr 2002) | 3 lines

now you get:
 Compiler Adapter 'false' can't be found.

------------------------------------------------------------------------
r272596 | stevel | 2002-04-29 19:38:04 -0400 (Mon, 29 Apr 2002) | 2 lines

because a screwed up build.compiler only gives an error message like "false can't be found."

------------------------------------------------------------------------
r272595 | holtdl | 2002-04-29 18:50:16 -0400 (Mon, 29 Apr 2002) | 10 lines

Even though the enthusiasm (even to just vote) was a bit, ahem,
underwhelming, at least there weren't any overwhelming objections,
so...

Add the <do> task.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272594 | holtdl | 2002-04-29 17:35:16 -0400 (Mon, 29 Apr 2002) | 2 lines

Set JAVA_HOME for OS/X. (PR 8503)

------------------------------------------------------------------------
r272593 | ehatcher | 2002-04-29 12:49:39 -0400 (Mon, 29 Apr 2002) | 2 lines

make it explicit that BuildExceptions can be thrown, even though its not necessary.

------------------------------------------------------------------------
r272592 | ehatcher | 2002-04-29 12:47:00 -0400 (Mon, 29 Apr 2002) | 2 lines

fix line length issues

------------------------------------------------------------------------
r272590 | bodewig | 2002-04-29 11:04:21 -0400 (Mon, 29 Apr 2002) | 2 lines

Diane has volunteered me, errm, I mean, remove dest if <get> fails.

------------------------------------------------------------------------
r272589 | bodewig | 2002-04-29 07:45:06 -0400 (Mon, 29 Apr 2002) | 7 lines

Help getting the wrapper scripts that ship with Ant's "normal"
distributions and the RPMs closer to each other by (1) allowing a
system wide configuration file in /etc and (2) using some environment
variables to enable RPM specific behavior.

Submitted by:	Henri GOMEZ <hgomez@slib.fr>

------------------------------------------------------------------------
r272588 | bodewig | 2002-04-29 07:19:35 -0400 (Mon, 29 Apr 2002) | 7 lines

Make sure dest file is only created if URL can be opened

PR: 8575

and make sure the output file gets closed in case of an error, while
we are at it.

------------------------------------------------------------------------
r272587 | conor | 2002-04-29 07:02:49 -0400 (Mon, 29 Apr 2002) | 2 lines

Improve equals implementation

------------------------------------------------------------------------
r272586 | ehatcher | 2002-04-27 08:51:03 -0400 (Sat, 27 Apr 2002) | 2 lines

DynamicConfigurator - allows tasks themselves to handle unknown elements and attributes rather than being constrained by the IntrospectionHelper rules.

------------------------------------------------------------------------
r272585 | stevel | 2002-04-27 01:05:49 -0400 (Sat, 27 Apr 2002) | 2 lines

task to create a temporary filename in a property; docs and tests to follow

------------------------------------------------------------------------
r272584 | ehatcher | 2002-04-26 14:37:26 -0400 (Fri, 26 Apr 2002) | 2 lines

adding example of usage.  patch submitted by Nick Chalko

------------------------------------------------------------------------
r272583 | bodewig | 2002-04-26 12:06:52 -0400 (Fri, 26 Apr 2002) | 12 lines

Directory based <javadoc>.

Two new nested elements, <packageset> and <fileset>.  <packageset> is
a DirSet that points to directories which get translated into packages
if they contain .java sources, <fileset> points to sourcefiles.

<packageset> based on a patch by Daniel Ritchey <ritchey_49@hotmail.com>.

<fileset> allows you to select files in the default package as well.

PR: 6433

------------------------------------------------------------------------
r272581 | bodewig | 2002-04-26 07:39:34 -0400 (Fri, 26 Apr 2002) | 4 lines

New dir attribute for <patch>

Submitted by:	Thanou Thirakul <thanou@intelliware.ca>

------------------------------------------------------------------------
r272580 | bodewig | 2002-04-26 03:17:54 -0400 (Fri, 26 Apr 2002) | 2 lines

remove some dead stuff.

------------------------------------------------------------------------
r272578 | ehatcher | 2002-04-25 21:02:26 -0400 (Thu, 25 Apr 2002) | 2 lines

PR 8521 - fix for exception for long task names provided by Jason Schuchert.

------------------------------------------------------------------------
r272577 | ehatcher | 2002-04-25 20:24:05 -0400 (Thu, 25 Apr 2002) | 2 lines

PR 8429 patch submitted by Nick Chalko - enables SQL tasks to be easily created using a common abstract base class.

------------------------------------------------------------------------
r272576 | umagesh | 2002-04-25 16:38:06 -0400 (Thu, 25 Apr 2002) | 2 lines

Make the test pass (as expected) by specifying the working dir for antlr.

------------------------------------------------------------------------
r272575 | umagesh | 2002-04-25 12:30:28 -0400 (Thu, 25 Apr 2002) | 2 lines

Fix compilation issue.

------------------------------------------------------------------------
r272574 | jskeet | 2002-04-25 11:14:27 -0400 (Thu, 25 Apr 2002) | 2 lines

Made the purpose of the no-arg constructor more obvious.

------------------------------------------------------------------------
r272573 | bodewig | 2002-04-25 08:14:51 -0400 (Thu, 25 Apr 2002) | 7 lines

Don't tell people we'd execute a given command line when we really do
something completely different.

I hope this will cut down the "Ant swallows my quotes" reports to
those that are real problems in Ant and not just problems of
communication.

------------------------------------------------------------------------
r272572 | bodewig | 2002-04-25 05:24:13 -0400 (Thu, 25 Apr 2002) | 2 lines

remove RPM building stuff from distribution.

------------------------------------------------------------------------
r272568 | bodewig | 2002-04-24 08:33:19 -0400 (Wed, 24 Apr 2002) | 2 lines

remove generated files in tearDown method of TarTest.

------------------------------------------------------------------------
r272567 | jskeet | 2002-04-24 08:18:56 -0400 (Wed, 24 Apr 2002) | 2 lines

Double doh - don't append the first character twice.

------------------------------------------------------------------------
r272566 | bodewig | 2002-04-24 07:24:28 -0400 (Wed, 24 Apr 2002) | 4 lines

Make javac testcase work on JDK 1.4

Thanks Magesh.

------------------------------------------------------------------------
r272565 | jskeet | 2002-04-24 06:55:50 -0400 (Wed, 24 Apr 2002) | 2 lines

Doh - use @exception, not @throws

------------------------------------------------------------------------
r272564 | jskeet | 2002-04-24 05:42:29 -0400 (Wed, 24 Apr 2002) | 2 lines

Fixed up JavaDocs, improved efficiency of readLine.

------------------------------------------------------------------------
r272563 | conor | 2002-04-24 02:16:46 -0400 (Wed, 24 Apr 2002) | 2 lines

Make sure generic jar is not help open by loader

------------------------------------------------------------------------
r272562 | umagesh | 2002-04-23 23:09:06 -0400 (Tue, 23 Apr 2002) | 4 lines

Implement and document a compression attribute for the tar and untar tasks.

Submitted by: Curt Arnold <carnold@houston.rr.com>

------------------------------------------------------------------------
r272560 | ehatcher | 2002-04-23 16:42:58 -0400 (Tue, 23 Apr 2002) | 2 lines

add date header.  patch from PR #7851 by Kevin Grey

------------------------------------------------------------------------
r272559 | ehatcher | 2002-04-23 14:33:52 -0400 (Tue, 23 Apr 2002) | 4 lines

Commons Logging listener

Gump alert: to get this built we need to have commons-logging.jar available, but without the bulid should work fine.

------------------------------------------------------------------------
r272556 | bodewig | 2002-04-23 07:42:51 -0400 (Tue, 23 Apr 2002) | 2 lines

Move JAXP stuff into a new utility class.

------------------------------------------------------------------------
r272555 | bodewig | 2002-04-23 06:30:12 -0400 (Tue, 23 Apr 2002) | 2 lines

make tests use JavaEnvUtils.

------------------------------------------------------------------------
r272554 | bodewig | 2002-04-23 06:29:42 -0400 (Tue, 23 Apr 2002) | 3 lines

JDK 1.1 doesn't seem to grok spaces in the keys of a properties file,
no matter which version of escapes I have tried.

------------------------------------------------------------------------
r272553 | bodewig | 2002-04-23 04:35:05 -0400 (Tue, 23 Apr 2002) | 2 lines

reverted the logic in two tasks by accident.

------------------------------------------------------------------------
r272552 | bodewig | 2002-04-23 04:15:52 -0400 (Tue, 23 Apr 2002) | 2 lines

spread the usage of JavaEnvUtils

------------------------------------------------------------------------
r272551 | bodewig | 2002-04-23 03:27:20 -0400 (Tue, 23 Apr 2002) | 3 lines

Make live easier for projects that subclass Project by setting the
input handler to a default value.

------------------------------------------------------------------------
r272548 | bodewig | 2002-04-22 09:43:52 -0400 (Mon, 22 Apr 2002) | 2 lines

Inherit input handlers in <ant*>

------------------------------------------------------------------------
r272547 | donaldp | 2002-04-22 09:35:36 -0400 (Mon, 22 Apr 2002) | 2 lines

Fix javadoc

------------------------------------------------------------------------
r272546 | donaldp | 2002-04-22 09:33:37 -0400 (Mon, 22 Apr 2002) | 3 lines

Add in task that will display specification
and extension information about jars/libraries.

------------------------------------------------------------------------
r272545 | bodewig | 2002-04-22 09:22:57 -0400 (Mon, 22 Apr 2002) | 2 lines

Add documentation for new input stuff.

------------------------------------------------------------------------
r272541 | bodewig | 2002-04-22 07:55:21 -0400 (Mon, 22 Apr 2002) | 2 lines

merge input propsal into main tree.

------------------------------------------------------------------------
r272540 | bodewig | 2002-04-22 04:56:13 -0400 (Mon, 22 Apr 2002) | 5 lines

Make <xmlvalidate> use JAXP when the user didn't provide a classname.

This should make the tests work no matter which XML parser you used
(failed for me now as I still have Crimson on my CLASSPATH).

------------------------------------------------------------------------
r272539 | ehatcher | 2002-04-21 20:05:09 -0400 (Sun, 21 Apr 2002) | 2 lines

patches provided by Nicola Ken Barrozi. documentation added. the "[]" and indexed properties were removed as they did not work properly and were not desired.

------------------------------------------------------------------------
r272538 | ehatcher | 2002-04-21 14:15:13 -0400 (Sun, 21 Apr 2002) | 2 lines

Enable property expansion when reading MailLogger.properties.file. Also, modified so error stack trace goes to System.err.

------------------------------------------------------------------------
r272537 | ehatcher | 2002-04-21 13:29:31 -0400 (Sun, 21 Apr 2002) | 2 lines

Patch applied from Ville Skytt�, PR#8245.

------------------------------------------------------------------------
r272536 | ehatcher | 2002-04-21 09:46:07 -0400 (Sun, 21 Apr 2002) | 2 lines

Remove Crimson reference, switch to Xerces.

------------------------------------------------------------------------
r272535 | conor | 2002-04-21 09:42:03 -0400 (Sun, 21 Apr 2002) | 2 lines

Improve XML parser issue reporting

------------------------------------------------------------------------
r272534 | ehatcher | 2002-04-20 12:15:11 -0400 (Sat, 20 Apr 2002) | 2 lines

added test to ensure XMLCatalog *and* classpath are working as expected.

------------------------------------------------------------------------
r272533 | ehatcher | 2002-04-20 12:14:32 -0400 (Sat, 20 Apr 2002) | 4 lines

modified to internally use an XMLCatalog rather than the LocalResolver.

Note: one potential API break, I removed public Vector dtdLocationsr, but it was added after 1.4.1 release, so would only be a problem if classes written for 1.5alpha relied on it which is unlikely, and too bad for them!  :)

------------------------------------------------------------------------
r272532 | ehatcher | 2002-04-20 12:11:34 -0400 (Sat, 20 Apr 2002) | 2 lines

add support for multiple XMLCatalogs - sort of unfriendly to only allow one without giving an error if more than one was specified :)

------------------------------------------------------------------------
r272531 | ehatcher | 2002-04-20 12:10:04 -0400 (Sat, 20 Apr 2002) | 4 lines

add support for classpath, and ensure that relative files are resolved properly.

the classpath appending when nesting XMLCatalogs may need to be rearranged, not sure.

------------------------------------------------------------------------
r272530 | ehatcher | 2002-04-20 09:57:28 -0400 (Sat, 20 Apr 2002) | 2 lines

fixed XMLValidate task and test - see the kind of trouble we can get into using String for filename parameters?!  :)

------------------------------------------------------------------------
r272529 | donaldp | 2002-04-20 02:21:17 -0400 (Sat, 20 Apr 2002) | 2 lines

If default target is not specified then default to using "main"

------------------------------------------------------------------------
r272527 | ehatcher | 2002-04-19 15:51:36 -0400 (Fri, 19 Apr 2002) | 2 lines

First pass at a slight variant of Nicola Ken Barozzi's XmlProperty task from PR #7767.  More tests and probably some slight refactoring is needed to handle other cases (like the list properties) better, but works as-is pretty nicely.

------------------------------------------------------------------------
r272526 | bodewig | 2002-04-19 08:12:57 -0400 (Fri, 19 Apr 2002) | 3 lines

I've forgotten that one can set <javac>'s fork option via
build.compiler as well.

------------------------------------------------------------------------
r272525 | bodewig | 2002-04-19 03:22:40 -0400 (Fri, 19 Apr 2002) | 2 lines

I'm in pedantic mode this morning.

------------------------------------------------------------------------
r272524 | stevel | 2002-04-19 03:18:01 -0400 (Fri, 19 Apr 2002) | 4 lines

new istrue/isfalse condition tests.

I stuck some contains tests in here too, not noticing that they were in ContainsTest. Well, extra tests are always good, and now we test validation too.

------------------------------------------------------------------------
r272523 | stevel | 2002-04-19 03:16:27 -0400 (Fri, 19 Apr 2002) | 2 lines

new istrue/isfalse condition tests

------------------------------------------------------------------------
r272521 | stevel | 2002-04-19 03:15:44 -0400 (Fri, 19 Apr 2002) | 2 lines

new istrue/isfalse conditions

------------------------------------------------------------------------
r272520 | bodewig | 2002-04-19 03:04:45 -0400 (Fri, 19 Apr 2002) | 2 lines

JDK 1.1

------------------------------------------------------------------------
r272518 | ehatcher | 2002-04-18 23:40:33 -0400 (Thu, 18 Apr 2002) | 4 lines

the handy helper class to allow tasks to take hexadecimal, octal, or decimal strings, and returns back an intValue.

test cases even!  :)

------------------------------------------------------------------------
r272517 | ehatcher | 2002-04-18 23:13:36 -0400 (Thu, 18 Apr 2002) | 7 lines

Add nested XMLCatalog support, which will make grouping them in a build file a bit more flexible.  This hasn't been tested other than to try that
<xmlcatalog id="one"/>
<xmlcatalog id="two">
  <xmlcatalog refid="one"/>
</xmlcatalog>
worked, but its straightforward enough that it (hopefully) won't break anything :)

------------------------------------------------------------------------
r272513 | bodewig | 2002-04-18 11:03:50 -0400 (Thu, 18 Apr 2002) | 5 lines

Improve javah's error message.

PR: 8095
Submitted by:	Jesse Glick <jesse.glick@netbeans.com>

------------------------------------------------------------------------
r272509 | bodewig | 2002-04-18 10:19:00 -0400 (Thu, 18 Apr 2002) | 4 lines

Decide whether javac will be invoked with -depend od -Xdepend on the
compiler attribute rather than the current JDK (falling back to
assuming the current JDK if compiler has not been specified).

------------------------------------------------------------------------
r272508 | donaldp | 2002-04-18 09:10:49 -0400 (Thu, 18 Apr 2002) | 2 lines

Add utility object to help display library specifications and extensions

------------------------------------------------------------------------
r272506 | donaldp | 2002-04-18 08:57:06 -0400 (Thu, 18 Apr 2002) | 2 lines

Add datatype representing extension

------------------------------------------------------------------------
r272505 | donaldp | 2002-04-18 08:51:18 -0400 (Thu, 18 Apr 2002) | 2 lines

Add object that used to add extra attributes to manifest

------------------------------------------------------------------------
r272504 | donaldp | 2002-04-18 08:50:52 -0400 (Thu, 18 Apr 2002) | 2 lines

Add warning banners

------------------------------------------------------------------------
r272503 | donaldp | 2002-04-18 08:50:35 -0400 (Thu, 18 Apr 2002) | 2 lines

Copy across Specification object from excalibur.extension.*

------------------------------------------------------------------------
r272502 | donaldp | 2002-04-18 08:49:03 -0400 (Thu, 18 Apr 2002) | 2 lines

Add in warning banner

------------------------------------------------------------------------
r272501 | donaldp | 2002-04-18 08:47:22 -0400 (Thu, 18 Apr 2002) | 2 lines

Copy across Extension class from excalibur.extensions.*

------------------------------------------------------------------------
r272500 | donaldp | 2002-04-18 08:46:49 -0400 (Thu, 18 Apr 2002) | 2 lines

Add in class for dewey decimal representation

------------------------------------------------------------------------
r272496 | bodewig | 2002-04-18 05:49:55 -0400 (Thu, 18 Apr 2002) | 9 lines

Add new showoutput attribute to <junit>.

There is no automatic testcase for this, but if your run

ant -f src/etc/testcases/taskdefs/optional/junit.xml -Dshowoutput=off
ant -f src/etc/testcases/taskdefs/optional/junit.xml -Dshowoutput=on

you'll see it in action.

------------------------------------------------------------------------
r272495 | conor | 2002-04-18 02:54:54 -0400 (Thu, 18 Apr 2002) | 2 lines

Ongoing Javadocs

------------------------------------------------------------------------
r272485 | donaldp | 2002-04-17 06:42:33 -0400 (Wed, 17 Apr 2002) | 2 lines

and now the proper banner

------------------------------------------------------------------------
r272484 | donaldp | 2002-04-17 06:41:34 -0400 (Wed, 17 Apr 2002) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r272483 | conor | 2002-04-17 01:50:10 -0400 (Wed, 17 Apr 2002) | 3 lines

Document new methods in XMLLogger
Cleanup Javadoc errors.

------------------------------------------------------------------------
r272482 | stevel | 2002-04-17 00:18:01 -0400 (Wed, 17 Apr 2002) | 2 lines

merged in my tests. Added a new one verifying that properties we havent heard of get included as literals.

------------------------------------------------------------------------
r272481 | ehatcher | 2002-04-16 22:08:41 -0400 (Tue, 16 Apr 2002) | 2 lines

organize imports and format code.  i swear, it was IntelliJ's fault!  :)  I've now upped the .* limit!

------------------------------------------------------------------------
r272478 | ehatcher | 2002-04-16 21:25:46 -0400 (Tue, 16 Apr 2002) | 2 lines

Make XmlLogger finally a real BuildLogger. When used as a logger it will utilize Ant's logging level (-verbose, -quiet, etc), but remember to use -logfile, otherwise the output will be written to the console. Its previous BuildListener functionality, of course, still works as it did, writing to log.xml (or the XmlLogger.file property value)

------------------------------------------------------------------------
r272477 | umagesh | 2002-04-16 16:47:23 -0400 (Tue, 16 Apr 2002) | 2 lines

Make AntFilterreader truly referenceable.

------------------------------------------------------------------------
r272476 | umagesh | 2002-04-16 16:35:03 -0400 (Tue, 16 Apr 2002) | 2 lines

Make FilterChain truly referenceable.

------------------------------------------------------------------------
r272475 | umagesh | 2002-04-16 15:20:18 -0400 (Tue, 16 Apr 2002) | 4 lines

* Make FilterChain extend DataType (finally...)
* Add it and well as FilterReader to defaults.properties
* Arrange entries in defaults.properties in alphabetical order (hope nobody minds)

------------------------------------------------------------------------
r272473 | bodewig | 2002-04-16 11:14:59 -0400 (Tue, 16 Apr 2002) | 7 lines

Testfile for bugs 5377 and 7980 - this is supposed to create no output
at all, but does for the fork="no" thread case.

I tried to put this into a JUnit testcase, but either you can capture
System.out (and destroy DemuxOutputStream's magic) or you don't (and
can't assert there is no output).

------------------------------------------------------------------------
r272471 | bodewig | 2002-04-16 10:01:17 -0400 (Tue, 16 Apr 2002) | 2 lines

fix nasty NPE in <junit> when the user doesn't specify a nested <classpath>.

------------------------------------------------------------------------
r272468 | bodewig | 2002-04-16 08:18:23 -0400 (Tue, 16 Apr 2002) | 4 lines

There is no reason to expect subclasses for ZipShort and ZipLong

2002

------------------------------------------------------------------------
r272455 | conor | 2002-04-16 06:36:25 -0400 (Tue, 16 Apr 2002) | 2 lines

Javadocs

------------------------------------------------------------------------
r272454 | conor | 2002-04-16 06:35:08 -0400 (Tue, 16 Apr 2002) | 2 lines

Fix testcase which failed due to change in single $ handling

------------------------------------------------------------------------
r272453 | donaldp | 2002-04-16 06:05:54 -0400 (Tue, 16 Apr 2002) | 2 lines

Make tagEntry a top level class.

------------------------------------------------------------------------
r272452 | donaldp | 2002-04-16 06:05:10 -0400 (Tue, 16 Apr 2002) | 2 lines

Add in simple facade class that makes logging easier to do in ant.

------------------------------------------------------------------------
r272451 | conor | 2002-04-16 05:26:36 -0400 (Tue, 16 Apr 2002) | 2 lines

Coding standard

------------------------------------------------------------------------
r272450 | conor | 2002-04-16 03:15:19 -0400 (Tue, 16 Apr 2002) | 3 lines

Some simple Javadocs - also reduce scope of Javadoc work to public
for now

------------------------------------------------------------------------
r272449 | bodewig | 2002-04-16 02:43:04 -0400 (Tue, 16 Apr 2002) | 2 lines

2002

------------------------------------------------------------------------
r272447 | stevel | 2002-04-16 01:47:41 -0400 (Tue, 16 Apr 2002) | 4 lines

add rule that"$"->"$"; retaining "$$"->"$"

Fundamental changes like this scare me. I wonder what the gump is going to show up here. If all is well; nothing.

------------------------------------------------------------------------
r272446 | stevel | 2002-04-16 01:46:12 -0400 (Tue, 16 Apr 2002) | 4 lines

pulled from the sandbox, added the NoProxyHosts attr, including with java1.4 support (the ftp version), and tweaked behavior s.t. <setproxy/> does nothing. but <setproxy proxyHost=""/> resets the proxy settings to no proxy.

No docs (stil in the sandbox) or test (I need to be at work to test it)

------------------------------------------------------------------------
r272445 | conor | 2002-04-15 19:53:14 -0400 (Mon, 15 Apr 2002) | 2 lines

Remove unused imports

------------------------------------------------------------------------
r272444 | conor | 2002-04-15 19:49:10 -0400 (Mon, 15 Apr 2002) | 2 lines

Remove tabs

------------------------------------------------------------------------
r272443 | conor | 2002-04-15 11:33:11 -0400 (Mon, 15 Apr 2002) | 2 lines

Reduce a small number of long lines

------------------------------------------------------------------------
r272442 | conor | 2002-04-15 10:56:34 -0400 (Mon, 15 Apr 2002) | 2 lines

Order of modifiers

------------------------------------------------------------------------
r272441 | conor | 2002-04-15 09:36:22 -0400 (Mon, 15 Apr 2002) | 2 lines

Coding Standard

------------------------------------------------------------------------
r272440 | bodewig | 2002-04-15 09:20:26 -0400 (Mon, 15 Apr 2002) | 2 lines

Add compiler attribute and nested <compilerarg> element to <rmic>.

------------------------------------------------------------------------
r272439 | bodewig | 2002-04-15 08:51:56 -0400 (Mon, 15 Apr 2002) | 2 lines

stand-alone tests for facade stuff.

------------------------------------------------------------------------
r272438 | bodewig | 2002-04-15 08:32:12 -0400 (Mon, 15 Apr 2002) | 2 lines

Factor some facade task support stuff out from <javac>.

------------------------------------------------------------------------
r272436 | conor | 2002-04-15 08:22:31 -0400 (Mon, 15 Apr 2002) | 2 lines

Remove tabs

------------------------------------------------------------------------
r272435 | donaldp | 2002-04-15 08:20:51 -0400 (Mon, 15 Apr 2002) | 2 lines

Move user extraction outside of parser to please maven peeps.

------------------------------------------------------------------------
r272434 | conor | 2002-04-15 08:16:31 -0400 (Mon, 15 Apr 2002) | 2 lines

Remove unused import statements

------------------------------------------------------------------------
r272433 | conor | 2002-04-15 08:11:52 -0400 (Mon, 15 Apr 2002) | 2 lines

More coding standard fixes

------------------------------------------------------------------------
r272432 | bodewig | 2002-04-15 06:47:48 -0400 (Mon, 15 Apr 2002) | 2 lines

JDK 1.1

------------------------------------------------------------------------
r272431 | donaldp | 2002-04-15 06:28:58 -0400 (Mon, 15 Apr 2002) | 5 lines

Add cvstagdiff into default taskdef list.

PR: 8086
Submitted by: fred@castify.net

------------------------------------------------------------------------
r272430 | bodewig | 2002-04-15 05:57:34 -0400 (Mon, 15 Apr 2002) | 6 lines

Make <ftp>'s directory scanner behave the same way as the one for
normal filesets when it comes to pattern matching.  The current
version did not look at the directory part at all.

PR: 4411

------------------------------------------------------------------------
r272429 | donaldp | 2002-04-15 05:53:24 -0400 (Mon, 15 Apr 2002) | 11 lines

org.apache.tools.ant.taskdefs.cvslib.CvsTagDiff

The goal of this task is to give a list of differences between two tags or
dates. It produces an xml report like the changelog report of the CvsChangeLog
task. The output gives the list of modified files, removed files and new files.

The proposed task name is cvstagdiff.

PR: 8086
Submitted by: fred@castify.net (Frederic Lavigne)

------------------------------------------------------------------------
r272428 | bodewig | 2002-04-15 05:33:33 -0400 (Mon, 15 Apr 2002) | 4 lines

Make sure <ftp> closes the output stream when listing files.

Cosmetics.

------------------------------------------------------------------------
r272427 | donaldp | 2002-04-15 05:07:21 -0400 (Mon, 15 Apr 2002) | 17 lines

cvschangelog detects ends of comments by looking for a line starting with ------

Unfortunately if somebody commits a file using a message like:
"added a new feature
--------
removed an old feature"

The second line will be identified as the end of the comment. The same for the
end of a changelog with '======'.

Using the right number of '-' or '=' fixes the problem temporarly until one
commit a file with a number of '-' or '=' greater or equals to the cvs
separator.

PR: 8085
Submitted by: fred@castify.net (Frederic Lavigne)

------------------------------------------------------------------------
r272425 | bodewig | 2002-04-15 04:39:18 -0400 (Mon, 15 Apr 2002) | 2 lines

Normalize some @since tags

------------------------------------------------------------------------
r272423 | stevel | 2002-04-15 02:35:57 -0400 (Mon, 15 Apr 2002) | 2 lines

two tests sharing the same data set; XmlValidate fails horribly

------------------------------------------------------------------------
r272422 | stevel | 2002-04-15 02:35:18 -0400 (Mon, 15 Apr 2002) | 2 lines

two tests sharing the same data set

------------------------------------------------------------------------
r272421 | bodewig | 2002-04-15 02:01:37 -0400 (Mon, 15 Apr 2002) | 2 lines

2002

------------------------------------------------------------------------
r272420 | sbailliez | 2002-04-14 17:03:22 -0400 (Sun, 14 Apr 2002) | 9 lines

Use the normalized value rather than the %. Incidentally it fix a bug that shows
up because the number format in the xml is formatted using a locale dependent
format rather than a neutral dependent format like a float datatype in XML Schema
therefore it is not possible to use interoperate between different locales with the XML.
ie generate the XML using one locale and the xsl using another.

PR: 7877
Reported by: nicolaken@apache.org (Nicola Ken Barozzi)

------------------------------------------------------------------------
r272418 | conor | 2002-04-14 07:16:19 -0400 (Sun, 14 Apr 2002) | 2 lines

Various coding standard fixes

------------------------------------------------------------------------
r272416 | ehatcher | 2002-04-13 07:18:28 -0400 (Sat, 13 Apr 2002) | 2 lines

Added <xslt> alias for the Style task to make it easier to find for users

------------------------------------------------------------------------
r272415 | stevel | 2002-04-13 02:23:30 -0400 (Sat, 13 Apr 2002) | 4 lines

reworked testing/exceptioning for the compilers.

We are going to have to write some per JVM unit tests, I can tell

------------------------------------------------------------------------
r272412 | bodewig | 2002-04-12 11:08:17 -0400 (Fri, 12 Apr 2002) | 3 lines

finally, 7552 audit of <junit> - leave information in tests untouched
by cloning the instances.

------------------------------------------------------------------------
r272409 | conor | 2002-04-12 10:46:45 -0400 (Fri, 12 Apr 2002) | 2 lines

Fix up style issues

------------------------------------------------------------------------
r272408 | bodewig | 2002-04-12 10:10:19 -0400 (Fri, 12 Apr 2002) | 2 lines

Make sure <touch> and <waitfor> reset their state.

------------------------------------------------------------------------
r272407 | bodewig | 2002-04-12 09:53:27 -0400 (Fri, 12 Apr 2002) | 3 lines

<taskdef>/<typedef> wouldn't close their streams if file/resource
attribute has been used and an exception occured.

------------------------------------------------------------------------
r272406 | bodewig | 2002-04-12 09:44:37 -0400 (Fri, 12 Apr 2002) | 2 lines

2002

------------------------------------------------------------------------
r272405 | bodewig | 2002-04-12 09:32:27 -0400 (Fri, 12 Apr 2002) | 2 lines

Make sure <tar> resets its state.

------------------------------------------------------------------------
r272404 | conor | 2002-04-12 09:26:54 -0400 (Fri, 12 Apr 2002) | 2 lines

Bring all headers into line

------------------------------------------------------------------------
r272403 | bodewig | 2002-04-12 08:58:02 -0400 (Fri, 12 Apr 2002) | 2 lines

Make sure <style> resets its state - may even help the garbage collector.

------------------------------------------------------------------------
r272402 | bodewig | 2002-04-12 08:36:09 -0400 (Fri, 12 Apr 2002) | 6 lines

Add some @since tags to an interface we've told people they could
implement for custom plugins - bad example of backwards
incompatibility at work (there's been no release since 1.2 that didn't
change the interface and there is no single method of the 1.2 release
left in that interface).

------------------------------------------------------------------------
r272401 | bodewig | 2002-04-12 08:26:52 -0400 (Fri, 12 Apr 2002) | 10 lines

<sql> would parse source files before telling you that you forgot to
specify a JDBC driver - make it fail faster.

<sql> didn't reset its state (7552)

<sql> wouldn't close input files if an error occured.

I've left two XXX comments in the source for people who may know
better than me.

------------------------------------------------------------------------
r272400 | bodewig | 2002-04-12 08:11:11 -0400 (Fri, 12 Apr 2002) | 2 lines

Cosmetics

------------------------------------------------------------------------
r272399 | bodewig | 2002-04-12 07:44:31 -0400 (Fri, 12 Apr 2002) | 5 lines

Make sure <rmic> resets its internal state even in exceptional
situations.

Cosmetics.

------------------------------------------------------------------------
r272398 | bodewig | 2002-04-12 06:17:53 -0400 (Fri, 12 Apr 2002) | 7 lines

Document new replacefilterfile attribute of <replace>

PR: 7320

Make sure <replace> resets its state.
Cosmetics.

------------------------------------------------------------------------
r272397 | bodewig | 2002-04-12 05:35:39 -0400 (Fri, 12 Apr 2002) | 8 lines

Add emacsmode to <recorder>.

PR: 7432

<recorder> is a difficult beast with regard to bug 7552 as it holds
state in a static Hashtable - at least it won't create multiple
loggers for the same files, so it should be relatively save.

------------------------------------------------------------------------
r272396 | bodewig | 2002-04-12 05:01:35 -0400 (Fri, 12 Apr 2002) | 3 lines

<keysubst> didn't close its streams.  I know, this task is so
deprecated we don't even document it, but ...

------------------------------------------------------------------------
r272395 | bodewig | 2002-04-12 04:49:02 -0400 (Fri, 12 Apr 2002) | 2 lines

<property> didn't close input stream in resource case.  Cosmetics.

------------------------------------------------------------------------
r272394 | bodewig | 2002-04-12 04:12:54 -0400 (Fri, 12 Apr 2002) | 6 lines

Fix API backwards incompatibilty in PathConvert I had introduced.

Make sure <pathconvert> resets its state (7552).

Cosmetics.

------------------------------------------------------------------------
r272393 | bodewig | 2002-04-12 03:27:45 -0400 (Fri, 12 Apr 2002) | 4 lines

bug 7552 audit of <mail> - reset internal state.

Cosmetics.

------------------------------------------------------------------------
r272389 | stevel | 2002-04-11 19:36:15 -0400 (Thu, 11 Apr 2002) | 2 lines

test for WSDL and NET handling

------------------------------------------------------------------------
r272387 | stevel | 2002-04-11 18:06:41 -0400 (Thu, 11 Apr 2002) | 2 lines

wsdl test data

------------------------------------------------------------------------
r272386 | stevel | 2002-04-11 17:46:05 -0400 (Thu, 11 Apr 2002) | 2 lines

task now working

------------------------------------------------------------------------
r272385 | stevel | 2002-04-11 17:45:51 -0400 (Thu, 11 Apr 2002) | 2 lines

good thing nobody was using these, cos I broke them.

------------------------------------------------------------------------
r272384 | conor | 2002-04-11 12:20:13 -0400 (Thu, 11 Apr 2002) | 3 lines

Remove BCEL imports
Make sure mutant still bootstraps

------------------------------------------------------------------------
r272383 | conor | 2002-04-11 12:09:37 -0400 (Thu, 11 Apr 2002) | 3 lines

Move depend to use the DependencyAnalyzer interface. To come,
ability to select BCEL based analyzer

------------------------------------------------------------------------
r272382 | bodewig | 2002-04-11 11:59:37 -0400 (Thu, 11 Apr 2002) | 5 lines

<javadoc> added some options to the not-cloned Commandline potentially
adding them several times of execute would be called more than once.

Cosmetics.

------------------------------------------------------------------------
r272379 | bodewig | 2002-04-11 11:20:33 -0400 (Thu, 11 Apr 2002) | 3 lines

cosmetics on the <javac> family - I didn't really read the code for
the various adapters as reworking part of them is on my TODO list anyway.

------------------------------------------------------------------------
r272378 | bodewig | 2002-04-11 10:58:00 -0400 (Thu, 11 Apr 2002) | 2 lines

<java> may alter value of dir during execute.  Cosmetics.

------------------------------------------------------------------------
r272376 | bodewig | 2002-04-11 10:28:00 -0400 (Thu, 11 Apr 2002) | 4 lines

Use FileUtils instead of yet another touch method in <get>.

cosmetics.

------------------------------------------------------------------------
r272372 | bodewig | 2002-04-11 09:22:16 -0400 (Thu, 11 Apr 2002) | 7 lines

Make sure <zip> and <jar> really reset their internal state.

Make <zip> update="true" work for zipfiles we've added files with
commas or spaces in their names to.

cosmetics.

------------------------------------------------------------------------
r272371 | bodewig | 2002-04-11 08:29:43 -0400 (Thu, 11 Apr 2002) | 5 lines

Make <delete> aware of nested <includesfile> and <excludesfile>
elements for the implicit fileset.

Cosmetics.

------------------------------------------------------------------------
r272370 | bodewig | 2002-04-11 07:54:19 -0400 (Thu, 11 Apr 2002) | 2 lines

Make sure <cvspass> closes its streams.  Cleanup.

------------------------------------------------------------------------
r272369 | bodewig | 2002-04-11 07:41:46 -0400 (Thu, 11 Apr 2002) | 2 lines

reset state in <cvschangelog>

------------------------------------------------------------------------
r272368 | bodewig | 2002-04-11 05:52:48 -0400 (Thu, 11 Apr 2002) | 5 lines

bug 7552 audit of <cvs> - ensure command gets reset.

You cannot have an attribute that accepts a boolean or an integer, at
least not the way it has been done - split into two attributes.

------------------------------------------------------------------------
r272366 | bodewig | 2002-04-11 05:19:06 -0400 (Thu, 11 Apr 2002) | 2 lines

reset state in <copydir>, cleanup

------------------------------------------------------------------------
r272365 | bodewig | 2002-04-11 04:43:51 -0400 (Thu, 11 Apr 2002) | 9 lines

Bug 7552 audit of <copy> and <move> - really make sure state is reset,
even if exceptions have been thrown.

Make the single file copy operation only work for a single nested
fileset that contains a single file (would have accepted multiple
included files and silently used the randomly chosen first one).

Remove private shadows of Copy members from Move.

------------------------------------------------------------------------
r272364 | bodewig | 2002-04-11 03:38:15 -0400 (Thu, 11 Apr 2002) | 9 lines

Adding some @since tags.

cleanups.

Make sure <uptodate> honors property immutability rules.

Remove redundant Enumeration class from ConditionBase
(IntrospectionHelper will have taken care of it now).

------------------------------------------------------------------------
r272363 | stevel | 2002-04-11 03:29:58 -0400 (Thu, 11 Apr 2002) | 2 lines

actually, we dont need to mandate an output file, even though doing so breaks dependency checking. So lets not, for compatibility's sake. Oh, and add a test for the destfile not being a directory

------------------------------------------------------------------------
r272362 | stevel | 2002-04-11 03:28:47 -0400 (Thu, 11 Apr 2002) | 2 lines

oops

------------------------------------------------------------------------
r272360 | stevel | 2002-04-11 03:18:44 -0400 (Thu, 11 Apr 2002) | 2 lines

no, this is the minor tidy up; javadoc tweak; that was a new task

------------------------------------------------------------------------
r272359 | bodewig | 2002-04-11 03:03:11 -0400 (Thu, 11 Apr 2002) | 4 lines

Make sure the implicit fileset in <chmod> knows the current project.
Don't remove things that have never been added.
Share secret knowledge of wise old (wo)men.

------------------------------------------------------------------------
r272358 | stevel | 2002-04-11 02:53:28 -0400 (Thu, 11 Apr 2002) | 2 lines

until this class is documented and has a test, it doesnt exist. Why add a wrapper to the MS WSDL tool? So that you can verify that your web services, be they written with Axis or that sun stuff, can be used by .net clients.

------------------------------------------------------------------------
r272357 | stevel | 2002-04-11 02:48:20 -0400 (Thu, 11 Apr 2002) | 2 lines

new helper method; not yet fed back into classes that currently use it (Csharp, Ilasm)

------------------------------------------------------------------------
r272356 | stevel | 2002-04-11 02:47:41 -0400 (Thu, 11 Apr 2002) | 2 lines

comment fixup

------------------------------------------------------------------------
r272354 | stevel | 2002-04-11 02:37:30 -0400 (Thu, 11 Apr 2002) | 2 lines

minor tidy up; javadoc tweak

------------------------------------------------------------------------
r272353 | bodewig | 2002-04-11 02:32:43 -0400 (Thu, 11 Apr 2002) | 2 lines

Don't reencode console output.

------------------------------------------------------------------------
r272352 | conor | 2002-04-11 00:24:16 -0400 (Thu, 11 Apr 2002) | 2 lines

Fix up zipfileset references to allow any fileset

------------------------------------------------------------------------
r272350 | conor | 2002-04-10 20:57:26 -0400 (Wed, 10 Apr 2002) | 2 lines

Remove time based checks

------------------------------------------------------------------------
r272346 | bodewig | 2002-04-10 11:33:09 -0400 (Wed, 10 Apr 2002) | 4 lines

Make concat reset its state (bug 7552 audit), make it use encoding
even when not logging to the console, make it fail-fast if nested text
has been specified together with nested filesets.

------------------------------------------------------------------------
r272345 | bodewig | 2002-04-10 10:42:42 -0400 (Wed, 10 Apr 2002) | 2 lines

reset internal state in <chmod> (bug 7552 audit).

------------------------------------------------------------------------
r272344 | bodewig | 2002-04-10 10:30:04 -0400 (Wed, 10 Apr 2002) | 4 lines

Make sure <checksum> resets its internal state (bug 7552 audit), don't
trust File.length(), make sure <checksum> doesn't break the property
immutability rules.

------------------------------------------------------------------------
r272343 | bodewig | 2002-04-10 10:13:59 -0400 (Wed, 10 Apr 2002) | 6 lines

Make sure the dest attribute gets reset at the end of execute in
<bunzip2> and <gunzip> (bug 7552 audit).

Fix documentation for <gzip> and <bzip2> - these tasks perform
dependency checks.

------------------------------------------------------------------------
r272342 | bodewig | 2002-04-10 09:55:48 -0400 (Wed, 10 Apr 2002) | 4 lines

Make sure <buildnumber> doesn't break property immutability rules,
make it reset the file attribute at the end of execute (bug 7552
audit).

------------------------------------------------------------------------
r272341 | bodewig | 2002-04-10 09:47:46 -0400 (Wed, 10 Apr 2002) | 5 lines

Make sure <basename> and <dirname> don't break property immutability
rules.

Minor corrections to their documentation.

------------------------------------------------------------------------
r272340 | bodewig | 2002-04-10 09:46:53 -0400 (Wed, 10 Apr 2002) | 2 lines

make DirSetTest work again.

------------------------------------------------------------------------
r272337 | conor | 2002-04-10 07:27:16 -0400 (Wed, 10 Apr 2002) | 3 lines

Fix up the determination of fileset names since most fileset subclasses
won't override the getDataTypeName and thus be reported as fileset

------------------------------------------------------------------------
r272336 | bodewig | 2002-04-10 07:15:37 -0400 (Wed, 10 Apr 2002) | 5 lines

Make sure <available>'s isTask member gets reset if eval throws an
exception as well.

Some documentation and indentation patches.

------------------------------------------------------------------------
r272335 | bodewig | 2002-04-10 06:27:52 -0400 (Wed, 10 Apr 2002) | 8 lines

Bug 7552 auditing of <exec> - dir may have been altered in execute.

Fix backwards incompatible API change I've introduced last week
(setTimeout's argument has been changed from Integer to Long).

Fix the code in <apply> that should ensure that dest has been
specified.

------------------------------------------------------------------------
r272334 | bodewig | 2002-04-10 06:02:54 -0400 (Wed, 10 Apr 2002) | 7 lines

Bug 7552 auditing of <antstructure> - reset cache of visited elements
at the end of execute.

Add typedef to the child elements of project.

Fix some docs.

------------------------------------------------------------------------
r272333 | bodewig | 2002-04-10 05:44:37 -0400 (Wed, 10 Apr 2002) | 2 lines

fix possible (but unlikely) NPE in <antcall>, add some docs.

------------------------------------------------------------------------
r272332 | bodewig | 2002-04-10 05:32:38 -0400 (Wed, 10 Apr 2002) | 6 lines

Bug 7552 auditing of <ant> - antFile, dir and target need to be reset
at the end of execute to get back to the state before execute has been
called.

Add some documentation while I was at it.

------------------------------------------------------------------------
r272331 | bodewig | 2002-04-10 04:35:01 -0400 (Wed, 10 Apr 2002) | 6 lines

Really move the generated java files in rmic.

PR: 5781

Fixed some minor stuff in DefaultRmicAdapter while I was at it.

------------------------------------------------------------------------
r272328 | stevel | 2002-04-09 20:39:20 -0400 (Tue, 09 Apr 2002) | 4 lines

updated to release 1.0 of .NET.

stuck through jedit jstyle and idea variable renaming ops too

------------------------------------------------------------------------
r272326 | conor | 2002-04-09 20:19:55 -0400 (Tue, 09 Apr 2002) | 2 lines

Clean up imports

------------------------------------------------------------------------
r272325 | stevel | 2002-04-09 16:32:10 -0400 (Tue, 09 Apr 2002) | 4 lines

Patch from Matt to use reflection to grab the java1.2 property save routine if available.

As an aside, this code could be factored out and put into a utility method to save property objects safely on java1.2 and 1.2+

------------------------------------------------------------------------
r272320 | conor | 2002-04-09 11:27:08 -0400 (Tue, 09 Apr 2002) | 2 lines

Coding standard conformance

------------------------------------------------------------------------
r272319 | bodewig | 2002-04-09 11:21:24 -0400 (Tue, 09 Apr 2002) | 8 lines

In <zip> and <jara> only reset internal state at the end of execute,
not the attributes and child elements obtained via configuration.

Add a new method that allows the task instances to be reset to their
unconfigured state.

PR: 7552

------------------------------------------------------------------------
r272318 | bodewig | 2002-04-09 10:51:55 -0400 (Tue, 09 Apr 2002) | 4 lines

convert fatal TransformerExceptions into BuildExceptions for TraxLiaison.

PR: 7405

------------------------------------------------------------------------
r272317 | bodewig | 2002-04-09 10:43:30 -0400 (Tue, 09 Apr 2002) | 4 lines

improve Ant's error message if encoding decl of build file is invalid.

PR: 7825

------------------------------------------------------------------------
r272316 | conor | 2002-04-09 10:19:32 -0400 (Tue, 09 Apr 2002) | 2 lines

Javadoc and style updates

------------------------------------------------------------------------
r272315 | bodewig | 2002-04-09 10:04:27 -0400 (Tue, 09 Apr 2002) | 5 lines

capture System.out and System.err and pass it to the formatters in
<junit> with fork=yes as well.

PR: 5377

------------------------------------------------------------------------
r272314 | conor | 2002-04-09 09:20:08 -0400 (Tue, 09 Apr 2002) | 6 lines

Add a check in depend so that if a class file is out of date and the
source file cannot be determined, the class is not deleted and a warning
is given.

PR:	7312

------------------------------------------------------------------------
r272312 | bodewig | 2002-04-09 08:13:25 -0400 (Tue, 09 Apr 2002) | 4 lines

swallow characters that are illegal in XML documents.

PR: 6351

------------------------------------------------------------------------
r272311 | conor | 2002-04-09 07:51:02 -0400 (Tue, 09 Apr 2002) | 2 lines

Checkstyle setup for checking Ant code base.

------------------------------------------------------------------------
r272309 | conor | 2002-04-09 07:20:51 -0400 (Tue, 09 Apr 2002) | 2 lines

Initial refactoring of <depend> task to make it a bit clearer

------------------------------------------------------------------------
r272308 | conor | 2002-04-09 06:19:20 -0400 (Tue, 09 Apr 2002) | 2 lines

Tolerance should not apply to source file checks

------------------------------------------------------------------------
r272307 | conor | 2002-04-09 03:38:03 -0400 (Tue, 09 Apr 2002) | 2 lines

Minor cleanup

------------------------------------------------------------------------
r272305 | conor | 2002-04-09 02:18:35 -0400 (Tue, 09 Apr 2002) | 2 lines

checkstyle

------------------------------------------------------------------------
r272304 | conor | 2002-04-08 23:51:19 -0400 (Mon, 08 Apr 2002) | 2 lines

Test depend cache

------------------------------------------------------------------------
r272303 | conor | 2002-04-08 22:37:54 -0400 (Mon, 08 Apr 2002) | 6 lines

<depend> task does not handle case where an inner and outer class are written at
different times since they have a mutual dependency. I have introduced a 100
millisecond tolerance to catch this situation

PR:	7529

------------------------------------------------------------------------
r272301 | umagesh | 2002-04-08 14:08:08 -0400 (Mon, 08 Apr 2002) | 2 lines

Move assertion statement inside try block and make the testcase pass on Windows environments with dubious java.home

------------------------------------------------------------------------
r272300 | umagesh | 2002-04-08 13:45:41 -0400 (Mon, 08 Apr 2002) | 2 lines

Close PrintStreams if logfile is being used.  Leaving the streams open causes test case failures on Windows.

------------------------------------------------------------------------
r272299 | bodewig | 2002-04-08 12:11:27 -0400 (Mon, 08 Apr 2002) | 4 lines

Add -source switch to <javadoc>

PR: 5645

------------------------------------------------------------------------
r272297 | bodewig | 2002-04-08 11:40:33 -0400 (Mon, 08 Apr 2002) | 5 lines

Make <java> handle exceptions gracefully if failonerror="true" in
non-forked mode as well.

PR: 6353

------------------------------------------------------------------------
r272296 | conor | 2002-04-08 11:28:58 -0400 (Mon, 08 Apr 2002) | 3 lines

Refactor to use a single DTDLocation instance
Still need to integrate XMLCatalog with these tasks

------------------------------------------------------------------------
r272294 | bodewig | 2002-04-08 10:25:18 -0400 (Mon, 08 Apr 2002) | 3 lines

rework inheritance tree for DirSet and FileSet, they are not
interchangeable.

------------------------------------------------------------------------
r272292 | conor | 2002-04-08 09:57:06 -0400 (Mon, 08 Apr 2002) | 3 lines

Add capability to classfileset to specify the root classes
using a fileset

------------------------------------------------------------------------
r272290 | bodewig | 2002-04-08 07:49:01 -0400 (Mon, 08 Apr 2002) | 2 lines

2002

------------------------------------------------------------------------
r272286 | conor | 2002-04-08 02:56:41 -0400 (Mon, 08 Apr 2002) | 2 lines

New depend checks

------------------------------------------------------------------------
r272285 | holtdl | 2002-04-08 02:46:43 -0400 (Mon, 08 Apr 2002) | 2 lines

Create temp file in user.dir (PR 4590).

------------------------------------------------------------------------
r272283 | stevel | 2002-04-08 02:34:10 -0400 (Mon, 08 Apr 2002) | 2 lines

adding inheritRefs to <antcall>, for better consistency with ant. The default is of course false.

------------------------------------------------------------------------
r272282 | conor | 2002-04-08 01:10:31 -0400 (Mon, 08 Apr 2002) | 2 lines

Setup to suport more test sets for depend task

------------------------------------------------------------------------
r272281 | holtdl | 2002-04-07 23:34:57 -0400 (Sun, 07 Apr 2002) | 2 lines

Make Sun coding standards (and Conor) happy :)

------------------------------------------------------------------------
r272280 | holtdl | 2002-04-07 21:17:07 -0400 (Sun, 07 Apr 2002) | 3 lines

overide -> override; writer -> file; fix line-breaks/spacing so
the output's a bit neater.

------------------------------------------------------------------------
r272279 | holtdl | 2002-04-07 20:45:28 -0400 (Sun, 07 Apr 2002) | 4 lines

Add cygpath handling of JIKESPATH (PR 6943).

Also remove superfluous if on ANT_OPTS setting.

------------------------------------------------------------------------
r272276 | holtdl | 2002-04-07 20:10:40 -0400 (Sun, 07 Apr 2002) | 3 lines

Fix DIRLIBS to allow for space (iow, more quoting crud -- gack!)
(PR 5178)

------------------------------------------------------------------------
r272270 | conor | 2002-04-07 10:35:22 -0400 (Sun, 07 Apr 2002) | 2 lines

Refector the new method into a separate set and get methods

------------------------------------------------------------------------
r272250 | donaldp | 2002-04-05 20:33:23 -0500 (Fri, 05 Apr 2002) | 2 lines

Seems I forgot to commit this...

------------------------------------------------------------------------
r272248 | donaldp | 2002-04-05 20:22:50 -0500 (Fri, 05 Apr 2002) | 4 lines

Add in stylesheet forhangelog report.

Submitted by: Frederic Lavigne <fred@castify.net>

------------------------------------------------------------------------
r272247 | donaldp | 2002-04-05 19:59:58 -0500 (Fri, 05 Apr 2002) | 2 lines

Pass of all stream processing into another thread so that hopefully it wont block... maybe ;)

------------------------------------------------------------------------
r272246 | conor | 2002-04-05 10:57:33 -0500 (Fri, 05 Apr 2002) | 2 lines

Allow ejbjar dependency including behaviour to be controlled

------------------------------------------------------------------------
r272245 | bodewig | 2002-04-05 10:11:42 -0500 (Fri, 05 Apr 2002) | 5 lines

make sure output of the spawned thread is attributed to the current
<java> task when using the timeout feature.

If you don't like the name of the method, change it 8-)

------------------------------------------------------------------------
r272243 | conor | 2002-04-05 09:57:36 -0500 (Fri, 05 Apr 2002) | 2 lines

Preserve ordering of taglets and tags by using one list

------------------------------------------------------------------------
r272241 | conor | 2002-04-05 09:37:45 -0500 (Fri, 05 Apr 2002) | 3 lines

Toplink element is no longer required. The standard weblogic element
can handle toplink based beans and has done so for a while

------------------------------------------------------------------------
r272239 | bodewig | 2002-04-05 09:27:48 -0500 (Fri, 05 Apr 2002) | 2 lines

stray debug statement.

------------------------------------------------------------------------
r272238 | bodewig | 2002-04-05 08:55:50 -0500 (Fri, 05 Apr 2002) | 3 lines

Make not so strong, we don't really know whether we've managed to end
the spawned thread.  Make the thread a daemon thread.

------------------------------------------------------------------------
r272237 | bodewig | 2002-04-05 07:56:34 -0500 (Fri, 05 Apr 2002) | 4 lines

timeout support for <java>

PR: 5299

------------------------------------------------------------------------
r272236 | conor | 2002-04-05 07:55:01 -0500 (Fri, 05 Apr 2002) | 4 lines

Re-enable DependTest - no longer uses touch
Update many checks to handle optional tasks which require JDK 1.2+
Problems remain for builds with ORO present

------------------------------------------------------------------------
r272235 | bodewig | 2002-04-05 05:13:02 -0500 (Fri, 05 Apr 2002) | 3 lines

refactor ExecuteWatchdog - extract a more generic timer.  Preparation
to allow timeout attribute in <java fork="false">

------------------------------------------------------------------------
r272234 | bodewig | 2002-04-05 04:28:54 -0500 (Fri, 05 Apr 2002) | 4 lines

Add append attributes to <exec>, <java> and <sql>

PR: 3234, part of 5299

------------------------------------------------------------------------
r272233 | bodewig | 2002-04-05 02:16:42 -0500 (Fri, 05 Apr 2002) | 2 lines

2002

------------------------------------------------------------------------
r272232 | conor | 2002-04-05 00:42:26 -0500 (Fri, 05 Apr 2002) | 2 lines

Add taglets support to javadoc

------------------------------------------------------------------------
r272229 | conor | 2002-04-04 22:20:55 -0500 (Thu, 04 Apr 2002) | 2 lines

Tedious workaround for JDK 1.1 compilation issues

------------------------------------------------------------------------
r272228 | conor | 2002-04-04 22:20:17 -0500 (Thu, 04 Apr 2002) | 2 lines

iJDK 1.1 has trouble with inner class variable access - use method instead

------------------------------------------------------------------------
r272225 | bodewig | 2002-04-04 10:40:45 -0500 (Thu, 04 Apr 2002) | 2 lines

JDK 1.1

------------------------------------------------------------------------
r272223 | conor | 2002-04-04 09:16:27 -0500 (Thu, 04 Apr 2002) | 3 lines

Disable second half of this test for now. I'm not sure why you can't pass
a <dirset> to a <fileset> by reference.

------------------------------------------------------------------------
r272221 | conor | 2002-04-04 09:12:19 -0500 (Thu, 04 Apr 2002) | 2 lines

Test case for <classfileset>

------------------------------------------------------------------------
r272220 | conor | 2002-04-04 09:08:17 -0500 (Thu, 04 Apr 2002) | 2 lines

Minor improvement to error message

------------------------------------------------------------------------
r272219 | conor | 2002-04-04 09:00:29 -0500 (Thu, 04 Apr 2002) | 3 lines

Remove check which prevents fileset subclasses being passed by reference
where a fileset is expected.

------------------------------------------------------------------------
r272218 | conor | 2002-04-04 08:59:19 -0500 (Thu, 04 Apr 2002) | 4 lines

Fix up operation of classfileset to behave more like a normal fileset in
terms of what it returns. Also, do not ignore the <include> elements, etc
but allow it to control the basic set of classes which are examined.

------------------------------------------------------------------------
r272217 | conor | 2002-04-04 08:55:59 -0500 (Thu, 04 Apr 2002) | 2 lines

Test cases for <depend> task

------------------------------------------------------------------------
r272216 | conor | 2002-04-04 08:53:13 -0500 (Thu, 04 Apr 2002) | 2 lines

Minor typo

------------------------------------------------------------------------
r272214 | bodewig | 2002-04-04 08:30:00 -0500 (Thu, 04 Apr 2002) | 3 lines

Add class for collection utilities, implement emulation of
Vector.equals, use it in Manifest.

------------------------------------------------------------------------
r272204 | donaldp | 2002-04-04 05:45:35 -0500 (Thu, 04 Apr 2002) | 2 lines

Fix up date parsing to pick up time aswell

------------------------------------------------------------------------
r272203 | bodewig | 2002-04-04 05:44:18 -0500 (Thu, 04 Apr 2002) | 6 lines

New attribute for <replace> that allows all properties of a given
property file to be used as replacefilter.

PR: 7320
Submitted by:	Wolfgang.Jakel@lutzwolf.de

------------------------------------------------------------------------
r272201 | donaldp | 2002-04-04 05:33:19 -0500 (Thu, 04 Apr 2002) | 8 lines

Fixed the following bug;

processGetPreviousRevision method sets the status to GET_COMMENT but it should set it to
GET_DATE otherwise the date information gets put in the comment and as the author is
escaped using a CDATA, you finally get a CDATA inside a CDATA...

Submitted By: Frederic Lavigne <fred@castify.net>

------------------------------------------------------------------------
r272200 | bodewig | 2002-04-04 05:31:18 -0500 (Thu, 04 Apr 2002) | 4 lines

Make sure locale argument is the first one in javadoc

PR: 4984

------------------------------------------------------------------------
r272199 | donaldp | 2002-04-04 05:25:12 -0500 (Thu, 04 Apr 2002) | 2 lines

Move CDATA escaping to the writer to make it harder to get a CDATA in another CDATA

------------------------------------------------------------------------
r272198 | bodewig | 2002-04-04 05:20:19 -0500 (Thu, 04 Apr 2002) | 2 lines

Make tag and date attributes of <cvs> work again as well.

------------------------------------------------------------------------
r272197 | donaldp | 2002-04-04 05:17:48 -0500 (Thu, 04 Apr 2002) | 2 lines

Compile before commiting

------------------------------------------------------------------------
r272196 | donaldp | 2002-04-04 05:13:07 -0500 (Thu, 04 Apr 2002) | 4 lines

Process the standard error in a separate thread hopefully to alleviate blocking.

Reported By: Frederic Lavigne <fred@castify.net>

------------------------------------------------------------------------
r272194 | bodewig | 2002-04-04 03:17:34 -0500 (Thu, 04 Apr 2002) | 6 lines

fix infinite loop bug in netrexxc, add a bunch of new attributes and
allow all attributes to be set to default values by properties.

PR: 7732
Submitted by:	Patric Bechtel <bechtel@ipcon.de>

------------------------------------------------------------------------
r272193 | bodewig | 2002-04-04 02:43:36 -0500 (Thu, 04 Apr 2002) | 7 lines

If package attribute has been set, <cvs> would place it in front of
the command - which is wrong.

Reported by:	Ovidiu Predescu <ovidiu@apache.org>

Updated cvs example to point to something usable.

------------------------------------------------------------------------
r272191 | bodewig | 2002-04-04 00:44:41 -0500 (Thu, 04 Apr 2002) | 4 lines

Tabs, rats!

"It wasn't me."

------------------------------------------------------------------------
r272189 | bodewig | 2002-04-03 11:34:25 -0500 (Wed, 03 Apr 2002) | 5 lines

Add nested <commandline> elements to <cvs>

PR: 7433
Submitted by:	stephan beal <stephan@wanderinghorse.net>

------------------------------------------------------------------------
r272188 | bodewig | 2002-04-03 11:17:37 -0500 (Wed, 03 Apr 2002) | 10 lines

testcase for AbstractCvsTask

Submitted by:	stephan beal <stephan@wanderinghorse.net>

As you need a CVS client and must run this test in an Ant source tree
checked out from CVS, this test does not run by default, you need to
enable it via

ant test -Dhave.cvs=1

------------------------------------------------------------------------
r272185 | bodewig | 2002-04-03 08:18:03 -0500 (Wed, 03 Apr 2002) | 7 lines

close streams in junitreport.

PR: 6852

Make XalanExecutor independent of Xalan2 so one can compile
Xalan1Executor without Xalan2.

------------------------------------------------------------------------
r272184 | bodewig | 2002-04-03 07:08:42 -0500 (Wed, 03 Apr 2002) | 3 lines

<uptodate> extends MatchingTask for no reason, it completely ignores
the implicit fileset it is supposed to support.

------------------------------------------------------------------------
r272183 | bodewig | 2002-04-03 06:38:33 -0500 (Wed, 03 Apr 2002) | 2 lines

reimplement DirSetTest as subclass of FileSetTest

------------------------------------------------------------------------
r272182 | bodewig | 2002-04-03 06:24:55 -0500 (Wed, 03 Apr 2002) | 2 lines

reimplement DirSet as subclass of FileSet

------------------------------------------------------------------------
r272179 | bodewig | 2002-04-03 05:54:54 -0500 (Wed, 03 Apr 2002) | 4 lines

Add tests fro DirSet and the new DirSet/FileList support in Path.

Step one of planned DirSet refactoring.

------------------------------------------------------------------------
r272177 | bodewig | 2002-04-03 04:47:24 -0500 (Wed, 03 Apr 2002) | 2 lines

zap tabs, propagate exception so it gets into the log the way it should

------------------------------------------------------------------------
r272175 | bodewig | 2002-04-03 04:20:21 -0500 (Wed, 03 Apr 2002) | 2 lines

Add XML declaration to output generated from <cvschangelog>

------------------------------------------------------------------------
r272174 | bodewig | 2002-04-03 04:11:09 -0500 (Wed, 03 Apr 2002) | 2 lines

changelog -> cvschangelog

------------------------------------------------------------------------
r272173 | bodewig | 2002-04-03 03:53:39 -0500 (Wed, 03 Apr 2002) | 2 lines

allow srcfile to be combined with a mapper in <uptodate>

------------------------------------------------------------------------
r272172 | bodewig | 2002-04-03 03:25:10 -0500 (Wed, 03 Apr 2002) | 2 lines

typo

------------------------------------------------------------------------
r272171 | bodewig | 2002-04-03 03:15:30 -0500 (Wed, 03 Apr 2002) | 5 lines

Add testcase for <ant>'s logfile placement, fix NPE in <ant>.

If <ant> should ignore the dir attribute, we only have to change the
locations of test3.log and test4.log.

------------------------------------------------------------------------
r272168 | bodewig | 2002-04-02 10:48:53 -0500 (Tue, 02 Apr 2002) | 2 lines

Simplify pathconvert, support OS/2 as well, fix some indentation.

------------------------------------------------------------------------
r272167 | bodewig | 2002-04-02 10:25:45 -0500 (Tue, 02 Apr 2002) | 2 lines

improve error reporting in buildnumber task a little.

------------------------------------------------------------------------
r272166 | bodewig | 2002-04-02 09:59:43 -0500 (Tue, 02 Apr 2002) | 4 lines

only warn if override changes the value of a reference.

PR: 5161

------------------------------------------------------------------------
r272165 | bodewig | 2002-04-02 09:03:05 -0500 (Tue, 02 Apr 2002) | 4 lines

New task <concat>

Submitted by:	Derek Slager <derek@activate.net>

------------------------------------------------------------------------
r272158 | donaldp | 2002-04-02 04:19:06 -0500 (Tue, 02 Apr 2002) | 4 lines

Log errors rather than ignoring them.

Submitted by: dion@multitask.com.au via "Vincent Massol" <vmassol@octo.com>

------------------------------------------------------------------------
r272157 | bodewig | 2002-04-02 03:42:44 -0500 (Tue, 02 Apr 2002) | 5 lines

Add method to FileUtils that emulates File.createNewFile (well, sort
of) and use it in Touch as well as BuildNumber.

Various JDK 1.1 issues.

------------------------------------------------------------------------
r272156 | bodewig | 2002-04-02 02:49:08 -0500 (Tue, 02 Apr 2002) | 4 lines

regenerate HTML version of TODO list

The usual 2002 cleanup

------------------------------------------------------------------------
r272155 | ehatcher | 2002-04-01 12:34:36 -0500 (Mon, 01 Apr 2002) | 2 lines

patch supplied by bechtel@ipcon.de (Patric Bechtel) PR 7657

------------------------------------------------------------------------
r272149 | holtdl | 2002-04-01 03:14:33 -0500 (Mon, 01 Apr 2002) | 7 lines

Allow 'dirsep' and 'pathsep' to contain multi-character values.
(Submitted by M. Kerkhoff, PR 6543)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272147 | donaldp | 2002-04-01 01:35:41 -0500 (Mon, 01 Apr 2002) | 4 lines

Made sure error is read (and ignored?) to avoid blocking.

Reported By: Vincent Massol

------------------------------------------------------------------------
r272145 | donaldp | 2002-04-01 01:29:04 -0500 (Mon, 01 Apr 2002) | 4 lines

Make sure the parser works when there is no changes for an entry.

Reported By: Vincent Massol

------------------------------------------------------------------------
r272144 | holtdl | 2002-04-01 00:41:30 -0500 (Mon, 01 Apr 2002) | 4 lines

If 'output' is a simple or relative filename, make it relative
to ${basedir}, not ${user.dir}. (If it's a full-path, it'll go
to the full-path file.)  (PR 4548)

------------------------------------------------------------------------
r272142 | holtdl | 2002-03-31 22:58:50 -0500 (Sun, 31 Mar 2002) | 3 lines

More quoting cruft. (Maybe we should just put the entire
script inside one giant quote! :)  (PR 4340)

------------------------------------------------------------------------
r272141 | holtdl | 2002-03-31 22:49:51 -0500 (Sun, 31 Mar 2002) | 6 lines

Add a 'failonerror' attr. (PR 4273)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272127 | holtdl | 2002-03-31 17:05:29 -0500 (Sun, 31 Mar 2002) | 2 lines

Add check for "%_JAVACMD%.exe" (PR 2484).

------------------------------------------------------------------------
r272126 | holtdl | 2002-03-31 16:21:37 -0500 (Sun, 31 Mar 2002) | 8 lines

Added a 'srcfile' attribute (PR 1681).
(But also found a NPE bug in the mapper stuff :( -- will try
to fix in a separate change.)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272124 | donaldp | 2002-03-31 06:15:53 -0500 (Sun, 31 Mar 2002) | 4 lines

Only display log message in verbose mode.

Submitted by: "Vincent Massol" <vmassol@octo.com>

------------------------------------------------------------------------
r272122 | donaldp | 2002-03-31 05:56:03 -0500 (Sun, 31 Mar 2002) | 5 lines

Patch that lets the changelog task perform some logging to ease
debugging and see what cvs command is executed.

Submitted by: "Vincent Massol" <vmassol@octo.com>

------------------------------------------------------------------------
r272116 | donaldp | 2002-03-30 18:51:33 -0500 (Sat, 30 Mar 2002) | 2 lines

Rename basedir to dir and make it default to  basedir if not specified

------------------------------------------------------------------------
r272113 | holtdl | 2002-03-30 16:37:41 -0500 (Sat, 30 Mar 2002) | 8 lines

Document <dirset> and new <dirset>/<filelist> support for
<path> and <pathconvert> (and clean that puppy up!).
PathConvert.java is comment changes only, no code.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272108 | ehatcher | 2002-03-30 08:16:01 -0500 (Sat, 30 Mar 2002) | 2 lines

Patch to enable JOnAS for <serverdeploy> (PR 7633).  Supplied by Cyrille Morvan.

------------------------------------------------------------------------
r272104 | donaldp | 2002-03-29 22:10:20 -0500 (Fri, 29 Mar 2002) | 2 lines

Fix bug where a log of a single file without other logs in between would only retrieve first change

------------------------------------------------------------------------
r272103 | donaldp | 2002-03-29 22:08:18 -0500 (Fri, 29 Mar 2002) | 2 lines

Add support for nested filesets that allow selection of which files ou want to perform cvs log on

------------------------------------------------------------------------
r272100 | holtdl | 2002-03-29 20:03:40 -0500 (Fri, 29 Mar 2002) | 17 lines

(Oh what the hell -- if the coding sucks, it can get backed out
 or corrected :)

Added:
  - new DirSet datatype
  - support for DirSet and FileList to <path>
  - support for DirSet and FileList to <pathconvert>
(Note: The added support for FileList doesn't have anything
 to do with DirSet, I just figured while was there, might as
 well add that as well.)

Will put through doc/testcases stuff in a separate commit.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r272085 | donaldp | 2002-03-28 20:40:12 -0500 (Thu, 28 Mar 2002) | 6 lines

Typo fix.

DEFAULT_PROPRTY_NAME --> DEFAULT_PROPERTY_NAME

Submitted by: Erik Hatcher

------------------------------------------------------------------------
r272084 | donaldp | 2002-03-28 20:30:41 -0500 (Thu, 28 Mar 2002) | 2 lines

Integrate Buildnumber task.

------------------------------------------------------------------------
r272079 | donaldp | 2002-03-28 18:11:57 -0500 (Thu, 28 Mar 2002) | 2 lines

Add a daysinpast to support the use case of the maven tool

------------------------------------------------------------------------
r272075 | donaldp | 2002-03-28 17:58:21 -0500 (Thu, 28 Mar 2002) | 4 lines

Add in all the classes for the changelog task.

I believe they *should* compile under 1.1 - can someone check ?

------------------------------------------------------------------------
r272073 | donaldp | 2002-03-28 17:56:48 -0500 (Thu, 28 Mar 2002) | 2 lines

Integrate changelog task

------------------------------------------------------------------------
r272072 | holtdl | 2002-03-28 17:39:19 -0500 (Thu, 28 Mar 2002) | 2 lines

Add failOnError attribute (submitted by Steven Tamm -- PR #7549).

------------------------------------------------------------------------
r272069 | bodewig | 2002-03-28 07:15:27 -0500 (Thu, 28 Mar 2002) | 8 lines

New utility class that deals with the specifics of a Java
installation:

* Moved JVM version detection code from Project to the new class.

* Unified the "find executable" methods and factored them into the new
  class.

------------------------------------------------------------------------
r272055 | bodewig | 2002-03-27 11:46:41 -0500 (Wed, 27 Mar 2002) | 2 lines

JDK 1.1

------------------------------------------------------------------------
r272053 | ehatcher | 2002-03-27 09:32:19 -0500 (Wed, 27 Mar 2002) | 2 lines

Refactoring of server deployment task.  Renamed from <ejbdeploy> to <serverdeploy>.  Moved to new j2ee package so its not EJB-centric. Submitted by Christopher A. Longo - cal@cloud9.net

------------------------------------------------------------------------
r272051 | jskeet | 2002-03-27 05:21:31 -0500 (Wed, 27 Mar 2002) | 4 lines

Fixed up JavaDocs so they build without errors. The main changes were:
o Capitalisation. Please capitalise the first word of a new sentence, otherwise break-iterator complains.
o @created tags. These aren't valid JavaDoc, and the info is in CVS anyway...

------------------------------------------------------------------------
r272049 | jskeet | 2002-03-27 04:48:20 -0500 (Wed, 27 Mar 2002) | 2 lines

Fixed up JavaDoc comments again.

------------------------------------------------------------------------
r272044 | ehatcher | 2002-03-26 19:38:02 -0500 (Tue, 26 Mar 2002) | 2 lines

documented (not sufficiently, but its at least a start) the new nesting patternset and corrected copyright

------------------------------------------------------------------------
r272042 | ehatcher | 2002-03-26 17:52:42 -0500 (Tue, 26 Mar 2002) | 2 lines

Implementation of nested patternsets.  Addresses PR3761

------------------------------------------------------------------------
r272041 | ehatcher | 2002-03-26 16:18:34 -0500 (Tue, 26 Mar 2002) | 2 lines

doc patch supplied by Stephan Beal <stephan@wanderinghorse.net>

------------------------------------------------------------------------
r272024 | holtdl | 2002-03-25 14:07:11 -0500 (Mon, 25 Mar 2002) | 2 lines

Add patch submitted by Ingmar Stein.

------------------------------------------------------------------------
r272017 | bodewig | 2002-03-25 05:37:03 -0500 (Mon, 25 Mar 2002) | 3 lines

Rename the attribute of <javac>'s <compilerarg> from implementation to
compiler.

------------------------------------------------------------------------
r272016 | bodewig | 2002-03-25 05:14:56 -0500 (Mon, 25 Mar 2002) | 3 lines

revert <javac>'s fork attribute to a true boolean and add executable
attribute to set the path to the compiler.

------------------------------------------------------------------------
r272014 | ehatcher | 2002-03-24 09:51:14 -0500 (Sun, 24 Mar 2002) | 3 lines

EJB hot deploy tool, contributed by Christopher A. Longo - cal@cloud9.net
(sorry for the multi-step commit - darn lock files!)

------------------------------------------------------------------------
r272013 | ehatcher | 2002-03-24 09:49:48 -0500 (Sun, 24 Mar 2002) | 2 lines

EJB hot deploy tool, contributed by Christopher A. Longo - cal@cloud9.net

------------------------------------------------------------------------
r271990 | stevel | 2002-03-23 15:48:29 -0500 (Sat, 23 Mar 2002) | 2 lines

oops, forgot to check this in last week

------------------------------------------------------------------------
r271988 | stevel | 2002-03-23 14:52:30 -0500 (Sat, 23 Mar 2002) | 4 lines

style sheet control; you can point to anyhting or turn it off completely.

nb, can we make this a logger and not a listener?

------------------------------------------------------------------------
r271946 | bodewig | 2002-03-21 06:34:21 -0500 (Thu, 21 Mar 2002) | 2 lines

yet another JDK 1.1 issue

------------------------------------------------------------------------
r271945 | conor | 2002-03-21 06:12:19 -0500 (Thu, 21 Mar 2002) | 2 lines

JDK 1.1 fix - thanks Stefan

------------------------------------------------------------------------
r271944 | conor | 2002-03-21 06:00:30 -0500 (Thu, 21 Mar 2002) | 2 lines

I knew it was 70 for a reason :-) Need to allow for the end of line bytes

------------------------------------------------------------------------
r271943 | bodewig | 2002-03-21 05:44:19 -0500 (Thu, 21 Mar 2002) | 4 lines

spashscreen task

Submitted by:	Les Hughes <leslie.hughes@rubus.com>

------------------------------------------------------------------------
r271938 | bodewig | 2002-03-21 04:47:35 -0500 (Thu, 21 Mar 2002) | 4 lines

add umask and chmod capability to <ftp>

Submitted by:	Jay van der Meer <jvandermeer2@comcast.net>

------------------------------------------------------------------------
r271934 | bodewig | 2002-03-21 04:17:01 -0500 (Thu, 21 Mar 2002) | 4 lines

enable <javac>'s source attribute for jikes as well.

PR: 7002

------------------------------------------------------------------------
r271931 | bodewig | 2002-03-21 03:48:18 -0500 (Thu, 21 Mar 2002) | 7 lines

new task vsscreate.

undocumented and as tested as all the other vss tasks.

PR: 7153
Submitted by:	Gary S. Weaver <Gary_Weaver@srspos.com>

------------------------------------------------------------------------
r271930 | bodewig | 2002-03-21 03:33:56 -0500 (Thu, 21 Mar 2002) | 8 lines

additional vss tasks (add and cp).

not really tested, but they look the same as all the other vss tasks
that went in untested 8-)

PR: 7153
Submitted by:	Nigel Magnay <Nigel.Magnay@Parsec.co.uk>

------------------------------------------------------------------------
r271929 | bodewig | 2002-03-21 03:19:07 -0500 (Thu, 21 Mar 2002) | 5 lines

Make detection system for java|javac|javadoc fallback to *.exe instead
of * on dos based systems.

PR: 7117

------------------------------------------------------------------------
r271928 | bodewig | 2002-03-21 03:09:19 -0500 (Thu, 21 Mar 2002) | 4 lines

make sure files get closed during copy.

PR: 7302

------------------------------------------------------------------------
r271923 | conor | 2002-03-20 08:47:05 -0500 (Wed, 20 Mar 2002) | 2 lines

Better handling of malformed desscriptor names

------------------------------------------------------------------------
r271922 | conor | 2002-03-20 08:37:05 -0500 (Wed, 20 Mar 2002) | 3 lines

Fix for directory based naming when descriptor in root of descriptor dir
PR:	4822

------------------------------------------------------------------------
r271920 | conor | 2002-03-20 07:23:42 -0500 (Wed, 20 Mar 2002) | 5 lines

Don't rewrite the manifest if it hasn't changed.

PR:	7045
Submitted by:	j_a_fernandez@yahoo.com (Jose Alberto Fernandez)

------------------------------------------------------------------------
r271919 | conor | 2002-03-20 07:11:57 -0500 (Wed, 20 Mar 2002) | 2 lines

Retain order of sections and attributes in manifests.

------------------------------------------------------------------------
r271916 | stevel | 2002-03-20 01:42:03 -0500 (Wed, 20 Mar 2002) | 2 lines

some comment cleanup/addition and factored out a test into a standalone assertion

------------------------------------------------------------------------
r271915 | stevel | 2002-03-20 01:36:32 -0500 (Wed, 20 Mar 2002) | 3 lines

one more test;
just to show what we have today is not that consistent

------------------------------------------------------------------------
r271909 | holtdl | 2002-03-19 21:56:57 -0500 (Tue, 19 Mar 2002) | 6 lines

Drat! -- caught by the 'cp' copyright fiend.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271908 | holtdl | 2002-03-19 21:48:15 -0500 (Tue, 19 Mar 2002) | 6 lines

Finally add the new <basename> and <dirname> tasks. (yay!)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271906 | conor | 2002-03-19 19:06:18 -0500 (Tue, 19 Mar 2002) | 2 lines

Increase max length to 72

------------------------------------------------------------------------
r271904 | ehatcher | 2002-03-19 18:18:03 -0500 (Tue, 19 Mar 2002) | 2 lines

Fix typo.  Patch sent by Daniel Rall.

------------------------------------------------------------------------
r271903 | umagesh | 2002-03-19 17:45:06 -0500 (Tue, 19 Mar 2002) | 5 lines

New attribute - ignoreSstemClasses - added to <available>.

PR: 6031
Submitted by: peterj@liberate.com (Peter Janes)

------------------------------------------------------------------------
r271902 | holtdl | 2002-03-19 17:21:34 -0500 (Tue, 19 Mar 2002) | 6 lines

Change the failed message to something (hopefully) a bit more clear.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271896 | bodewig | 2002-03-19 02:02:12 -0500 (Tue, 19 Mar 2002) | 2 lines

2002

------------------------------------------------------------------------
r271895 | stevel | 2002-03-19 01:30:52 -0500 (Tue, 19 Mar 2002) | 2 lines

no code changes, only comments to make sense of what is going on

------------------------------------------------------------------------
r271894 | stevel | 2002-03-19 01:19:59 -0500 (Tue, 19 Mar 2002) | 2 lines

set properties in nested strings. not tested.

------------------------------------------------------------------------
r271891 | umagesh | 2002-03-18 15:52:40 -0500 (Mon, 18 Mar 2002) | 2 lines

Pass the ManifestException to BuildException

------------------------------------------------------------------------
r271885 | conor | 2002-03-17 21:44:31 -0500 (Sun, 17 Mar 2002) | 5 lines

Ah! cruel ones, leave me alone now
While I murmur a little and ponder

Anti-Spam

------------------------------------------------------------------------
r271860 | umagesh | 2002-03-15 21:57:11 -0500 (Fri, 15 Mar 2002) | 2 lines

Remove unnecessary imports to make bootstrap work.

------------------------------------------------------------------------
r271857 | bodewig | 2002-03-15 11:21:19 -0500 (Fri, 15 Mar 2002) | 2 lines

2002

------------------------------------------------------------------------
r271856 | conor | 2002-03-15 09:15:53 -0500 (Fri, 15 Mar 2002) | 6 lines

Refactor dependency analysis.
Add a DependencyAnalyzer interface
Currently supports BCEL based analyzers
Refactor ejbjar not to require BCEL to run.
More to come ...

------------------------------------------------------------------------
r271855 | conor | 2002-03-15 09:04:35 -0500 (Fri, 15 Mar 2002) | 2 lines

Cleanup of style

------------------------------------------------------------------------
r271851 | bodewig | 2002-03-15 02:17:32 -0500 (Fri, 15 Mar 2002) | 2 lines

add license

------------------------------------------------------------------------
r271850 | donaldp | 2002-03-15 00:56:14 -0500 (Fri, 15 Mar 2002) | 2 lines

Make the encodings ascii to help us poor linux schmucks who got a crappy range of fonts.

------------------------------------------------------------------------
r271847 | umagesh | 2002-03-14 21:36:33 -0500 (Thu, 14 Mar 2002) | 9 lines

No more deprecated warnings for aliased attributes of oft-used zip, jar, war and ear tasks.

Conor, Costin and I voted +1
Stefan voted +0

However, there is *no* guarantee that all these aliases will stay for Ant2.  DestFile is currently the most promising attribute name to be carried over to Ant2.

I have left the @deprecated tags in there and haven't touched javadoc also.

------------------------------------------------------------------------
r271846 | umagesh | 2002-03-14 20:15:25 -0500 (Thu, 14 Mar 2002) | 2 lines

Check for possible null message and/or null stream.

------------------------------------------------------------------------
r271844 | donaldp | 2002-03-14 19:12:47 -0500 (Thu, 14 Mar 2002) | 4 lines

Added reporting xslt sheet for checkstyle and removed some cruft from jdepend stylesheet.

Submitted by: "Ingmar J Stein" <stein@xtramind.com>

------------------------------------------------------------------------
r271843 | stevel | 2002-03-14 02:19:59 -0500 (Thu, 14 Mar 2002) | 10 lines

-renamed CompilerAdapter to JspCompilerAdapter
-added a method to this to get a JspMangler
-added a boolean method which returns true if the compiler handles its own dependency checking
-jspc doesnt do dependency work if this test returns true for its compiler
-jspc uses the supplied mangler if it does need to do dependency checking
-jspc should use package names too, but this aint tested yet
-jspc caches the list of generated files and deletes any zero byte length ones after a build (failures)
-jspc also assumes that a zero byte java file was an error when deciding when to compile files
-jasperc gets jasper to return 9 on an error, catches and throws this as a buildException

------------------------------------------------------------------------
r271837 | bodewig | 2002-03-13 04:06:01 -0500 (Wed, 13 Mar 2002) | 2 lines

2002

------------------------------------------------------------------------
r271834 | conor | 2002-03-12 18:08:06 -0500 (Tue, 12 Mar 2002) | 2 lines

Fix up context class loader setting with regard to build.sysclasspath

------------------------------------------------------------------------
r271824 | sbailliez | 2002-03-12 04:11:59 -0500 (Tue, 12 Mar 2002) | 2 lines

Enhance lookup path so that it works automagically with 1.x and 2.x versions...

------------------------------------------------------------------------
r271819 | conor | 2002-03-11 08:01:48 -0500 (Mon, 11 Mar 2002) | 2 lines

Cleanup of ProjectHelper bits - many to go.

------------------------------------------------------------------------
r271818 | conor | 2002-03-11 08:01:05 -0500 (Mon, 11 Mar 2002) | 2 lines

Minor style fixup

------------------------------------------------------------------------
r271816 | conor | 2002-03-11 06:54:09 -0500 (Mon, 11 Mar 2002) | 2 lines

JDK 1.4 compatability

------------------------------------------------------------------------
r271815 | conor | 2002-03-11 06:53:29 -0500 (Mon, 11 Mar 2002) | 3 lines

When Available checks for a class make sure the class can actually be
used and not just loaded.

------------------------------------------------------------------------
r271814 | bodewig | 2002-03-11 05:17:23 -0500 (Mon, 11 Mar 2002) | 4 lines

JDK 1.1 fixes, second half.

Thanks Conor 8-)

------------------------------------------------------------------------
r271813 | conor | 2002-03-11 04:40:21 -0500 (Mon, 11 Mar 2002) | 5 lines

Restore 1.1 operation
Refactor context class loader methods into a utility class
Add URL method to FileUtils (still need to pick that up in Project)
Rename xcatalog to XMLCatalog

------------------------------------------------------------------------
r271811 | bodewig | 2002-03-11 02:23:34 -0500 (Mon, 11 Mar 2002) | 4 lines

JDK 1.1 fixes

incomplete in the case of XCatalog, I'll follow up on this.

------------------------------------------------------------------------
r271807 | stevel | 2002-03-10 23:41:21 -0500 (Sun, 10 Mar 2002) | 2 lines

silly me, I forgot to check this in

------------------------------------------------------------------------
r271798 | umagesh | 2002-03-08 20:13:12 -0500 (Fri, 08 Mar 2002) | 2 lines

Use assertEquals instead of explicit check/fail combo.

------------------------------------------------------------------------
r271796 | bodewig | 2002-03-08 06:16:14 -0500 (Fri, 08 Mar 2002) | 3 lines

give conext classloaders in <junit> another try, catch Xalan errors in
TraxLiaisonTest.

------------------------------------------------------------------------
r271795 | stevel | 2002-03-08 03:40:39 -0500 (Fri, 08 Mar 2002) | 2 lines

reworking of jspc in order to get it into shape. Added name mangling support in dependency checking, jasperc is running in separate process so that exec failure should be caught; classpath param can set path to jasper too

------------------------------------------------------------------------
r271794 | stevel | 2002-03-08 03:34:53 -0500 (Fri, 08 Mar 2002) | 2 lines

two new tests

------------------------------------------------------------------------
r271791 | bodewig | 2002-03-08 03:20:15 -0500 (Fri, 08 Mar 2002) | 2 lines

give credit to Jeff for his NetWare patches.

------------------------------------------------------------------------
r271790 | umagesh | 2002-03-07 21:02:20 -0500 (Thu, 07 Mar 2002) | 2 lines

Testcase for LoadProperties inclusive of testcases for a few filter readers as well.

------------------------------------------------------------------------
r271789 | umagesh | 2002-03-07 14:42:30 -0500 (Thu, 07 Mar 2002) | 2 lines

Fix StripJavaComments such that it strips out java comments properly.  Testcase added.

------------------------------------------------------------------------
r271788 | umagesh | 2002-03-07 13:30:17 -0500 (Thu, 07 Mar 2002) | 2 lines

Redo comment filtering logic.  The previous one was buggy.  I will add a testcase this evening.

------------------------------------------------------------------------
r271787 | bodewig | 2002-03-07 11:10:40 -0500 (Thu, 07 Mar 2002) | 4 lines

commit the rest of Jeff Tulley's patches for Novell NetWare.

Submitted by:	Jeff Tulley <JTULLEY@novell.com>

------------------------------------------------------------------------
r271781 | costin | 2002-03-06 11:37:58 -0500 (Wed, 06 Mar 2002) | 6 lines

The project helper impl - all the private methods that used to be in ProjectHelper.

I only did a small refactoring to change inner classes to static inner classes
and pass explicitely the parameters. This improve the compatibility with jikes,
gcj and possibly other compilers, and is ( IMHO ) cleaner.

------------------------------------------------------------------------
r271780 | costin | 2002-03-06 11:36:12 -0500 (Wed, 06 Mar 2002) | 9 lines

Since nobody objects, this is the 'project helper modularization' commit.

The default is ProjectHelperImpl, which have the original ( SAX1 ) implementation.

Most of the XML-related code has been removed, the only remaining problem
is the AttributeList that is passed to the introspection helper ( which is
XML and SAX1 specific ). It's easy to pass this by using a AttributeListImpl,
and hopefully the introspection helper will be made less SAX1-specific someday.

------------------------------------------------------------------------
r271779 | umagesh | 2002-03-06 09:29:18 -0500 (Wed, 06 Mar 2002) | 2 lines

Redo previous ant.task changes that I had inadvertently not merged.

------------------------------------------------------------------------
r271762 | conor | 2002-03-06 03:31:42 -0500 (Wed, 06 Mar 2002) | 3 lines

Add author tags
Fix up missing Javadoc params

------------------------------------------------------------------------
r271759 | umagesh | 2002-03-05 22:25:51 -0500 (Tue, 05 Mar 2002) | 2 lines

Promote Filter Reader proposal to main trunk.

------------------------------------------------------------------------
r271758 | conor | 2002-03-05 18:31:36 -0500 (Tue, 05 Mar 2002) | 2 lines

Minor style fixes for Task class

------------------------------------------------------------------------
r271754 | jskeet | 2002-03-05 10:53:16 -0500 (Tue, 05 Mar 2002) | 2 lines

Expanded JavaDoc comments on variable names.

------------------------------------------------------------------------
r271753 | conor | 2002-03-05 10:45:28 -0500 (Tue, 05 Mar 2002) | 2 lines

Cleanup of Main.java

------------------------------------------------------------------------
r271750 | jskeet | 2002-03-05 09:39:05 -0500 (Tue, 05 Mar 2002) | 2 lines

Fixed up the fix-up to obey "Must not be null" etc style.

------------------------------------------------------------------------
r271748 | umagesh | 2002-03-05 09:27:09 -0500 (Tue, 05 Mar 2002) | 5 lines

Check for Null.

PR: 6871
Submitted by: Brian Deitte <bdeitte@macromedia.com>

------------------------------------------------------------------------
r271747 | conor | 2002-03-05 09:21:36 -0500 (Tue, 05 Mar 2002) | 2 lines

Fix up errors in Project format and javadoc picked up with checkstyle

------------------------------------------------------------------------
r271745 | conor | 2002-03-05 08:49:47 -0500 (Tue, 05 Mar 2002) | 8 lines

New datatype - xcatalog - used to store information about locally available
XML DTDs. This allows such info to be shared among a number of different
tasks such as XMLValidate, ejbjar, style, etc.

Also checkstyle cleanup of the affected files.

Submitted by:	dIon Gillard <dion@multitask.com.au>

------------------------------------------------------------------------
r271733 | ehatcher | 2002-03-04 22:28:31 -0500 (Mon, 04 Mar 2002) | 2 lines

A few additions special case additions to the xdocs proposal generation

------------------------------------------------------------------------
r271723 | bodewig | 2002-03-04 10:52:54 -0500 (Mon, 04 Mar 2002) | 2 lines

remove redundant attribute.

------------------------------------------------------------------------
r271721 | conor | 2002-03-04 08:12:48 -0500 (Mon, 04 Mar 2002) | 2 lines

Fix minor typo

------------------------------------------------------------------------
r271720 | bodewig | 2002-03-04 03:49:35 -0500 (Mon, 04 Mar 2002) | 2 lines

The always entertaining 2002 patch of the morning.

------------------------------------------------------------------------
r271718 | jskeet | 2002-03-04 03:38:09 -0500 (Mon, 04 Mar 2002) | 2 lines

Reapplied previous JavaDoc patch.

------------------------------------------------------------------------
r271709 | jskeet | 2002-03-03 05:06:30 -0500 (Sun, 03 Mar 2002) | 2 lines

Answered my own previous question concerning thread safety.

------------------------------------------------------------------------
r271698 | umagesh | 2002-03-03 01:52:07 -0500 (Sun, 03 Mar 2002) | 19 lines

Zip task

duplicate (attribute): behavior when a duplicate file is found.  Valid values are add, preserve, and fail. The default value is add.

zipgroupfileset (nested fileset): allows for multiple zip files to be merged into the archive. Each file found in this fileset is added to the archive the same way that "zipfileset src" files are added.


Jar task

duplicate/zipgroupfileset: same as in Zip task

filesetmanifest (attribute): behavior when a Manifest is found in a zipfileset or zipgroupfileset file is found.  Valid values are skip, merge, and mergewithoutmain.  mergewill merge all of manifests together, and merge this into any other specified manifests  mergewithoutmain merges everything but the Main section of the manifests.  Default value is skip

manifest (existing attribute): this attribute now also accepts the name of a jar added through a fileset.  If its the name of an added jar, the task expects the manifest to be in the jar at META-INF/Manifest.mf

Submitted by: Brian Deitte <bdeitte@macromedia.com>

PR: 5667, 5036

------------------------------------------------------------------------
r271685 | ehatcher | 2002-03-02 21:30:50 -0500 (Sat, 02 Mar 2002) | 2 lines

fixed mapping typo

------------------------------------------------------------------------
r271678 | ehatcher | 2002-03-02 20:46:23 -0500 (Sat, 02 Mar 2002) | 4 lines

Changing "ant:task" to "ant.task" to avoid JDK 1.4 javadoc warnings (XDoclet has been modified to handle this separator too).

Updating the majority of the rest of the tasks with the XDoclet tags.  The generated defaults.properties is *almost* the same as the current hand maintained one!

------------------------------------------------------------------------
r271677 | ehatcher | 2002-03-02 20:37:36 -0500 (Sat, 02 Mar 2002) | 2 lines

Long since "deprecated" in the execute method.  Any reason not to mark the entire class as deprecated?

------------------------------------------------------------------------
r271676 | umagesh | 2002-03-02 20:33:19 -0500 (Sat, 02 Mar 2002) | 2 lines

2000-2002 -> 2002

------------------------------------------------------------------------
r271675 | umagesh | 2002-03-02 20:30:04 -0500 (Sat, 02 Mar 2002) | 4 lines

1. Fix bug where <move> ignored <filterset>s.
2. Add filterset based test to CopyTest.
3. Add MoveTest.

------------------------------------------------------------------------
r271645 | stevel | 2002-03-01 19:21:17 -0500 (Fri, 01 Mar 2002) | 2 lines

attack of the tab police

------------------------------------------------------------------------
r271644 | stevel | 2002-03-01 18:43:31 -0500 (Fri, 01 Mar 2002) | 2 lines

tuned timing in assertions

------------------------------------------------------------------------
r271643 | stevel | 2002-03-01 18:31:50 -0500 (Fri, 01 Mar 2002) | 2 lines

new log message; bugzilla ID 6575

------------------------------------------------------------------------
r271641 | jskeet | 2002-03-01 11:29:15 -0500 (Fri, 01 Mar 2002) | 2 lines

JavaDoc changes.

------------------------------------------------------------------------
r271640 | jskeet | 2002-03-01 11:28:43 -0500 (Fri, 01 Mar 2002) | 3 lines

JavaDoc changes, and raised a potential multithreading issue. Search
for XXX to see details.

------------------------------------------------------------------------
r271639 | jskeet | 2002-03-01 10:54:53 -0500 (Fri, 01 Mar 2002) | 13 lines

JavaDoc comments and a couple of code changes.

Code changes:
Removed an unneeded nullity test null instanceof Foo is always false.
Changed replaceChild(UnknownElement, Object) with two methods:
replaceChild(UnknownElement,Task) and
replaceChild(UnknownElement,RuntimeConfigurable) to make it
absolutely clear that you can't just replace the children with random
elements.

I must admit I'm still far from entirely clear exactly how 
UnknownElement works. It probably counts as black magic...

------------------------------------------------------------------------
r271638 | jskeet | 2002-03-01 09:47:56 -0500 (Fri, 01 Mar 2002) | 6 lines

JavaDoc comments.

Note: maybeConfigure implies that calling it twice will have no effect. 
I have a suspicion that children would be added twice. Search for XXX 
to find the details.

------------------------------------------------------------------------
r271625 | bodewig | 2002-03-01 03:45:53 -0500 (Fri, 01 Mar 2002) | 4 lines

Netware support in Ant's path tokenizer code.

Submitted by:	Jeff Tulley <JTULLEY@novell.com>

------------------------------------------------------------------------
r271604 | jskeet | 2002-02-28 10:23:38 -0500 (Thu, 28 Feb 2002) | 5 lines

JavaDoc comments.

Also added a query about the use/otherwise of wrappers when
it comes to adding text - search for XXX to find the details

------------------------------------------------------------------------
r271603 | bodewig | 2002-02-28 07:39:58 -0500 (Thu, 28 Feb 2002) | 3 lines

Now that we know why the test worked all these month, make it work
again, this time documenting the reason.

------------------------------------------------------------------------
r271600 | bodewig | 2002-02-28 02:43:10 -0500 (Thu, 28 Feb 2002) | 5 lines

disable test case that could have never passed (but strangely did for
several months).

Oh, yes, in case I haven't said so yet: Happy new year everybody.

------------------------------------------------------------------------
r271592 | holtdl | 2002-02-27 19:01:05 -0500 (Wed, 27 Feb 2002) | 6 lines

Make the return code match the naughty exit.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271591 | holtdl | 2002-02-27 18:45:33 -0500 (Wed, 27 Feb 2002) | 7 lines

Add new 'listfiles' attribute to allow for listing the source files being
handed off to the compiler.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271582 | ehatcher | 2002-02-27 15:36:13 -0500 (Wed, 27 Feb 2002) | 4 lines

XDoclet fun!

These are harmless Javadoc comment additions for use with the proposal/xdocs runs.

------------------------------------------------------------------------
r271579 | bodewig | 2002-02-27 11:36:39 -0500 (Wed, 27 Feb 2002) | 2 lines

clean up at the end of execute so that this instance can be reused.

------------------------------------------------------------------------
r271575 | bodewig | 2002-02-27 05:54:18 -0500 (Wed, 27 Feb 2002) | 4 lines

assert that gzip's new uptodate check also affects bzip2.

2002

------------------------------------------------------------------------
r271574 | jskeet | 2002-02-27 04:26:31 -0500 (Wed, 27 Feb 2002) | 2 lines

Temporary zip files used for update weren't being deleted, as doUpdate is reset during cleanUp.

------------------------------------------------------------------------
r271573 | stevel | 2002-02-27 04:02:40 -0500 (Wed, 27 Feb 2002) | 3 lines

time checking on gzip, with tests.
submitted by Jeff Martin <jeff@custommonkey.org>

------------------------------------------------------------------------
r271571 | ehatcher | 2002-02-27 00:30:00 -0500 (Wed, 27 Feb 2002) | 4 lines

Simple harmless change to demonstrate the xdocs proposal.  Sorry, Jon, if this causes javadoc warnings.

Many other tasks have been modified similarly (only ones with different task names than classnames have the name="...") - but only committing this one until full approval.

------------------------------------------------------------------------
r271564 | bodewig | 2002-02-26 11:39:37 -0500 (Tue, 26 Feb 2002) | 7 lines

<style> tried to tranform all children of directories that matched the
include patterns - even children that are themselves directories.

Throw in a check that the thing we want to transform is not a
directory and an attribute to avoid this non-standard (among directory
based tasks) behavior.

------------------------------------------------------------------------
r271563 | jskeet | 2002-02-26 10:25:15 -0500 (Tue, 26 Feb 2002) | 7 lines

Fixed problem which gave (on Windows) output such as:

[java] First line of real output
[java]
[java] Second line of real output
[java]

------------------------------------------------------------------------
r271561 | jskeet | 2002-02-26 07:42:32 -0500 (Tue, 26 Feb 2002) | 3 lines

Invalid scope parameters now throw exceptions. 
Repeated scope elements generate verbose messages.

------------------------------------------------------------------------
r271560 | conor | 2002-02-26 07:16:09 -0500 (Tue, 26 Feb 2002) | 2 lines

Make message about dropped classpath elements verbose instead of a warning.

------------------------------------------------------------------------
r271555 | jskeet | 2002-02-26 05:17:31 -0500 (Tue, 26 Feb 2002) | 2 lines

Put @todo tags back in now that there's support for them.

------------------------------------------------------------------------
r271554 | bodewig | 2002-02-26 05:11:19 -0500 (Tue, 26 Feb 2002) | 2 lines

Add an attribute to avoid <junit>'s classpath magic.

------------------------------------------------------------------------
r271553 | jskeet | 2002-02-26 05:00:16 -0500 (Tue, 26 Feb 2002) | 2 lines

Added support for the -tag option in JavaDoc 1.4

------------------------------------------------------------------------
r271551 | bodewig | 2002-02-26 03:57:39 -0500 (Tue, 26 Feb 2002) | 2 lines

grmbl

------------------------------------------------------------------------
r271550 | bodewig | 2002-02-26 03:47:41 -0500 (Tue, 26 Feb 2002) | 2 lines

committing the shell script that has replaced "cvs update -dP" for me.

------------------------------------------------------------------------
r271549 | sbailliez | 2002-02-25 15:01:15 -0500 (Mon, 25 Feb 2002) | 4 lines

GUMP Experiment.
As Stefan noted, the context classloader is probably causing trouble with JAXP.
Disabled for now just to see the result of the next run.

------------------------------------------------------------------------
r271548 | jskeet | 2002-02-25 12:59:09 -0500 (Mon, 25 Feb 2002) | 2 lines

JavaDoc comments.

------------------------------------------------------------------------
r271547 | bodewig | 2002-02-25 12:38:18 -0500 (Mon, 25 Feb 2002) | 2 lines

2002, 2002, 2002, 2002

------------------------------------------------------------------------
r271545 | jskeet | 2002-02-25 10:33:20 -0500 (Mon, 25 Feb 2002) | 5 lines

First pass of JavaDoc work just to get rid of warnings.
When this is complete, whole source tree should JavaDoc (with 1.4)
with no warnings. (With JDK1.3.1 the 1.4-regexp stuff generates
warnings, but that's all.)

------------------------------------------------------------------------
r271544 | jskeet | 2002-02-25 10:21:57 -0500 (Mon, 25 Feb 2002) | 5 lines

First pass of JavaDoc work just to get rid of warnings.
When this is complete, whole source tree should JavaDoc (with 1.4)
with no warnings. (With JDK1.3.1 the 1.4-regexp stuff generates
warnings, but that's all.)

------------------------------------------------------------------------
r271543 | jskeet | 2002-02-25 10:10:27 -0500 (Mon, 25 Feb 2002) | 5 lines

First pass of JavaDoc work just to get rid of warnings.
When this is complete, whole source tree should JavaDoc (with 1.4)
with no warnings. (With JDK1.3.1 the 1.4-regexp stuff generates
warnings, but that's all.)

------------------------------------------------------------------------
r271540 | bodewig | 2002-02-25 06:03:40 -0500 (Mon, 25 Feb 2002) | 7 lines

Add encoding attribute to copy/move so that filtered operations work
on encodings different than the platform's default as well.

PR: Christopher Taylor <cstaylor@nanshu.com>

some year 2002 fixes.

------------------------------------------------------------------------
r271537 | jskeet | 2002-02-25 03:27:26 -0500 (Mon, 25 Feb 2002) | 2 lines

Removed redundant static method which caused compilation failure.

------------------------------------------------------------------------
r271536 | conor | 2002-02-24 23:33:25 -0500 (Sun, 24 Feb 2002) | 2 lines

Make ParallelTest work on Windows

------------------------------------------------------------------------
r271534 | sbailliez | 2002-02-24 09:45:14 -0500 (Sun, 24 Feb 2002) | 2 lines

Message has been changed from "default constructor" to "no-arg constructor" in Project.

------------------------------------------------------------------------
r271533 | jskeet | 2002-02-24 03:57:02 -0500 (Sun, 24 Feb 2002) | 2 lines

JavaDoc comments.

------------------------------------------------------------------------
r271532 | jskeet | 2002-02-24 03:56:14 -0500 (Sun, 24 Feb 2002) | 4 lines

JavaDoc comments.

Note that the comments for setProject say that only Project should use this method - whereas there are *lots* of uses outside Project...

------------------------------------------------------------------------
r271531 | jskeet | 2002-02-24 03:54:15 -0500 (Sun, 24 Feb 2002) | 4 lines

JavaDoc comments.

Also changed message containing "default constructor" to "no-arg constructor" in checkTaskClass.

------------------------------------------------------------------------
r271519 | ehatcher | 2002-02-23 15:42:14 -0500 (Sat, 23 Feb 2002) | 2 lines

Added 'prefix' option to <property>. Designed to only work when loading a property file or resource.

------------------------------------------------------------------------
r271517 | stevel | 2002-02-23 04:37:30 -0500 (Sat, 23 Feb 2002) | 2 lines

added logging of build file/target in verbose mode; surprised it wasnt there already.

------------------------------------------------------------------------
r271511 | bodewig | 2002-02-22 08:33:58 -0500 (Fri, 22 Feb 2002) | 2 lines

jdk 1.1 compatibility

------------------------------------------------------------------------
r271510 | conor | 2002-02-22 08:01:59 -0500 (Fri, 22 Feb 2002) | 6 lines

Do not require tar files to be in ustar format. Old V7 format should now
be handled. The main difference is in the handling of uid vs uname which
isn't that relevant to Ant anyhow.

PR:	6634

------------------------------------------------------------------------
r271508 | bodewig | 2002-02-22 04:20:34 -0500 (Fri, 22 Feb 2002) | 2 lines

year 2002 squad at work.

------------------------------------------------------------------------
r271507 | stevel | 2002-02-22 03:29:37 -0500 (Fri, 22 Feb 2002) | 2 lines

Utility task to list all your current properties along with unit tests, as written by Matt Albrecht . Added a prefix to save a subset of the properties for the very silly. Left it in optional.jar although it has no dependencies.

------------------------------------------------------------------------
r271503 | ehatcher | 2002-02-21 20:53:36 -0500 (Thu, 21 Feb 2002) | 12 lines

Here goes: propertyfile refactoring to hopefully fix all outstanding issues with it. "now" and "never" were removed as operations (didn't make sense). "never" was removed as a value (it caused a null pointer exception anyway).

Other code cleanup (axing "m_" prefixes).

Added "unit" attribute to <entry> defaulting to DAY. This was essentially the previous default, but it was far too confusing.

Test cases beefed up to consider several scenarios.

There may be more changes needed to satisfy other use cases, and certainly some previous (undocumented) behavior has been changed (for the better!).

Is there a use-case for "never" as a value?

------------------------------------------------------------------------
r271502 | bodewig | 2002-02-21 11:52:08 -0500 (Thu, 21 Feb 2002) | 4 lines

Add pointer to TIM

Submitted by:	Mark Griffiths <mark@chive.com>

------------------------------------------------------------------------
r271501 | conor | 2002-02-21 10:38:16 -0500 (Thu, 21 Feb 2002) | 10 lines

Tests and fixes for the DemuxOutputStream
1. New tests for the DemuxOutputStream and parallel task
2. Fix for the DemuxOutputStream thread problem identified by Jon Skeet
3. Found additional bug where UnknownElement does not hand output and error
strings onto the real task

A little bit of checkstyling.

Hmmm, really should be in bed.

------------------------------------------------------------------------
r271491 | bodewig | 2002-02-21 05:00:17 -0500 (Thu, 21 Feb 2002) | 12 lines

<path> is not a task but a data type - and all data types can be used
outside of targets.

<typedef> is another task that may be used outside of targets.

I "fixed" that by replacing path with typedef in Steve's text, but we
really should talk about data types here as well - unfortunatley we
don't talk about data types in the manual at all, so it takes a bigger
effort.

Some year 2002 bugs.

------------------------------------------------------------------------
r271463 | stevel | 2002-02-21 02:08:11 -0500 (Thu, 21 Feb 2002) | 2 lines

bug Id 6601; deprecation warning.

------------------------------------------------------------------------
r271456 | bodewig | 2002-02-20 11:48:00 -0500 (Wed, 20 Feb 2002) | 6 lines

fix boundary checking problem similiar to the one fixed for bug report 4290

Actually this wouldn't throw an ArrayIndexOutOuBounds- but a
BuildException as FileList.getFiles barfs out on empty lists, but that
way it is more consistent.

------------------------------------------------------------------------
r271455 | bodewig | 2002-02-20 11:32:21 -0500 (Wed, 20 Feb 2002) | 8 lines

optimize dependset by not comparing each target with each source but
only the oldest target.

Submitted by:	mrezaei@starpoint.com

I've also swapped the order of handling sourcefilesets and
sourcefilelists as filelists are a lot less expensive than filesets.

------------------------------------------------------------------------
r271454 | bodewig | 2002-02-20 09:54:28 -0500 (Wed, 20 Feb 2002) | 4 lines

@exception -> @throws

Submitted by:	Jon Skeet <jon.skeet@peramon.com>

------------------------------------------------------------------------
r271452 | bodewig | 2002-02-20 07:35:42 -0500 (Wed, 20 Feb 2002) | 4 lines

Switch CLASSPATH back to Windows format in Cygwin.

Submitted by:	Jeppe N. Madsen <jeppenm@worldonline.dk>

------------------------------------------------------------------------
r271451 | bodewig | 2002-02-20 07:22:37 -0500 (Wed, 20 Feb 2002) | 5 lines

move method refactoring - applied in a way that keeps
IntrospectionHelper's API backwards compatible.

Inspired by:	Jon Skeet <jon.skeet@peramon.com>

------------------------------------------------------------------------
r271450 | bodewig | 2002-02-20 06:53:55 -0500 (Wed, 20 Feb 2002) | 6 lines

simplify createAttributeSetter method.

Submitted by:	Jon Skeet <jon.skeet@peramon.com>

Throw in some additional tests.

------------------------------------------------------------------------
r271447 | bodewig | 2002-02-20 05:03:42 -0500 (Wed, 20 Feb 2002) | 4 lines

improve javadoc

Submitted by:	Jon Skeet <jon.skeet@peramon.com>

------------------------------------------------------------------------
r271446 | bodewig | 2002-02-20 04:42:57 -0500 (Wed, 20 Feb 2002) | 2 lines

superflous line that wasn't meant to go into CVS

------------------------------------------------------------------------
r271444 | bodewig | 2002-02-20 03:36:27 -0500 (Wed, 20 Feb 2002) | 4 lines

Add a new <contains> condition that looks for substrings.

Names are open to discussion, of course.

------------------------------------------------------------------------
r271442 | bodewig | 2002-02-20 02:16:25 -0500 (Wed, 20 Feb 2002) | 2 lines

dreaded year 2002 bug 8-)

------------------------------------------------------------------------
r271434 | sbailliez | 2002-02-19 17:36:37 -0500 (Tue, 19 Feb 2002) | 2 lines

Testcase for PR 5006. Make sure to set the context classloader.

------------------------------------------------------------------------
r271433 | sbailliez | 2002-02-19 17:34:02 -0500 (Tue, 19 Feb 2002) | 4 lines

Make sure to set the context classloader to the AntClassLoader.
PR: 5006
Submitted by: mancarella@opoipi.bancaintesa.it (Stefano Mancarella)

------------------------------------------------------------------------
r271432 | sbailliez | 2002-02-19 16:56:33 -0500 (Tue, 19 Feb 2002) | 3 lines

Remove useless modifiers on interfaces.
Submitted by: Mariusz Nowostawski (mariusz@marni.otago.ac.nz)

------------------------------------------------------------------------
r271431 | bodewig | 2002-02-19 12:29:32 -0500 (Tue, 19 Feb 2002) | 14 lines

Fix problems in Linux version of <cab>:

(1) it wouldn't use the basedir

(2) all diagnostic messages have been swallowed

Submitted by:	Ilya A. Kriveshko <ilya@kaon.com>

Note that this patch needs the magic of Execute but also access to the
processes' standard input - this has been solved by adding a new
static method launch to Execute which hands out the Process instance,
the proper fix would be to handle input for the spawned processes as
well.

------------------------------------------------------------------------
r271430 | bodewig | 2002-02-19 11:48:47 -0500 (Tue, 19 Feb 2002) | 2 lines

<regularexpression> --> <regexp>

------------------------------------------------------------------------
r271429 | bodewig | 2002-02-19 11:17:25 -0500 (Tue, 19 Feb 2002) | 7 lines

Better handling of tasks that are wrapped in TaskAdapters - unwrap
InvocationTargetExceptions when they happen

PR: 5830

To test it I've enabled all tests for <condition>.

------------------------------------------------------------------------
r271427 | conor | 2002-02-19 10:12:05 -0500 (Tue, 19 Feb 2002) | 6 lines

Remove Unused import
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271425 | bodewig | 2002-02-19 08:09:13 -0500 (Tue, 19 Feb 2002) | 5 lines

Ignore redefinition of datatypes if new and old class are the same.

PR: 6514
Submitted by:	Peter Kristensen <pkr@netnord.dk>

------------------------------------------------------------------------
r271424 | donaldp | 2002-02-19 08:01:23 -0500 (Tue, 19 Feb 2002) | 2 lines

Remove excessive deprecation warnings.

------------------------------------------------------------------------
r271423 | bodewig | 2002-02-19 04:03:27 -0500 (Tue, 19 Feb 2002) | 2 lines

fix inconsistency in log levels.

------------------------------------------------------------------------
r271422 | bodewig | 2002-02-19 02:51:12 -0500 (Tue, 19 Feb 2002) | 2 lines

please don't use <zip>'s file attribute

------------------------------------------------------------------------
r271421 | holtdl | 2002-02-18 22:26:30 -0500 (Mon, 18 Feb 2002) | 8 lines

Only use "value" in reference to the 'value' attr; use "oldIntValue" for
the old value from the prop file (0, if none); fix the comments as well.
(Oh right, and fix the damn copyright!)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271420 | holtdl | 2002-02-18 21:52:54 -0500 (Mon, 18 Feb 2002) | 7 lines

Fix the increment/decrement operations so they work whether or not
a 'value' attr was specified. (And fix a tiny spacing nit :)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r271414 | ehatcher | 2002-02-18 13:27:58 -0500 (Mon, 18 Feb 2002) | 2 lines

Applied documentation patches sent by Jon Skeet

------------------------------------------------------------------------
r271413 | donaldp | 2002-02-18 08:35:20 -0500 (Mon, 18 Feb 2002) | 2 lines

Make doclets behave the same way as other ClassPath loaded things in the presence of gump ... or at least thats what I think this patch does ? ;)

------------------------------------------------------------------------
r271369 | bodewig | 2002-02-15 12:08:18 -0500 (Fri, 15 Feb 2002) | 5 lines

Make JDK 1.4 happy by changing assert to assertTrue.

TraxLiaisonTest accesses the protected TraXLiaison.getSystemId method
and therefore has to be loaded via the same classloader as TraxLiaison.

------------------------------------------------------------------------
r271368 | bodewig | 2002-02-15 11:51:10 -0500 (Fri, 15 Feb 2002) | 11 lines

Make tests pass on JDK 1.1.

The change to ProjectTest basically backs out a change I had to make
to Ralf Wiebicke's original submission to make it work on my box three
months ago.  Since then nothing has changed, but my JDK now throws a
different exception than it did back then - go figure.

TimeZone doesn't seem to matter for JDK 1.1, testDateTimeISO fails as
text is "2002-02-23T10:11:12" on my machine.  I ran out of time and
disabled the test, but I promise to check back later. 8-)

------------------------------------------------------------------------
r271367 | bodewig | 2002-02-15 10:19:18 -0500 (Fri, 15 Feb 2002) | 4 lines

Print a warning if we drop elements from a use supplied path.

Avoid exactly that warning in Ant's own build file.

------------------------------------------------------------------------
r271366 | bodewig | 2002-02-15 10:05:41 -0500 (Fri, 15 Feb 2002) | 3 lines

Fix sysproperty handling (testcase fails for old code and passes for
new code).

------------------------------------------------------------------------
r271365 | bodewig | 2002-02-15 09:54:35 -0500 (Fri, 15 Feb 2002) | 2 lines

Add testcase for sysproperty handling.

------------------------------------------------------------------------
r271364 | bodewig | 2002-02-15 08:59:38 -0500 (Fri, 15 Feb 2002) | 4 lines

More JavaDoc documentation fixups.

Submitted by:	Jon Skeet <jon.skeet@peramon.com>

------------------------------------------------------------------------
r271363 | bodewig | 2002-02-15 08:48:49 -0500 (Fri, 15 Feb 2002) | 2 lines

some typos.

------------------------------------------------------------------------
r271362 | bodewig | 2002-02-15 08:42:53 -0500 (Fri, 15 Feb 2002) | 3 lines

Add compiler attribute to <javac> that allows users to override
build.compiler on a task by task basis.

------------------------------------------------------------------------
r271353 | sbailliez | 2002-02-14 18:02:26 -0500 (Thu, 14 Feb 2002) | 2 lines

Quick fix about naming.

------------------------------------------------------------------------
r271352 | umagesh | 2002-02-14 15:50:36 -0500 (Thu, 14 Feb 2002) | 2 lines

Remove unused local variable.

------------------------------------------------------------------------
r271351 | bodewig | 2002-02-14 12:34:19 -0500 (Thu, 14 Feb 2002) | 5 lines

Allow -sourcepath for <javac> to be set explicitly.

PR: 5268
Submitted by:	Alex Rosen <arosen@silverstream.com>

------------------------------------------------------------------------
r271350 | bodewig | 2002-02-14 11:49:39 -0500 (Thu, 14 Feb 2002) | 5 lines

Make Ant work with the AElfred parser which doesn't like to be used
via SAX 1.

Submitted by:	Andreas Voegele <voegelas@studenten.ims.uni-stuttgart.de>

------------------------------------------------------------------------
r271349 | bodewig | 2002-02-14 10:22:44 -0500 (Thu, 14 Feb 2002) | 19 lines

Submitted by:	Jon Skeet <jon.skeet@peramon.com>

Jon's message:

There is one small code change (which may very briefly reduce the
footprint of Ant by about 3K :) and two comments which suggests further
code changes (look for XXX). The rest is, I believe, entirely comments.
I've:

o Made sure that all occurences of null/true/false are surrounded by
<code></code>
o Wrapped comments to under 80 columns (in some ways this is more
important than wrapping code)
o Made sure that all fields and methods have JavaDoc documentation.
o All used method parameters are documented, including documentation of
whether they can be null or not
o All return types are documented
o All checked exceptions are documented

------------------------------------------------------------------------
r271348 | conor | 2002-02-14 08:27:04 -0500 (Thu, 14 Feb 2002) | 4 lines

Handle badly configured tasks created outside of Ant's core

PR:	6309

------------------------------------------------------------------------
r271314 | bodewig | 2002-02-14 04:30:30 -0500 (Thu, 14 Feb 2002) | 3 lines

I took the time to write a simple shell script to audit Copyright
lines, and now it is paying of ;-)

------------------------------------------------------------------------
r271308 | conor | 2002-02-13 19:22:22 -0500 (Wed, 13 Feb 2002) | 2 lines

Improve coverage of manifest unit tests

------------------------------------------------------------------------
r271280 | stevel | 2002-02-10 21:46:44 -0500 (Sun, 10 Feb 2002) | 2 lines

added tests to look at <java's> exception handling.

------------------------------------------------------------------------
r271279 | stevel | 2002-02-10 21:46:26 -0500 (Sun, 10 Feb 2002) | 2 lines

turned off the fatal stuff unless a property is set; added tests to look at <java's> exception handling.

------------------------------------------------------------------------
r271278 | stevel | 2002-02-10 17:31:30 -0500 (Sun, 10 Feb 2002) | 2 lines

java task test cases; reworked to inherit off BuildFileTest

------------------------------------------------------------------------
r271277 | stevel | 2002-02-10 17:30:32 -0500 (Sun, 10 Feb 2002) | 2 lines

java task test build file

------------------------------------------------------------------------
r271272 | sbailliez | 2002-02-10 15:26:43 -0500 (Sun, 10 Feb 2002) | 2 lines

Fix javadoc

------------------------------------------------------------------------
r271255 | stevel | 2002-02-09 18:23:23 -0500 (Sat, 09 Feb 2002) | 2 lines

Adding javadocs for the main methods that testcases are likely to call

------------------------------------------------------------------------
r271247 | sbailliez | 2002-02-09 15:04:22 -0500 (Sat, 09 Feb 2002) | 3 lines

- remove useless object creation
- do not modify formal parameter

------------------------------------------------------------------------
r271246 | sbailliez | 2002-02-09 15:02:59 -0500 (Sat, 09 Feb 2002) | 2 lines

Fix violation

------------------------------------------------------------------------
r271245 | sbailliez | 2002-02-09 15:01:46 -0500 (Sat, 09 Feb 2002) | 2 lines

Fix array declarator

------------------------------------------------------------------------
r271232 | sbailliez | 2002-02-08 20:05:36 -0500 (Fri, 08 Feb 2002) | 2 lines

Access static method via class and not the object

------------------------------------------------------------------------
r271231 | sbailliez | 2002-02-08 19:52:09 -0500 (Fri, 08 Feb 2002) | 3 lines

- Add an helper method to write directly a document
as UTF8 from a stream.

------------------------------------------------------------------------
r271230 | sbailliez | 2002-02-08 19:50:43 -0500 (Fri, 08 Feb 2002) | 2 lines

Easy way to test the Audit parser.

------------------------------------------------------------------------
r271229 | sbailliez | 2002-02-08 19:48:11 -0500 (Fri, 08 Feb 2002) | 2 lines

Missed commit for this one.

------------------------------------------------------------------------
r271228 | sbailliez | 2002-02-08 19:47:43 -0500 (Fri, 08 Feb 2002) | 2 lines

Refactored handler by extracting specialized parser class.

------------------------------------------------------------------------
r271226 | sbailliez | 2002-02-08 17:06:56 -0500 (Fri, 08 Feb 2002) | 9 lines

- Added rulespath to Audit to use customized rules.
- Fix Audit messages to remove fullpath in it. It
won't work on references though.
- Fix MAudit handler to print stderr as well so
that a missing agent or invalid options return
a message.
- Enhance options to reflect those available also
in Webgain QA 2.1.2+

------------------------------------------------------------------------
r271223 | bodewig | 2002-02-08 10:02:17 -0500 (Fri, 08 Feb 2002) | 4 lines

split execute in <javac> to make it easier to extend.

Sugested by:	Misha Dmitriev <Mikhail.Dmitriev@eng.sun.com>

------------------------------------------------------------------------
r271222 | bodewig | 2002-02-08 09:17:24 -0500 (Fri, 08 Feb 2002) | 2 lines

Work around a bug in Kaffe - we can as well label it "optimization" 8-)

------------------------------------------------------------------------
r271218 | sbailliez | 2002-02-07 17:08:33 -0500 (Thu, 07 Feb 2002) | 2 lines

Fixed javadoc

------------------------------------------------------------------------
r271217 | sbailliez | 2002-02-07 17:01:57 -0500 (Thu, 07 Feb 2002) | 2 lines

Fix copyright

------------------------------------------------------------------------
r271216 | sbailliez | 2002-02-07 17:00:33 -0500 (Thu, 07 Feb 2002) | 5 lines

Fix file protocol prefix so that there is no more
and no less than 3 '/' on whatever platform it is running.
PR: 6259
Reported by: sl@ragbildung.de (Sascha Luedecke)

------------------------------------------------------------------------
r271215 | sbailliez | 2002-02-07 15:32:34 -0500 (Thu, 07 Feb 2002) | 2 lines

Fixing unused variable and array declarator

------------------------------------------------------------------------
r271193 | umagesh | 2002-02-06 21:15:47 -0500 (Wed, 06 Feb 2002) | 2 lines

Copyright year fix.

------------------------------------------------------------------------
r271192 | ehatcher | 2002-02-06 18:54:10 -0500 (Wed, 06 Feb 2002) | 4 lines

Applying patch submitted for #6012.

Submitted by: kevin.ross@bredex.com (Kevin Ross)

------------------------------------------------------------------------
r271191 | ehatcher | 2002-02-06 16:47:00 -0500 (Wed, 06 Feb 2002) | 5 lines

Fix for #6288
NullPointerException if no environment variables found

Patch supplied by jimbuuck@netscape.net

------------------------------------------------------------------------
r271190 | sbailliez | 2002-02-06 15:53:14 -0500 (Wed, 06 Feb 2002) | 4 lines

- Fixed JavaScript escaping for properties.
- Added copyright
Submitted by: K.C. Baltz, kbaltz@mail.responsenetworks.com

------------------------------------------------------------------------
r271174 | bodewig | 2002-02-06 06:31:59 -0500 (Wed, 06 Feb 2002) | 2 lines

testcase wouldn't compile - slipping fingers?

------------------------------------------------------------------------
r271169 | umagesh | 2002-02-05 20:26:00 -0500 (Tue, 05 Feb 2002) | 4 lines

Create an ampty message object instead of throwing an exception and be backwards compatible.

Submitted by: Rob Oxpring (roxspring@yahoo.com)

------------------------------------------------------------------------
r271168 | sbailliez | 2002-02-05 20:03:26 -0500 (Tue, 05 Feb 2002) | 3 lines

Layout fix only (IDEA)
- Remove useless imports, clean up multiple one.

------------------------------------------------------------------------
r271167 | adammurdoch | 2002-02-05 19:24:44 -0500 (Tue, 05 Feb 2002) | 2 lines

Made Mailer and sub-classes package private.  Got rid of javadoc warnings (by cheating).

------------------------------------------------------------------------
r271166 | adammurdoch | 2002-02-05 19:22:44 -0500 (Tue, 05 Feb 2002) | 2 lines

Fix the date util tests for where the local timezone isn't GMT+1.

------------------------------------------------------------------------
r271165 | sbailliez | 2002-02-05 18:15:02 -0500 (Tue, 05 Feb 2002) | 2 lines

Fix package name.

------------------------------------------------------------------------
r271164 | sbailliez | 2002-02-05 18:12:34 -0500 (Tue, 05 Feb 2002) | 2 lines

Helper class copied from rjunit sandbox.

------------------------------------------------------------------------
r271163 | sbailliez | 2002-02-05 16:38:25 -0500 (Tue, 05 Feb 2002) | 2 lines

Use refactored elapsed time formatting in DateUtils.

------------------------------------------------------------------------
r271162 | sbailliez | 2002-02-05 16:14:28 -0500 (Tue, 05 Feb 2002) | 3 lines

Helper class to deal with simple ISO8601 time formatting.
Moved elapsed time formatting (minutes/seconds) from DefaultLogger.

------------------------------------------------------------------------
r271157 | bodewig | 2002-02-05 12:10:39 -0500 (Tue, 05 Feb 2002) | 2 lines

make javadoc a little more happy

------------------------------------------------------------------------
r271156 | bodewig | 2002-02-05 11:58:34 -0500 (Tue, 05 Feb 2002) | 2 lines

move NoExitSecurityManager to make Ant bootstrappable on JDK 1.1

------------------------------------------------------------------------
r271155 | bodewig | 2002-02-05 11:13:06 -0500 (Tue, 05 Feb 2002) | 2 lines

remove redundant <antcall>

------------------------------------------------------------------------
r271153 | conor | 2002-02-05 08:51:30 -0500 (Tue, 05 Feb 2002) | 2 lines

Insulate Ant from BCEL interface changes

------------------------------------------------------------------------
r271151 | ehatcher | 2002-02-05 07:06:53 -0500 (Tue, 05 Feb 2002) | 2 lines

change my publicly viewable e-mail address

------------------------------------------------------------------------
r271148 | adammurdoch | 2002-02-05 04:32:48 -0500 (Tue, 05 Feb 2002) | 7 lines

* Added new combined email task, which replaces the old <mail> and
 <mimemail> tasks.

* Deprecated <mimemail> task, and old SendEmail and MimeMail classes.

Submitted by Rob Oxspring <roxspring@yahoo.com>.

------------------------------------------------------------------------
r271146 | stevel | 2002-02-05 03:11:47 -0500 (Tue, 05 Feb 2002) | 4 lines

moved <taskdef> to the end, as per Stefan's suggestion.

I note that now the error is so long that it fills a screen; we could tidy it up some

------------------------------------------------------------------------
r271145 | bodewig | 2002-02-05 03:08:10 -0500 (Tue, 05 Feb 2002) | 2 lines

cvs update -dP -pedantic ;-)

------------------------------------------------------------------------
r271143 | ehatcher | 2002-02-04 19:56:00 -0500 (Mon, 04 Feb 2002) | 4 lines

Fix single-file fileset functionality.  Did this ever work (,Peter)?

XP-style: added test case to detect bug, then fixed it. Also, trying to break out of the mould of the "testN" test case names - too brittle and non-descriptive.

------------------------------------------------------------------------
r271142 | sbailliez | 2002-02-04 18:44:23 -0500 (Mon, 04 Feb 2002) | 3 lines

A framed version of the JDepend stylesheet.
Submitted by: Jeff Tulley  (jtulley@novell.com)

------------------------------------------------------------------------
r271139 | umagesh | 2002-02-04 15:44:16 -0500 (Mon, 04 Feb 2002) | 6 lines

New attributes to tarfileset to allow equivalent of tar -P option

PR: 5874

Submitted by: Stefan Heimann (mail@stefanheimann.net)

------------------------------------------------------------------------
r271138 | bodewig | 2002-02-04 06:03:04 -0500 (Mon, 04 Feb 2002) | 2 lines

Sometimes, all you need is a pedant ;-)

------------------------------------------------------------------------
r271136 | conor | 2002-02-03 23:31:42 -0500 (Sun, 03 Feb 2002) | 5 lines

Change Jar so empty jars are not rebuilt

PR:	6069
Submitted by:	jesse.glick@netbeans.com (Jesse Glick)

------------------------------------------------------------------------
r271134 | umagesh | 2002-02-03 17:23:37 -0500 (Sun, 03 Feb 2002) | 6 lines

Prefix attirubte for tar task

PR: 6054

Submitted by: mail@stefanheimann.net (Stefan Heimann)

------------------------------------------------------------------------
r271133 | sbailliez | 2002-02-03 17:21:08 -0500 (Sun, 03 Feb 2002) | 4 lines

Add a getResource method. I would rather prefer to
load resource this way than assuming the JVM is the
root directory.

------------------------------------------------------------------------
r271130 | sbailliez | 2002-02-03 16:53:05 -0500 (Sun, 03 Feb 2002) | 2 lines

Fixing #$!@ Copyright issues.

------------------------------------------------------------------------
r271127 | sbailliez | 2002-02-03 16:06:21 -0500 (Sun, 03 Feb 2002) | 4 lines

Temporary update to use the same style as log.xsl which is closer to
the Jakarta style. Those are the stylesheets used to generate reports for audit, metrics, coverage
recently sent to ant-dev

------------------------------------------------------------------------
r271126 | umagesh | 2002-02-03 11:01:18 -0500 (Sun, 03 Feb 2002) | 2 lines

Copyright fix; minor message corrections.

------------------------------------------------------------------------
r271118 | conor | 2002-02-03 05:12:16 -0500 (Sun, 03 Feb 2002) | 2 lines

Clean up of some of the javadoc and style issues in the depend code

------------------------------------------------------------------------
r271117 | stevel | 2002-02-03 02:49:37 -0500 (Sun, 03 Feb 2002) | 2 lines

handy helpful tips for users, along with a 'please leave us alone' plea

------------------------------------------------------------------------
r271097 | umagesh | 2002-02-02 20:53:34 -0500 (Sat, 02 Feb 2002) | 6 lines

The pattern definition **/._* has been added to the default excludes list.

PR: 5886

Requested by: gerti-apache@bitart.com (Gerd Knops)

------------------------------------------------------------------------
r271090 | umagesh | 2002-02-02 12:01:25 -0500 (Sat, 02 Feb 2002) | 6 lines

Add -id option

PR: 4572

Submitted by: Steven E. Newton (snewton@io.com)

------------------------------------------------------------------------
r271073 | conor | 2002-02-02 07:52:01 -0500 (Sat, 02 Feb 2002) | 10 lines

Since Project.getProperties now returns a cloned hashtable, should
avoid using it for property replacement.

Project.replaceProperties now passes its properties map to ProjectHelper's
main replaceProperties method rather than calling the simple version which
just called back to project.getProperties().

The simple version in ProjectHelper now calls Project.replaceProperties
rather than calling Project.getProperties.

------------------------------------------------------------------------
r271071 | sbailliez | 2002-02-02 07:29:24 -0500 (Sat, 02 Feb 2002) | 7 lines

Fix -jar option to be appended rather than prepended
as specified in usage command line since the parsing
for jvmtype is broken in JDK < 1.4.0.
I filled bugs 139128 and 139129 to Sun for this.
Reported by: christophe.aubry@temis-group.com (Christophe Aubry)
PR: 5307

------------------------------------------------------------------------
r271070 | conor | 2002-02-02 06:35:40 -0500 (Sat, 02 Feb 2002) | 2 lines

Clean up ejbjar task a little

------------------------------------------------------------------------
r271069 | conor | 2002-02-02 06:04:43 -0500 (Sat, 02 Feb 2002) | 4 lines

Add Support for JOnAS EJB server

Submitted by:	 Cyrille Morvan <cyrille_list@ingenosya.com>

------------------------------------------------------------------------
r271066 | umagesh | 2002-02-02 03:06:45 -0500 (Sat, 02 Feb 2002) | 6 lines

Keep the constructor chain alive.

PR: 4928

Submitted by: acl1@notes.ntrs.com

------------------------------------------------------------------------
r271061 | umagesh | 2002-02-02 01:33:11 -0500 (Sat, 02 Feb 2002) | 6 lines

Check for null value introduced.

PR: 5374

Submitted By: cer@acm.org (Chris Richardson)

------------------------------------------------------------------------
r271052 | umagesh | 2002-02-01 21:42:44 -0500 (Fri, 01 Feb 2002) | 6 lines

Name is optional for <project>

PR: 5028

Submitted by: jesse.glick@netbeans.com (Jesse Glick)

------------------------------------------------------------------------
r271048 | ehatcher | 2002-02-01 19:13:32 -0500 (Fri, 01 Feb 2002) | 2 lines

update copyright

------------------------------------------------------------------------
r271044 | sbailliez | 2002-02-01 17:46:51 -0500 (Fri, 01 Feb 2002) | 2 lines

- Try to close the file rather than relying on finalization.

------------------------------------------------------------------------
r271043 | ehatcher | 2002-02-01 17:29:21 -0500 (Fri, 01 Feb 2002) | 2 lines

Add -propertyfile command-line option.

------------------------------------------------------------------------
r271035 | stevel | 2002-02-01 02:34:34 -0500 (Fri, 01 Feb 2002) | 2 lines

adding destFile naming scheme to tar, for consistency with the zip family and other tasks. I know Costin thinks we do this deliberately, just to break his builds, so even though I have updated the manual and the test cases, I have commented out the deprecated message which users should get when they use the tarfile attribute. Which means old builds still work, but the old params are no longer documented for new users.

------------------------------------------------------------------------
r271034 | stevel | 2002-02-01 02:24:49 -0500 (Fri, 01 Feb 2002) | 2 lines

test returns false (not an exception) if either file is missing, this provides better update semantics

------------------------------------------------------------------------
r271033 | stevel | 2002-02-01 02:23:56 -0500 (Fri, 01 Feb 2002) | 2 lines

two new attrs to loadfile to make it more flexible in feeding other tasks

------------------------------------------------------------------------
r271032 | stevel | 2002-02-01 02:02:10 -0500 (Fri, 01 Feb 2002) | 2 lines

test now works on my box, maybe we will scrape through GUMP now.

------------------------------------------------------------------------
r271027 | umagesh | 2002-01-31 18:56:26 -0500 (Thu, 31 Jan 2002) | 4 lines

Qualify total time spent on build with proper English.

PR: 5901

------------------------------------------------------------------------
r271024 | umagesh | 2002-01-31 15:24:49 -0500 (Thu, 31 Jan 2002) | 2 lines

Accidentally overwrote the patch that Stephane had applied.  Hav emerged it  now.

------------------------------------------------------------------------
r271022 | umagesh | 2002-01-31 14:56:33 -0500 (Thu, 31 Jan 2002) | 3 lines

AnsiColorLogger is an extension of DefaultLogger.  It provides colorized
messages based on the message level.

------------------------------------------------------------------------
r271021 | ehatcher | 2002-01-31 14:47:40 -0500 (Thu, 31 Jan 2002) | 4 lines

SourceOffSite tasks submitted by Jesse Stockall <jesse@cryptocard.com>.

The sos.html file is slightly out of synch with the actual attributes - but Jesse will submit updated documentation soon.

------------------------------------------------------------------------
r271020 | bodewig | 2002-01-31 04:52:15 -0500 (Thu, 31 Jan 2002) | 2 lines

part two of the patch to make Jakarta-Regexp tests pass

------------------------------------------------------------------------
r271019 | bodewig | 2002-01-31 04:39:24 -0500 (Thu, 31 Jan 2002) | 2 lines

Make tests pass on Linux as well (by not expecting them to pass).

------------------------------------------------------------------------
r271018 | bodewig | 2002-01-31 04:24:16 -0500 (Thu, 31 Jan 2002) | 2 lines

filling my role as post-commit script ;-)

------------------------------------------------------------------------
r271017 | sbailliez | 2002-01-30 17:43:57 -0500 (Wed, 30 Jan 2002) | 2 lines

Fixes should be in all related testcases now.

------------------------------------------------------------------------
r271016 | sbailliez | 2002-01-30 17:16:41 -0500 (Wed, 30 Jan 2002) | 4 lines

Fixed time formatting.
Submitted by: ruchet@besancon.sema.slb.com (stephane ruchet)
PR: 5901

------------------------------------------------------------------------
r271015 | sbailliez | 2002-01-30 17:05:38 -0500 (Wed, 30 Jan 2002) | 7 lines

- Added some more tests. All tests that fail have
not been commented but rather modify to trigger
once they are fixed.

If Unix people could tests and make sure that they
pass on Unix that would be nice.

------------------------------------------------------------------------
r271012 | conor | 2002-01-30 16:28:10 -0500 (Wed, 30 Jan 2002) | 2 lines

Remove inefficient property access

------------------------------------------------------------------------
r271011 | sbailliez | 2002-01-30 16:10:54 -0500 (Wed, 30 Jan 2002) | 3 lines

Discard the previous commit comments, it is due to a mistake.
The code has been changed to enable UNIX_LINE for line terminator.

------------------------------------------------------------------------
r271009 | sbailliez | 2002-01-30 16:04:31 -0500 (Wed, 30 Jan 2002) | 2 lines

Prepare for changing listener interface and event types.

------------------------------------------------------------------------
r271008 | conor | 2002-01-30 04:45:26 -0500 (Wed, 30 Jan 2002) | 2 lines

Move weblogic deployment tool over to FileUtils

------------------------------------------------------------------------
r271007 | bodewig | 2002-01-29 12:36:06 -0500 (Tue, 29 Jan 2002) | 2 lines

a little more cleanup

------------------------------------------------------------------------
r271006 | bodewig | 2002-01-29 12:26:38 -0500 (Tue, 29 Jan 2002) | 2 lines

superfluos line

------------------------------------------------------------------------
r271005 | bodewig | 2002-01-29 12:22:56 -0500 (Tue, 29 Jan 2002) | 5 lines

Add a new "os family" win9x.  If I had a decent name for Windows that
is NT or 2000 or XP I would have added a family as well 8-)

Take advantage of that new family in Execute.

------------------------------------------------------------------------
r271004 | bodewig | 2002-01-29 12:12:20 -0500 (Tue, 29 Jan 2002) | 5 lines

* refactor <filesmatch> condition to take advantage of FileUtils.

* improve FileUtils.contentEquals by adding two additional shortcut
  tests.

------------------------------------------------------------------------
r271003 | bodewig | 2002-01-29 11:55:11 -0500 (Tue, 29 Jan 2002) | 2 lines

make Execute support Windows XP.

------------------------------------------------------------------------
r271001 | bodewig | 2002-01-29 11:35:46 -0500 (Tue, 29 Jan 2002) | 2 lines

add environment variable support to <junit> if VM is forked.

------------------------------------------------------------------------
r271000 | bodewig | 2002-01-29 11:20:20 -0500 (Tue, 29 Jan 2002) | 2 lines

add environment variable support in <java> for forked VMs.

------------------------------------------------------------------------
r270999 | bodewig | 2002-01-29 08:13:17 -0500 (Tue, 29 Jan 2002) | 2 lines

tiny javadoc fix.

------------------------------------------------------------------------
r270996 | nico | 2002-01-28 13:56:13 -0500 (Mon, 28 Jan 2002) | 3 lines

- Fix: It was not possible to use variant in the locale pattern - variant overwrote the country and you got the default Locale for the language.
- Updated Copyright

------------------------------------------------------------------------
r270995 | bodewig | 2002-01-28 11:42:07 -0500 (Mon, 28 Jan 2002) | 9 lines

Don't reposition the input stream when a \r is immediately followed by
the end of input.

Without that change, the unit test testMacLines would cause an endless
loop for JDK 1.1, at least with:

$ java -fullversion
java full version "Linux_JDK_1.1.8_v3_green_threads"

------------------------------------------------------------------------
r270994 | sbailliez | 2002-01-28 11:32:06 -0500 (Mon, 28 Jan 2002) | 2 lines

- Get the class from the caller classloader.

------------------------------------------------------------------------
r270993 | bodewig | 2002-01-28 10:48:53 -0500 (Mon, 28 Jan 2002) | 5 lines

make the stylesheet work for <ear> and <war> as well, use destfile
instead of file.

This needs to be checked by somebody who understands XSLT ;-)

------------------------------------------------------------------------
r270992 | bodewig | 2002-01-28 09:38:39 -0500 (Mon, 28 Jan 2002) | 2 lines

fix the condition version of <checksum>

------------------------------------------------------------------------
r270991 | bodewig | 2002-01-28 09:21:39 -0500 (Mon, 28 Jan 2002) | 2 lines

make sure subbuild get their loggers.

------------------------------------------------------------------------
r270981 | ehatcher | 2002-01-27 22:53:35 -0500 (Sun, 27 Jan 2002) | 2 lines

JTidy on the job again - fixing a few Javadoc HTML errors

------------------------------------------------------------------------
r270945 | sbailliez | 2002-01-27 05:47:55 -0500 (Sun, 27 Jan 2002) | 2 lines

Logic is definitely not correct but putting it back to static

------------------------------------------------------------------------
r270918 | sbailliez | 2002-01-26 16:03:28 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix modifier order

------------------------------------------------------------------------
r270917 | sbailliez | 2002-01-26 15:47:02 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix error. filtertrace was static...

------------------------------------------------------------------------
r270916 | sbailliez | 2002-01-26 15:45:21 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix audit violations

------------------------------------------------------------------------
r270915 | sbailliez | 2002-01-26 15:41:45 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove unused variable

------------------------------------------------------------------------
r270914 | sbailliez | 2002-01-26 15:39:13 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove unecessary cast

------------------------------------------------------------------------
r270913 | sbailliez | 2002-01-26 15:36:50 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix violations that have trouble to be fixed automatically

------------------------------------------------------------------------
r270912 | sbailliez | 2002-01-26 15:35:33 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix audit violations and style.

------------------------------------------------------------------------
r270911 | sbailliez | 2002-01-26 15:23:19 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix audit violations

------------------------------------------------------------------------
r270910 | sbailliez | 2002-01-26 15:18:12 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove unused variable

------------------------------------------------------------------------
r270909 | sbailliez | 2002-01-26 15:16:22 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix audit violations

------------------------------------------------------------------------
r270908 | sbailliez | 2002-01-26 15:09:21 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove extraneous semicolon

------------------------------------------------------------------------
r270907 | sbailliez | 2002-01-26 15:05:34 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix array declarators

------------------------------------------------------------------------
r270906 | sbailliez | 2002-01-26 14:42:45 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix violations

------------------------------------------------------------------------
r270905 | sbailliez | 2002-01-26 14:37:54 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix unecessary cast

------------------------------------------------------------------------
r270904 | sbailliez | 2002-01-26 14:36:26 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix array declarators

------------------------------------------------------------------------
r270903 | sbailliez | 2002-01-26 14:33:34 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix static access

------------------------------------------------------------------------
r270902 | sbailliez | 2002-01-26 14:32:42 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix static access and unused variable

------------------------------------------------------------------------
r270901 | sbailliez | 2002-01-26 14:30:57 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix static and unused variable

------------------------------------------------------------------------
r270900 | sbailliez | 2002-01-26 14:29:51 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix array declarators

------------------------------------------------------------------------
r270899 | sbailliez | 2002-01-26 14:29:04 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix unecessary cast

------------------------------------------------------------------------
r270898 | sbailliez | 2002-01-26 14:28:02 -0500 (Sat, 26 Jan 2002) | 2 lines

Copyright fix

------------------------------------------------------------------------
r270897 | sbailliez | 2002-01-26 14:26:44 -0500 (Sat, 26 Jan 2002) | 2 lines

Fix static access

------------------------------------------------------------------------
r270896 | sbailliez | 2002-01-26 14:25:03 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove unecessary cast

------------------------------------------------------------------------
r270895 | sbailliez | 2002-01-26 14:24:15 -0500 (Sat, 26 Jan 2002) | 2 lines

- fix conditional

------------------------------------------------------------------------
r270894 | sbailliez | 2002-01-26 14:23:29 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove unused variable

------------------------------------------------------------------------
r270893 | sbailliez | 2002-01-26 14:21:02 -0500 (Sat, 26 Jan 2002) | 2 lines

Remove unused fields and methods

------------------------------------------------------------------------
r270892 | sbailliez | 2002-01-26 14:16:06 -0500 (Sat, 26 Jan 2002) | 3 lines

- Fix unnecessary cast
- Fix array declarators

------------------------------------------------------------------------
r270891 | sbailliez | 2002-01-26 14:13:52 -0500 (Sat, 26 Jan 2002) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r270890 | sbailliez | 2002-01-26 14:13:12 -0500 (Sat, 26 Jan 2002) | 3 lines

- Remove unused fields
- Fix static member access

------------------------------------------------------------------------
r270889 | sbailliez | 2002-01-26 14:09:05 -0500 (Sat, 26 Jan 2002) | 2 lines

Fixed array declarator and static member access

------------------------------------------------------------------------
r270888 | sbailliez | 2002-01-26 13:53:26 -0500 (Sat, 26 Jan 2002) | 4 lines

- Fixed audit violations
- Minor code simplification
- Code layout

------------------------------------------------------------------------
r270887 | sbailliez | 2002-01-26 09:51:09 -0500 (Sat, 26 Jan 2002) | 2 lines

Violation fixes for which a safe automatic fix exists

------------------------------------------------------------------------
r270856 | umagesh | 2002-01-25 11:15:44 -0500 (Fri, 25 Jan 2002) | 2 lines

Reverting argument naming changes to discuss a standardized way to change the names (if at all needed).

------------------------------------------------------------------------
r270855 | umagesh | 2002-01-25 10:10:00 -0500 (Fri, 25 Jan 2002) | 2 lines

Sigh - Copyright year correction...

------------------------------------------------------------------------
r270854 | umagesh | 2002-01-25 10:05:06 -0500 (Fri, 25 Jan 2002) | 2 lines

Try to minimize Quality Analyzer's complaints - 1st pass.

------------------------------------------------------------------------
r270833 | bodewig | 2002-01-23 04:13:25 -0500 (Wed, 23 Jan 2002) | 9 lines

4 new logos

Conor, remove your if you want ;-)

Submitted by:	Dylan Schiemann <dylans@yahoo.com>,
                Magesh Umasankar <umagesh@apache.org>,
                James Andrews <jimhole23@yahoo.com>,
                Conor MacNeill <conor@cortexebusiness.com.au>

------------------------------------------------------------------------
r270820 | bodewig | 2002-01-21 12:09:23 -0500 (Mon, 21 Jan 2002) | 2 lines

Make JDK 1.4 happier

------------------------------------------------------------------------
r270819 | umagesh | 2002-01-21 10:33:43 -0500 (Mon, 21 Jan 2002) | 2 lines

Correct spelling.

------------------------------------------------------------------------
r270818 | umagesh | 2002-01-21 08:55:08 -0500 (Mon, 21 Jan 2002) | 2 lines

Testcase to ensure <java> works as expected in both forked and unforked modes.

------------------------------------------------------------------------
r270815 | bodewig | 2002-01-21 04:18:56 -0500 (Mon, 21 Jan 2002) | 5 lines

Make sure we pass down ant.home to unit tests (needed to make execute
with a change of cwd work on JDK < 1.3).

Fix a copyright line.

------------------------------------------------------------------------
r270814 | sbailliez | 2002-01-20 15:45:58 -0500 (Sun, 20 Jan 2002) | 4 lines

- Fix order of modifiers
- Fix duplicate/unecessary imports
- Fix single if/else and loop without block

------------------------------------------------------------------------
r270811 | conor | 2002-01-20 07:37:07 -0500 (Sun, 20 Jan 2002) | 2 lines

Correct equality check in Manifest.Section class

------------------------------------------------------------------------
r270780 | umagesh | 2002-01-18 10:26:50 -0500 (Fri, 18 Jan 2002) | 4 lines

Modified the hack to initialize a class such that the side effect of having to create a valid object is not there anymore.

PR: 4107

------------------------------------------------------------------------
r270778 | bodewig | 2002-01-17 10:51:31 -0500 (Thu, 17 Jan 2002) | 2 lines

oh my

------------------------------------------------------------------------
r270777 | bodewig | 2002-01-17 10:49:06 -0500 (Thu, 17 Jan 2002) | 5 lines

Make automatic detection of ANT_HOME work if ant is a symlink to the
actual ant script using a relative path as well.

Submitted by:	Leon Breedt <ljb@neverborn.ORG>

------------------------------------------------------------------------
r270774 | sbailliez | 2002-01-16 11:50:21 -0500 (Wed, 16 Jan 2002) | 4 lines

Fix test5.
- the directory was not created previous to ANTLR call (xml)
- it cannot process java.tree.g since java.g need to be processed first so an error occurs in ANTLR.

------------------------------------------------------------------------
r270773 | sbailliez | 2002-01-16 11:39:09 -0500 (Wed, 16 Jan 2002) | 2 lines

create directory before running test...

------------------------------------------------------------------------
r270772 | bodewig | 2002-01-16 06:25:49 -0500 (Wed, 16 Jan 2002) | 2 lines

Copyright statement police catching up with latest commits 8-)

------------------------------------------------------------------------
r270763 | sbailliez | 2002-01-14 17:25:56 -0500 (Mon, 14 Jan 2002) | 4 lines

Add additional StarTeam tasks
PR: 5650
Submitted by: stevec@ignitesports.com (Steve Cohen)

------------------------------------------------------------------------
r270762 | sbailliez | 2002-01-14 17:19:47 -0500 (Mon, 14 Jan 2002) | 9 lines

- New tasks StarTeamCheckin and StarTeamList
- Modify StarTeamCheckin, Add ability to check files out either locked or
unlocked.  (Previously task left lock status alone.)
- Modify docs for all of the above.
- Fix JavaDoc tags (SB)

PR: 5650
Patch by: stevec@ignitesports.com (Steve Cohen)

------------------------------------------------------------------------
r270752 | ehatcher | 2002-01-13 19:59:41 -0500 (Sun, 13 Jan 2002) | 2 lines

not with a house, not with a mouse, I do not like green eggs and SPAM

------------------------------------------------------------------------
r270748 | stevel | 2002-01-13 19:06:07 -0500 (Sun, 13 Jan 2002) | 2 lines

condition for files matching

------------------------------------------------------------------------
r270747 | stevel | 2002-01-13 19:01:17 -0500 (Sun, 13 Jan 2002) | 2 lines

lets test condition

------------------------------------------------------------------------
r270746 | stevel | 2002-01-13 19:00:30 -0500 (Sun, 13 Jan 2002) | 2 lines

added expect() clauses for properties being set, unset.

------------------------------------------------------------------------
r270743 | ehatcher | 2002-01-13 14:06:00 -0500 (Sun, 13 Jan 2002) | 2 lines

Fix for Bug#5828.  Clicking on the "Home" link now brings the class list back to the main page also.

------------------------------------------------------------------------
r270672 | sbailliez | 2002-01-11 18:18:30 -0500 (Fri, 11 Jan 2002) | 2 lines

- Enforce coding guidelines.

------------------------------------------------------------------------
r270670 | sbailliez | 2002-01-11 16:03:57 -0500 (Fri, 11 Jan 2002) | 2 lines

- add getter for index and change attribute modifier.

------------------------------------------------------------------------
r270667 | bodewig | 2002-01-11 09:59:40 -0500 (Fri, 11 Jan 2002) | 7 lines

Change the methods that try to locate JDK tools to work on AIX with
IBM's JDK 1.2 as well.

@todo refactor into a single method somewhere

PR: 5541

------------------------------------------------------------------------
r270666 | bodewig | 2002-01-11 08:48:08 -0500 (Fri, 11 Jan 2002) | 4 lines

Search user specified classpath for Weblogic's rmic implementation.

PR: 5763

------------------------------------------------------------------------
r270663 | bodewig | 2002-01-10 11:23:24 -0500 (Thu, 10 Jan 2002) | 2 lines

All that work and what did I learn? ....  Oh my.

------------------------------------------------------------------------
r270662 | bodewig | 2002-01-10 11:17:12 -0500 (Thu, 10 Jan 2002) | 4 lines

<fixcrlf> failed on Mac files.

Reported by:	Matt McHenry <mmchenry@carnegielearning.com>

------------------------------------------------------------------------
r270661 | bodewig | 2002-01-10 10:34:21 -0500 (Thu, 10 Jan 2002) | 2 lines

We don't like our old execution framework any longer.

------------------------------------------------------------------------
r270660 | bodewig | 2002-01-10 09:28:54 -0500 (Thu, 10 Jan 2002) | 2 lines

untabify

------------------------------------------------------------------------
r270659 | bodewig | 2002-01-10 09:18:42 -0500 (Thu, 10 Jan 2002) | 2 lines

Add some more copyright notices.

------------------------------------------------------------------------
r270658 | bodewig | 2002-01-10 08:59:39 -0500 (Thu, 10 Jan 2002) | 12 lines

License police on task definitions:

(1) Make sure there is a Copyright notice on all files.

(2) Make sure all years in which a file has been modified are
listed.

(3) Make sure the format is consistent, i.e. separate consecutive
years with a dash, not a comma.

(4) Change some references from Tomcat to Ant.

------------------------------------------------------------------------
r270657 | bodewig | 2002-01-10 06:21:21 -0500 (Thu, 10 Jan 2002) | 10 lines

License police on documentation files:

(1) Make sure all years in which a file has been modified are
listed.

(2) Make sure the format is consistent, i.e. separate consecutive
years with a dash, not a comma.

Also: the initial checkin into this CVS module was in 2000, not 1999.

------------------------------------------------------------------------
r270656 | bodewig | 2002-01-10 05:40:48 -0500 (Thu, 10 Jan 2002) | 4 lines

License police on utility packages:

Make sure all years in which a file has been modified are listed.

------------------------------------------------------------------------
r270655 | bodewig | 2002-01-10 05:15:55 -0500 (Thu, 10 Jan 2002) | 2 lines

missed two subdirectories

------------------------------------------------------------------------
r270654 | bodewig | 2002-01-10 05:13:13 -0500 (Thu, 10 Jan 2002) | 4 lines

License police on testcases and stylesheets:

Make sure all years in which the file has been modified are listed.

------------------------------------------------------------------------
r270651 | sbailliez | 2002-01-10 01:46:25 -0500 (Thu, 10 Jan 2002) | 5 lines

- Use non-deprecated method of Java task to set arguments
- Minor code layout
PR: 5723
Reported by: gert.driesen@ardatis.com (Gert Driesen)

------------------------------------------------------------------------
r270650 | sbailliez | 2002-01-09 17:28:27 -0500 (Wed, 09 Jan 2002) | 3 lines

- Incorrectly overload long skip(long) with void skip(int)
- Code layout

------------------------------------------------------------------------
r270649 | sbailliez | 2002-01-09 17:02:33 -0500 (Wed, 09 Jan 2002) | 2 lines

Use getProject() rather than project.

------------------------------------------------------------------------
r270648 | sbailliez | 2002-01-09 16:59:21 -0500 (Wed, 09 Jan 2002) | 3 lines

- Incorrectly overloads the setCommand method instead of overriding it.
- Minor code layout

------------------------------------------------------------------------
r270645 | bodewig | 2002-01-09 04:08:39 -0500 (Wed, 09 Jan 2002) | 2 lines

Remove code that has never been used in any released version of Ant.

------------------------------------------------------------------------
r270644 | sbailliez | 2002-01-08 19:03:22 -0500 (Tue, 08 Jan 2002) | 2 lines

Code layout only.

------------------------------------------------------------------------
r270643 | sbailliez | 2002-01-08 19:02:56 -0500 (Tue, 08 Jan 2002) | 2 lines

remove this double naming guidelines...

------------------------------------------------------------------------
r270642 | sbailliez | 2002-01-08 18:59:33 -0500 (Tue, 08 Jan 2002) | 2 lines

Remove double check for same condition.

------------------------------------------------------------------------
r270641 | sbailliez | 2002-01-08 18:57:47 -0500 (Tue, 08 Jan 2002) | 2 lines

Code layout only.

------------------------------------------------------------------------
r270640 | sbailliez | 2002-01-08 18:47:59 -0500 (Tue, 08 Jan 2002) | 2 lines

Code layout only.

------------------------------------------------------------------------
r270639 | sbailliez | 2002-01-08 18:31:05 -0500 (Tue, 08 Jan 2002) | 2 lines

Code layout

------------------------------------------------------------------------
r270638 | sbailliez | 2002-01-08 18:12:44 -0500 (Tue, 08 Jan 2002) | 3 lines

Layout code
Enforce naming guidelines

------------------------------------------------------------------------
r270637 | sbailliez | 2002-01-08 17:51:39 -0500 (Tue, 08 Jan 2002) | 4 lines

Fix bad coding style.
then/else parts of if statement and loop body must always been enclosed
in a block statement.

------------------------------------------------------------------------
r270636 | sbailliez | 2002-01-08 17:07:44 -0500 (Tue, 08 Jan 2002) | 4 lines

Fix bad coding style.
then/else parts of if statement and loop body must always been enclosed
in a block statement.

------------------------------------------------------------------------
r270635 | sbailliez | 2002-01-08 15:49:11 -0500 (Tue, 08 Jan 2002) | 2 lines

Fix weird insertion.

------------------------------------------------------------------------
r270634 | sbailliez | 2002-01-08 15:47:54 -0500 (Tue, 08 Jan 2002) | 2 lines

Fallback to 1.2. Come back later for this one.

------------------------------------------------------------------------
r270633 | sbailliez | 2002-01-08 15:46:27 -0500 (Tue, 08 Jan 2002) | 2 lines

Fallback. Come back later for this one.

------------------------------------------------------------------------
r270632 | sbailliez | 2002-01-08 15:38:11 -0500 (Tue, 08 Jan 2002) | 2 lines

Fix bug...

------------------------------------------------------------------------
r270631 | sbailliez | 2002-01-08 15:21:58 -0500 (Tue, 08 Jan 2002) | 4 lines

Fix bad coding style.
then/else parts of if statement and loop body must always been enclosed
in a block statement.

------------------------------------------------------------------------
r270630 | sbailliez | 2002-01-08 15:14:46 -0500 (Tue, 08 Jan 2002) | 4 lines

Fix bad coding style.
then/else parts of if statement and loop body must always been enclosed
in a block statement.

------------------------------------------------------------------------
r270629 | sbailliez | 2002-01-08 14:59:45 -0500 (Tue, 08 Jan 2002) | 4 lines

Fix bad coding style.
then/else parts of if statement and loop body must always been enclosed
in a block statement.

------------------------------------------------------------------------
r270628 | sbailliez | 2002-01-08 11:36:54 -0500 (Tue, 08 Jan 2002) | 2 lines

Fallback to protected attributes to prevent breakage.

------------------------------------------------------------------------
r270624 | bodewig | 2002-01-08 05:50:43 -0500 (Tue, 08 Jan 2002) | 4 lines

Help people who's mail server doesn't speak SMTP correctly.

PR: 5273

------------------------------------------------------------------------
r270623 | bodewig | 2002-01-08 04:46:26 -0500 (Tue, 08 Jan 2002) | 2 lines

Move responsibility for cleanup to the test themselves.

------------------------------------------------------------------------
r270622 | conor | 2002-01-08 04:33:39 -0500 (Tue, 08 Jan 2002) | 4 lines

Add Primary Key capability to iPlanet deployment tool

Submitted by:	Paul Spillman <Paul.Spillman@Sun.COM>

------------------------------------------------------------------------
r270621 | bodewig | 2002-01-08 03:52:32 -0500 (Tue, 08 Jan 2002) | 4 lines

Improve the <equals> condition by adding trim and casesensitive attributes.

Inspired by:	Frank Bechmann <frank.bechmann@dcw-software.com>

------------------------------------------------------------------------
r270620 | sbailliez | 2002-01-07 18:23:01 -0500 (Mon, 07 Jan 2002) | 2 lines

- Apply coding guidelines. No protected attribute anymore.

------------------------------------------------------------------------
r270617 | bodewig | 2002-01-07 10:41:10 -0500 (Mon, 07 Jan 2002) | 3 lines

Don't lie about the CLASSPATH being used - build.sysclasspath changes
everything.

------------------------------------------------------------------------
r270616 | bodewig | 2002-01-07 10:01:13 -0500 (Mon, 07 Jan 2002) | 2 lines

Improve logging when <available> is being used as a condition.

------------------------------------------------------------------------
r270605 | stevel | 2002-01-07 01:22:11 -0500 (Mon, 07 Jan 2002) | 2 lines

Addition of destFile(File) attr to the zip/war/ear/jar tasks, fixup of docs, replacement of deprecation methods and appropriate changes to the tests.

------------------------------------------------------------------------
r270603 | conor | 2002-01-06 23:11:38 -0500 (Sun, 06 Jan 2002) | 3 lines

Additional debug messages to make it easier to diagnose why a task
can't be instantiated.

------------------------------------------------------------------------
r270602 | conor | 2002-01-06 23:08:36 -0500 (Sun, 06 Jan 2002) | 2 lines

Remove CVS conflicts

------------------------------------------------------------------------
r270597 | sbailliez | 2002-01-06 12:04:29 -0500 (Sun, 06 Jan 2002) | 6 lines

Add an IndexOf method that returns the index of
the selected attribute in the enumeration.
The selected index is kept so that class extending
it can easily do a 1-1 mapping with values without
looping over the array again.

------------------------------------------------------------------------
r270512 | ehatcher | 2002-01-04 20:39:40 -0500 (Fri, 04 Jan 2002) | 3 lines

Fix for Bug 5637
NPE in JUnit XMLJunitResultFormatter if setUp() in TestSetup throws AssertionFailedError

------------------------------------------------------------------------
r270490 | sbailliez | 2001-12-31 15:15:57 -0500 (Mon, 31 Dec 2001) | 11 lines

- Add "label" attribute on checkout per request from Greg Frank - checks out a specific view label.
- Add "recursive" attribute as in the deprecated <starteam> task.
- Add "forced" attribute as in the deprecated <starteam> task and avoid checking StarTeam statuses when true.
- Make sure all exceptions are caught on execution and rethrown as build exceptions.
- Fixed a bug (using the "forced" attribute) which were causing files to be incorrectly not checked out when a rootLocalFolder was specified because the StarTeam file statuses were being checked in relation to the default directory.
- Fixed a bug where files were deleted immediately after being checked out when a rootLocalFolder was specified because the task erroneously thought the file was not under starteam control.
- Code layout to fix weird indent issues.

PR: 5583
Submitted by: stevec@ignitesports.com (Steve Cohen)

------------------------------------------------------------------------
r270489 | umagesh | 2001-12-30 14:53:25 -0500 (Sun, 30 Dec 2001) | 2 lines

Removing DestFIle, DestDir, SrcFile, SrcDir, ValidatedFileAttribute and PreferredAttribute.

------------------------------------------------------------------------
r270488 | umagesh | 2001-12-30 14:49:15 -0500 (Sun, 30 Dec 2001) | 3 lines

Removed references to ValidatedFileAttribute and PreferredAttribute.
Reverted IntrospectionHelper to previous version.

------------------------------------------------------------------------
r270487 | umagesh | 2001-12-30 14:39:23 -0500 (Sun, 30 Dec 2001) | 3 lines

Usage of SrcFile,SrcDir,DestFile,DestDir abandoned.  Rolling back to
previous state.

------------------------------------------------------------------------
r270486 | ehatcher | 2001-12-30 09:32:59 -0500 (Sun, 30 Dec 2001) | 2 lines

added package mapper as an official mapper type

------------------------------------------------------------------------
r270435 | ehatcher | 2001-12-29 19:35:30 -0500 (Sat, 29 Dec 2001) | 2 lines

made Javadoc provided example more realistic

------------------------------------------------------------------------
r270423 | ehatcher | 2001-12-29 19:21:14 -0500 (Sat, 29 Dec 2001) | 2 lines

oops, forgot the license on first pass

------------------------------------------------------------------------
r270418 | ehatcher | 2001-12-29 19:17:04 -0500 (Sat, 29 Dec 2001) | 2 lines

A new mapper to allow checking <uptodate> from test cases to their XML formatter results.

------------------------------------------------------------------------
r270393 | sbailliez | 2001-12-29 15:21:34 -0500 (Sat, 29 Dec 2001) | 4 lines

Added additional methods to deal with strings.
This is mostly to avoid the use of regexp for
simple tasks.

------------------------------------------------------------------------
r270392 | sbailliez | 2001-12-29 14:46:45 -0500 (Sat, 29 Dec 2001) | 6 lines

Add an option to append output, I set it to false
to preserve behavior but I think it would be better
to true.
PR: 5559
Reported by: stefanf@decode.is (Stefan Freyr Stefansson)

------------------------------------------------------------------------
r270391 | umagesh | 2001-12-28 16:51:36 -0500 (Fri, 28 Dec 2001) | 3 lines

Messages no longer prefix DestDir, DestFile, SrcFile, SrcDir to prevent
providing possibly confusing error messages to user.

------------------------------------------------------------------------
r270390 | umagesh | 2001-12-28 16:45:29 -0500 (Fri, 28 Dec 2001) | 12 lines

setFile(File) deprecated and replaced with setFile(DestFile).

DestFile is used in this case eventhough SrcFile would make more sense
because currently, <property> does not throw an exception if the file
is not found - it just logs a message.  If SrcFile were used, it would have
thrown an exception if the file was not found thereby being backwards
incompatible.

<property> was not checking to see if the supplied file was a directory.
It used to throw a java.io.FileNotFoundException previously.  Now it
prints a message saying that it is not a file.

------------------------------------------------------------------------
r270388 | umagesh | 2001-12-28 15:27:43 -0500 (Fri, 28 Dec 2001) | 3 lines

1. setSrc(File) deprecated and replaced with setSrc(SrcFile)
2. setDest(File) deprecated and replaced with setDest(DestDir)

------------------------------------------------------------------------
r270386 | umagesh | 2001-12-27 16:47:17 -0500 (Thu, 27 Dec 2001) | 4 lines

Delegate validation to DestDir.  This has a nice effect on MkDir as at least
one 'unknown reason' (Path containing an existing non-directory element) will
be known by using DestDir.

------------------------------------------------------------------------
r270385 | umagesh | 2001-12-27 16:31:43 -0500 (Thu, 27 Dec 2001) | 4 lines

If DestFile or DestDir does not exist, ensure that the path representing the
directory or the file is valid, by checking if the path contains any existing
non-directory element, thereby making sure the file/dir is constructible.

------------------------------------------------------------------------
r270384 | stevel | 2001-12-27 00:25:09 -0500 (Thu, 27 Dec 2001) | 2 lines

added empty and file constructors, the latter validates as you go. Also a little IsUpToDate() test for destdir which will should simplify dependency checking.

------------------------------------------------------------------------
r270383 | stevel | 2001-12-27 00:18:14 -0500 (Thu, 27 Dec 2001) | 2 lines

using srcFile datatype

------------------------------------------------------------------------
r270382 | stevel | 2001-12-26 15:37:48 -0500 (Wed, 26 Dec 2001) | 2 lines

fixing javadoc tags

------------------------------------------------------------------------
r270379 | umagesh | 2001-12-25 15:07:14 -0500 (Tue, 25 Dec 2001) | 3 lines

setFile(File) has been replaced with setFile(SrcFile).  No backwards
compatibilty issues here as task was introduced Post 1.4.1.

------------------------------------------------------------------------
r270378 | umagesh | 2001-12-25 14:54:44 -0500 (Tue, 25 Dec 2001) | 3 lines

setSrc(File) has been replaced with setSrc(SrcFile).  No backwards
compatibilty issues here as setSrc(File) was introduced Post 1.4.1.

------------------------------------------------------------------------
r270377 | stevel | 2001-12-25 14:52:44 -0500 (Tue, 25 Dec 2001) | 2 lines

stops the encoding test failing. We now test that the encoding param is supported, but there is nothing to test that the encoding actually works.

------------------------------------------------------------------------
r270376 | umagesh | 2001-12-25 14:30:26 -0500 (Tue, 25 Dec 2001) | 4 lines

IntrospectionHelper has been modified such that overridden setter methods
that take in 'PreferredAttribute's as argument gain higher precedence.
New attribute types - SrcDir, SrcFile, DestDir and DestFile are introduced.  Each of these types is a PreferredAttribute.

------------------------------------------------------------------------
r270375 | stevel | 2001-12-25 01:15:32 -0500 (Tue, 25 Dec 2001) | 2 lines

cvs didnt like the latin-1 stuff

------------------------------------------------------------------------
r270374 | stevel | 2001-12-25 01:14:40 -0500 (Tue, 25 Dec 2001) | 2 lines

new loadfile task

------------------------------------------------------------------------
r270373 | ehatcher | 2001-12-24 07:05:38 -0500 (Mon, 24 Dec 2001) | 2 lines

Modified 'backslash' to be public static final so that the test case can access it. This method is standalone, so having it static is fine.

------------------------------------------------------------------------
r270372 | stevel | 2001-12-24 03:40:40 -0500 (Mon, 24 Dec 2001) | 2 lines

new test for nested text element working, PR: 5579

------------------------------------------------------------------------
r270371 | stevel | 2001-12-24 03:39:55 -0500 (Mon, 24 Dec 2001) | 2 lines

test contents of exceptions match expectations

------------------------------------------------------------------------
r270370 | stevel | 2001-12-24 03:39:07 -0500 (Mon, 24 Dec 2001) | 4 lines

PR: 5579 ;fail having uninitialized value trouble.

Which goes to show: if it aint tested, it doesnt work

------------------------------------------------------------------------
r270297 | sbailliez | 2001-12-21 19:10:48 -0500 (Fri, 21 Dec 2001) | 2 lines

Don't assume everybody will use the login and pwd to my db.

------------------------------------------------------------------------
r270296 | sbailliez | 2001-12-21 19:04:12 -0500 (Fri, 21 Dec 2001) | 5 lines

This testcase might be used to test for various problems
that may arise when calling the <sql> task multiple
times. I tried to make it easy to customize the test
to run it on different databases.

------------------------------------------------------------------------
r270295 | sbailliez | 2001-12-21 19:02:20 -0500 (Fri, 21 Dec 2001) | 2 lines

Make the getLoaderMap static since the cache is static.

------------------------------------------------------------------------
r270294 | sbailliez | 2001-12-21 17:40:27 -0500 (Fri, 21 Dec 2001) | 7 lines

Introduce naive caching of drivers. It is only based on the driver
name while doing pair driver/classpath would be better.
I tested it with mssql and it is OK with 1000 calls.
Alternatively it speeds up things significantly. (about 10 times faster for me)
PR: 2971
Submitted by: stephen.wong@everypath.com

------------------------------------------------------------------------
r270293 | ehatcher | 2001-12-21 17:25:58 -0500 (Fri, 21 Dec 2001) | 4 lines

Test of my first commit.

Fixing one more Javadoc HTML error.

------------------------------------------------------------------------
r270276 | bodewig | 2001-12-21 05:55:14 -0500 (Fri, 21 Dec 2001) | 9 lines

If addConfiguredXyz and addXyz (or createXyz) have been present in the
same class, under some conditions, both would be called.

This patch ensures that only the last method returned by the
introspection methods for a given nested element will be used, no
matter which comes last.

Submitted by:	Adam Murdoch <adammurdoch_ml@yahoo.com>

------------------------------------------------------------------------
r270273 | sbailliez | 2001-12-20 16:51:09 -0500 (Thu, 20 Dec 2001) | 4 lines

Fixed typo about classnames.
PR: 5448
Submitted by: stevec@ignitesports.com (Steve Cohen)

------------------------------------------------------------------------
r270272 | sbailliez | 2001-12-20 16:42:42 -0500 (Thu, 20 Dec 2001) | 5 lines

Instantiate the document in the constructor so that
an event other than build started does not initiate a NPE.
PR: 5538
Reported by: sh@blsun.com (Scott Halstead)

------------------------------------------------------------------------
r270254 | sbailliez | 2001-12-18 17:18:17 -0500 (Tue, 18 Dec 2001) | 6 lines

Major refactoring of Starteam tasks.
This is based on the original submission from the CruiseControl project.
Original <starteam> task has been deprecated
Starteam tasks now resides in the starteam package rather than scm.
Submitted by: stevec@ignitesports.com (Steve Cohen)

------------------------------------------------------------------------
r270252 | bodewig | 2001-12-18 15:57:23 -0500 (Tue, 18 Dec 2001) | 5 lines

Properly encode control characters.  See XML 1.0 2.2
<http://www.w3.org/TR/1998/REC-xml-19980210#charsets>.

Submitted by:	Jim White <jim@pagesmiths.com>

------------------------------------------------------------------------
r270251 | bodewig | 2001-12-18 15:19:07 -0500 (Tue, 18 Dec 2001) | 12 lines

* addConfigured methods for custom tasks were being called twice.  This
problem was caused by RuntimeConfigurable.maybeConfigure() being called
twice on the task's RuntimeConfigurable - once in
UnknownElement.maybeConfigure(), and once in the custom task's perform()
method.

* Whitespace in text content was sometimes being thrown away, depending on
how the SAX parser decided to divide it across calls to
ContentHandler.characters().

Submitted by:	Adam Murdoch <adammurdoch_ml@yahoo.com>

------------------------------------------------------------------------
r270171 | umagesh | 2001-12-15 21:46:10 -0500 (Sat, 15 Dec 2001) | 7 lines

Deprecated setSrc(String) and setDest(String) and added new methods
setSrc(File) and setDest(File).  Ant;s intrspection will pick up the methods
that take in File as argument as File gains higher priority over String based
set* methods.
This had missed my eyes during my earlier cleanup drive, but it didn't miss
Peter's ;-)

------------------------------------------------------------------------
r270161 | sbailliez | 2001-12-15 13:53:39 -0500 (Sat, 15 Dec 2001) | 9 lines

Update ANTLR to revert to forked-mode only.
Comments in code should be self explanatory for the
next person who have to deal with it.

Testcase is updated (working dir is no more mandatory)
and I added a note in case someone wants to run
the tests... I should probably add a mention to
this in the ANTLR docs.

------------------------------------------------------------------------
r270160 | sbailliez | 2001-12-15 12:59:13 -0500 (Sat, 15 Dec 2001) | 11 lines

OK..First thanks to Sam for fixing this w/o complaining.
It was probably not a very clever idea to remove the
lSep since it is probably used by user-written loggers.

To further shoot myself in the foot I noticed that
I was compiling a different Ant repository than the
in the one I was doing my changes...

NB:If I continue this way I promise to stay away
from code for a while and take some vacations.

------------------------------------------------------------------------
r270152 | donaldp | 2001-12-15 01:19:15 -0500 (Sat, 15 Dec 2001) | 2 lines

Revert setting of security manager.

------------------------------------------------------------------------
r270151 | rubys | 2001-12-14 22:41:06 -0500 (Fri, 14 Dec 2001) | 2 lines

Fix compilation errors

------------------------------------------------------------------------
r270150 | sbailliez | 2001-12-14 19:32:32 -0500 (Fri, 14 Dec 2001) | 2 lines

Take advantage of StringUtils

------------------------------------------------------------------------
r270149 | sbailliez | 2001-12-14 19:27:16 -0500 (Fri, 14 Dec 2001) | 5 lines

Now catching the ExitException that can arise from
running ANTLR in non-forked mode. It implies that
the System Manager is overriden and trap System.exit()
calls to throw an ExitException instead.

------------------------------------------------------------------------
r270148 | sbailliez | 2001-12-14 19:15:16 -0500 (Fri, 14 Dec 2001) | 3 lines

Class the should provide a small set of helper
methods related to string manipulation.

------------------------------------------------------------------------
r270147 | sbailliez | 2001-12-14 18:36:17 -0500 (Fri, 14 Dec 2001) | 5 lines

Add a security manager that trap System.exit() calls.
Note that this is added in Main only for JDK1.2+
since it looks like the SM is not that friendly
for previous versions.

------------------------------------------------------------------------
r270145 | bodewig | 2001-12-14 09:51:34 -0500 (Fri, 14 Dec 2001) | 2 lines

remove redundant logging.

------------------------------------------------------------------------
r270143 | bodewig | 2001-12-14 07:23:50 -0500 (Fri, 14 Dec 2001) | 4 lines

Add documentation on Loggers and Listeners.

Submitted by:	Erik Hatcher <jakarta-ant@ehatchersolutions.com>

------------------------------------------------------------------------
r270142 | bodewig | 2001-12-14 06:49:15 -0500 (Fri, 14 Dec 2001) | 2 lines

fix NPE.

------------------------------------------------------------------------
r270141 | bodewig | 2001-12-14 06:15:42 -0500 (Fri, 14 Dec 2001) | 3 lines

Fix taskdef testcase in a rather hacky way.  This one doesn't address
child elements of user defined tasks that override built-in tasks.

------------------------------------------------------------------------
r270140 | bodewig | 2001-12-14 02:29:43 -0500 (Fri, 14 Dec 2001) | 2 lines

Add a testcase that demonstrates why FOP's build fails right now.

------------------------------------------------------------------------
r270138 | bodewig | 2001-12-13 07:23:17 -0500 (Thu, 13 Dec 2001) | 4 lines

Add a BuildLogger that can send emails.

Submitted by:	Erik Hatcher <jakarta-ant@ehatchersolutions.com>

------------------------------------------------------------------------
r270136 | bodewig | 2001-12-13 06:56:25 -0500 (Thu, 13 Dec 2001) | 11 lines

Add a new inheritRefs attribute to <ant> with a default value of false
that controls implicit copying of references - i.e. we don't copy
anything by default.

Try to copy a clone before copying the real object.

inheritRefs="true" doesn't make any sense for <antcall> as all
references of the calling project will be defined in the new project
and wouldn't be overwritten.  That's why <antcall> didn't even get
this attribute.

------------------------------------------------------------------------
r270135 | bodewig | 2001-12-13 06:53:44 -0500 (Thu, 13 Dec 2001) | 3 lines

Make those types that have internal state cloneable in a sensible way,
take advantage of ProjectComponent, simplify a few things.

------------------------------------------------------------------------
r270133 | bodewig | 2001-12-12 09:52:35 -0500 (Wed, 12 Dec 2001) | 3 lines

Add some tests for manifest task - realized that empty manifest aren't
that empty.

------------------------------------------------------------------------
r270131 | bodewig | 2001-12-12 05:54:08 -0500 (Wed, 12 Dec 2001) | 5 lines

Make Manifest.java a full flegded task that allows you to write a
manifest file.

PR: 5190

------------------------------------------------------------------------
r270129 | bodewig | 2001-12-12 04:31:51 -0500 (Wed, 12 Dec 2001) | 2 lines

remove exit ability from <input>

------------------------------------------------------------------------
r270128 | bodewig | 2001-12-12 04:17:36 -0500 (Wed, 12 Dec 2001) | 3 lines

Replace ProjectHelper.replaceProperties calls with a new one-arg
method in project.

------------------------------------------------------------------------
r270127 | bodewig | 2001-12-12 04:03:31 -0500 (Wed, 12 Dec 2001) | 3 lines

Make <waitfor> set a property instead of throwing an exception if the
maximum time to wait has been exceeded.

------------------------------------------------------------------------
r270126 | bodewig | 2001-12-12 03:48:42 -0500 (Wed, 12 Dec 2001) | 7 lines

Add if/unless attributes to <fail>.

PR: 1380

This is the first step to remove the fail functionality from input and
waitfor.

------------------------------------------------------------------------
r270123 | sbailliez | 2001-12-11 16:08:23 -0500 (Tue, 11 Dec 2001) | 5 lines

More refactoring, javadoc fixes and spellchecking.
The task is now failing for a failed checkout.

Submitted by: Steve Cohen <SteveC@ignitesports.com>

------------------------------------------------------------------------
r270122 | bodewig | 2001-12-11 10:45:41 -0500 (Tue, 11 Dec 2001) | 2 lines

JDK 1.1 doesn't grok UTF16 8-(

------------------------------------------------------------------------
r270121 | bodewig | 2001-12-11 10:06:23 -0500 (Tue, 11 Dec 2001) | 2 lines

simplify DefaultLogger

------------------------------------------------------------------------
r270120 | bodewig | 2001-12-11 09:55:45 -0500 (Tue, 11 Dec 2001) | 5 lines

Don't require webxml in <war> or appxml in <ear> if updating an
existing archive.

Submitted by:	Stefano Mancarella <mancarella@opoipi.bancaintesa.it>

------------------------------------------------------------------------
r270118 | conor | 2001-12-11 09:18:52 -0500 (Tue, 11 Dec 2001) | 11 lines

Remove the old mechanism of adding super classes and super interfaces to EJB jars
and replace with a general class dependnecy check. This should allow ejb jars
to be much more complete as per the spec.

ejbjar now depends on BCEL.

Add support for Websphere.

Submitted by:	Holger Engels <hengels@mercatis.de>
		Maneesh Sahu <msahu@interkeel.com> (Original Websphere support)

------------------------------------------------------------------------
r270117 | bodewig | 2001-12-11 09:05:43 -0500 (Tue, 11 Dec 2001) | 6 lines

If running on JDK 1.3 register an exit handler that kills spawned
processes when the JVM exits.

PR: 5125
Submitted by:	mnewcomb@tacintel.com (Michael Newcomb)

------------------------------------------------------------------------
r270115 | bodewig | 2001-12-11 08:54:35 -0500 (Tue, 11 Dec 2001) | 5 lines

JDK 1.1 issues.

I'm sure the depend classes can be converted to not use JDK 1.2
collection classes.

------------------------------------------------------------------------
r270114 | bodewig | 2001-12-11 07:55:55 -0500 (Tue, 11 Dec 2001) | 2 lines

Use the proper encoding for the default manifest.

------------------------------------------------------------------------
r270113 | bodewig | 2001-12-11 07:01:51 -0500 (Tue, 11 Dec 2001) | 5 lines

Make DefaultLogger a bit more subclass friendly.

PR: 4152
Submitted by:	jakarta@ehatchersolutions.com (Erik Hatcher)

------------------------------------------------------------------------
r270112 | stevel | 2001-12-11 04:23:56 -0500 (Tue, 11 Dec 2001) | 4 lines

task lacked a failonerror flag. sigh. now you can handle a missing server without the build keeling over.

Also now we can start writing some unit tests on this item, no?

------------------------------------------------------------------------
r270111 | umagesh | 2001-12-10 13:01:16 -0500 (Mon, 10 Dec 2001) | 4 lines

Name of file attachments can be optionally included.

PR: 3024

------------------------------------------------------------------------
r270110 | bodewig | 2001-12-10 11:05:08 -0500 (Mon, 10 Dec 2001) | 3 lines

repair the broken logic of my last patch (my fault not the original
submitter's).

------------------------------------------------------------------------
r270109 | bodewig | 2001-12-10 10:54:26 -0500 (Mon, 10 Dec 2001) | 6 lines

use the same timestamp for all files of nested filesets in <touch> if
no value has been specified.

PR: 2956
Submitted by:	richardwan@servidium.com (Richard F Wan)

------------------------------------------------------------------------
r270108 | bodewig | 2001-12-10 10:38:59 -0500 (Mon, 10 Dec 2001) | 6 lines

We really want to look for a constructor taking a *Project* argument,
not a possible subclass.

PR: 2652
Submitted by:	Robert Watkins <robert.watkins@qsipayments.com>

------------------------------------------------------------------------
r270106 | bodewig | 2001-12-10 08:03:31 -0500 (Mon, 10 Dec 2001) | 4 lines

perform some sanity checks on mail servers response.

PR: 5273 (but probably doesn't fix it)

------------------------------------------------------------------------
r270105 | bodewig | 2001-12-10 05:10:35 -0500 (Mon, 10 Dec 2001) | 4 lines

Allow <ant> and <antcall> to pass references to the subbuilds.

Submitted by:	Matthieu Bentot <mbentot@arantech.com>

------------------------------------------------------------------------
r270103 | sbailliez | 2001-12-09 15:58:36 -0500 (Sun, 09 Dec 2001) | 3 lines

Forgot to apply the filtering stack trace patch...
Thanks to Erik Hatcher for keeping an eye open.

------------------------------------------------------------------------
r270102 | sbailliez | 2001-12-09 08:43:14 -0500 (Sun, 09 Dec 2001) | 2 lines

Minor layout change.

------------------------------------------------------------------------
r270100 | sbailliez | 2001-12-09 08:39:14 -0500 (Sun, 09 Dec 2001) | 2 lines

constructor has changed for filtering

------------------------------------------------------------------------
r270099 | sbailliez | 2001-12-09 08:38:18 -0500 (Sun, 09 Dec 2001) | 9 lines

Patch from Scott Stirling <scottstirling@rcn.com> that allows
stack trace filtering for formatters. It will filter out
those unneeded frame from Ant and JUnit so the stack will
be much more readable.

nb: Looks like the JUnit task need serious refactoring since we have
been adding feature incrementally. It starts to be a real mess,
I can barely read my own code :-(

------------------------------------------------------------------------
r270096 | stevel | 2001-12-08 02:36:16 -0500 (Sat, 08 Dec 2001) | 3 lines

Added a test for time dependent copy -and the ability to override it.
This is long for a test (=harder to tell which assert failed), but if you are going to sleep between touches then you should make the most of the test.

------------------------------------------------------------------------
r270095 | stevel | 2001-12-08 02:34:36 -0500 (Sat, 08 Dec 2001) | 2 lines

Added a test for time dependent copy -and the ability to override it.

------------------------------------------------------------------------
r270094 | stevel | 2001-12-08 02:32:34 -0500 (Sat, 08 Dec 2001) | 2 lines

Removing a redundant check.

------------------------------------------------------------------------
r270092 | stevel | 2001-12-08 00:38:01 -0500 (Sat, 08 Dec 2001) | 2 lines

little clarification in the code

------------------------------------------------------------------------
r270091 | sbailliez | 2001-12-07 16:51:01 -0500 (Fri, 07 Dec 2001) | 9 lines

Patch about targetfolder from Steve Cohen.
I also refactored the task a little bit to support directly primitive types such as
int or boolean and fixed a couple of mistakes about error handling in the original code.

It should be a good starting point for further refactoring.

pr: 5138, 5187
by: stevec@ignitesports.com (Steve Cohen)

------------------------------------------------------------------------
r270090 | umagesh | 2001-12-07 15:45:38 -0500 (Fri, 07 Dec 2001) | 6 lines

Added a protected method "recreateSrc" to help task writers who extend
Javac.

PR: 3703
Based on Submission by: bmoriarty@polexis.com

------------------------------------------------------------------------
r270089 | bodewig | 2001-12-07 11:10:17 -0500 (Fri, 07 Dec 2001) | 5 lines

register style task as error listener to the Trax transformer and
factory so messages will get back to Ant's logging system.

Submitted by:	David Leuschner <leuschner-list@gmx.net>

------------------------------------------------------------------------
r270088 | bodewig | 2001-12-07 06:14:03 -0500 (Fri, 07 Dec 2001) | 2 lines

fix testcase that requires /tmp to exist (at least I hope so).

------------------------------------------------------------------------
r270087 | bodewig | 2001-12-07 06:03:37 -0500 (Fri, 07 Dec 2001) | 4 lines

Advice TaskContainer writers to use Task.perform.

Get rid of javadoc warning in Project.

------------------------------------------------------------------------
r270084 | bodewig | 2001-12-07 02:16:56 -0500 (Fri, 07 Dec 2001) | 3 lines

Don't punish people who want to modify the values of existing
properties in tasks of their own.

------------------------------------------------------------------------
r270081 | bodewig | 2001-12-06 11:29:37 -0500 (Thu, 06 Dec 2001) | 6 lines

Speed up <move>: Try to rename the top directory if we are moving
complete directory trees.

PR:
Submitted by:	Magesh Umasankar <umagesh@rediffmail.com>

------------------------------------------------------------------------
r270080 | bodewig | 2001-12-06 10:38:52 -0500 (Thu, 06 Dec 2001) | 4 lines

enable modified version of the awk test to demonstrate there is no problem.

PR: 4911

------------------------------------------------------------------------
r270079 | umagesh | 2001-12-06 09:33:40 -0500 (Thu, 06 Dec 2001) | 2 lines

Ensure maxWaitMIllis and checkEveryMillis results in proper values irrespective of the order in which the setter methods are called.

------------------------------------------------------------------------
r270078 | donaldp | 2001-12-06 04:11:17 -0500 (Thu, 06 Dec 2001) | 12 lines

Update to remove warnings generated by antcall due to last immutability tightening. Did this by adding a protected constructor to property.

Made sure that operations internal to Project could not generate these warnings by adding a new setPropertyInternal method that didn't do any checks.

Also made the getUserProperties and getProperties methods return copies of maps rather than direct references.

Updated WHATSNEW to warn about these issues.

Added some unit tests to verify that property immutability is enforced - where we actually do enforce it ;)

Submitted by: "Erik Hatcher" <jakarta-ant@ehatchersolutions.com>

------------------------------------------------------------------------
r270077 | donaldp | 2001-12-06 04:07:09 -0500 (Thu, 06 Dec 2001) | 2 lines

Remove some deprecated language features.

------------------------------------------------------------------------
r270076 | umagesh | 2001-12-05 16:10:41 -0500 (Wed, 05 Dec 2001) | 2 lines

Display to the user another cause of task not found exception being thrown.

------------------------------------------------------------------------
r270074 | umagesh | 2001-12-05 15:22:19 -0500 (Wed, 05 Dec 2001) | 4 lines

More setFoo(String) to setFoo(Bar) conversions.
Didn't worry too much about WaitFor's backward compatibility issues as it is hardly a week old.
WaitFor has ben modified this way so that it is consistent with Tstamp and takes in enumerated attributes for unit instead of allowing arbitrary letters/ words suffixed to the time.

------------------------------------------------------------------------
r270072 | umagesh | 2001-12-04 21:06:57 -0500 (Tue, 04 Dec 2001) | 2 lines

setAction(String) replaced with setAction(FTP.Action) for action attribute of the FTP task.  setAction(String) has been deprecated.

------------------------------------------------------------------------
r270071 | umagesh | 2001-12-04 20:15:57 -0500 (Tue, 04 Dec 2001) | 6 lines

setFoo(String) replaced with setFoo(ExtendedEnumeratedAttribute) for certain attributes of these tasks:
Available.java
Tar.java
Tstamp.java
setFoo(String) has been deprecated for the affected attributes.

------------------------------------------------------------------------
r270070 | umagesh | 2001-12-04 15:34:29 -0500 (Tue, 04 Dec 2001) | 2 lines

If a task contains setFoo(String) and setFoo(Bar), setFoo(Bar) gets selected by the introspection mechanism.

------------------------------------------------------------------------
r270068 | stevel | 2001-12-03 15:24:50 -0500 (Mon, 03 Dec 2001) | 2 lines

Last weeks changes took away helpful information about why exec failed to run; this puts it back in.

------------------------------------------------------------------------
r270064 | sbailliez | 2001-12-01 19:21:38 -0500 (Sat, 01 Dec 2001) | 3 lines

Clean up tabs and fix some ugly css mistakes.
Should look a little bit better now.

------------------------------------------------------------------------
r270063 | donaldp | 2001-11-30 22:34:35 -0500 (Fri, 30 Nov 2001) | 2 lines

Make changes so that tasks use the two arg replaceProperties() rather than 3 arg as it is lower coupling.

------------------------------------------------------------------------
r270062 | donaldp | 2001-11-30 22:33:57 -0500 (Fri, 30 Nov 2001) | 4 lines

Add a method replaceProperties(Project,String). This delegates directly to replaceProperties(Project,String,HashMap). The Map parameter contains all the properties in Project.

This makes it easier to have a lighter coupling between tasks and Project.

------------------------------------------------------------------------
r270061 | donaldp | 2001-11-30 22:31:40 -0500 (Fri, 30 Nov 2001) | 2 lines

Remove unsetProperty() because it allows tasks to break immutability.

------------------------------------------------------------------------
r270060 | sbailliez | 2001-11-30 19:00:46 -0500 (Fri, 30 Nov 2001) | 6 lines

- Fixed some case issues related to JProbe directories under Solaris.
- SourceFile attribute does not always exists in the bytecode, so take care of it.

PR: 5217
Submitted by: garrick.olson@aceva.com (Garrick Olson)

------------------------------------------------------------------------
r270057 | stevel | 2001-11-30 15:52:23 -0500 (Fri, 30 Nov 2001) | 6 lines

PR: 3952, 3654 : "4NT not being recognised correctly"
Submitted by: alan@coldsmoke.com (Alan Arvesen), greg_fenton@yahoo.com (Greg Fenton)
Reviewed by: Steve Loughran

Fixed the 4NT test as suggested, tested it by running the batch file without echoes. 4NT 4.00A actually works properly without the fix, because it understands NT CMD shell variables better. This fix should support earlier versions.

------------------------------------------------------------------------
r270056 | stevel | 2001-11-30 15:43:27 -0500 (Fri, 30 Nov 2001) | 2 lines

report a timeout to the log

------------------------------------------------------------------------
r270055 | stevel | 2001-11-30 15:43:03 -0500 (Fri, 30 Nov 2001) | 2 lines

new method, killedProcess() which returns true if there is a watchdog and it killed the process

------------------------------------------------------------------------
r270054 | donaldp | 2001-11-30 12:35:06 -0500 (Fri, 30 Nov 2001) | 6 lines

This patch forces property setting to follow the same rules as the rest of ant in most tasks. The few tasks where we have not forced immutability will instead get 3 line ugly warnings telling them that they should upgrade or not use the same property name etc.

The reason for just warning them is backwards compatability.

Submitted by: "Erik Hatcher" <erik@hatcher.net>

------------------------------------------------------------------------
r270051 | bodewig | 2001-11-30 07:24:17 -0500 (Fri, 30 Nov 2001) | 4 lines

New task <input>

Submitted by:	Ulrich Schmidt <ulrich.schmidt@gmx.net>

------------------------------------------------------------------------
r270050 | bodewig | 2001-11-30 07:05:27 -0500 (Fri, 30 Nov 2001) | 10 lines

New task <waitfor> that waits until a given condition gets true or a
timeout occurs.

Submitted by:	Denis Hennessy <denis@network365.com>

As a side effect, <condition> gains two new conditions.  This also
means we now have a way to check whether we are on a networked system
and run/omit testcases that require network to be established based on
such a condition.

------------------------------------------------------------------------
r270049 | bodewig | 2001-11-30 06:33:26 -0500 (Fri, 30 Nov 2001) | 4 lines

datatypes for regexp replace task.

Submitted by:	Matthew Inger <matti@sedonacorp.com>

------------------------------------------------------------------------
r270047 | umagesh | 2001-11-29 11:51:24 -0500 (Thu, 29 Nov 2001) | 5 lines

Make BZip2 task comply with native bzip2 when there are multiple blocks
in the compressed file.

Submitted by Keiron Liddle "keiron@aftexsw.com"

------------------------------------------------------------------------
r270046 | umagesh | 2001-11-29 11:46:28 -0500 (Thu, 29 Nov 2001) | 2 lines

Preparing real huge test files on bzip2 tasks....

------------------------------------------------------------------------
r270045 | conor | 2001-11-29 08:47:38 -0500 (Thu, 29 Nov 2001) | 14 lines

Additional functionality for classfileset.

Change baseclass paramater to rootclass and make it use dot notation for
the classname rather than making it a file.

Also allow multiple nested <root> elements to define more than one root
class

Example:
  <classfileset dir="build/classes" id="classes">
    <root classname="org.apache.tools.ant.Main"/>
    <root classname="org.apache.tools.ant.taskdefs.optional.ejb.EjbJar"/>
  </classfileset>

------------------------------------------------------------------------
r270044 | conor | 2001-11-29 08:08:33 -0500 (Thu, 29 Nov 2001) | 2 lines

Move dependency classfileset support code over to Apache BCEL

------------------------------------------------------------------------
r270042 | bodewig | 2001-11-29 03:31:01 -0500 (Thu, 29 Nov 2001) | 2 lines

split javac testcase so that it doesn't use Project.unsetProperty any longer.

------------------------------------------------------------------------
r270041 | bodewig | 2001-11-28 04:21:37 -0500 (Wed, 28 Nov 2001) | 10 lines

Make testcase for <available> pass again, by re-applying the
resolveFile magic unless a filepaths has been specified.

Note that I've rewritten the checkFile() method in the filepath case
to match the comment in the sources (at least I think so).

Actually, I think we are generating too many passed checks, especially
with simple name specified == parent of parent dir + name but this is
a different issue.

------------------------------------------------------------------------
r270040 | bodewig | 2001-11-28 03:42:30 -0500 (Wed, 28 Nov 2001) | 2 lines

re-add files in binary mode.

------------------------------------------------------------------------
r270039 | bodewig | 2001-11-28 03:41:33 -0500 (Wed, 28 Nov 2001) | 2 lines

make things binary, that should be binary.

------------------------------------------------------------------------
r270038 | stevel | 2001-11-27 20:15:29 -0500 (Tue, 27 Nov 2001) | 5 lines

PR:4992
Submitted by:Erik Hatcher

Tail end of Erik's javadoc patches

------------------------------------------------------------------------
r270036 | stevel | 2001-11-27 18:45:49 -0500 (Tue, 27 Nov 2001) | 4 lines

PR 5025 : Execute still fails when failonerror=false and the error is program not found

I've decoupled the handler for this from failonerror to maximise backwards compatibility, there is now a failIfExecuteFails flag, set to true by default.

------------------------------------------------------------------------
r270032 | stevel | 2001-11-27 14:25:44 -0500 (Tue, 27 Nov 2001) | 7 lines

PR 5025 : Execute still fails when failonerror=false and the error is program not found
PR 4345 :Request for addition of "rcproperty" attribute to <exec>

The property is called resultproperty; implements immutability in some code that should be replaced by a standalone method in Project.

Documentation still TBD.

------------------------------------------------------------------------
r270031 | umagesh | 2001-11-27 13:04:54 -0500 (Tue, 27 Nov 2001) | 2 lines

Convert tabs to spaces...

------------------------------------------------------------------------
r270030 | holtdl | 2001-11-27 12:44:52 -0500 (Tue, 27 Nov 2001) | 6 lines

Make sure only files are passed as possibilites when a directory is given.
PR: 5128
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r270028 | holtdl | 2001-11-27 10:41:04 -0500 (Tue, 27 Nov 2001) | 11 lines

Fix my previous fix. First time thru, I thought filepath was only used
with a <fileset> (oops). Changed passed-in file to be a string, so it
doesn't end up becoming a full-pathname prepended with the base dir,
which wasn't really needed and was complicating using it when a filepath
was specified. Also fixed some of the logging. (Also, hopefully the Java
is a bit better this time :)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r270026 | stevel | 2001-11-27 03:25:08 -0500 (Tue, 27 Nov 2001) | 2 lines

Javadocs for a lot (but not all) the Project methods. Also added a couple of explicit throws BuildException calls, even though by virtue of being a RuntimeException it aint compulsory.

------------------------------------------------------------------------
r270023 | rubys | 2001-11-26 13:10:45 -0500 (Mon, 26 Nov 2001) | 12 lines

Add support to for XSLT output types.  This maps to TraX's:
   transformer.setOutputProperty(OutputKeys.METHOD, type);

Background/rationalle: I'm looking into spliting Gumps gen.bat and gen.sh
scripts into a minimal bootstrap and a normal Ant "build.xml".  In order
to achieve this, I need access to the functionallity that Xalan supports
from the command line via the -text parameter.

I've provided an implementation to seed the discussion on how this should
be supported.  I am by no means wedded to this approach - if others see a
better way, either let me know or directly make the change.

------------------------------------------------------------------------
r270019 | rubys | 2001-11-26 08:29:43 -0500 (Mon, 26 Nov 2001) | 4 lines

Sheesh.  In restructuring, I made only one line of code change, and I
managed to screw it up.  ;-)
Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r270014 | bodewig | 2001-11-26 06:03:52 -0500 (Mon, 26 Nov 2001) | 4 lines

JDK 1.1 compatibility.

Submitted by:	Finn Bock <bckfnn@worldonline.dk>

------------------------------------------------------------------------
r270009 | stevel | 2001-11-26 02:40:48 -0500 (Mon, 26 Nov 2001) | 2 lines

tabs to spaces

------------------------------------------------------------------------
r270008 | rubys | 2001-11-25 22:09:01 -0500 (Sun, 25 Nov 2001) | 3 lines

Seems silly to produce the same log message for every file, particularly
as this message was already issued previously...

------------------------------------------------------------------------
r270007 | rubys | 2001-11-25 14:28:51 -0500 (Sun, 25 Nov 2001) | 9 lines

Allow junitreport to be compiled independent of the presence of Xalan1.

The reason for this is that the Xalan1 team is strongly considering
removing Xalan1Compat from cvs...

No logic changes were made in this commit...classes were merely split out
into separate files, and the instance of Xalan1Executor is now created
using reflection APIs.

------------------------------------------------------------------------
r270005 | sbailliez | 2001-11-25 11:01:57 -0500 (Sun, 25 Nov 2001) | 5 lines

tstamp now supports a timezone attribute for a custom format.

PR: 5000
Reported by: max@eos.dk (Max Rydahl Andersen)

------------------------------------------------------------------------
r270004 | sbailliez | 2001-11-25 06:47:12 -0500 (Sun, 25 Nov 2001) | 4 lines

Rewrote the xsl that allows to visualize ant build logs.
Should be a little bit more sexy than the original that
was there for a long time.

------------------------------------------------------------------------
r270003 | sbailliez | 2001-11-25 06:44:30 -0500 (Sun, 25 Nov 2001) | 2 lines

Fixed a comment...in case it is useful to someone

------------------------------------------------------------------------
r270001 | umagesh | 2001-11-25 02:54:28 -0500 (Sun, 25 Nov 2001) | 3 lines

Added name, arch, version as attributes to Os.
This would let one to, say, run different things on sparc or x86 solaris...

------------------------------------------------------------------------
r270000 | umagesh | 2001-11-23 14:37:38 -0500 (Fri, 23 Nov 2001) | 6 lines

Typo fix

PR: 5029

Submitted by:  Jesse Glick "jesse.glick@netbeans.com"

------------------------------------------------------------------------
r269999 | umagesh | 2001-11-23 14:17:45 -0500 (Fri, 23 Nov 2001) | 8 lines

Remotedir need not be specified for ftp to work.

PR: 4821, 5053

Submitted by:
Erik Hatcher "jakarta@ehatchersolutions.com"
Remco Slotboom "remco.slotboom@ctp.com"

------------------------------------------------------------------------
r269998 | bodewig | 2001-11-23 07:53:43 -0500 (Fri, 23 Nov 2001) | 2 lines

flush logfile while logging - otherwise tail -f get's boring.

------------------------------------------------------------------------
r269994 | sbailliez | 2001-11-23 01:36:11 -0500 (Fri, 23 Nov 2001) | 2 lines

Fixed typo. excludesfiles is an attribute not an element

------------------------------------------------------------------------
r269993 | sbailliez | 2001-11-22 16:23:06 -0500 (Thu, 22 Nov 2001) | 8 lines

XSL that allows automatic update from deprecated tasks to non-deprecated tasks.
At the moment it handles the following tasks:
apply, javadoc2, deltree, copydir, copyfile, rename.
Alternatively it handles the deprecation of the attributes jarfile and zipfile of jar
and zip tasks that will be deprecated starting from Ant 1.5

As suggested by Jose Alberto Fernandez <j_a_fernandez@yahoo.com>

------------------------------------------------------------------------
r269990 | bodewig | 2001-11-22 04:37:34 -0500 (Thu, 22 Nov 2001) | 2 lines

Add a little logging to checksum.

------------------------------------------------------------------------
r269989 | stevel | 2001-11-22 03:46:55 -0500 (Thu, 22 Nov 2001) | 2 lines

Erik's big javadoc fixup, bugzilla ID #4992

------------------------------------------------------------------------
r269988 | stevel | 2001-11-22 03:45:03 -0500 (Thu, 22 Nov 2001) | 3 lines

Erik's big javadoc fixup, bugzilla ID #4992
In this set making sure Stefan gets the support emails :-)

------------------------------------------------------------------------
r269986 | umagesh | 2001-11-21 18:09:39 -0500 (Wed, 21 Nov 2001) | 3 lines

Classic compiler, so long as it is not Version 1.0 or 1.1.x, also recognizes
debuglevel.

------------------------------------------------------------------------
r269985 | umagesh | 2001-11-21 17:36:12 -0500 (Wed, 21 Nov 2001) | 7 lines

1. As suggested by Peter, nixed the attributes outfile & verbose
previously added to Untar, Unjar, Unwar and Unzip, so that these tasks stay
focussed on unarchival and nothing but it.
2. If the Src attribute represents a directory, an exception is thrown, as Stefan
suggested.  Nested Filesets to be used instead.
3. Testcase added to catch this exception.

------------------------------------------------------------------------
r269984 | bodewig | 2001-11-21 12:31:25 -0500 (Wed, 21 Nov 2001) | 2 lines

remove tabs

------------------------------------------------------------------------
r269983 | bodewig | 2001-11-21 12:29:43 -0500 (Wed, 21 Nov 2001) | 2 lines

handle target files as well.

------------------------------------------------------------------------
r269982 | bodewig | 2001-11-21 12:20:29 -0500 (Wed, 21 Nov 2001) | 5 lines

Add a "relative" attribute to <apply> - this allows users to pass
relative paths on the command line instead of absolute.

Submitted by:	Matthew O'Haire <mohaire@trysoft.com>

------------------------------------------------------------------------
r269978 | bodewig | 2001-11-21 10:45:26 -0500 (Wed, 21 Nov 2001) | 2 lines

Add testcase for untar, improve testcases for zip/unzip/tar

------------------------------------------------------------------------
r269977 | bodewig | 2001-11-21 08:10:06 -0500 (Wed, 21 Nov 2001) | 3 lines

remove abuse of the Touch task (that I would have missed if t had not
been for Magesh's patch).

------------------------------------------------------------------------
r269976 | umagesh | 2001-11-21 04:05:15 -0500 (Wed, 21 Nov 2001) | 2 lines

Reverted to 1.9

------------------------------------------------------------------------
r269974 | umagesh | 2001-11-21 03:14:45 -0500 (Wed, 21 Nov 2001) | 4 lines

Lines in manifest that have nothing but spaces are treated as empty lines just like JDK's Jar utility does.

PR: 4840

------------------------------------------------------------------------
r269973 | umagesh | 2001-11-21 02:31:01 -0500 (Wed, 21 Nov 2001) | 5 lines

1. Refactored Untar to extend from Expand, as untar is very similar to unjar, unwar and unzip.
2. Added 2 new attributes to these tasks - outfile and verbose
3. Nested Patternsets can be used to specify what files are to be extracted from within the archive.
4. Nested Filesets can be specified to select previously archived files for unarchival (PR: 3074)

------------------------------------------------------------------------
r269971 | umagesh | 2001-11-20 17:24:14 -0500 (Tue, 20 Nov 2001) | 5 lines

New debuglevel attribute for Javac - will be used only when the modern
complier is used.

PR: 4127

------------------------------------------------------------------------
r269969 | bodewig | 2001-11-20 11:23:11 -0500 (Tue, 20 Nov 2001) | 2 lines

fix checksum's handling of nested filesets.

------------------------------------------------------------------------
r269966 | umagesh | 2001-11-19 22:02:18 -0500 (Mon, 19 Nov 2001) | 3 lines

1. Ensure javac does not report deprecation warnings.
2. Close fileoutputstream for every iteration.

------------------------------------------------------------------------
r269964 | bodewig | 2001-11-19 10:53:14 -0500 (Mon, 19 Nov 2001) | 2 lines

add real tests fro the gzip and bzip2 tasks.

------------------------------------------------------------------------
r269963 | bodewig | 2001-11-19 10:18:46 -0500 (Mon, 19 Nov 2001) | 3 lines

Add testcase for <checksum>, clarify its documentation when used as a
condition and create checksums in Ant's distribution target.

------------------------------------------------------------------------
r269962 | conor | 2001-11-19 09:30:22 -0500 (Mon, 19 Nov 2001) | 3 lines

An initial cut at getting the RPMs for Ant to build as part of the
distribution build.

------------------------------------------------------------------------
r269961 | bodewig | 2001-11-19 09:15:43 -0500 (Mon, 19 Nov 2001) | 7 lines

Make <replace> more robust by:

(1) making sure that files will be closed
(2) deleting temporary files

even if something goes wrong.

------------------------------------------------------------------------
r269960 | bodewig | 2001-11-19 08:58:52 -0500 (Mon, 19 Nov 2001) | 2 lines

add method that compares file contents to FileUtils, use it in FixCrLf.

------------------------------------------------------------------------
r269957 | donaldp | 2001-11-19 05:54:50 -0500 (Mon, 19 Nov 2001) | 4 lines

Added support for specifying CVS_RSH in ant CVS task.

Submitted by: john.giacomoni@colorado.edu

------------------------------------------------------------------------
r269956 | bodewig | 2001-11-19 02:59:46 -0500 (Mon, 19 Nov 2001) | 4 lines

Make sure, the test fails for the reason it is supposed to fail.

Submitted by:	Magesh Umasankar <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269955 | bodewig | 2001-11-19 01:31:36 -0500 (Mon, 19 Nov 2001) | 4 lines

fix reversal of logic I introduced with my last patch

Submitted by:	Ilya A. Kriveshko <ilya@kaon.com>

------------------------------------------------------------------------
r269954 | sbailliez | 2001-11-18 15:19:36 -0500 (Sun, 18 Nov 2001) | 2 lines

LineNumberTable has been sent to the recycle bin...

------------------------------------------------------------------------
r269953 | sbailliez | 2001-11-18 15:15:30 -0500 (Sun, 18 Nov 2001) | 8 lines

Make sure that the full stacktrace is logged to
the build file, otherwise you will end up guessing
the failure reason. It is pretty disappointing for
build that last a long time.

The full stacktrace is appended as a 'stacktrace'
element with a CDATA section.

------------------------------------------------------------------------
r269952 | sbailliez | 2001-11-18 10:59:18 -0500 (Sun, 18 Nov 2001) | 6 lines

ANTLR task will now work with the jar being in ${ant.home}/lib rather than in the classpath.
Bug 4899 reported by David Holscher <David.Holscher@nav-international.com>

I copied the code snippet that Stefan did for JUnit. Thanks Stefan.
I added the possibility to specify a classpath and jvm args to ANTLR and fixed the code so that the working dir is not mandatory as specified in the docs.

------------------------------------------------------------------------
r269950 | sbailliez | 2001-11-18 09:28:23 -0500 (Sun, 18 Nov 2001) | 2 lines

Fixed a couple of messages to make them more meaningful

------------------------------------------------------------------------
r269949 | sbailliez | 2001-11-18 09:25:57 -0500 (Sun, 18 Nov 2001) | 2 lines

testing for XMLReport...

------------------------------------------------------------------------
r269948 | sbailliez | 2001-11-18 09:12:21 -0500 (Sun, 18 Nov 2001) | 4 lines

Sample JProbe Coverage report obtained from running a Ant compile with a java.* filter.
I commented the doctype so that the dtd does not bother us when parsing
the document.

------------------------------------------------------------------------
r269947 | sbailliez | 2001-11-18 07:27:32 -0500 (Sun, 18 Nov 2001) | 2 lines

better incomplete than nothing...

------------------------------------------------------------------------
r269946 | sbailliez | 2001-11-18 07:25:55 -0500 (Sun, 18 Nov 2001) | 10 lines

Uh ! Found stupid bugs while doing some code review:

1) classes were indexed by their name instead of their fullname...
It means that a class X in package Y could shadow class X in package Z. Great !

2) I was looking for duplicate not by the key but the value.

Obviouslly it could never work, fortunately due to
heavy memory usage, I did not used this method in XMLReport.

------------------------------------------------------------------------
r269945 | sbailliez | 2001-11-18 06:41:06 -0500 (Sun, 18 Nov 2001) | 2 lines

Removing tabs and cleaning up imports ( the layout feature of IntelliJ is great! )

------------------------------------------------------------------------
r269944 | sbailliez | 2001-11-18 06:35:24 -0500 (Sun, 18 Nov 2001) | 2 lines

Removed useless import.

------------------------------------------------------------------------
r269943 | sbailliez | 2001-11-17 20:09:41 -0500 (Sat, 17 Nov 2001) | 2 lines

Removing import that is no more needed... wiped out. :)

------------------------------------------------------------------------
r269942 | sbailliez | 2001-11-17 20:06:30 -0500 (Sat, 17 Nov 2001) | 2 lines

bad naming....remove this

------------------------------------------------------------------------
r269941 | sbailliez | 2001-11-17 20:05:20 -0500 (Sat, 17 Nov 2001) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r269940 | sbailliez | 2001-11-17 20:02:20 -0500 (Sat, 17 Nov 2001) | 2 lines

little testcase to ensure that I did not break too many things will refactoring aggressively the code behind the hood.

------------------------------------------------------------------------
r269939 | sbailliez | 2001-11-17 19:52:57 -0500 (Sat, 17 Nov 2001) | 2 lines

trying to remove useless files...

------------------------------------------------------------------------
r269938 | sbailliez | 2001-11-17 19:51:51 -0500 (Sat, 17 Nov 2001) | 3 lines

This is now an interface...
all the code that was there is now useless.

------------------------------------------------------------------------
r269937 | sbailliez | 2001-11-17 19:45:51 -0500 (Sat, 17 Nov 2001) | 4 lines

Applied patch from Garrick Olson <garrick.olson@aceva.com>
I refactored the bytecode reading to avoid keeping unnecessary data and wasting memory.
I will do a second pass to remove all useless classes.

------------------------------------------------------------------------
r269936 | sbailliez | 2001-11-16 18:28:52 -0500 (Fri, 16 Nov 2001) | 3 lines

Added the test testAwkCommand to reproduce bug 4911
I commented it out for now since I'm not that confortable with the quoting logic in command line.

------------------------------------------------------------------------
r269935 | sbailliez | 2001-11-16 17:59:16 -0500 (Fri, 16 Nov 2001) | 2 lines

Fixed a typo of the deprecated tag

------------------------------------------------------------------------
r269934 | sbailliez | 2001-11-16 17:25:59 -0500 (Fri, 16 Nov 2001) | 5 lines

Use the coverage home directory...not the JProbe home.
Be consistent with other tasks.
May need to refactor some code in an abstract class.
Reported by stefan hardege <s.hardege@web.de>

------------------------------------------------------------------------
r269933 | sbailliez | 2001-11-16 16:40:59 -0500 (Fri, 16 Nov 2001) | 2 lines

Adding test to demonstrate multiple files transform for trax as filed in bug 4335

------------------------------------------------------------------------
r269931 | bodewig | 2001-11-16 07:43:28 -0500 (Fri, 16 Nov 2001) | 2 lines

fix gzip test

------------------------------------------------------------------------
r269930 | bodewig | 2001-11-16 07:42:55 -0500 (Fri, 16 Nov 2001) | 2 lines

oops

------------------------------------------------------------------------
r269929 | bodewig | 2001-11-16 07:30:58 -0500 (Fri, 16 Nov 2001) | 6 lines

checksum task and condition.

I promise to add testcases later 8-)

Submitted by:	Magesh Umasankar <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269928 | conor | 2001-11-16 07:05:50 -0500 (Fri, 16 Nov 2001) | 2 lines

Remove tabs in IntrospectionHelper

------------------------------------------------------------------------
r269927 | donaldp | 2001-11-16 04:54:47 -0500 (Fri, 16 Nov 2001) | 4 lines

Fixed bug in SignJar not properly handling nested filesets.

Submitted by:  Michael Bayne <mdb@samskivert.com>

------------------------------------------------------------------------
r269926 | donaldp | 2001-11-16 04:49:19 -0500 (Fri, 16 Nov 2001) | 4 lines

Fix up packaging of bzip utilities.

Submitted by: "Magesh Umasankar" <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269924 | sbailliez | 2001-11-15 17:26:51 -0500 (Thu, 15 Nov 2001) | 4 lines

IVJ exception was not nested as it should be.
Reported by Chris Kreussling <chris.kreussling@ny.frb.org>
I'm committing blindly since I don't have stubs for VAJ

------------------------------------------------------------------------
r269923 | sbailliez | 2001-11-15 17:11:28 -0500 (Thu, 15 Nov 2001) | 5 lines

Allow port specification for the mail task.
RFE requested by Andrew McConnell <mcconnell@socketware.com>
Heavily based on the patch from Magesh Umasankar <umagesh@rediffmail.com>
Errh, I just realized the full patch was in the first attachment, I though Magesh forgot to update the mail task. Doh ! :-(

------------------------------------------------------------------------
r269921 | conor | 2001-11-15 08:33:26 -0500 (Thu, 15 Nov 2001) | 6 lines

Added more tests for Manifests
Fixed problem with multiple class-path attributes. Hopefully Sun will
update their spec sometime.

PR:	4683

------------------------------------------------------------------------
r269919 | donaldp | 2001-11-15 04:14:10 -0500 (Thu, 15 Nov 2001) | 33 lines


Here are two new ant tasks - BZip2 and BUnzip2. �These
two tasks use the BZip2 compression algorithm (Visit:
http://sourceware.cygnus.com/bzip2/�for more info.) for
packing and unpacking.

These tasks resemble GZip and GUnzip tasks in input,
input validation, etc. �Hence, I refactored GZip and
GUnzip tasks as well so that the tasks GZip and BZip2
extend from a common base class named Pack, and
GUnzip and BUnzip2 extend from a common base class named
Unpack. �This lays the foundation for creating more Pack
tasks based on different algorithms like lzop, etc. in
the future.

The BZip2 and BUnzip2 tasks depend upon 4 classes:
BZip2Constants.java
CBZip2InputStream.java
CBZip2OutputStream.java
CRC.java

Keiron Liddle (keiron@aftexsw.com) has graciously
accepted to contribute the above code files he has
authored, under ASF license - many thanks to him. �I
have packaged them under org.apache.tools.bzip2,
mimicking the package naming style that has been used
for zip and tar tools we already have. �I have also
given proper credits to him in the code. �Perhaps, this
needs to exist under jakarta-commons, as Stefan had
suggested, but till then...

Submitted by: "Magesh Umasankar" <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269918 | bodewig | 2001-11-15 03:47:49 -0500 (Thu, 15 Nov 2001) | 4 lines

don't assume a JUnit Test extends TestCase

PR: 4870

------------------------------------------------------------------------
r269916 | donaldp | 2001-11-15 03:02:40 -0500 (Thu, 15 Nov 2001) | 6 lines

Added slightly modified version of Execute.

Script adds support for Netware in Execute. In the case of a non JVM supported execute (ie when changing dirs pre1.3) will call out to a perl script.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269915 | donaldp | 2001-11-15 03:00:09 -0500 (Thu, 15 Nov 2001) | 4 lines

A perl script to make it easier to get Execute to run under netware.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269914 | sbailliez | 2001-11-14 17:19:39 -0500 (Wed, 14 Nov 2001) | 5 lines

Fixed the description bug reported by Gerhard Langs <glangs@eunet.at>
Description is now backslashed so that delimiters are backslashed correctly and do not confuse Oro.
Based on a patch from Magesh Umasankar <umagesh@rediffmail.com>
Added basic test case to ensure fix.

------------------------------------------------------------------------
r269913 | holtdl | 2001-11-14 14:19:54 -0500 (Wed, 14 Nov 2001) | 13 lines

 - Fixed the search for a file or directory using the <filepath> element
   (changes are in checkFile(), in case anyone wants to review this
   and make sure I did it right).
 - Added a BuildException for when the "type" attribute is used with
   anything other than the "file" attribute.
 - Changed the "Searching..." output to DEBUG level, since that
   seemed more appropriate, and added "Found..." output for the
   VERBOSE level.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r269912 | conor | 2001-11-14 08:40:53 -0500 (Wed, 14 Nov 2001) | 3 lines

Initial cut at Manifest tests. This is in preparation for handling multiple
Class-Path entries. More to come.

------------------------------------------------------------------------
r269911 | conor | 2001-11-14 07:25:31 -0500 (Wed, 14 Nov 2001) | 2 lines

Move all tests to BuildFileTest from TaskdefsTest

------------------------------------------------------------------------
r269910 | bodewig | 2001-11-13 10:06:31 -0500 (Tue, 13 Nov 2001) | 2 lines

this is supposed to be a binary file

------------------------------------------------------------------------
r269909 | bodewig | 2001-11-13 10:04:40 -0500 (Tue, 13 Nov 2001) | 2 lines

this is supposed to be a binary file

------------------------------------------------------------------------
r269908 | bodewig | 2001-11-13 09:58:01 -0500 (Tue, 13 Nov 2001) | 4 lines

sanity check filter tokens.

PR: 4634

------------------------------------------------------------------------
r269907 | bodewig | 2001-11-13 09:49:48 -0500 (Tue, 13 Nov 2001) | 4 lines

Make <fixcrlf> work for long lines as well.

PR: 4186, 4646, 4709

------------------------------------------------------------------------
r269906 | bodewig | 2001-11-13 09:02:15 -0500 (Tue, 13 Nov 2001) | 2 lines

a little cleanup

------------------------------------------------------------------------
r269905 | bodewig | 2001-11-13 08:49:03 -0500 (Tue, 13 Nov 2001) | 2 lines

oops

------------------------------------------------------------------------
r269904 | bodewig | 2001-11-13 08:46:04 -0500 (Tue, 13 Nov 2001) | 4 lines

Add encoding attribute to <fixcrlf>

PR: 961

------------------------------------------------------------------------
r269901 | stevel | 2001-11-12 12:02:13 -0500 (Mon, 12 Nov 2001) | 2 lines

backing out of antjar/antlib

------------------------------------------------------------------------
r269898 | stevel | 2001-11-12 02:46:27 -0500 (Mon, 12 Nov 2001) | 2 lines

Jose Alberto Fernandez's ant descriptor loader

------------------------------------------------------------------------
r269896 | sbailliez | 2001-11-11 07:40:25 -0500 (Sun, 11 Nov 2001) | 2 lines

Added a missing table header. Patch from Jeff Turner <jeff@socialchange.net.au>

------------------------------------------------------------------------
r269894 | stevel | 2001-11-09 15:58:48 -0500 (Fri, 09 Nov 2001) | 2 lines

one more test case -JSP xml format (which does work), and ran tabs-to-spaces on the jspc.xml file just to make the diff look bigger.

------------------------------------------------------------------------
r269893 | bodewig | 2001-11-09 10:48:11 -0500 (Fri, 09 Nov 2001) | 4 lines

Make <typedef> something that is useful.

PR: 4143

------------------------------------------------------------------------
r269892 | bodewig | 2001-11-09 08:55:31 -0500 (Fri, 09 Nov 2001) | 4 lines

Enable the commented out tests in TaskdefTest - they failed because
org.apache.tools.ant classes must live on the system classloader to be
loaded.

------------------------------------------------------------------------
r269891 | bodewig | 2001-11-09 08:45:04 -0500 (Fri, 09 Nov 2001) | 2 lines

targets are not tasks

------------------------------------------------------------------------
r269890 | bodewig | 2001-11-09 08:08:15 -0500 (Fri, 09 Nov 2001) | 2 lines

don't try to do too much with the regexp stuff.

------------------------------------------------------------------------
r269889 | donaldp | 2001-11-09 06:15:14 -0500 (Fri, 09 Nov 2001) | 4 lines

Add in a completiong script for nt build files.

Submitted by: Mike Williams <mikew@cortexebusiness.com.au>

------------------------------------------------------------------------
r269888 | stevel | 2001-11-08 19:56:29 -0500 (Thu, 08 Nov 2001) | 2 lines

jsp testcases; not yet with matching junit tests

------------------------------------------------------------------------
r269887 | stevel | 2001-11-08 19:52:47 -0500 (Thu, 08 Nov 2001) | 2 lines

this doesnt fix anything, it just logs the #of files compiled better

------------------------------------------------------------------------
r269886 | bodewig | 2001-11-08 11:16:08 -0500 (Thu, 08 Nov 2001) | 6 lines

JARs are never empty.

PR: 4448

This probably is not what the reporting user intended ...

------------------------------------------------------------------------
r269885 | bodewig | 2001-11-08 10:30:09 -0500 (Thu, 08 Nov 2001) | 5 lines

fix error message in copy task.

PR: 4687
Submitted By: peterlynch@mindspring.com

------------------------------------------------------------------------
r269884 | conor | 2001-11-08 07:58:21 -0500 (Thu, 08 Nov 2001) | 5 lines

Subclass of fileset which given a root class will return the closure of all
classes upon which that class depends.

Submitted by:	Holger Engels <hengels@mercatis.de>

------------------------------------------------------------------------
r269881 | bodewig | 2001-11-06 08:55:54 -0500 (Tue, 06 Nov 2001) | 2 lines

Group refernces don't want parens any longer in JDK 1.4beta3.

------------------------------------------------------------------------
r269880 | bodewig | 2001-11-06 08:21:44 -0500 (Tue, 06 Nov 2001) | 2 lines

make unit tests work on Windows (at least I hope so 8-)

------------------------------------------------------------------------
r269879 | bodewig | 2001-11-06 08:07:02 -0500 (Tue, 06 Nov 2001) | 3 lines

Add testcases for latest <javac> changes, fix some problem with some
rare combination of the fork attribute and build.compiler settings.

------------------------------------------------------------------------
r269878 | bodewig | 2001-11-06 06:08:34 -0500 (Tue, 06 Nov 2001) | 2 lines

get rid of javadoc warnings

------------------------------------------------------------------------
r269877 | bodewig | 2001-11-06 05:47:34 -0500 (Tue, 06 Nov 2001) | 6 lines

Only add directories as extdirs that actually exist.

Submitted by:	Constantine P Sapuntzakis <csapuntz@stanford.edu>

push addExtdirs to Path.

------------------------------------------------------------------------
r269871 | donaldp | 2001-11-05 18:47:33 -0500 (Mon, 05 Nov 2001) | 4 lines

Make sure that the translate task is registered.

Submitted by: "Magesh Umasankar" <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269870 | bodewig | 2001-11-05 10:42:17 -0500 (Mon, 05 Nov 2001) | 4 lines

empty sourcefilesets kill dependset.

PR: 4290

------------------------------------------------------------------------
r269869 | bodewig | 2001-11-05 10:19:21 -0500 (Mon, 05 Nov 2001) | 6 lines

Add a way to pass compiler specific command line arguments to <javac>.

PR: 4406

heavily based upon a Submission by:	Stephen Anderson <anderson@berbee.com>

------------------------------------------------------------------------
r269868 | bodewig | 2001-11-05 08:13:39 -0500 (Mon, 05 Nov 2001) | 4 lines

Make name of the javac executable configurable in fork mode.

PR: 4119

------------------------------------------------------------------------
r269867 | conor | 2001-11-05 08:07:32 -0500 (Mon, 05 Nov 2001) | 5 lines

Remove undesirable package dependency by making TaskdefsTest facilities
available to all Ant Tests in the BuildFileTest class. The next step is
to make current Taskdefs inherit directly from BuildFileTest and then
deprecate TaskdefsTest

------------------------------------------------------------------------
r269863 | bodewig | 2001-11-05 02:15:19 -0500 (Mon, 05 Nov 2001) | 2 lines

assert -> assertTrue in two testcases I had missed.

------------------------------------------------------------------------
r269861 | donaldp | 2001-11-02 23:01:18 -0500 (Fri, 02 Nov 2001) | 4 lines

Added some validation to make sure delimiters are one character long.

Submitted by: "Magesh Umasankar" <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269860 | donaldp | 2001-11-02 18:30:44 -0500 (Fri, 02 Nov 2001) | 4 lines

A task for performing 18n translations on files via preprocessing.

Submitted by: "Magesh Umasankar" <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269859 | bodewig | 2001-11-02 11:36:49 -0500 (Fri, 02 Nov 2001) | 2 lines

push createTempFile to FileUtils

------------------------------------------------------------------------
r269858 | bodewig | 2001-11-02 10:18:47 -0500 (Fri, 02 Nov 2001) | 4 lines

enable <javac>'s source switch for fork mode as well.

PR: 3045

------------------------------------------------------------------------
r269857 | bodewig | 2001-11-02 09:37:34 -0500 (Fri, 02 Nov 2001) | 7 lines

Make sure the class passed into Project.addTaskDefinition is suitable
for a task, that is it is public, non-abstract, has a no-arg
constructor and a public no-arg execute method.

PR: 4163
Submitted by:	Ralf Wiebicke <ralf@rw7.de>

------------------------------------------------------------------------
r269856 | bodewig | 2001-11-02 09:13:05 -0500 (Fri, 02 Nov 2001) | 3 lines

one more JDK 1.1 fix - testcase will fail as touch with and without
argument will result in the same file modification time.

------------------------------------------------------------------------
r269855 | bodewig | 2001-11-02 09:04:56 -0500 (Fri, 02 Nov 2001) | 11 lines

I found myself compiling with 1.1 today ...

Notes:

(1) JUnitTestRunnerTest fails with an InvocationTargetException, I
don't have the time to investigate why this happens right now.

(2) I didn't modify ManifestFile as I couldn't figure out why Entry
implemented Comparator.  Why doesn't this task use
org.apache.tools.ant.taskdefs.Manifest anyway?

------------------------------------------------------------------------
r269854 | bodewig | 2001-11-02 07:07:34 -0500 (Fri, 02 Nov 2001) | 3 lines

spread the project instance a little further (this accounts for a
number of NPEs when using <taskdef> that have been reported).

------------------------------------------------------------------------
r269853 | bodewig | 2001-11-02 05:29:52 -0500 (Fri, 02 Nov 2001) | 2 lines

kill TAB

------------------------------------------------------------------------
r269852 | bodewig | 2001-11-02 05:25:20 -0500 (Fri, 02 Nov 2001) | 6 lines

Make sure tasks inside TaskContainers get their attribute setters
called, even if the parent TaskContainer doesn't take care of it
itself.

Submitted by:	Ovidiu Predescu <ovidiu@cup.hp.com>

------------------------------------------------------------------------
r269851 | bodewig | 2001-11-02 02:56:53 -0500 (Fri, 02 Nov 2001) | 5 lines

Take care of NetWare when searching for "java" and "javadoc", add
NetWare case for <property environment=... />.

Simplify OS based decisions.

------------------------------------------------------------------------
r269850 | sbailliez | 2001-11-01 14:33:13 -0500 (Thu, 01 Nov 2001) | 4 lines

Add the index feature for jar so that it optimizes the class loading process for JDK 1.3+
Patch was submitted by Philippe Prados <philippe@prados.net>
I added UTF8 encoding as specified in the specifications and changed the logic a little bit to be closer to what is being done in the implementation of sun.misc.JarIndex in JDK 1.3

------------------------------------------------------------------------
r269849 | holtdl | 2001-10-31 17:50:21 -0500 (Wed, 31 Oct 2001) | 6 lines

Fix increment/decrement bug.
PR: 4549
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r269848 | bodewig | 2001-10-31 06:50:35 -0500 (Wed, 31 Oct 2001) | 3 lines

Add runtime classes in the Kaffe case as well (it has been there for
rmic but not for javac).

------------------------------------------------------------------------
r269847 | bodewig | 2001-10-31 06:05:00 -0500 (Wed, 31 Oct 2001) | 5 lines

Use locale independent methods to identify OS or match attributes and
elements in build files.

PR: 4100

------------------------------------------------------------------------
r269846 | bodewig | 2001-10-31 06:02:23 -0500 (Wed, 31 Oct 2001) | 2 lines

Add OS/2 as Os family

------------------------------------------------------------------------
r269845 | bodewig | 2001-10-31 06:01:24 -0500 (Wed, 31 Oct 2001) | 2 lines

factor out runtime library detection.

------------------------------------------------------------------------
r269840 | bodewig | 2001-10-30 07:55:07 -0500 (Tue, 30 Oct 2001) | 4 lines

only treat tasks as tasks if they are children of TaskContainers.

PR: 3693

------------------------------------------------------------------------
r269839 | bodewig | 2001-10-30 05:05:39 -0500 (Tue, 30 Oct 2001) | 2 lines

Show that Ant is an Apache project.

------------------------------------------------------------------------
r269838 | bodewig | 2001-10-30 03:42:14 -0500 (Tue, 30 Oct 2001) | 3 lines

Add testcases for the inheritall/dir attribute combinations and their
results on the new project's basedir - clarify documentation.

------------------------------------------------------------------------
r269837 | bodewig | 2001-10-30 02:07:28 -0500 (Tue, 30 Oct 2001) | 6 lines

initialize the new project first so that loggers have been configured
before we fiddle with its properties.

Don't carry over user properties for basedir and ant.file from the
second to the third call in a chain of <ant> invokes <ant> ...

------------------------------------------------------------------------
r269836 | bodewig | 2001-10-29 10:27:14 -0500 (Mon, 29 Oct 2001) | 4 lines

skipemptyfilesat and parallel didn't play nicely together.

PR: 4347

------------------------------------------------------------------------
r269835 | sbailliez | 2001-10-29 10:05:56 -0500 (Mon, 29 Oct 2001) | 2 lines

Fixed imports accidentely removed during cleanup

------------------------------------------------------------------------
r269834 | bodewig | 2001-10-29 09:25:07 -0500 (Mon, 29 Oct 2001) | 5 lines

formatters assumed that only one test could be running at the same
time, this is not true.

PR: 2442

------------------------------------------------------------------------
r269833 | sbailliez | 2001-10-29 09:25:07 -0500 (Mon, 29 Oct 2001) | 2 lines

Fixed imports accidentely removed during cleanup

------------------------------------------------------------------------
r269832 | bodewig | 2001-10-29 06:16:49 -0500 (Mon, 29 Oct 2001) | 4 lines

Make <style> support Exolab's new Adaptx processor.

Submitted by:	Arnaud Blandin <blandin@intalio.com>

------------------------------------------------------------------------
r269827 | sbailliez | 2001-10-28 16:31:01 -0500 (Sun, 28 Oct 2001) | 5 lines

Code clean up:
 - removed useless/duplicate imports
 - added explicit imports rather than *
 - changed specifiers order to be conform to JLS.

------------------------------------------------------------------------
r269824 | donaldp | 2001-10-26 06:19:06 -0400 (Fri, 26 Oct 2001) | 4 lines

Remove misleading javadoc comment so that we start getting less questions about it ;)

PR: 4398

------------------------------------------------------------------------
r269823 | donaldp | 2001-10-26 06:13:02 -0400 (Fri, 26 Oct 2001) | 5 lines

Allow ant script to gracefully handle spaces in $HOME variable

PR: 4395
Submitted by: rick_price@email.com

------------------------------------------------------------------------
r269822 | bodewig | 2001-10-26 05:36:40 -0400 (Fri, 26 Oct 2001) | 6 lines

Add testcases for the substitution methods (and make them work 8-)

Add testcase for <replaceregexp>, this task now works with ORO,
Jakarta Regexp and JDK 1.4 if you use \1 to refer to parens in the
regular expression.

------------------------------------------------------------------------
r269821 | bodewig | 2001-10-26 03:50:53 -0400 (Fri, 26 Oct 2001) | 10 lines

testcases for case insensitive matches as well as multiline versus
singleline mode.

Note 1: doStartTest1 fails with ORO 2.0 but works with 2.0.4, better
        use the latest release 8-)

Note 2: doEndTest2 fails with Jakarta Regexp 1.2, I've disabled it for
        the time being, but may look into it later (file a bug report,
        and so on).

------------------------------------------------------------------------
r269820 | bodewig | 2001-10-25 11:03:39 -0400 (Thu, 25 Oct 2001) | 9 lines

Rewritten part of the regexp stuff, adding substitution and options.
New optional replaceregexp tasks that takes advantage of it.

Submitted by:	Matthew Inger <matti@sedonacorp.com>

This doesn't really work (but doesn't break anything either), but I
wanted to get the stuff committed now, I will put work into it
tomorrow.  See mail to the list for details.

------------------------------------------------------------------------
r269819 | bodewig | 2001-10-25 08:37:31 -0400 (Thu, 25 Oct 2001) | 9 lines

"Finally I managed to finish a new version of the VAJ tasks. The most
important new feature is the ability to execute VAJ tasks from the
command line by exploiting the Remote Tool Access feature of VAJ."

Submitted by:	wolf.siberski@tui.de

Some patches look a lot larger as I had to remove stray CRs, I also
killed TABs wherever I stumbled over them.

------------------------------------------------------------------------
r269818 | donaldp | 2001-10-24 05:11:26 -0400 (Wed, 24 Oct 2001) | 5 lines

A fix to make the cleanUp method do full cleanup.

PR: 4366
Submitted by: acl1@notes.ntrs.com

------------------------------------------------------------------------
r269817 | bodewig | 2001-10-23 10:10:29 -0400 (Tue, 23 Oct 2001) | 2 lines

add some extra savety measures.

------------------------------------------------------------------------
r269816 | bodewig | 2001-10-23 08:15:46 -0400 (Tue, 23 Oct 2001) | 7 lines

Only override subbuild's basedir if inheritall has been set to false.

Submitted by:	Craeg K. Strong <cstrong@arielpartners.com>

Get rid of annoying warning that <property> has been redefined in
<ant> and <antcall>.

------------------------------------------------------------------------
r269815 | bodewig | 2001-10-23 07:49:45 -0400 (Tue, 23 Oct 2001) | 4 lines

make sure <propertyfile> closes the file it's been reading from.

Submitted by:	Magesh Umasankar <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269814 | bodewig | 2001-10-23 06:35:14 -0400 (Tue, 23 Oct 2001) | 2 lines

assert -> assertTrue in all testcases.

------------------------------------------------------------------------
r269813 | bodewig | 2001-10-23 06:23:18 -0400 (Tue, 23 Oct 2001) | 7 lines

Account for a change in JUnit - TestCase.name() has been removed.

Now use reflection to invoke either getName or name, whichever is
available, so that the formatters will still support JUnit prior to
version 3.7 - once we decide to drop this support, this workaround
will be backed out.

------------------------------------------------------------------------
r269809 | bodewig | 2001-10-19 03:51:14 -0400 (Fri, 19 Oct 2001) | 4 lines

improve "could not create task" error message.

PR: 3919

------------------------------------------------------------------------
r269808 | bodewig | 2001-10-19 03:24:29 -0400 (Fri, 19 Oct 2001) | 7 lines

At least print a warning if users try to redefine tasks or datatypes.

PR: 3205

This doesn't really solve the original problem, which cannot be solved
in Ant 1.x IMHO, that's why I didn't close the bug.

------------------------------------------------------------------------
r269804 | stevel | 2001-10-18 20:33:15 -0400 (Thu, 18 Oct 2001) | 2 lines

added uriroot and uribase options

------------------------------------------------------------------------
r269803 | stevel | 2001-10-18 19:53:03 -0400 (Thu, 18 Oct 2001) | 2 lines

a full second of leeway on the clock during sleep tests to address scheduling/timing issues across different platforms.

------------------------------------------------------------------------
r269802 | bodewig | 2001-10-18 06:16:18 -0400 (Thu, 18 Oct 2001) | 5 lines

Make <propertyfile>'s default attribute work as expected.

PR: 3955
Submitted by:	Erik Hatcher <jakarta-ant@ehatchersolutions.com>

------------------------------------------------------------------------
r269801 | bodewig | 2001-10-18 04:44:29 -0400 (Thu, 18 Oct 2001) | 4 lines

Add initial testcase for the optional propertyfile task.

Submitted by:	Levi Cook <lcook@gr.com>

------------------------------------------------------------------------
r269800 | bodewig | 2001-10-18 04:25:16 -0400 (Thu, 18 Oct 2001) | 5 lines

remove redundant code from FileUtils, handle Netware case in
IntrospectionHelper's testcase.

Submitted by:	Jeff Tulley <JTULLEY@novell.com>

------------------------------------------------------------------------
r269798 | donaldp | 2001-10-17 05:33:23 -0400 (Wed, 17 Oct 2001) | 4 lines

Added some javadocs for OS condition.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269797 | holtdl | 2001-10-16 20:27:34 -0400 (Tue, 16 Oct 2001) | 9 lines

Allow for an ANT_ARGS environment variable, for setting things like
using a different logger or including the -find flag.

(runant.pl, also add a check for cygwin for path separator, fix ANT_OPTS.)
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r269796 | donaldp | 2001-10-16 06:12:23 -0400 (Tue, 16 Oct 2001) | 10 lines

I've just put together a patch for the JDepend task to use xml
output. A new
attribute "format" has been added that can take either "xml" or "text"
defaulting to the latter. �Appropriate changes have been made to the
documentation, and additionally a .xsl file is attached to
produce html with
a similar style to that of junitreport.

Submitted by: "Rob Oxspring" <roxspring@yahoo.com>

------------------------------------------------------------------------
r269789 | donaldp | 2001-10-12 22:08:57 -0400 (Fri, 12 Oct 2001) | 4 lines

Add support for extracting names from Volumes on NetWare.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269788 | donaldp | 2001-10-12 22:00:17 -0400 (Fri, 12 Oct 2001) | 5 lines

I made a lot of changes here, to almost every test case in the "testConstructor" test. �Partly this code is system-dependent, but it is also testing that the paths are tokenized or split into individual paths correctly, so that system dependence is probably ok here. �I simply added in a NetWare case everywhere there was a UNIX and Windows(really, "else") case.


Submitted By: Jeff Tulley �(jtulley@novell.com)

------------------------------------------------------------------------
r269787 | donaldp | 2001-10-12 21:57:03 -0400 (Fri, 12 Oct 2001) | 4 lines

Check for Os set to netware.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269786 | donaldp | 2001-10-12 21:56:00 -0400 (Fri, 12 Oct 2001) | 2 lines

Remove some tabs.

------------------------------------------------------------------------
r269785 | donaldp | 2001-10-12 21:53:37 -0400 (Fri, 12 Oct 2001) | 4 lines

Add comments regarding future netware integration.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269784 | donaldp | 2001-10-12 21:48:41 -0400 (Fri, 12 Oct 2001) | 6 lines

PathConvert does not allow NetWare as a targetOS. There was also a problem with the logic of PathConvert treating everything that did not have a targetOS=Windows as UNIX, where in this case the Windows assumptions are actually more correct for NetWare. �(The assumptions are the type of classpath separator, ";" on Windows and NetWare, and the directory path separator, and NetWare can deal with either "/", or "\\" equally well).

Patch fixes these issues.

Submitted by: "Jeff Tulley" <JTULLEY@novell.com>

------------------------------------------------------------------------
r269783 | conor | 2001-10-12 20:08:27 -0400 (Fri, 12 Oct 2001) | 3 lines

Ignore NoSuchMethod exceptions when looking for setProject in non
Task classes being used as tasks

------------------------------------------------------------------------
r269779 | donaldp | 2001-10-12 04:19:40 -0400 (Fri, 12 Oct 2001) | 2 lines

If a fileset defines a single file, allow the Copy and Move tasks to work with the toFile attribute.

------------------------------------------------------------------------
r269778 | donaldp | 2001-10-12 04:14:08 -0400 (Fri, 12 Oct 2001) | 2 lines

Removed some tabs.

------------------------------------------------------------------------
r269777 | donaldp | 2001-10-12 04:11:32 -0400 (Fri, 12 Oct 2001) | 4 lines

Added task to create a manifest easily from build file.

Submitted by: thomas.kerle@pd.admin.ch

------------------------------------------------------------------------
r269776 | conor | 2001-10-11 10:55:07 -0400 (Thu, 11 Oct 2001) | 3 lines

Handle continuations in section names
PR:	4075

------------------------------------------------------------------------
r269771 | conor | 2001-10-10 11:30:35 -0400 (Wed, 10 Oct 2001) | 2 lines

Merge across from Ant 1.4.1 changes

------------------------------------------------------------------------
r269769 | conor | 2001-10-10 11:14:34 -0400 (Wed, 10 Oct 2001) | 4 lines

Add support for ejb2.0 local interfaces

Submitted by:	Josh Lannin <jlannin@bea.com>

------------------------------------------------------------------------
r269768 | rubys | 2001-10-09 11:00:54 -0400 (Tue, 09 Oct 2001) | 2 lines

Fix syntax error - leftover line

------------------------------------------------------------------------
r269767 | conor | 2001-10-09 08:13:40 -0400 (Tue, 09 Oct 2001) | 2 lines

D'Oh - didn;t resolve all conflicts :-( - done now.

------------------------------------------------------------------------
r269766 | conor | 2001-10-09 08:11:23 -0400 (Tue, 09 Oct 2001) | 4 lines

Add support for message beans

Submitted by:	Josh Lannin <jlannin@bea.com>

------------------------------------------------------------------------
r269763 | conor | 2001-10-08 09:52:54 -0400 (Mon, 08 Oct 2001) | 5 lines

iFix up stylesheet PI

PR:	3989
Submitted by:	Eric.Smith@NextPage.com (Eric James Smith)

------------------------------------------------------------------------
r269760 | donaldp | 2001-10-06 03:00:14 -0400 (Sat, 06 Oct 2001) | 4 lines

Added ability to resolve entitys to local files.

Submitted by: Holger Engels <hengels@mercatis.de>

------------------------------------------------------------------------
r269759 | donaldp | 2001-10-05 21:07:20 -0400 (Fri, 05 Oct 2001) | 4 lines

Make sure file for reading patterns is closed.

Submitted by: tbsandee@pobox.com (Ben Sandee)

------------------------------------------------------------------------
r269758 | donaldp | 2001-10-05 13:23:49 -0400 (Fri, 05 Oct 2001) | 4 lines

Enabled encoding option for gcj Java compiler.

Submitted by: "Takashi Okamoto" <tokamoto@rd.nttdata.co.jp>

------------------------------------------------------------------------
r269756 | bodewig | 2001-10-01 10:14:22 -0400 (Mon, 01 Oct 2001) | 2 lines

Add new <isset> condition, simplify ConditionBase by using ProjectComponent.

------------------------------------------------------------------------
r269755 | bodewig | 2001-10-01 09:32:36 -0400 (Mon, 01 Oct 2001) | 5 lines

Make FileUtils.resolveFile more robust - modelled after File(File, String).

This avoids the explicit checks for null directories in
SourceFileScanner as well.

------------------------------------------------------------------------
r269754 | bodewig | 2001-10-01 08:26:11 -0400 (Mon, 01 Oct 2001) | 5 lines

Add reference to current task instance under the name "self" to
<script> task.

Submitted by:	Erik Hatcher <jakarta-ant@ehatchersolutions.com>

------------------------------------------------------------------------
r269753 | donaldp | 2001-10-01 05:13:01 -0400 (Mon, 01 Oct 2001) | 4 lines

Task thats add delete capability to the P4 suite of tasks.

Submitted by: "Mike Roberts" <mike@tmorph.com>

------------------------------------------------------------------------
r269750 | conor | 2001-10-01 03:44:42 -0400 (Mon, 01 Oct 2001) | 2 lines

Merge across fixes from 1.4 branch

------------------------------------------------------------------------
r269745 | conor | 2001-09-30 09:21:54 -0400 (Sun, 30 Sep 2001) | 2 lines

Merge of 1.4.1 changes into Main truck for Gump testing

------------------------------------------------------------------------
r269743 | donaldp | 2001-09-28 23:51:53 -0400 (Fri, 28 Sep 2001) | 4 lines

Make the project accessible via consistent name ("project").

Submitted by: "Erik Hatcher" <jakarta-ant@ehatchersolutions.com>

------------------------------------------------------------------------
r269742 | donaldp | 2001-09-28 23:45:56 -0400 (Fri, 28 Sep 2001) | 4 lines

Added the ability to set the loader-file as a parameter

Submitted by: Marcus B�rger <Marcus.Boerger@post.rwth-aachen.de>

------------------------------------------------------------------------
r269726 | bodewig | 2001-09-26 03:07:01 -0400 (Wed, 26 Sep 2001) | 2 lines

Fix logic of last patch to make <zipfileset src="foo.zip" /> work again.

------------------------------------------------------------------------
r269724 | donaldp | 2001-09-24 12:28:05 -0400 (Mon, 24 Sep 2001) | 12 lines

Fixed case where

      <zip zipfile="test.zip">
         <zipfileset src="test1.jar"
                         includes="META-INF/taglib.tld"
                         fullpath="tld/taglib.tld"/>
      </zip>

would fail to copy source file to fullpath.

Submitted by: "Bordet, Simone" <Simone.Bordet@compaq.com>

------------------------------------------------------------------------
r269723 | donaldp | 2001-09-24 11:57:24 -0400 (Mon, 24 Sep 2001) | 2 lines

Remove whitespace at end of lines.

------------------------------------------------------------------------
r269722 | conor | 2001-09-20 07:13:50 -0400 (Thu, 20 Sep 2001) | 2 lines

Fix up cut and paste error - oops - Thanks Sam

------------------------------------------------------------------------
r269721 | conor | 2001-09-19 08:10:25 -0400 (Wed, 19 Sep 2001) | 3 lines

Add encoding to <replace> task so that replace can work on double byte
characters

------------------------------------------------------------------------
r269719 | conor | 2001-09-19 08:06:11 -0400 (Wed, 19 Sep 2001) | 4 lines

Add an encoding attribute so SQL statements can be double byte

PR:	3080

------------------------------------------------------------------------
r269714 | donaldp | 2001-09-17 01:52:45 -0400 (Mon, 17 Sep 2001) | 2 lines

Revert to old gzip interface.

------------------------------------------------------------------------
r269713 | donaldp | 2001-09-15 06:23:11 -0400 (Sat, 15 Sep 2001) | 2 lines

Delegate to Task.perform() instead which has better error checking rather than reimplementing in this class.

------------------------------------------------------------------------
r269712 | donaldp | 2001-09-15 00:08:11 -0400 (Sat, 15 Sep 2001) | 4 lines

Made the -projecthelp only print out targets that have coresponding descriptions unless loglevel is verbose or debug.

Don't you hate it when you forget to commit changes?

------------------------------------------------------------------------
r269711 | donaldp | 2001-09-15 00:06:08 -0400 (Sat, 15 Sep 2001) | 2 lines

Clean whitespace

------------------------------------------------------------------------
r269710 | donaldp | 2001-09-15 00:05:36 -0400 (Sat, 15 Sep 2001) | 5 lines

I noticed that when a task is created using taskdef, all messages were
being logged against the target.

Submitted by: Garrick Olson <Garrick.Olson@Aceva.com>

------------------------------------------------------------------------
r269708 | bodewig | 2001-09-14 02:04:21 -0400 (Fri, 14 Sep 2001) | 5 lines

use FileUtils' resolution method for the dir/antfile logic

committed in this branch to see whether it has broken something in
next GUMP run.

------------------------------------------------------------------------
r269706 | bodewig | 2001-09-13 12:02:03 -0400 (Thu, 13 Sep 2001) | 2 lines

make merge easier by manually merging this file (added encoding decl).

------------------------------------------------------------------------
r269701 | donaldp | 2001-09-13 05:19:37 -0400 (Thu, 13 Sep 2001) | 2 lines

Made codebase not violate the JLS recomendations by removing redundent access specifiers.

------------------------------------------------------------------------
r269700 | donaldp | 2001-09-13 04:40:38 -0400 (Thu, 13 Sep 2001) | 2 lines

Removed redundent access specifiers so that Ant compiles cleanly in jikes pedantic mode. They are "strongly discouraged" by the JLS spec.

------------------------------------------------------------------------
r269699 | donaldp | 2001-09-13 04:33:45 -0400 (Thu, 13 Sep 2001) | 4 lines

Removed ; characters in innapropriate places to get rid of jikes warning:

Warning: An EmptyDeclaration is a deprecated feature that should not be used - ";" ignored.

------------------------------------------------------------------------
r269698 | donaldp | 2001-09-13 04:31:21 -0400 (Thu, 13 Sep 2001) | 4 lines

First cut at a generic jspc task/facade system.

Submitted by: Matthew Watson <mattw@mortbay.com>

------------------------------------------------------------------------
r269697 | donaldp | 2001-09-13 01:21:04 -0400 (Thu, 13 Sep 2001) | 4 lines

Reworked task to use files internall rather than strings so that the task doesn't have to try and resolve things internally.

Based on Daniel Hoppe <hoppe@sitewaerts.de> 's patch.

------------------------------------------------------------------------
r269695 | donaldp | 2001-09-13 00:38:58 -0400 (Thu, 13 Sep 2001) | 4 lines

Fix bug in Ant where the system properties would not be placed into new Project when inheritall=false. (This was due to confusion between variable naming).

Submitted by: Jason Brittain <jasonb@collab.net>

------------------------------------------------------------------------
r269692 | donaldp | 2001-09-12 12:43:26 -0400 (Wed, 12 Sep 2001) | 4 lines

Oops I used the wrong convention!!!

This patch corrects it so that the old zipfile attribute is now tofile.

------------------------------------------------------------------------
r269691 | donaldp | 2001-09-12 11:41:54 -0400 (Wed, 12 Sep 2001) | 2 lines

Super is redundent.

------------------------------------------------------------------------
r269688 | donaldp | 2001-09-12 11:21:55 -0400 (Wed, 12 Sep 2001) | 2 lines

Deprecated zipfile in favour of file to follow siuit with the other tasks that deal with archives.

------------------------------------------------------------------------
r269687 | donaldp | 2001-09-12 11:19:47 -0400 (Wed, 12 Sep 2001) | 2 lines

Deprecated earfile in favour of file.

------------------------------------------------------------------------
r269686 | donaldp | 2001-09-12 11:19:10 -0400 (Wed, 12 Sep 2001) | 2 lines

remove super. as it is redundent.

------------------------------------------------------------------------
r269685 | donaldp | 2001-09-12 11:18:08 -0400 (Wed, 12 Sep 2001) | 2 lines

Remove deprecated tag as that method is NOT deprecated - gotta love copy-paste documentation ;)

------------------------------------------------------------------------
r269684 | donaldp | 2001-09-12 10:21:43 -0400 (Wed, 12 Sep 2001) | 2 lines

Unify the attribute of the archive to "file" rather than having three separate attributes (zipfile, jarfile and warfile).

------------------------------------------------------------------------
r269680 | donaldp | 2001-09-10 21:37:47 -0400 (Mon, 10 Sep 2001) | 4 lines

Added in perforce p4add task.

Submitted by: Anli Shundi <ashundi@tibco.com>

------------------------------------------------------------------------
r269679 | donaldp | 2001-09-10 12:05:13 -0400 (Mon, 10 Sep 2001) | 2 lines

Added redundent statement to aid understanding (will be optimized out by compiler anyways).

------------------------------------------------------------------------
r269678 | donaldp | 2001-09-10 11:39:43 -0400 (Mon, 10 Sep 2001) | 5 lines

I added an XML declaration (<?xml version="1.0"?>) to the XML log file.
Also, I removed some extra spaces in XmlLogger.java.

Submitted by: "Ingmar Stein" <stein@xtramind.com>

------------------------------------------------------------------------
r269674 | donaldp | 2001-09-06 23:23:54 -0400 (Thu, 06 Sep 2001) | 4 lines

Updated Get task so that it supports authenticated URLS.

Submitted by: Gautam Guliani <gautamg@grassroots-tech.com>

------------------------------------------------------------------------
r269673 | donaldp | 2001-09-05 23:19:48 -0400 (Wed, 05 Sep 2001) | 4 lines

Fixed links.

Submitted by: Jeff Turner <jeff@socialchange.net.au>

------------------------------------------------------------------------
r269672 | donaldp | 2001-09-05 22:48:08 -0400 (Wed, 05 Sep 2001) | 8 lines

I have used the pvcs task and have come up with a patch that
I believe will address Bug ID 3219 in a slightly more flexible
way, and also allows the archive filename extension to vary
from the format hardcoded in the createFolders() method in
Pvcs.java

Submitted by: Steven Newton <snewton@standard.com>

------------------------------------------------------------------------
r269663 | conor | 2001-08-30 09:26:38 -0400 (Thu, 30 Aug 2001) | 2 lines

Merge in 1.4 src changes

------------------------------------------------------------------------
r269590 | conor | 2001-08-19 01:52:00 -0400 (Sun, 19 Aug 2001) | 2 lines

Merge from fix in 1.4 branch for gump test

------------------------------------------------------------------------
r269587 | conor | 2001-08-18 10:59:40 -0400 (Sat, 18 Aug 2001) | 6 lines

Merge from ANT_145_BRANCH up to Beta 2
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r269527 | conor | 2001-08-08 23:32:08 -0400 (Wed, 08 Aug 2001) | 4 lines

Exclude files were not working
PR:	3050
Submitted by:	tpv@spamcop.net (Tim Vernum)

------------------------------------------------------------------------
r269524 | sbailliez | 2001-08-08 16:18:34 -0400 (Wed, 08 Aug 2001) | 7 lines

Convenient description task that allows a multiple line description of a buildfile
with a <description> element.
Submitted by Craeg K. Strong <cstrong@arielpartners.com>

Not committed in the first shot..er..forgot to add them.
Thank to Craeg for paying attention.

------------------------------------------------------------------------
r269523 | sbailliez | 2001-08-08 15:34:20 -0400 (Wed, 08 Aug 2001) | 4 lines

Convenient description task that allows a multiple line description of a buildfile
with a <description> elment.
Submitted by Craeg K. Strong <cstrong@arielpartners.com>

------------------------------------------------------------------------
r269522 | bodewig | 2001-08-08 12:13:08 -0400 (Wed, 08 Aug 2001) | 13 lines

Move resolveFile methods to FileUtils, add a normalize method there.

Make sure Ant normalizes whatever it takes as its basedir - since
we've dropped canonicalPath

ant -f foo.xml

and

ant -f ./foo.xml

would have given different results (the . needed to be stripped).

------------------------------------------------------------------------
r269521 | conor | 2001-08-08 11:28:48 -0400 (Wed, 08 Aug 2001) | 5 lines

New Threadsafe (needs more testing) version of the XMLLogger. Used the
concept of a TimedElement from Thomas' patch but not the rest of it
since I didn't want to modify other components. Tracks what happens
on each thread.

------------------------------------------------------------------------
r269520 | bodewig | 2001-08-08 10:51:14 -0400 (Wed, 08 Aug 2001) | 4 lines

Set the executable.

Submitted by:	Brian Deitte <bdeitte@macromedia.com>

------------------------------------------------------------------------
r269518 | bodewig | 2001-08-08 08:02:15 -0400 (Wed, 08 Aug 2001) | 2 lines

Does this pass on Windows?

------------------------------------------------------------------------
r269517 | conor | 2001-08-08 07:52:25 -0400 (Wed, 08 Aug 2001) | 5 lines

Fixes to the borland ejbjar component to get it to handle non-windows
builds. Make work with ejb-naming schemes

Submitted by:	Tom Palmer <tomp@uk.uu.net>

------------------------------------------------------------------------
r269516 | conor | 2001-08-08 07:43:35 -0400 (Wed, 08 Aug 2001) | 8 lines

Ignore any classes from java. and javax hierarchies. This allows
classes such as java.math.BigDecimal to be used as keys.

I also turned the missing file exception into a warning. Who knows
maybe the app server can find it even if ejbjar can't.

Submitted by:	Luis Miguel Hernanz <luish@germinus.com>

------------------------------------------------------------------------
r269515 | bodewig | 2001-08-08 05:01:11 -0400 (Wed, 08 Aug 2001) | 2 lines

Testcase for Project.resolveFile

------------------------------------------------------------------------
r269514 | bodewig | 2001-08-08 04:30:49 -0400 (Wed, 08 Aug 2001) | 2 lines

testcase for FileUtils.

------------------------------------------------------------------------
r269513 | sbailliez | 2001-08-07 19:39:49 -0400 (Tue, 07 Aug 2001) | 5 lines

Changed the systemid to have a valid one with file:/// rather than file:.
Some xalan code are doing some check on file:, file:/, file://, file:///, file:///
But I'd rather take file:/// which is normally the valid one.
Reported by Michael J. Hudson <mhudson@blueprinttech.com>

------------------------------------------------------------------------
r269507 | sbailliez | 2001-08-07 18:30:07 -0400 (Tue, 07 Aug 2001) | 3 lines

Get the stylesheets from the xsl package since there is one...
Stylesheets have to be copied to xsl directory after compile.

------------------------------------------------------------------------
r269506 | sbailliez | 2001-08-07 18:13:24 -0400 (Tue, 07 Aug 2001) | 4 lines

This is no more needed since it has been replace by xsl in src/etc:
junit-frames.xsl for framed reports.
junit-noframes.xsl for non-framed reports.

------------------------------------------------------------------------
r269505 | nico | 2001-08-07 18:11:52 -0400 (Tue, 07 Aug 2001) | 2 lines

property environment=.. failed under JDK 1.2 with a NPE because WinNTCommandLauncher.exec() got a null working directory and a null Project -  reported by <Aimee.Ukasick@med.ge.com>

------------------------------------------------------------------------
r269504 | sbailliez | 2001-08-07 18:08:45 -0400 (Tue, 07 Aug 2001) | 5 lines

Huge summer cleanup to the code...
- takes advantage of Xalan redirect extension, therefore I don't need extra code to split the document several pieces and process them with different stylesheets.
- now using a strategy to determine a valid Xalan executor at runtime. It first check for Xalan2 then for Xalan1.
As a convenience the Xalan version is displayed in the output.

------------------------------------------------------------------------
r269503 | sbailliez | 2001-08-07 18:03:27 -0400 (Tue, 07 Aug 2001) | 3 lines

Stylesheet that will be used for non-framed report of JUnit.
It can still be useful for sending a short summary via mail.

------------------------------------------------------------------------
r269502 | sbailliez | 2001-08-07 18:01:49 -0400 (Tue, 07 Aug 2001) | 5 lines

Latest Xalan2  has problems related to the format-number and decimal-format that are due to locale.
Scott Boag <scott_boag@lotus.com>, Gary Peskin <garyp@firstech.com> and David Marston <david_marston@lotus.com> are aware of this
but the problem is mostly due to specifications ambiguities with locale and default separators...
Just in case I'm redefining the separators used in format-number so that there will be no problems on non-us locale.

------------------------------------------------------------------------
r269493 | conor | 2001-08-07 08:39:34 -0400 (Tue, 07 Aug 2001) | 5 lines

Handle situation where the descriptor is out of date with respect to the
EJB classes but the descriptor text has not changed.

Submitted by:	Sean Bowman <SBowman@webb.net>

------------------------------------------------------------------------
r269492 | conor | 2001-08-07 08:24:23 -0400 (Tue, 07 Aug 2001) | 2 lines

fix typo

------------------------------------------------------------------------
r269490 | conor | 2001-08-07 08:00:30 -0400 (Tue, 07 Aug 2001) | 2 lines

If it is not a build exception best to get the full story

------------------------------------------------------------------------
r269488 | bodewig | 2001-08-07 07:53:43 -0400 (Tue, 07 Aug 2001) | 4 lines

Ignore fork attribute if build.compiler doesn't point to a JDK javac.

Submitted by:	Brian Deitte <bdeitte@macromedia.com>

------------------------------------------------------------------------
r269487 | bodewig | 2001-08-07 07:43:32 -0400 (Tue, 07 Aug 2001) | 5 lines

Make sure system properties as accessible in subbuilds in the
inheritAll=false case as well.

Submitted by:	Craeg K. Strong <cstrong@arielpartners.com>

------------------------------------------------------------------------
r269486 | bodewig | 2001-08-07 02:59:35 -0400 (Tue, 07 Aug 2001) | 9 lines

Make sure <move> doesn't try to move a file to itself

PR: 2515

Try the less costly File.rename before copying a file byte by byte.

PR: 2424
Submitted by:	Magesh Umasankar <umagesh@rediffmail.com>

------------------------------------------------------------------------
r269485 | bodewig | 2001-08-07 02:19:25 -0400 (Tue, 07 Aug 2001) | 14 lines

update .NET tasks for the beta2 release

changes
 -removed 'owner' attribute from ILASM (it just prints a warning and is
stripped from the docs)
 -changed the referenced dlls to the beta-2 set
 -added some options to csc:
    fullpaths
    win32res
    noconfig
    utf8output

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r269482 | bodewig | 2001-08-07 01:49:48 -0400 (Tue, 07 Aug 2001) | 2 lines

give a better name to FileUtil's factory method.

------------------------------------------------------------------------
r269479 | bodewig | 2001-08-06 10:32:46 -0400 (Mon, 06 Aug 2001) | 4 lines

New task dependset

Submitted by:	Craeg K. Strong <cstrong@arielpartners.com>

------------------------------------------------------------------------
r269478 | bodewig | 2001-08-06 10:10:43 -0400 (Mon, 06 Aug 2001) | 2 lines

Move FileUtils into util package.

------------------------------------------------------------------------
r269475 | bodewig | 2001-08-06 08:49:40 -0400 (Mon, 06 Aug 2001) | 2 lines

remove stray CRs

------------------------------------------------------------------------
r269474 | bodewig | 2001-08-06 08:25:56 -0400 (Mon, 06 Aug 2001) | 4 lines

Make log messages from System.out calls, remove some code in execute
that was redundant, remove some tabs, add testcase that checks that
files don't get overwritten if they'd be identical to the new version.

------------------------------------------------------------------------
r269471 | conor | 2001-08-06 05:59:51 -0400 (Mon, 06 Aug 2001) | 3 lines

Provide access to old behaviour for those tasks that rely on it, such
as Anakia

------------------------------------------------------------------------
r269470 | conor | 2001-08-06 05:58:36 -0400 (Mon, 06 Aug 2001) | 2 lines

Define backward compatability constructor

------------------------------------------------------------------------
r269469 | conor | 2001-08-06 05:57:33 -0400 (Mon, 06 Aug 2001) | 2 lines

Restore task logging and events

------------------------------------------------------------------------
r269467 | bodewig | 2001-08-06 05:04:26 -0400 (Mon, 06 Aug 2001) | 4 lines

Add support for Symantec's javac.

Submitted by:	Don Ferguson <don@bea.com>

------------------------------------------------------------------------
r269466 | conor | 2001-08-05 18:17:26 -0400 (Sun, 05 Aug 2001) | 3 lines

Only print the final stack trace if in verbose or debug mode, otherwise
just print exception message

------------------------------------------------------------------------
r269463 | conor | 2001-08-05 07:06:53 -0400 (Sun, 05 Aug 2001) | 5 lines

Fix bootstrap problems. Two issues. Filtering was always been done
Antcall was broken since the ProjectComponent check is too agressive
Now only applies to data types. The Ant task is perhaps a little special
in that it returns a task for one of its nested elements.

------------------------------------------------------------------------
r269460 | conor | 2001-08-04 10:55:03 -0400 (Sat, 04 Aug 2001) | 6 lines

Updated Filter task to use the new FilterSet in the Project fro global
filters

PR:	1545
Submitted by:	Michael McCallum <gholam@xtra.co.nz>

------------------------------------------------------------------------
r269459 | conor | 2001-08-04 10:37:40 -0400 (Sat, 04 Aug 2001) | 6 lines

Initial implementation of FilterSets. I've done some major surgery on the
patch from PR1545. There is also more to come.

PR:	1545
Submitted by:	Michael McCallum <gholam@xtra.co.nz>

------------------------------------------------------------------------
r269458 | conor | 2001-08-04 10:30:36 -0400 (Sat, 04 Aug 2001) | 5 lines

Give data types some of the capabailities of Tasks, namely access
to the project object and the ability to log messages through that
project. The IntrospectionHelper cooperates to ensure DataTypes
created as nested elements are correctly setup

------------------------------------------------------------------------
r269457 | sbailliez | 2001-08-03 16:47:33 -0400 (Fri, 03 Aug 2001) | 3 lines

Fixed the stupid mistake I did when merging my last changes.
I mistakenly removed part of a previous patch. Shame on me.

------------------------------------------------------------------------
r269456 | bodewig | 2001-08-03 12:38:21 -0400 (Fri, 03 Aug 2001) | 25 lines

New task <condition>.

This is a first cut of the generalization of <available> and
<uptodate> that is on the list for Ant2. This task supports a single
condition and sets a property if it holds true - conditions can be
containers for other conditions in turn, giving it the opportunity to
support boolean logic.

Built in conditions as of now:

* <available> and <uptodate> (slightly modified the tasks to allow them to
be used as conditions)

* containers <and>, <or> and <not>

* New conditions <equals> (compares to Strings) and <os> which should
give easier access to os.name.

More extensive documentation to follow.  Take a look at Ant's build
file, it uses the task to detect whether javamail is available now.

I had to perform some ugly tricks to make sure that project gets
passed to every object that will need it - this will be very different
in the future I hope.

------------------------------------------------------------------------
r269455 | conor | 2001-08-03 12:15:16 -0400 (Fri, 03 Aug 2001) | 3 lines

Pesky windows locking
Can't rename a file that is open or where the destination exists

------------------------------------------------------------------------
r269454 | bodewig | 2001-08-03 10:44:25 -0400 (Fri, 03 Aug 2001) | 3 lines

Propagate errorproperty and failureproperty from BatchTest to all of
its elements.

------------------------------------------------------------------------
r269453 | bodewig | 2001-08-03 10:36:48 -0400 (Fri, 03 Aug 2001) | 5 lines

Add fork attribute to <javac>.

PR: 383
Submitted by:	Brian Deitte <bdeitte@macromedia.com>

------------------------------------------------------------------------
r269452 | bodewig | 2001-08-03 10:34:07 -0400 (Fri, 03 Aug 2001) | 3 lines

Some minor JDK 1.1 compatibility problems.  MMetricsStreamHandler.java
still won't compile.

------------------------------------------------------------------------
r269451 | conor | 2001-08-03 10:21:00 -0400 (Fri, 03 Aug 2001) | 2 lines

Add a Log4j listener

------------------------------------------------------------------------
r269450 | costin | 2001-08-03 10:15:40 -0400 (Fri, 03 Aug 2001) | 2 lines

Rollback previous commit.

------------------------------------------------------------------------
r269449 | bodewig | 2001-08-03 07:22:22 -0400 (Fri, 03 Aug 2001) | 13 lines

<fixcrlf> now deals with CR only line-ends and arbitrary tab lengths.
It should work independant of the size of the file as well.

Additionally it can treat tabs inside character constants in source
files differently.

Documentation will follow - also it will now update the timestamp of
files, even if the file doesn't change. This will be fixed before the
final release but shouldn't stop us from starting the beta cycle.

PR: 1053
Submitted by:   Peter B. West <pbwest@powerup.com.au>

------------------------------------------------------------------------
r269448 | sbailliez | 2001-08-02 18:47:16 -0400 (Thu, 02 Aug 2001) | 3 lines

Fixed a possible systemid problem reported by glennmaughan@optushome.com.au (Glenn Maughan)
Moved the timing garbage generated as well to a global timing instead...

------------------------------------------------------------------------
r269446 | sbailliez | 2001-08-02 17:55:00 -0400 (Thu, 02 Aug 2001) | 3 lines

Mini testcase for the Java task....not fantastic but better than nothing..
It mainly test for the -jar option

------------------------------------------------------------------------
r269445 | sbailliez | 2001-08-02 17:52:59 -0400 (Thu, 02 Aug 2001) | 2 lines

Added the support to the -jar option in the command line per suggestion of <aspyker@nc.rr.com>

------------------------------------------------------------------------
r269444 | sbailliez | 2001-08-02 17:51:00 -0400 (Thu, 02 Aug 2001) | 4 lines

Added the support to the -jar option in the command line per suggestion of <aspyker@nc.rr.com>
fixed a bug (?) in the size method that was not returning the correct size.
added some javadocs....still a lot of work :-(

------------------------------------------------------------------------
r269443 | rubys | 2001-08-02 12:15:24 -0400 (Thu, 02 Aug 2001) | 2 lines

Avoid NPE's - seen when running JUnit on Win2K

------------------------------------------------------------------------
r269442 | conor | 2001-08-02 10:48:24 -0400 (Thu, 02 Aug 2001) | 2 lines

Two steps forward, one step back - make it build under JDK 1.1

------------------------------------------------------------------------
r269441 | conor | 2001-08-02 10:38:46 -0400 (Thu, 02 Aug 2001) | 5 lines

Add jvmVersion attribute so that maxmeory is formatted correctly for the
target JVM

PR:	2913

------------------------------------------------------------------------
r269440 | conor | 2001-08-02 08:53:51 -0400 (Thu, 02 Aug 2001) | 4 lines

Handle innser classes in the default package

PR:	2934

------------------------------------------------------------------------
r269439 | conor | 2001-08-02 08:21:09 -0400 (Thu, 02 Aug 2001) | 4 lines

Actually set the exception on task level messages

PR:	2942

------------------------------------------------------------------------
r269438 | conor | 2001-08-02 08:19:35 -0400 (Thu, 02 Aug 2001) | 3 lines

BuildExceptions were not printing their own stack trace. They do this now
but it does make the output in the event of a failure a bit noisier

------------------------------------------------------------------------
r269437 | conor | 2001-08-02 07:42:55 -0400 (Thu, 02 Aug 2001) | 4 lines

Make if and unless attributes of <target> dynamically evaluated

PR:	2955

------------------------------------------------------------------------
r269436 | costin | 2001-08-01 19:20:22 -0400 (Wed, 01 Aug 2001) | 8 lines

Small fix in Zip.java.

In ant1.3 you can specify the prefix ( for war, zip, etc ), that doesn't seem
to work anymore ( since <fileset> will create a simple filest, without the
prefix attribute ).

If we create a ZipFileSet instead of FileSet everything works again.

------------------------------------------------------------------------
r269435 | costin | 2001-08-01 17:37:50 -0400 (Wed, 01 Aug 2001) | 4 lines

Small fix in manifest, added Class-Path attribute, now it should
work with java -jar ant.jar
Let me know if there's any problem.

------------------------------------------------------------------------
r269434 | bodewig | 2001-08-01 11:54:24 -0400 (Wed, 01 Aug 2001) | 5 lines

Support for kopi and gcc implementations of <javac>.

PR: 2476
Submitted by:	Takashi Okamoto <tora@debian.org>

------------------------------------------------------------------------
r269433 | bodewig | 2001-08-01 11:33:42 -0400 (Wed, 01 Aug 2001) | 4 lines

Expand properties in <sql>.

PR: 1447

------------------------------------------------------------------------
r269432 | bodewig | 2001-08-01 11:26:22 -0400 (Wed, 01 Aug 2001) | 4 lines

Add nested <fileset> to <sql>

Submitted by:	Tim Stephenson <tim.stephenson@sybase.com>

------------------------------------------------------------------------
r269431 | conor | 2001-08-01 08:56:23 -0400 (Wed, 01 Aug 2001) | 11 lines

Allow manifests of Jar files to be specified in-line. This allows the
use of Ant properties in the manifest. The inline manifest will be
merged with any external file manifests. Example usage

    <jar jarfile="taskjar2.jar" basedir="." manifest="manifest.mf">
      <include name="src/**/*"/>
      <manifest>
        <attribute name="Built-By" value="${user.name}"/>
      </manifest>
    </jar>

------------------------------------------------------------------------
r269430 | conor | 2001-08-01 07:41:15 -0400 (Wed, 01 Aug 2001) | 4 lines

New Introspection capability. Methods which have the signature
addConfiguredXXX will be called for nested elements named XXX
but will be called only once the XXX object has been configured

------------------------------------------------------------------------
r269428 | sbailliez | 2001-08-01 06:43:58 -0400 (Wed, 01 Aug 2001) | 2 lines

declare the tasks maudit and mmetrics to Metamata tasks.

------------------------------------------------------------------------
r269426 | sbailliez | 2001-08-01 06:39:01 -0400 (Wed, 01 Aug 2001) | 4 lines

The stylesheet that should replace all the one in the source code.
As its name suggests, it will generate the framed report only.
It can be used either w/ xalan 2.x or xalan 1.2.2 though the later requires bsf.jar in the classpath.

------------------------------------------------------------------------
r269425 | sbailliez | 2001-08-01 06:34:32 -0400 (Wed, 01 Aug 2001) | 2 lines

stylesheets that can be used to generate some framed report for Metamata tasks MMetrics and MAudit

------------------------------------------------------------------------
r269423 | sbailliez | 2001-08-01 06:22:18 -0400 (Wed, 01 Aug 2001) | 4 lines

New Tasks for Metamata Audit and Metamata Metrics.
Since Metamata was acquired by Webgain, Quality Analyzer 2.0 is also compatible with them.
I'm using them for a while and they were requested by Garrick Olson, Garrick.Olson@Aceva.com

------------------------------------------------------------------------
r269422 | bodewig | 2001-08-01 05:37:27 -0400 (Wed, 01 Aug 2001) | 5 lines

Don't delete generated files if sourcebase and basedir happen to be
the same.

PR: 2943

------------------------------------------------------------------------
r269421 | bodewig | 2001-08-01 05:29:50 -0400 (Wed, 01 Aug 2001) | 2 lines

didn't mean to remove the toString method with my last commit.

------------------------------------------------------------------------
r269419 | bodewig | 2001-08-01 05:08:56 -0400 (Wed, 01 Aug 2001) | 8 lines

Add <includesfile>/<excludesfile> elements to <patternset> and friends,
thus allowing for more than one file of each type.

Submitted by:	Mark Womack <mwomack@bevocal.com>

Add pointer to "Directory Based Tasks" in the documentation of
patternsets where patterns are actually defined.

------------------------------------------------------------------------
r269417 | conor | 2001-07-31 07:24:41 -0400 (Tue, 31 Jul 2001) | 5 lines

Resolve properties within properties files by first consulting the project
properties first.

PR:	2915

------------------------------------------------------------------------
r269416 | sbailliez | 2001-07-31 05:05:03 -0400 (Tue, 31 Jul 2001) | 2 lines

the optional xsl to be used with JProbe Coverage tasks. It generates a framed report a la JavaDoc

------------------------------------------------------------------------
r269415 | sbailliez | 2001-07-31 05:02:19 -0400 (Tue, 31 Jul 2001) | 2 lines

added definition for the 3 JProbe Coverage tasks: jpcoverage, jpcovreport, jpcovmerge

------------------------------------------------------------------------
r269413 | sbailliez | 2001-07-31 04:40:13 -0400 (Tue, 31 Jul 2001) | 2 lines

JProbe Coverage tasks: covmerge, covreport, coverage

------------------------------------------------------------------------
r269410 | conor | 2001-07-30 10:07:31 -0400 (Mon, 30 Jul 2001) | 5 lines

Add some better error management for exec errors. By wrapping the real
exception in a build exception, hopefully we'll get a stack trace

PR:	2542

------------------------------------------------------------------------
r269409 | conor | 2001-07-30 09:35:23 -0400 (Mon, 30 Jul 2001) | 5 lines

Produce a summary, on request, of the actions taken by the replace
task

PR:	956

------------------------------------------------------------------------
r269408 | conor | 2001-07-30 09:08:05 -0400 (Mon, 30 Jul 2001) | 4 lines

Add Locale support to TStamp task.

Submitted by:	Michal Pise <michal.pise@st.ms.mff.cuni.cz>

------------------------------------------------------------------------
r269407 | conor | 2001-07-30 07:15:17 -0400 (Mon, 30 Jul 2001) | 3 lines

Manifest is no longer in a fileset and so needs an uptodate check of its own
Also now log warnings about malformed manifests

------------------------------------------------------------------------
r269405 | conor | 2001-07-29 09:57:13 -0400 (Sun, 29 Jul 2001) | 2 lines

Make the manifest class more accomodating to malformed manifests

------------------------------------------------------------------------
r269404 | conor | 2001-07-28 10:11:41 -0400 (Sat, 28 Jul 2001) | 8 lines

Add new Manifest handling class.
Manifest entries longer than 72 bytes are wrapped according to the spec
Illegal manifest files now cause errors
Standard fields are provided by default and merged in
Manifest set by attribute and any added in META-INF/Manifest.mf are merged

PR:	1193, 2295

------------------------------------------------------------------------
r269403 | bodewig | 2001-07-27 10:50:43 -0400 (Fri, 27 Jul 2001) | 17 lines

Add ignoreNoncriticalErrors and skipFailedTransfers attributes to
<ftp>

ignoreNoncrtiticalErrors makes the task ignore all error messages when
creating a directory (some servers return strange codes if the
directory in question already exists).

skipFailedTransfers warns about failed file transfers but keeps going
on - transfering everything that works.

Submitted by:	Steve Loughran <steve_l@iseran.com>

Add a "mkdir" action to <ftp>, make <ftp> take a missing remote file a
"the file is not uptodate" when sending files.

Submitted by:	Larry V. Streepy, Jr. <streepy@healthlanguage.com>

------------------------------------------------------------------------
r269402 | bodewig | 2001-07-27 06:13:14 -0400 (Fri, 27 Jul 2001) | 5 lines

Fix for the NPE that makes the Cactus build fail.

Actually test6 of taskdef.xml failed as well, I just didnd't run it
after my last changes as it is not part of the testsuite - argh.

------------------------------------------------------------------------
r269400 | bodewig | 2001-07-27 05:55:46 -0400 (Fri, 27 Jul 2001) | 5 lines

Add outputproperty attribute to <exec> to capture the output of the
external command in a property.

Submitted by:	Peter  Vogel <pvogel@arsin.com>

------------------------------------------------------------------------
r269399 | bodewig | 2001-07-27 05:14:58 -0400 (Fri, 27 Jul 2001) | 12 lines

New suite of tasks of Continuus.

Submitted by:	Beno�t Moussaud <benoit.moussaud@criltelecom.com>

Note that I don't use Continuus, so this patch has not been tested for
functionality (it compiles and looks OK, that's all I can check).

Note 2: I'm not sure whether my assumption
     <cccheckin>=CCMCheckin
     <ccmcheckintask>=ccm.CCMCheckinDefault
is correct.

------------------------------------------------------------------------
r269398 | bodewig | 2001-07-27 04:43:26 -0400 (Fri, 27 Jul 2001) | 8 lines

added autoresponse attribute to <vssget> and <vsslabel> as well as a quiet
attribute to <vssget>.

Submitted by:	Jon Skeet <jon.skeet@peramon.com>

Note that I don't use VSS, so this patch has not been tested for
functionality (it compiles and looks OK, that's all I can check).

------------------------------------------------------------------------
r269397 | bodewig | 2001-07-27 04:24:59 -0400 (Fri, 27 Jul 2001) | 9 lines

Add failonerror attribute to <delete>.

Submitted by:	Steve Loughran <steve_l@iseran.com>

I've modified Steve's original submission to ensure quiet and
failonerror don't get set to true at the same time - also fixed the
logging a little as messages about failures to delete a file would go
to verbose logging or swallowed inconsistently in quiet mode.

------------------------------------------------------------------------
r269394 | bodewig | 2001-07-27 02:52:51 -0400 (Fri, 27 Jul 2001) | 7 lines

Add overwrite attribute to unjar/war/zip and untar - if set to false,
files newer than the entries in the archive will not be replaced.

Default is true for backwards compatibility.

PR: 1667

------------------------------------------------------------------------
r269393 | donaldp | 2001-07-27 02:46:49 -0400 (Fri, 27 Jul 2001) | 4 lines

More P4 tasks.

Submitted by: Les Hughes [mailto:leslie.hughes@rubus.com]

------------------------------------------------------------------------
r269392 | bodewig | 2001-07-26 11:38:48 -0400 (Thu, 26 Jul 2001) | 3 lines

Make UnknownElement aware of TaskContainer so that one can taskdef a
TaskContainer at runtime.

------------------------------------------------------------------------
r269391 | conor | 2001-07-26 06:13:23 -0400 (Thu, 26 Jul 2001) | 2 lines

remove temporary debug

------------------------------------------------------------------------
r269390 | bodewig | 2001-07-26 03:51:28 -0400 (Thu, 26 Jul 2001) | 3 lines

Adapt DTD to recent changes (types can be specified in targets and the
TaskContainer concept).

------------------------------------------------------------------------
r269389 | conor | 2001-07-25 10:40:54 -0400 (Wed, 25 Jul 2001) | 3 lines

Add tests for property resolution in property files
Update JUnit jar to latest version (3.7)

------------------------------------------------------------------------
r269388 | conor | 2001-07-25 10:17:37 -0400 (Wed, 25 Jul 2001) | 2 lines

Old bug reverled by my recent changes.

------------------------------------------------------------------------
r269387 | conor | 2001-07-25 08:12:11 -0400 (Wed, 25 Jul 2001) | 4 lines

Fixed up the protocol checking for class resources. You can now use
depend to pick up out of date class files with respect to dependent
classes on the classpath (i.e. not just jars)

------------------------------------------------------------------------
r269384 | conor | 2001-07-24 10:59:04 -0400 (Tue, 24 Jul 2001) | 7 lines

Upgrade <depend> to check dependencies on jars in the classpath. You
need to provide a classpath to <depend> to trigger this behaviour.

Doesn't currently handle classes in the classpath.

PR:	2663

------------------------------------------------------------------------
r269383 | conor | 2001-07-24 10:55:48 -0400 (Tue, 24 Jul 2001) | 2 lines

Got my wires crossed

------------------------------------------------------------------------
r269382 | conor | 2001-07-24 10:53:40 -0400 (Tue, 24 Jul 2001) | 3 lines

Make resource load failures only print under debug. Up to the caller
to decide whether this is an error

------------------------------------------------------------------------
r269381 | bodewig | 2001-07-24 09:28:56 -0400 (Tue, 24 Jul 2001) | 4 lines

Javadoc improvements.

Submitted by:	robert burrell donkin <robertdonkin@mac.com>

------------------------------------------------------------------------
r269380 | bodewig | 2001-07-24 09:13:30 -0400 (Tue, 24 Jul 2001) | 4 lines

remove some stray tabs.

Pete was faster than me, but he doesn't run untabify on his sources 8-)

------------------------------------------------------------------------
r269379 | donaldp | 2001-07-24 08:58:42 -0400 (Tue, 24 Jul 2001) | 6 lines

this is a corrected version of the CVSPass task.
The old one did not include shifts for all ASCII characters.
A diff is included.

Submitted by: "Ingmar Stein" <stein@xtramind.com>

------------------------------------------------------------------------
r269377 | conor | 2001-07-23 12:31:56 -0400 (Mon, 23 Jul 2001) | 9 lines

Resolve properties loaded from files before sending them to the project
helper for resolution. This removes extraneous reporting of undefined
properties due to the "reording" of properties stored in the properties
object.

Unify property extraction between ProjectHelper and property task.

PR:	2687

------------------------------------------------------------------------
r269376 | conor | 2001-07-23 10:50:49 -0400 (Mon, 23 Jul 2001) | 3 lines

Security Manager does not work under 1.1. Take it out for now
but I'd like to bring it back with some reflective insulation.

------------------------------------------------------------------------
r269374 | glennm | 2001-07-22 23:56:12 -0400 (Sun, 22 Jul 2001) | 9 lines

Fix for id/refid data type bug.  Delays adding the
id to the list of references till runtime when the
data type is inside a target.  Without this change,
if multiple data types have the same id, only the
one that is last refered to in the file *and* is
configured at runtime (i.e. its target is executed)
will work properly.  Otherwise, you will end up
using an unconfigured data type.

------------------------------------------------------------------------
r269373 | conor | 2001-07-22 11:44:11 -0400 (Sun, 22 Jul 2001) | 3 lines

Add a security manager so that non-forked java programs that call
System.exit() work

------------------------------------------------------------------------
r269372 | conor | 2001-07-22 11:29:10 -0400 (Sun, 22 Jul 2001) | 2 lines

Route log messages to the subproject in <ant> and <antcall> situations

------------------------------------------------------------------------
r269371 | conor | 2001-07-22 09:12:29 -0400 (Sun, 22 Jul 2001) | 15 lines

This is a major change. :-)

It introduces the concept of a TaskContainer to allow a task to contain
other tasks. This allows Task composition
It introduces a <parallel> task for multithreading support. There is
also a <sequential> task.
It reworks System.out management to handle all task generated output
and route it through the Ant event system. This handles multithreaded
output.

This is a major rework to the patch originally submitted by Thomas. I
have taken a different route for the output management, in particular.

Based on patch by Thomas Christen <chr@active.ch>

------------------------------------------------------------------------
r269370 | conor | 2001-07-22 05:56:23 -0400 (Sun, 22 Jul 2001) | 3 lines

OK, reverting change since it was bad and the errorlevel is being
set anyway :-(

------------------------------------------------------------------------
r269369 | conor | 2001-07-21 09:03:19 -0400 (Sat, 21 Jul 2001) | 4 lines

Add exit code to batch files

PR:	314

------------------------------------------------------------------------
r269367 | bodewig | 2001-07-20 06:07:35 -0400 (Fri, 20 Jul 2001) | 2 lines

Make inheritall attribute available to <antcall> as well.

------------------------------------------------------------------------
r269365 | conor | 2001-07-19 10:09:38 -0400 (Thu, 19 Jul 2001) | 2 lines

Allow compiler attribute to contain compiler options

------------------------------------------------------------------------
r269364 | conor | 2001-07-19 07:09:42 -0400 (Thu, 19 Jul 2001) | 4 lines

Fix for when build.compiler is not defined (D'Oh)

Submitted by:	Mark Crook <markc@cortexebusiness.com.au>

------------------------------------------------------------------------
r269363 | bodewig | 2001-07-19 02:38:01 -0400 (Thu, 19 Jul 2001) | 9 lines

Make sure "ant -find" will return a "normal" filename (without /./)
for the build file.

Reported by:            Costin Manolache <cmanolache@yahoo.com>
Fix suggested by:	Jesse Glick <Jesse.Glick@netbeans.com>

I still think we should fix Project.resolveFile to handle ../ and ./
sequences in rootDir as well.

------------------------------------------------------------------------
r269361 | conor | 2001-07-18 10:03:34 -0400 (Wed, 18 Jul 2001) | 8 lines

Linked the compiler used by ejbjar to the build.compiler property. This
linking can be overidden by either supplying a value to the compiler attribute
or setting that attribute to "default", in which case ejbc's default compiler
choise will be used.

PR:	1146
Suggested by:	David Ventimiglia <david.ventimiglia@msdw.com>

------------------------------------------------------------------------
r269360 | conor | 2001-07-18 09:32:03 -0400 (Wed, 18 Jul 2001) | 6 lines

Fixed check for differences. As it was, check would be ignored for all
files after the manifest file.

PR:	1125
Submitted by:	Michael Ondrejko <mondrejko@acm.org>

------------------------------------------------------------------------
r269358 | bodewig | 2001-07-18 07:31:16 -0400 (Wed, 18 Jul 2001) | 2 lines

Adapt testcase to changes in CommandlineJava.

------------------------------------------------------------------------
r269357 | bodewig | 2001-07-18 06:07:02 -0400 (Wed, 18 Jul 2001) | 11 lines

Apply the same magic <javadoc> uses to locate the javadoc command to
CommandlineJava (and with thus to <java fork="true">).

Suggested by:	Jesse Glick <Jesse.Glick@netbeans.com>

Also, add .exe on OS/2 as well.

This still doesn't work for IBM's JDK 1.3 on AIX (java is in
JAVA_HOME/jre/sh and javac in JAVA_HOME/sh) - need to find out what
java.home points to and where javadoc is, before we can fix that.

------------------------------------------------------------------------
r269356 | bodewig | 2001-07-18 05:53:40 -0400 (Wed, 18 Jul 2001) | 4 lines

Add the correct path to the runtime library on MacOS X in <javac> and <rmic>.

Based on patch submitted by:	Otto Moerbeek <omoerbeek@mac.com>

------------------------------------------------------------------------
r269355 | bodewig | 2001-07-18 04:06:35 -0400 (Wed, 18 Jul 2001) | 5 lines

Add ability to define several tasks/types at once, reading definitions
from a property file.

Submitted by:	<cmanolache@yahoo.com>

------------------------------------------------------------------------
r269353 | conor | 2001-07-17 23:16:05 -0400 (Tue, 17 Jul 2001) | 2 lines

More classloader improvements

------------------------------------------------------------------------
r269352 | conor | 2001-07-17 22:29:34 -0400 (Tue, 17 Jul 2001) | 3 lines

Improve the performance of the classloader - The classloader will, however,
now have the jars open.

------------------------------------------------------------------------
r269351 | glennm | 2001-07-17 10:54:13 -0400 (Tue, 17 Jul 2001) | 5 lines

Look for java.home/../bin/javadoc(.exe) before falling
back on plain old javadoc.  Just looking in the java.home
directory tree isn't sufficient, as it may give incorrect
results on Windows (thanks to Connor for the info.).

------------------------------------------------------------------------
r269350 | bodewig | 2001-07-17 10:32:04 -0400 (Tue, 17 Jul 2001) | 2 lines

Tell us which class you cannot find, please.

------------------------------------------------------------------------
r269349 | conor | 2001-07-17 10:19:12 -0400 (Tue, 17 Jul 2001) | 4 lines

Set the thread context class loader when running <java> tasks

PR:	1085

------------------------------------------------------------------------
r269347 | conor | 2001-07-17 08:12:39 -0400 (Tue, 17 Jul 2001) | 6 lines

Add a new front end fro Ant which will perform many of the functions
of the current ant launcher scripts. Also allows many of the classes
necessary for Ant to be hidden from Java tasks run in VM.

Changes to the classloader to allow the parent loader to be specified.

------------------------------------------------------------------------
r269345 | bodewig | 2001-07-16 02:36:44 -0400 (Mon, 16 Jul 2001) | 2 lines

Make test OS independant.

------------------------------------------------------------------------
r269344 | glennm | 2001-07-15 10:25:28 -0400 (Sun, 15 Jul 2001) | 5 lines

The javadoc task now looks for the javadoc executable
in the java.home/../bin directory.  That way if your
java installation isn't in your path, you can still
create javadocs.

------------------------------------------------------------------------
r269343 | bodewig | 2001-07-13 10:09:45 -0400 (Fri, 13 Jul 2001) | 5 lines

Slightly change the output of the plain junit formatter to make it
more readable.

Submitted by:	David Rees <d.rees.l@usa.net>

------------------------------------------------------------------------
r269342 | bodewig | 2001-07-13 09:57:49 -0400 (Fri, 13 Jul 2001) | 12 lines

Various patches to PCVS task:

More robust parser that allows for platform independant paths.
Support for UNC names and a new updateonly attribute.

Submitted by:	Thomas Christensen <tchristensen@nordija.com>
                Don Jeffery <donj@apogeenet.com>

Fix for problematic file names

Submitted by:	ScottCarlson@email.com

------------------------------------------------------------------------
r269341 | bodewig | 2001-07-13 09:10:12 -0400 (Fri, 13 Jul 2001) | 4 lines

fix log messages of perforce tasks.

Submitted by:	Les Hughes <leslie.hughes@rubus.com>

------------------------------------------------------------------------
r269340 | bodewig | 2001-07-13 09:06:17 -0400 (Fri, 13 Jul 2001) | 2 lines

forgot to check a package for missing close() calls on LogOutputStreams.

------------------------------------------------------------------------
r269339 | bodewig | 2001-07-13 08:55:00 -0400 (Fri, 13 Jul 2001) | 6 lines

Make sure streams get flushed and closed - otherwise we may be losing
messages sent to the logging system, especially on platforms where
line ends are neither \r nor \n - for example OS/390.

Reported by:	Myron Uecker <uecker@us.ibm.com>

------------------------------------------------------------------------
r269336 | bodewig | 2001-07-13 04:07:59 -0400 (Fri, 13 Jul 2001) | 15 lines

Some javadoc enhancements in JUnitTask.

Submitted by:	robert burrell donkin <robertdonkin@mac.com>

<junit> can now set a property on failed tests.

PR: 1794
Submitted by:	Robert Watkins <robert.watkins@qsipayments.com>

Don't format the test run-times in XML report. They are not intended
to be read by humans anyway but give the XSLT processor a hard time to
parse otherwise.

PR: 2314

------------------------------------------------------------------------
r269335 | bodewig | 2001-07-12 09:51:09 -0400 (Thu, 12 Jul 2001) | 4 lines

Make sure XML report will be UTF8 encoded.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r269334 | bodewig | 2001-07-12 09:26:42 -0400 (Thu, 12 Jul 2001) | 5 lines

Add filepath attribute/element to available to search for a file in a
given path - handy if you want to search for an executable for example.

Submitted by:	John Morrison <John.Morrison@uk.experian.com>

------------------------------------------------------------------------
r269333 | bodewig | 2001-07-12 09:02:47 -0400 (Thu, 12 Jul 2001) | 8 lines

Add vssver.scc to default excludes

PR: 2015

In some cases DirectoryScanner could miss included files/directories.

PR: 1415

------------------------------------------------------------------------
r269332 | conor | 2001-07-12 08:43:01 -0400 (Thu, 12 Jul 2001) | 4 lines

Allow policy file to exist outside of Weblogic Home

PR:	1161

------------------------------------------------------------------------
r269331 | conor | 2001-07-12 08:12:51 -0400 (Thu, 12 Jul 2001) | 7 lines

Use /nul when checkign for the existence of directories on Windows
(Although it doesn't work if the directory name is quoted - woohoo)
Check for Ant in C:\Ant for Windows 9X users

PR:	2101
Based on suggestion by eswierk@cs.stanford.edu (Ed Swierk)

------------------------------------------------------------------------
r269330 | bodewig | 2001-07-12 08:06:45 -0400 (Thu, 12 Jul 2001) | 7 lines

Make <apply> work really parallel and not parallel on a per fileset basis.

PR: 1763

Merge <apply> and <execon> into a single task (and keep Transform as
an empty class for backwards compatibility at the source level).

------------------------------------------------------------------------
r269329 | conor | 2001-07-12 07:26:19 -0400 (Thu, 12 Jul 2001) | 6 lines

Set level back to verbose - messages are too annoying as it is common
to attempt to load property files which don't exist - there for optional
override of properties.

PR:	1451

------------------------------------------------------------------------
r269328 | conor | 2001-07-12 06:30:28 -0400 (Thu, 12 Jul 2001) | 6 lines

Just find directory above script home rather than removing bin dirs which
may take out more than was intended

PR:	2082
Submitted by:	Daniel.Barclay@digitalfocus.com

------------------------------------------------------------------------
r269327 | bodewig | 2001-07-12 06:24:46 -0400 (Thu, 12 Jul 2001) | 2 lines

update attribute of zip had the wrong default value (my fault).

------------------------------------------------------------------------
r269326 | bodewig | 2001-07-12 06:06:40 -0400 (Thu, 12 Jul 2001) | 5 lines

make <uptodate> search for target files in the same directory as
source files

Submitted by:	Gunnlaugur Thor Briem <gthb@dimon.is>

------------------------------------------------------------------------
r269325 | bodewig | 2001-07-12 04:07:22 -0400 (Thu, 12 Jul 2001) | 6 lines

update attribute for <zip> and friends - update archive instead of
creating a new one.

PR: 163
Submitted by:	Jon Skeet <jon.skeet@peramon.com>

------------------------------------------------------------------------
r269324 | bodewig | 2001-07-12 03:36:50 -0400 (Thu, 12 Jul 2001) | 5 lines

New filesonly attribute for <zip> and friends - suppresses directories.

PR: 2053
Submitted by:	Peter Janes <peterj@liberate.com>

------------------------------------------------------------------------
r269323 | bodewig | 2001-07-12 03:09:19 -0400 (Thu, 12 Jul 2001) | 10 lines

<junit> will now try to include the task-definition itself as well as
the needed support classes (Ant and JUnit itself) in the classpath if
running in forked mode - this means that you shouldn't have to use
different classpath elements for "in VM" and "fork" mode any longer.

Doesn't work for JDK 1.1 as the URL returned by Class.getResource
doesn't contain the name of the JAR file there.

PR: 1239

------------------------------------------------------------------------
r269322 | bodewig | 2001-07-11 12:29:03 -0400 (Wed, 11 Jul 2001) | 4 lines

Again forgot to save some files, argh.

Part two of the mimemail task patch.

------------------------------------------------------------------------
r269321 | bodewig | 2001-07-11 12:11:47 -0400 (Wed, 11 Jul 2001) | 10 lines

New task mimemail - this task requires JavaMail (and JAF) that's why
it is optional and doesn't replace the existing mail task.  The main
improvement is that it supports attachments you can specify via a
fileset.

Submitted by:	 Glenn Twiggs <glenn_twiggs@bmc.com>
                 Steve Loughran <steve_l@iseran.com>
                 Erik Hatcher <erik@hatcher.net>
                 Paulo Gaspar <paulo.gaspar@krankikom.de>

------------------------------------------------------------------------
r269319 | conor | 2001-07-11 11:00:19 -0400 (Wed, 11 Jul 2001) | 4 lines

Changed the logging level of invalid property files to warning

PR:	1451

------------------------------------------------------------------------
r269317 | bodewig | 2001-07-11 06:08:20 -0400 (Wed, 11 Jul 2001) | 4 lines

testcase for JUnitTestRunner.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r269316 | bodewig | 2001-07-11 05:58:09 -0400 (Wed, 11 Jul 2001) | 9 lines

help the garbage collector by cleaning out references in
AntClassLoader and IntrospectionHelper after the build has finished.

This helps applications that run Ant in the same VM over and over
again like CruiseControl or wrappers that run Ant in incremental mode.

PR: 2568
Submitted by:	robert.watkins@qsipayments.com (Robert Watkins)

------------------------------------------------------------------------
r269315 | bodewig | 2001-07-11 05:37:07 -0400 (Wed, 11 Jul 2001) | 4 lines

Make bootstrap process for JDK < 1.3 on Unix work again (bootstrap
uses the <chmod> task to make antRun executable which in turn needs an
executable antRun script ...)

------------------------------------------------------------------------
r269314 | bodewig | 2001-07-11 05:29:52 -0400 (Wed, 11 Jul 2001) | 4 lines

Log properties for JUnit tests.

Submitted by:	Erik Hatcher <erik@hatcher.net>

------------------------------------------------------------------------
r269313 | bodewig | 2001-07-11 04:18:57 -0400 (Wed, 11 Jul 2001) | 4 lines

Give a different message if a test fails due to timeout.

Submitted by:	Julian M. Savage <jsavage@fisci.com>

------------------------------------------------------------------------
r269311 | bodewig | 2001-07-11 04:03:11 -0400 (Wed, 11 Jul 2001) | 2 lines

support java.util.regex package of JDK 1.4 in regexp mapper.

------------------------------------------------------------------------
r269310 | bodewig | 2001-07-11 02:50:45 -0400 (Wed, 11 Jul 2001) | 2 lines

Add debug information to the getResource methods.

------------------------------------------------------------------------
r269309 | bodewig | 2001-07-10 11:40:09 -0400 (Tue, 10 Jul 2001) | 7 lines

Stop using canonical paths.  This will change the behavior of Ant when
symbolic links are present (but in a way that is probably closer to
what the user expects) and remove some problems on platforms that use
"uncommon" native file names like OS/390 or VMS.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r269308 | conor | 2001-07-10 10:55:48 -0400 (Tue, 10 Jul 2001) | 3 lines

CHange most usage of the classloader so that it loads from the
system classpath first.

------------------------------------------------------------------------
r269307 | glennm | 2001-07-10 10:08:39 -0400 (Tue, 10 Jul 2001) | 6 lines

Test for the 4NT shell, which requires a
different method of slurping command line
args than cmd.exe.

Submitted by: Jim Anderson

------------------------------------------------------------------------
r269304 | conor | 2001-07-09 10:47:51 -0400 (Mon, 09 Jul 2001) | 3 lines

Interim fix for Gump failure to build FOP. IN Gump's mode of operations
ensures the system loader is always used.

------------------------------------------------------------------------
r269293 | conor | 2001-07-08 02:21:45 -0400 (Sun, 08 Jul 2001) | 5 lines

If the package list cannot be found, the offline links are
skipped - a message is printed at verbose level

PR:`	1304

------------------------------------------------------------------------
r269292 | conor | 2001-07-08 00:56:53 -0400 (Sun, 08 Jul 2001) | 5 lines

Handle spaces in JikesPath.
Add warning not to use Longfilenames for ANT_HOME on Win9X

PR:	1957

------------------------------------------------------------------------
r269291 | conor | 2001-07-07 20:00:38 -0400 (Sat, 07 Jul 2001) | 4 lines

Add noEJBC attribute to <ejbjar>'s weblogic element to skip ejbc.

PR:	1654

------------------------------------------------------------------------
r269290 | nico | 2001-07-07 12:29:49 -0400 (Sat, 07 Jul 2001) | 2 lines

Moved conversion of ANT_HOME to after the 'try to find ANT' section as suggested in Bug# 1479 by Daniel.Barclay@digitalfocus.com

------------------------------------------------------------------------
r269288 | conor | 2001-07-07 10:05:27 -0400 (Sat, 07 Jul 2001) | 3 lines

Another location where invalid paths can be ignored
PR: 381

------------------------------------------------------------------------
r269287 | conor | 2001-07-07 09:54:40 -0400 (Sat, 07 Jul 2001) | 5 lines

AntClassLoader now ignores paths which are invalid relative to the
project.

PR:	381

------------------------------------------------------------------------
r269286 | conor | 2001-07-07 09:51:12 -0400 (Sat, 07 Jul 2001) | 3 lines

Remove unnecessary use of Project.resolveFile by converting arguments to
Files from Strings

------------------------------------------------------------------------
r269285 | conor | 2001-07-07 08:57:36 -0400 (Sat, 07 Jul 2001) | 5 lines

use Execute task instead of ExecTask , no temp file are now created.
correct finding the Borland DD.

Submitted by:	MOUSSAUD Benot <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r269284 | conor | 2001-07-07 08:37:59 -0400 (Sat, 07 Jul 2001) | 3 lines

Make Ant work with spaces everywhere.
PR:	562

------------------------------------------------------------------------
r269283 | conor | 2001-07-07 06:22:23 -0400 (Sat, 07 Jul 2001) | 5 lines

Add support for delimiter type. Base don the ideas contained in
the bugzilla report suggested by johan.adelow@corustechnologies.com (Johan Adelow)

PR:	273

------------------------------------------------------------------------
r269282 | conor | 2001-07-07 06:19:31 -0400 (Sat, 07 Jul 2001) | 3 lines

Only delete the target file when it is in fact a file - don't
delete directories.

------------------------------------------------------------------------
r269279 | conor | 2001-07-06 23:09:22 -0400 (Fri, 06 Jul 2001) | 2 lines

javadoc @files do not work under JDK 1.1

------------------------------------------------------------------------
r269278 | conor | 2001-07-06 20:11:18 -0400 (Fri, 06 Jul 2001) | 5 lines

Don't try to print out result set if the execute method returns false

PR:	1727
Submitted by:	Gael_Marziou@hp.com (Gael Marziou)

------------------------------------------------------------------------
r269277 | conor | 2001-07-06 11:18:40 -0400 (Fri, 06 Jul 2001) | 2 lines

Improve OS related messages in Exec

------------------------------------------------------------------------
r269275 | conor | 2001-07-06 07:57:29 -0400 (Fri, 06 Jul 2001) | 4 lines

Add inheritAll attribute to <ant> task

Submitted by:	Craeg K Strong <cstrong@arielpartners.com>

------------------------------------------------------------------------
r269273 | conor | 2001-07-06 07:14:55 -0400 (Fri, 06 Jul 2001) | 8 lines

Add new vmlauncher attribute to exec. This defaults to true to execute
commands using the VM's capabilities, where available. If it is set to false
the underlying OS's shell will be used, either directly, or through the
antRun scripts. Allows use of some shell features (such as associating scripts
with their interpreters under Windows

PR:	413

------------------------------------------------------------------------
r269272 | bodewig | 2001-07-05 09:10:26 -0400 (Thu, 05 Jul 2001) | 6 lines

Add encoding attribute to the zip tasks and the ZipOutputStream to
make the classes flexible enough to deal with non US-ASCII filenames
either consistent with the command line ZIP tools (it has been since
it uses the org.apache classes instead of java.util.zip) or the jar
command (which it has been up to Ant 1.3).

------------------------------------------------------------------------
r269271 | bodewig | 2001-07-05 08:27:46 -0400 (Thu, 05 Jul 2001) | 5 lines

Work around a feature of the system classloader in some VMs - it
drops all classpath entries that are not present at VM start time.

PR: 2412

------------------------------------------------------------------------
r269270 | bodewig | 2001-07-05 08:03:47 -0400 (Thu, 05 Jul 2001) | 2 lines

some method signatures in IntrospectionHelper have changed.

------------------------------------------------------------------------
r269269 | glennm | 2001-07-04 15:02:45 -0400 (Wed, 04 Jul 2001) | 2 lines

Provide more descriptive error messages whenunknown attributes and elements are encountered in the build file.Bugzilla: 1722

------------------------------------------------------------------------
r269268 | bodewig | 2001-07-04 11:05:19 -0400 (Wed, 04 Jul 2001) | 11 lines

properly recurse remote directory in <ftp>

PR: 2285
Submitted by:	Jean-Francois.Morneau@ift.ulaval.ca (Jean-Francois Morneau),
                Roger Vaughn <rogervaughn@yahoo.com>

make sure <ftp> disconnects from the server when it's done

Submitted by:	Brian Rumple <brumple@VALUBOND.COM>,
                Roger Vaughn <rogervaughn@yahoo.com>

------------------------------------------------------------------------
r269267 | bodewig | 2001-07-04 10:40:28 -0400 (Wed, 04 Jul 2001) | 6 lines

delete existing target files before copying - this avoids overwriting
symlinks and is consistent with Unix's cp(1).

PR: 624
Submitted by:	ederksen@arrow.lz.att.com (Enno Derksen)

------------------------------------------------------------------------
r269265 | bodewig | 2001-07-04 06:33:33 -0400 (Wed, 04 Jul 2001) | 4 lines

Search for the generated file in the "right" directory in <jjtree>.

PR: 1652

------------------------------------------------------------------------
r269263 | bodewig | 2001-07-04 06:04:26 -0400 (Wed, 04 Jul 2001) | 13 lines

Changes to rmic based on discussion with Rob van Oostrum
<rvanoostrum@ezgov.com> and Larry V. Streepy, Jr.
<streepy@healthlanguage.com> on the ant-user mailing list:

(1) don't even try to perform uptodate checks for IDL mode or when the
-always(generate) option for IIOP mode has been specified

(2) ignore -keepgenerated in IDL mode (we don't know what to keep)

(3) use the correct target file names in IIOP mode.

PR: 1625

------------------------------------------------------------------------
r269262 | bodewig | 2001-07-04 05:45:41 -0400 (Wed, 04 Jul 2001) | 2 lines

make pathconvert task compile in JDK 1.1

------------------------------------------------------------------------
r269261 | conor | 2001-07-03 19:43:37 -0400 (Tue, 03 Jul 2001) | 2 lines

Add in EAR task to the standard task defs

------------------------------------------------------------------------
r269258 | conor | 2001-07-02 05:55:41 -0400 (Mon, 02 Jul 2001) | 4 lines

Add support for getResources to the classloader

Submitted by:	David A. Herman <hermand@alumni.grinnell.edu>

------------------------------------------------------------------------
r269257 | conor | 2001-06-29 05:55:33 -0400 (Fri, 29 Jun 2001) | 4 lines

EJBJar now reports errors when weblogic ejbc fails rather than continuing

PR:	1254

------------------------------------------------------------------------
r269246 | donaldp | 2001-06-27 13:23:12 -0400 (Wed, 27 Jun 2001) | 4 lines

My excuse is that I was hit with a srupid stick when I was a child.

Submitted by: Michael Keuchen <michael.keuchen@curry.de>

------------------------------------------------------------------------
r269245 | conor | 2001-06-27 09:09:58 -0400 (Wed, 27 Jun 2001) | 4 lines

Allow DTD locations to be URLs effectvely mapping the URLs

Submitted by:	Benoit MOUSSAUD <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r269244 | conor | 2001-06-27 09:04:17 -0400 (Wed, 27 Jun 2001) | 4 lines

Cleanup of Borland ejbjar element

Submitted by:	MOUSSAUD Benoit <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r269231 | bodewig | 2001-06-26 09:42:28 -0400 (Tue, 26 Jun 2001) | 5 lines

Some initial work on rmic to make it handle -iiop better (doesn't
detect generated files properly) - doesn't quite work ATM.

Add some extra warning and debugging info to Project.

------------------------------------------------------------------------
r269229 | conor | 2001-06-26 07:05:17 -0400 (Tue, 26 Jun 2001) | 6 lines

Allow the manifest to be specified in the ejbjar task. This adds the given manifest
to the generic jar fed to the appserver ejb compiler.

PR:	980
Submitted by:	robert.watkins@qsipayments.com (Robert Watkins)

------------------------------------------------------------------------
r269226 | bodewig | 2001-06-25 11:28:34 -0400 (Mon, 25 Jun 2001) | 4 lines

Declare BuildException in Sleep.validate explicitly.

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r269224 | conor | 2001-06-25 11:17:37 -0400 (Mon, 25 Jun 2001) | 9 lines

2nd Installment of the ejb-jar naming convention changes. This
introduces a namign attribnute which can take one of four values
ejb-name - use the ejb-name in the deployment descriptor to name the jar
descriptor - name the jar based on the name of the deployment descriptor file
basejarname - name the jars based on the given basejarname attribute
directory - the directory containing the deployment descriptor is used

ejb-name handling based on code submitted by Trevor Stewart <TREVORSTEWART@UP.COM>

------------------------------------------------------------------------
r269222 | bodewig | 2001-06-25 03:46:50 -0400 (Mon, 25 Jun 2001) | 4 lines

try to use English.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r269221 | conor | 2001-06-24 09:26:53 -0400 (Sun, 24 Jun 2001) | 3 lines

First steps on reforming the ejbjar naming conventions. This installment
make the basejarname attribute actually do something useful

------------------------------------------------------------------------
r269217 | bodewig | 2001-06-22 03:24:18 -0400 (Fri, 22 Jun 2001) | 14 lines

Add force attribute to <style> task to allow it to run independent of
file modification times.

Submitted by:	Craeg K Strong <cstrong@arielpartners.com>

Allow classpath from which the processor will be loaded to be
specified.

PR:             2144

Make sure Liaison classes close their output streams.

PR:             1848

------------------------------------------------------------------------
r269215 | donaldp | 2001-06-21 21:45:47 -0400 (Thu, 21 Jun 2001) | 4 lines

New task to convert paths to those of a different OS.

Submitted by:  "Larry V. Streepy, Jr." <streepy@healthlanguage.com>

------------------------------------------------------------------------
r269214 | bodewig | 2001-06-21 11:21:00 -0400 (Thu, 21 Jun 2001) | 4 lines

Fix JDK 1.1 incompatibility

Reported by:	Les Hughes <leslie.hughes@rubus.com>

------------------------------------------------------------------------
r269213 | bodewig | 2001-06-21 10:32:35 -0400 (Thu, 21 Jun 2001) | 4 lines

Remove definition of undocumented and obsolete compiletask task.

PR:    2160

------------------------------------------------------------------------
r269212 | bodewig | 2001-06-21 07:49:26 -0400 (Thu, 21 Jun 2001) | 5 lines

Make the packagelistloc attribute of javadoc's link child a File so it
will be resolved properly.

Reported by:	abethegn@canal-plus.fr

------------------------------------------------------------------------
r269211 | bodewig | 2001-06-21 06:19:12 -0400 (Thu, 21 Jun 2001) | 4 lines

new files for new <sleep> task.

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r269210 | bodewig | 2001-06-21 06:15:35 -0400 (Thu, 21 Jun 2001) | 4 lines

new task <sleep>

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r269205 | donaldp | 2001-06-19 07:50:30 -0400 (Tue, 19 Jun 2001) | 4 lines

Made SignJar support nested FileSets. It will also check if relevent signature file is present before signing if attribute lazy="true" is set

Submitted by:  "Nick Fortescue" <nick.fortescue@smartspread.com>

------------------------------------------------------------------------
r269169 | bodewig | 2001-06-13 11:29:47 -0400 (Wed, 13 Jun 2001) | 9 lines

Various typos and documentation fixes.

PR: 1464, 1483, 1523, 1873, 1621, 1839, 1840, 2011
Submitted by:	Daniel.Barclay@digitalfocus.com
                colin@bspark.com (Colin Sampaleanu)
                daveg@permabit.com
                arosen@silverstream.com (Alex Rosen)
                rxh@gers.com (Rey Hernandez)

------------------------------------------------------------------------
r269132 | rubys | 2001-06-08 15:39:49 -0400 (Fri, 08 Jun 2001) | 6 lines

Prep for JDK 1.4.

Note: I did a complete scan of the code.  Mostly it the version checks are
safe (e.g., things not supported with 1.1).  The only place where it wasn't
obvious to me was RMIC, but it seemed OK.

------------------------------------------------------------------------
r269131 | bodewig | 2001-06-08 06:31:08 -0400 (Fri, 08 Jun 2001) | 2 lines

Add a property that contains the version of Ant.

------------------------------------------------------------------------
r269130 | bodewig | 2001-06-08 06:11:28 -0400 (Fri, 08 Jun 2001) | 2 lines

Allow data types to appear inside of targets.

------------------------------------------------------------------------
r269117 | bodewig | 2001-06-07 07:42:09 -0400 (Thu, 07 Jun 2001) | 2 lines

New task <typedef>

------------------------------------------------------------------------
r269116 | bodewig | 2001-06-07 06:02:07 -0400 (Thu, 07 Jun 2001) | 4 lines

Don't change working directory for javadoc.

Submitted by:	Jay Glanville <dickon@nortelnetworks.com>

------------------------------------------------------------------------
r269113 | donaldp | 2001-06-06 02:07:27 -0400 (Wed, 06 Jun 2001) | 2 lines

Made setProject public.

------------------------------------------------------------------------
r269077 | donaldp | 2001-06-01 00:50:42 -0400 (Fri, 01 Jun 2001) | 4 lines

Added failonError attribute.

Submitted By: Iulian Musat <iulian@3dgeo.com>

------------------------------------------------------------------------
r269076 | donaldp | 2001-06-01 00:43:03 -0400 (Fri, 01 Jun 2001) | 4 lines

Added in jdpend task

Submitted By: J�r�me Lacoste <jerome.lacoste@smartcardsystem.com>

------------------------------------------------------------------------
r269046 | bodewig | 2001-05-23 12:58:36 -0400 (Wed, 23 May 2001) | 3 lines

Make usage of my email address consistent (probably going to change
home provider).

------------------------------------------------------------------------
r269045 | bodewig | 2001-05-23 12:44:11 -0400 (Wed, 23 May 2001) | 6 lines

Added useexternalfile attribute to <javadoc> - this makes javadoc use
a temporary file for source file and package names (via javadoc's
@file parameter) to defeat command line length limitations.

Inspired by:	Frederic Lavigne <fred@castify.net>

------------------------------------------------------------------------
r269038 | bodewig | 2001-05-22 05:56:10 -0400 (Tue, 22 May 2001) | 4 lines

Add skipemptyfilesets attributes to <execon> and <apply>.

PR: 1277

------------------------------------------------------------------------
r269037 | bodewig | 2001-05-22 05:20:17 -0400 (Tue, 22 May 2001) | 2 lines

Update for JUnit 3.7.

------------------------------------------------------------------------
r269035 | rubys | 2001-05-21 13:49:54 -0400 (Mon, 21 May 2001) | 2 lines

Fix an ArrayIndexOutOfBoundsException when building dom4j on Windows

------------------------------------------------------------------------
r269030 | conor | 2001-05-17 07:05:55 -0400 (Thu, 17 May 2001) | 4 lines

<jboss> element for <ejbjar>

Submitted by:	Paul  Austin <paustin@viant.com>

------------------------------------------------------------------------
r269027 | conor | 2001-05-17 06:30:49 -0400 (Thu, 17 May 2001) | 4 lines

This patch enables a newly created Perforce label to be locked

Submitted by:	Les Hughes <leslie.hughes@rubus.com>

------------------------------------------------------------------------
r269026 | conor | 2001-05-17 05:56:22 -0400 (Thu, 17 May 2001) | 4 lines

Quote the -group parameter to Javadoc

Submitted by:	Jay Glanville <dickon@nortelnetworks.com>

------------------------------------------------------------------------
r269025 | conor | 2001-05-17 05:52:32 -0400 (Thu, 17 May 2001) | 2 lines

Minor typo

------------------------------------------------------------------------
r269024 | bodewig | 2001-05-11 02:27:03 -0400 (Fri, 11 May 2001) | 3 lines

Class.newInstance throws a NoSuchMethodError in JDK 1.1 if there is no
no-arg constructor.

------------------------------------------------------------------------
r269023 | bodewig | 2001-05-11 02:22:44 -0400 (Fri, 11 May 2001) | 8 lines

Make javadoc expand properties for the new nested elements.

Use this to make the year of the copyright message in Ant's javadoc
dynamic - nice demonstration of tstamp's format element at the same
time.

Inspired by:	Jon Stevens <jon@latchkey.com>

------------------------------------------------------------------------
r269022 | conor | 2001-05-10 11:25:43 -0400 (Thu, 10 May 2001) | 5 lines

Allow the SQL Delimiter to be set so that Oracle stored procs may be
entered.

Submitted by:	Mike Williams <mikew@cortexebusiness.com.au>

------------------------------------------------------------------------
r269021 | conor | 2001-05-10 11:23:00 -0400 (Thu, 10 May 2001) | 5 lines

Initialize classes which are loaded through a classloader. Note that the
approach here uses newInstance to achieve initialisation for JDK 1.1
compatability. Under JDK 1.2, both initialization and the classloader to
use can be specified to Class.forName();

------------------------------------------------------------------------
r269020 | bodewig | 2001-05-10 08:14:36 -0400 (Thu, 10 May 2001) | 4 lines

Add some nested elements to javadoc where it seemed to be useful.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r269019 | bodewig | 2001-05-10 07:44:06 -0400 (Thu, 10 May 2001) | 7 lines

Improve error reporting in <xmlvalidate> and tell the XML where the
document is located.

Removed tabs, this makes this patch look a lot bigger than it is.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r269018 | conor | 2001-05-09 11:14:46 -0400 (Wed, 09 May 2001) | 5 lines

Add getResource() implementation to AntClassLoader

PR:	749
Submitted by:	mlauer-ssci@lauer-edv.com <mlauer-ssci@lauer-edv.com>

------------------------------------------------------------------------
r269016 | bodewig | 2001-05-08 08:21:30 -0400 (Tue, 08 May 2001) | 2 lines

sync classpath creation between Unix and Windows version.

------------------------------------------------------------------------
r269015 | bodewig | 2001-05-08 07:21:27 -0400 (Tue, 08 May 2001) | 10 lines

Made scripts a little more consistent, they should now work with IBM's
JDK on AIX out of the box.

Ant will now prepend CLASSPATH to the jars in ANT_HOME/lib like it
always did for Windows - if this is not the correct order, change it
here and in the batch file. We need to be consistent.

Make sure :: doesn't slip into the CLASSPATH when adding the library
jars.

------------------------------------------------------------------------
r269014 | bodewig | 2001-05-08 05:35:31 -0400 (Tue, 08 May 2001) | 11 lines

Assorted patches:

(1) make Ant JDK 1.4 aware
(2) improved <style> debugging
(3) bring DesirableFilter in line with defualt excludes
(4) use correct URL syntax in <get>'s unit test
(5) improve JavaDoc comments in Path.java
(6) description for test target in Ant's build file

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r269013 | jon | 2001-05-07 21:24:49 -0400 (Mon, 07 May 2001) | 8 lines

this makes ant work with jikes on OSX

i also generalized the case statement for figuring out the OS type
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r269012 | conor | 2001-05-05 10:02:50 -0400 (Sat, 05 May 2001) | 3 lines

Add in the addFailure method for later versions of JUnit
copied from PlainFormatter

------------------------------------------------------------------------
r269011 | bodewig | 2001-05-04 04:03:53 -0400 (Fri, 04 May 2001) | 5 lines

Add a new formatter "brief" for <junit>

PR: 1175
Submitted by:	Robert Watkins <robert.watkins@qsipayments.com>

------------------------------------------------------------------------
r269009 | bodewig | 2001-05-03 11:04:03 -0400 (Thu, 03 May 2001) | 4 lines

capture System.out and System.err while running the junit tests.

Submitted by:	Gerrit Riessen <Gerrit.Riessen@web.de>

------------------------------------------------------------------------
r269008 | bodewig | 2001-05-03 09:19:50 -0400 (Thu, 03 May 2001) | 4 lines

Make DirectoryScanner's error message a bit more useful.

PR: 1234

------------------------------------------------------------------------
r269007 | bodewig | 2001-05-03 09:10:30 -0400 (Thu, 03 May 2001) | 5 lines

Make tarfilesets work.

PR: 1543
Submitted by:	Steve.Langley@ebay.sun.com

------------------------------------------------------------------------
r269005 | bodewig | 2001-05-03 08:54:33 -0400 (Thu, 03 May 2001) | 5 lines

Make <replace> work for multibyte character sets.

PR: 1208
Submitted by:	AKIMOTO, Hiroki <akky@bigfoot.com>

------------------------------------------------------------------------
r269004 | bodewig | 2001-05-03 08:27:52 -0400 (Thu, 03 May 2001) | 5 lines

Make sure, we don't add "" to the archive - zip has gotten the same
special treatment a few weeks ago.

PR: 1607

------------------------------------------------------------------------
r269003 | bodewig | 2001-05-03 07:35:20 -0400 (Thu, 03 May 2001) | 4 lines

Pass -noexit flag to weblogic.rmic

PR: 1333

------------------------------------------------------------------------
r269002 | bodewig | 2001-05-03 07:18:44 -0400 (Thu, 03 May 2001) | 5 lines

Make <copy> throw an exception if the file to copy doesn't exist.

PR: 1547
Submitted by:	Alan Gates <alang@radik.com>

------------------------------------------------------------------------
r269001 | bodewig | 2001-05-03 07:16:53 -0400 (Thu, 03 May 2001) | 2 lines

fix testcase 13 for available.

------------------------------------------------------------------------
r268997 | holtdl | 2001-05-03 03:41:11 -0400 (Thu, 03 May 2001) | 8 lines

Backed out previous change that added a "dir" attribute, as this caused
backwards-compatibility issues. Added a "type" attribute instead, which
works with the "file" attribute to specify either a file or a directory.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r268993 | nico | 2001-05-01 07:41:05 -0400 (Tue, 01 May 2001) | 5 lines

- Added new tests for the dir-attribute
- Adjusted expected result for test13 - empty string is not a file
- Corrected all the tests - seems I have got the arguments in the wrong
  order on first submission :-(

------------------------------------------------------------------------
r268992 | nico | 2001-05-01 07:37:56 -0400 (Tue, 01 May 2001) | 3 lines

The file was not correctly closed after validating it's contents, so the tests
failed on Windows.

------------------------------------------------------------------------
r268991 | nico | 2001-05-01 07:36:19 -0400 (Tue, 01 May 2001) | 3 lines

Added some comments, so one knows which entry in the buildfile belongs
to which test-method.

------------------------------------------------------------------------
r268990 | conor | 2001-05-01 06:31:48 -0400 (Tue, 01 May 2001) | 7 lines

iplanet-ejbc task for EJB stubs and skeletons for the iPlanet
Application Server 6.0
Nested element to support iPlanet in ejbjar task


Submitted by:	Greg Nelson <greg@netscape.com>

------------------------------------------------------------------------
r268988 | conor | 2001-05-01 03:50:15 -0400 (Tue, 01 May 2001) | 2 lines

Repair install target and correct mionor typo

------------------------------------------------------------------------
r268987 | holtdl | 2001-04-30 19:25:36 -0400 (Mon, 30 Apr 2001) | 7 lines

Make "file" attribute only check for a file; add "dir" attribute for checking
for a directory; update doc.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r268984 | nico | 2001-04-29 12:23:20 -0400 (Sun, 29 Apr 2001) | 4 lines

Support Checkin- and Checkout-Commands of Microsoft Visual SourceSafe.

Submitted by: mpoeschl@marmot.at <mpoeschl@marmot.at>

------------------------------------------------------------------------
r268983 | nico | 2001-04-29 12:13:53 -0400 (Sun, 29 Apr 2001) | 4 lines

vsslabel now allows to specify a comment for the label.

Submitted by: Jon Skeet <jon.skeet@peramon.com>

------------------------------------------------------------------------
r268982 | bodewig | 2001-04-27 08:48:20 -0400 (Fri, 27 Apr 2001) | 5 lines

specify encoding for XmlLogger, handle TEXT Elements properly in
DOMElementWriter.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268981 | bodewig | 2001-04-27 08:36:12 -0400 (Fri, 27 Apr 2001) | 5 lines

Moved <pvcs> to a package of its own, added nested element to it to
handle multiple projects in one go.

Submitted by:	Frank Wierzbicki <wierzbickif@yahoo.com>

------------------------------------------------------------------------
r268980 | bodewig | 2001-04-27 07:58:50 -0400 (Fri, 27 Apr 2001) | 4 lines

add logging message to <copy>

Submitted by:	Dennis Gregorovic <dennis@arsdigita.com>

------------------------------------------------------------------------
r268979 | bodewig | 2001-04-27 07:52:55 -0400 (Fri, 27 Apr 2001) | 7 lines

Make port and password file configurable in <cvs>.

Add new task to insert a password into the CVS password file (only
recommended for anonymous access to repositories).

Submitted by:	Jeff Martin <jeff@custommonkey.org>

------------------------------------------------------------------------
r268968 | bodewig | 2001-04-25 10:12:14 -0400 (Wed, 25 Apr 2001) | 3 lines

Use current time instead of something illegal when we don't know the
last modification time of a dir.

------------------------------------------------------------------------
r268962 | bodewig | 2001-04-24 04:42:01 -0400 (Tue, 24 Apr 2001) | 3 lines

More JDK 1.1 issues. Culprits have been <pvcs>, <record> and the new
zip package.

------------------------------------------------------------------------
r268961 | bodewig | 2001-04-24 03:13:31 -0400 (Tue, 24 Apr 2001) | 2 lines

Fix stupid NPE introduced with my ZIP changes.

------------------------------------------------------------------------
r268960 | bodewig | 2001-04-24 03:09:28 -0400 (Tue, 24 Apr 2001) | 4 lines

Make EjbcHelper JDK 1.1 compatible.

Submitted by:	<francis@devereux.tc>

------------------------------------------------------------------------
r268959 | bodewig | 2001-04-23 12:12:25 -0400 (Mon, 23 Apr 2001) | 14 lines

Reimplementation of ZipOutputStream along with a subclass of ZipEntry
to allow Ant generated zip/jar/war/ear files to be extracted on Unix
boxes without permission problems for directories.

This one uses external file attributes like InfoZip's zip does, this
is a rough cut - the infrastructure to set arbitrary permissions and
add user/group IDs via Zip's external fields is there, but not used
ATM.  Directories will always get 755 permissions right now.

The testcases work on my box, and I can extract Ant created archives
without any trouble - can't await tomorrows Gump run.

package documentation for org.apache.tools.zip will follow.

------------------------------------------------------------------------
r268955 | donaldp | 2001-04-20 22:20:36 -0400 (Fri, 20 Apr 2001) | 4 lines

Made sure OS version is parsed correctly for OSX

Submitted By: Archit Shah <ashah@arsdigita.com>

------------------------------------------------------------------------
r268954 | conor | 2001-04-19 10:36:11 -0400 (Thu, 19 Apr 2001) | 5 lines

Create the ejbjar weblogic command line as a set of arguments rather than
as a single line. Avoids problems with paths which contain spaces.

Submitted by:	Paul Ste. Marie <SteMarie@digineer.com>

------------------------------------------------------------------------
r268953 | conor | 2001-04-19 10:02:16 -0400 (Thu, 19 Apr 2001) | 9 lines

Provide a way to specify addtional class path for blgenclient
task.

The borland Generate client uses a java call instead of the launch of an
external process.
The previous mode is still available if you set mode="fork"

Submitted by:	Beno�t MOUSSAUD <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r268951 | bodewig | 2001-04-18 10:49:52 -0400 (Wed, 18 Apr 2001) | 4 lines

brush up documentation for <javadoc> (adding documentation for the
excludepackagenames attribute in the first place), minor cleanups in
the implementation of this task.

------------------------------------------------------------------------
r268949 | metasim | 2001-04-16 20:31:46 -0400 (Mon, 16 Apr 2001) | 2 lines

Move message

------------------------------------------------------------------------
r268948 | metasim | 2001-04-16 20:27:12 -0400 (Mon, 16 Apr 2001) | 2 lines

Antidote officially moved to the CVS module jakarta-ant-antidote.

------------------------------------------------------------------------
r268947 | nickdavis | 2001-04-15 21:54:49 -0400 (Sun, 15 Apr 2001) | 3 lines

Added DragTree.java and DragTreeListener.java
(a JTree with drop and drag support)

------------------------------------------------------------------------
r268946 | nickdavis | 2001-04-15 21:52:06 -0400 (Sun, 15 Apr 2001) | 2 lines

changed the JTree to DragTree and added DragTreeListener

------------------------------------------------------------------------
r268945 | nickdavis | 2001-04-15 21:49:39 -0400 (Sun, 15 Apr 2001) | 3 lines

modified getDisplayName to display common attribute information
(eg "mkdir: ${build.dir}")

------------------------------------------------------------------------
r268944 | nickdavis | 2001-04-15 21:45:36 -0400 (Sun, 15 Apr 2001) | 2 lines

added a few optional tasks

------------------------------------------------------------------------
r268943 | nickdavis | 2001-04-15 21:44:19 -0400 (Sun, 15 Apr 2001) | 2 lines

added <patternset> to <fileset>'s possible children

------------------------------------------------------------------------
r268942 | nico | 2001-04-14 03:25:14 -0400 (Sat, 14 Apr 2001) | 7 lines

The completion of the fix for Bug #975: include proper handling of parsing
chunks of data returned by the external environment listing program
(whose command is returned by getProcEnvCommand()).  UNIX environment
variables can contain text with embedded newlines.

Submitted by; Daniel Rall <dlr@finemaltcoding.com>

------------------------------------------------------------------------
r268941 | bodewig | 2001-04-12 02:03:39 -0400 (Thu, 12 Apr 2001) | 5 lines

Rename <recorder> ro <record>.

Waiting too long with a step like this would force us to deprecate it
first, I hope only a few people have been using <recorder> yet.

------------------------------------------------------------------------
r268940 | donaldp | 2001-04-11 18:44:19 -0400 (Wed, 11 Apr 2001) | 4 lines

Updated ant to get environment from MacOS X

Submitted By: Archit Shah <ashah@arsdigita.com>

------------------------------------------------------------------------
r268939 | donaldp | 2001-04-11 18:39:17 -0400 (Wed, 11 Apr 2001) | 4 lines

Added in python style runant script

Submitted By: MOUSSAUD Beno�t <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r268938 | nickdavis | 2001-04-11 16:43:21 -0400 (Wed, 11 Apr 2001) | 2 lines

add support for optional elements

------------------------------------------------------------------------
r268937 | nickdavis | 2001-04-11 16:41:30 -0400 (Wed, 11 Apr 2001) | 2 lines

sort elements in the combobox

------------------------------------------------------------------------
r268936 | nickdavis | 2001-04-11 16:40:39 -0400 (Wed, 11 Apr 2001) | 2 lines

add function to fill a List from an Object[]

------------------------------------------------------------------------
r268933 | donaldp | 2001-04-10 01:06:47 -0400 (Tue, 10 Apr 2001) | 4 lines

Updated icontract task

Submitted By: aslak.hellesoy@bekk.no

------------------------------------------------------------------------
r268931 | donaldp | 2001-04-10 00:47:00 -0400 (Tue, 10 Apr 2001) | 4 lines

Added in xmlvalidate task

Submitted By: Raphael PIERQUIN <pierquin@agisphere.com>

------------------------------------------------------------------------
r268930 | donaldp | 2001-04-10 00:29:07 -0400 (Tue, 10 Apr 2001) | 4 lines

Added in basic RPM task

Submitted By: Josh Lucas <josh@stonecottage.com>

------------------------------------------------------------------------
r268929 | conor | 2001-04-06 23:51:32 -0400 (Fri, 06 Apr 2001) | 5 lines

Borland ejbjar element documentation
New blgenclient task to generate client jar for Borland EJBs

Submitted by:	Beno�t MOUSSAUD <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r268928 | nickdavis | 2001-04-06 16:00:30 -0400 (Fri, 06 Apr 2001) | 2 lines

added input validation to dialog

------------------------------------------------------------------------
r268927 | nickdavis | 2001-04-06 14:40:03 -0400 (Fri, 06 Apr 2001) | 3 lines

no "delete" menu for project element. display "delete" and "new element"
for all elements.

------------------------------------------------------------------------
r268926 | nickdavis | 2001-04-06 11:54:01 -0400 (Fri, 06 Apr 2001) | 2 lines

editor which provides a combobox of available attributes

------------------------------------------------------------------------
r268925 | nickdavis | 2001-04-06 11:52:33 -0400 (Fri, 06 Apr 2001) | 2 lines

getAction was added to allow removal of JDK 1.3 feature

------------------------------------------------------------------------
r268924 | nickdavis | 2001-04-06 11:51:23 -0400 (Fri, 06 Apr 2001) | 2 lines

removed the use of JDK 1.3 feature (Button.getAction)

------------------------------------------------------------------------
r268923 | nickdavis | 2001-04-06 11:50:34 -0400 (Fri, 06 Apr 2001) | 2 lines

new elements will have required attributes added

------------------------------------------------------------------------
r268922 | nickdavis | 2001-04-06 11:49:13 -0400 (Fri, 06 Apr 2001) | 2 lines

registered DtdAttributePropertyEditor with PropertyEditorManager

------------------------------------------------------------------------
r268921 | nickdavis | 2001-04-06 11:48:08 -0400 (Fri, 06 Apr 2001) | 3 lines

changed "NamedValues" property to ACSDtdDefinedAttributes
to allow for custom editor.

------------------------------------------------------------------------
r268920 | nickdavis | 2001-04-06 11:45:34 -0400 (Fri, 06 Apr 2001) | 2 lines

Added "DtdAttributes" class and fixed DtdElement's getters and setters.

------------------------------------------------------------------------
r268919 | bodewig | 2001-04-06 04:50:11 -0400 (Fri, 06 Apr 2001) | 4 lines

Add property attribute to <p4counter>

Submitted by:	Kirk Wylie <kirk@radik.com>

------------------------------------------------------------------------
r268916 | metasim | 2001-04-04 20:15:14 -0400 (Wed, 04 Apr 2001) | 2 lines

Fixed coding system problem (dos-2-unix translation error).

------------------------------------------------------------------------
r268915 | bodewig | 2001-04-04 09:35:05 -0400 (Wed, 04 Apr 2001) | 2 lines

Add a <metainf> element to <jar>

------------------------------------------------------------------------
r268914 | bodewig | 2001-04-04 08:03:46 -0400 (Wed, 04 Apr 2001) | 4 lines

New task <recorder>

Submitted by:	Jay Glanville <dickon@nortelnetworks.com>

------------------------------------------------------------------------
r268910 | bodewig | 2001-04-04 05:12:48 -0400 (Wed, 04 Apr 2001) | 4 lines

New task <p4counter>

Submitted by:	Kirk Wylie <kirk@radik.com>

------------------------------------------------------------------------
r268909 | nico | 2001-04-04 02:56:34 -0400 (Wed, 04 Apr 2001) | 17 lines

- Removed javadoc explaining attributes of task. This info is already in the
vsshistory.html file. I didn't want to duplicate the work.
- Renamed task attribute "outputfilename" to "output" to unify the task
attribute namespace (i.e., other tasks use "output", why not this one?).
Also made sure that the output filename is relative to the project's
basedir.
- Added task attribute "dateFormat" to allow the format of dates in "toDate"
and "fromDate" to be specified. This was necessary for the "numDays"
functionality to work properly with my date format.
- Added "default" choice to "style" attribute. If an unknown style attribute
is provided, a BuildException is thrown.
- Fixed examples in the documentation which not included vsspath
- Only pass -R once to ss.exe and only if recursive is really specified

Submitted by: Twiggs, Glenn <Glenn_Twiggs@bmc.com>
Minor changes by me.

------------------------------------------------------------------------
r268908 | donaldp | 2001-04-03 08:49:54 -0400 (Tue, 03 Apr 2001) | 4 lines

Added Ear task

Submitted By: Les Hughes [mailto:leslie.hughes@rubus.com]

------------------------------------------------------------------------
r268907 | bodewig | 2001-04-03 08:37:31 -0400 (Tue, 03 Apr 2001) | 4 lines

Don't parse the XSLT stylesheet unless we know a file is going to be
transformed. This should improve performance in cases where the
generated files are up to date significantly.

------------------------------------------------------------------------
r268906 | bodewig | 2001-04-03 07:32:31 -0400 (Tue, 03 Apr 2001) | 4 lines

Add "REM" to the comment identifiers fro <sql> - even if it's non-standard

Submitted by:	Michael McCallum <michael@spinsoftware.com>

------------------------------------------------------------------------
r268905 | bodewig | 2001-04-03 07:26:26 -0400 (Tue, 03 Apr 2001) | 5 lines

<fixcrlf> will only overwrite files if their content is different from
the original.

Submitted by:	Attila Szegedi <szegedi@scriptum.hu>

------------------------------------------------------------------------
r268902 | bodewig | 2001-04-02 04:05:57 -0400 (Mon, 02 Apr 2001) | 4 lines

make sure ZipFileSet works if the current working directory doesn't exist.

Submitted by:	David Rees <d.rees.l@usa.net>

------------------------------------------------------------------------
r268901 | bodewig | 2001-03-29 05:29:46 -0500 (Thu, 29 Mar 2001) | 2 lines

Add pattern for CVS backup files to default excludes

------------------------------------------------------------------------
r268900 | bodewig | 2001-03-29 05:21:12 -0500 (Thu, 29 Mar 2001) | 4 lines

Make <fail> support nested text.

Submitted by:	Tim Dawson <tdawson@wamnet.com>

------------------------------------------------------------------------
r268899 | bodewig | 2001-03-29 05:13:07 -0500 (Thu, 29 Mar 2001) | 4 lines

Add a value attribute to <uptodate>

Submitted by:	Tim Dawson <tdawson@wamnet.com>

------------------------------------------------------------------------
r268898 | bodewig | 2001-03-29 05:08:55 -0500 (Thu, 29 Mar 2001) | 4 lines

sanity checks for <touch>

Submitted by:	David Rees <d.rees.l@usa.net>

------------------------------------------------------------------------
r268897 | bodewig | 2001-03-29 04:37:12 -0500 (Thu, 29 Mar 2001) | 4 lines

Make <touch> work on <fileset>s

Submitted by:	Michael J. Sikorsky <mj@servidium.com>

------------------------------------------------------------------------
r268895 | metasim | 2001-03-28 07:29:40 -0500 (Wed, 28 Mar 2001) | 2 lines

Applied Nick Davis' patch to support generic elements based on an Ant DTD.

------------------------------------------------------------------------
r268894 | nico | 2001-03-28 03:37:55 -0500 (Wed, 28 Mar 2001) | 6 lines

Bug #1138

# does not work as a comment-sign in Windows Batch-files and results in errors - changed to rem.

Reported by: craig.malone@altavista.net (Craig Malone)

------------------------------------------------------------------------
r268893 | nico | 2001-03-28 03:34:38 -0500 (Wed, 28 Mar 2001) | 6 lines

Bug #1011

If debug is set to false pass -g:none to javac if JDK 1.2 or JDK 1.3 to get really no debug information at all.

Submitted by Peter Janes <pjanes@liberate.com>

------------------------------------------------------------------------
r268891 | conor | 2001-03-27 05:40:18 -0500 (Tue, 27 Mar 2001) | 5 lines

Borland nested element for <ejbjar> to generate EJBs for the Borland
Application Server

Submitted by:	Beno�t MOUSSAUD <benoit.moussaud@criltelecom.com>

------------------------------------------------------------------------
r268890 | bodewig | 2001-03-27 03:17:14 -0500 (Tue, 27 Mar 2001) | 2 lines

Omit the basedir itself (which would be added as /) from zipfile.

------------------------------------------------------------------------
r268888 | bodewig | 2001-03-27 01:36:06 -0500 (Tue, 27 Mar 2001) | 5 lines

chop .class at the end, not somewhere in the middle.

PR:             1124
Submitted by:	mstover1@apache.org

------------------------------------------------------------------------
r268886 | nico | 2001-03-25 14:19:39 -0500 (Sun, 25 Mar 2001) | 4 lines

Added support for the VSS History-command.

Originally submitted by Fejes Balazs <fbsubscriber@freemail.hu> with many modifications, documentation and enhancements by me.

------------------------------------------------------------------------
r268885 | nico | 2001-03-25 14:11:18 -0500 (Sun, 25 Mar 2001) | 2 lines

Fix for Bug #975 - sometimes (for example with a default installation of cygwin) there are environment-variables containing a new-line. We ignore anything after the first line and log the ignored lines with warning-level.

------------------------------------------------------------------------
r268884 | nico | 2001-03-25 14:07:35 -0500 (Sun, 25 Mar 2001) | 4 lines

Added attribute serverPath which lets the user specify the path to the srcsafe.ini.

Submitted by Barranger Ridler <barranger.ridler@screamingsolutions.com>

------------------------------------------------------------------------
r268872 | glennm | 2001-03-20 16:51:02 -0500 (Tue, 20 Mar 2001) | 4 lines

Missing throw in VAJImport

Reported by:	David Rees

------------------------------------------------------------------------
r268865 | bodewig | 2001-03-19 08:18:31 -0500 (Mon, 19 Mar 2001) | 7 lines

add description attribute to <p4change>

Submitted by:	Bob Cheek <RCheek@Verbind.com>

patch looks a lot bigger than it is - I removed a ton of tabs from
this file.

------------------------------------------------------------------------
r268864 | bodewig | 2001-03-19 08:05:45 -0500 (Mon, 19 Mar 2001) | 4 lines

Centralize method for setting last modification time of a file in Project.

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r268862 | bodewig | 2001-03-19 07:44:33 -0500 (Mon, 19 Mar 2001) | 5 lines

Make <tar> handle empty directories.

PR:             552
Submitted by:	William Webber <william@live.com.au>

------------------------------------------------------------------------
r268861 | bodewig | 2001-03-19 07:27:23 -0500 (Mon, 19 Mar 2001) | 4 lines

destdir in <style> is no longer required if in/out have been specified.

Suggested by:	Will Holcomb <will@odin.himinbi.org>

------------------------------------------------------------------------
r268860 | bodewig | 2001-03-19 06:22:52 -0500 (Mon, 19 Mar 2001) | 5 lines

Add support for Weblogic's rmic.

PR: 959
Submitted by:	Takashi Okamoto <toraneko@kun.ne.jp>

------------------------------------------------------------------------
r268857 | rubys | 2001-03-17 10:24:47 -0500 (Sat, 17 Mar 2001) | 2 lines

Fails on Windows

------------------------------------------------------------------------
r268855 | rubys | 2001-03-17 07:41:38 -0500 (Sat, 17 Mar 2001) | 2 lines

Fix for NPE when getClasspath is called before setRmic

------------------------------------------------------------------------
r268854 | glennm | 2001-03-16 09:27:12 -0500 (Fri, 16 Mar 2001) | 5 lines

Fixed bug when displaying default target with
a description.

Reported by:	Hans Ulrich Neidermann

------------------------------------------------------------------------
r268852 | bodewig | 2001-03-16 07:57:16 -0500 (Fri, 16 Mar 2001) | 13 lines

Make <rmic> a factory task just like <javac> already is. Support
Kaffe's rmic.

Submitted by:	Takashi Okamoto <toraneko@kun.ne.jp>

Catch arbitrary Exceptions thrown when trying to verify a class.

PR: 222

Support extdirs.

PR: 893

------------------------------------------------------------------------
r268851 | bodewig | 2001-03-16 05:17:30 -0500 (Fri, 16 Mar 2001) | 11 lines

pass through the exit value from Ant

PR: 314
Submitted by:	sknippenberg@unwiredexpress.com (Sigurd Knippenberg)

Remove tabs.

Change /usr/local/bin/perl to /usr/bin/perl. All other Perl scripts on
my box assumed there was at least a symlink to Perl in /usr/bin - and
Perl recommends to put one there when you install it.

------------------------------------------------------------------------
r268850 | bodewig | 2001-03-16 04:48:12 -0500 (Fri, 16 Mar 2001) | 6 lines

Make <style> search relative to the project's basedir first - if it
cannot be found, fall back to the task's basedir and print a
deprecation warning.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268841 | conor | 2001-03-15 08:53:29 -0500 (Thu, 15 Mar 2001) | 3 lines

Make the AntClassLoader load resources in the same order as it currently
loads classes.

------------------------------------------------------------------------
r268832 | bodewig | 2001-03-15 03:32:12 -0500 (Thu, 15 Mar 2001) | 3 lines

Added "" - the basedir itself - to the list of included directories,
if it matches.

------------------------------------------------------------------------
r268831 | bodewig | 2001-03-14 08:02:52 -0500 (Wed, 14 Mar 2001) | 4 lines

Make <delete quite="true"> handle non-existing dirs in filesets gracefully.

Suggested by:	Jon Stevens <jon@latchkey.com>

------------------------------------------------------------------------
r268830 | bodewig | 2001-03-14 07:48:32 -0500 (Wed, 14 Mar 2001) | 17 lines

Defer sanity checks of dir attribute to the point where the fileset
will be used for the first time. This will enable things like

<project default="main">
  <fileset dir="tmp" id="tmpfiles">

  <target name="prep">
    <mkdir dir="tmp" />
  </target>

  <target name="main" depends="prep">
    <copy todir="foo">
      <fileset refid="tmpfiles" />
    </copy>
  </target>
</project>

------------------------------------------------------------------------
r268828 | bodewig | 2001-03-14 07:28:24 -0500 (Wed, 14 Mar 2001) | 2 lines

Make sure includeEmptyDirs attribute of <delete> does what it promises.

------------------------------------------------------------------------
r268827 | bodewig | 2001-03-14 06:47:08 -0500 (Wed, 14 Mar 2001) | 2 lines

Make <chmod> work without a dir attribute.

------------------------------------------------------------------------
r268824 | conor | 2001-03-13 20:59:49 -0500 (Tue, 13 Mar 2001) | 7 lines

Define DTDs for the generic cae and not just the weblogic case

I took Robert's patch and refactored it a little to avoid
duplicating the code in the weblogic deployment descriptor.

Submitted by:	Robert Watkins [robert.watkins@qsipayments.com]

------------------------------------------------------------------------
r268823 | conor | 2001-03-13 20:22:22 -0500 (Tue, 13 Mar 2001) | 7 lines

Support setting of the ejbc compiler class.

I also added some code to determine the compiler to use based on the publicID
of the DTD referenced in the descriptor.

Submitted by:	Ted Kandell [tkandell@verticalnet.com]

------------------------------------------------------------------------
r268820 | bodewig | 2001-03-13 09:15:22 -0500 (Tue, 13 Mar 2001) | 4 lines

revert <style> to old behavior - make its style attribute interpreted
as relative to the basdir attribute. Make sure it works when handed an
absolute path.

------------------------------------------------------------------------
r268815 | conor | 2001-03-12 22:04:06 -0500 (Mon, 12 Mar 2001) | 11 lines

Change Chmod task so that the usage
   <chmod dir="${build.dir}" perm="ug+rwx"/>
works. This was being used in the Alexandria project and seems
reasonable usage but was not in fact supported.

Catching this usage is somewhat messy however.

I factored out the code for executing the command into a final method
runExecute so that I could invoke it from chmod. This means ExecTask has
runExec and runExecute which may be confusing.

------------------------------------------------------------------------
r268814 | metasim | 2001-03-12 14:57:03 -0500 (Mon, 12 Mar 2001) | 2 lines

Updated

------------------------------------------------------------------------
r268813 | metasim | 2001-03-12 14:51:45 -0500 (Mon, 12 Mar 2001) | 2 lines

Committed Nick Davis' patch to add action toggleability.

------------------------------------------------------------------------
r268810 | bodewig | 2001-03-12 09:04:15 -0500 (Mon, 12 Mar 2001) | 5 lines

Make Ant deal with non-String elements stored in system properties.

PR: 904
Submitted by:	peter.holzwarth@io-software.com

------------------------------------------------------------------------
r268807 | conor | 2001-03-12 06:46:37 -0500 (Mon, 12 Mar 2001) | 5 lines

Make delete quiet when trying to delete non-existent files. The message
is now logged with verbose mode.

Reported by:	Jon Stevens <jon@latchkey.com>

------------------------------------------------------------------------
r268806 | bodewig | 2001-03-12 06:24:22 -0500 (Mon, 12 Mar 2001) | 5 lines

Make <style> resolve the stylesheet file name the same way as all
other tasks do.

Try #2.

------------------------------------------------------------------------
r268805 | bodewig | 2001-03-12 04:22:04 -0500 (Mon, 12 Mar 2001) | 2 lines

Make <antcall> and <ant> more Script-friendly.

------------------------------------------------------------------------
r268799 | rubys | 2001-03-09 20:11:15 -0500 (Fri, 09 Mar 2001) | 3 lines

Backing out change...
----------------------------------------------------------------------

------------------------------------------------------------------------
r268798 | bodewig | 2001-03-09 11:07:56 -0500 (Fri, 09 Mar 2001) | 2 lines

removed redundant condition.

------------------------------------------------------------------------
r268796 | bodewig | 2001-03-09 11:03:10 -0500 (Fri, 09 Mar 2001) | 5 lines

Make sure bootclasspath and extdirs attribute of <javac> get special
treatment if running JDK 1.1.

PR: 841

------------------------------------------------------------------------
r268791 | bodewig | 2001-03-09 06:37:50 -0500 (Fri, 09 Mar 2001) | 5 lines

Make <style> resolve stylesheet filename as relative to the projects
base directory.

PR: 603

------------------------------------------------------------------------
r268786 | bodewig | 2001-03-09 04:30:58 -0500 (Fri, 09 Mar 2001) | 2 lines

Make antstructure ommit tasks it cannot load properly.

------------------------------------------------------------------------
r268785 | bodewig | 2001-03-09 04:23:51 -0500 (Fri, 09 Mar 2001) | 3 lines

Make <antstructure> deal with EnumeratedAttribute attributes whose
values don't match the NMTOKEN production.

------------------------------------------------------------------------
r268783 | bodewig | 2001-03-09 04:06:58 -0500 (Fri, 09 Mar 2001) | 5 lines

Make the whenempty attribute of zip use an EnumeratedAttribute - alows
the DTD to be stricter.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268782 | bodewig | 2001-03-09 03:57:40 -0500 (Fri, 09 Mar 2001) | 4 lines

Make sure javah's outputFile attribute will be resolved correctly.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268780 | bodewig | 2001-03-09 03:47:48 -0500 (Fri, 09 Mar 2001) | 4 lines

Fix bug in P4 tasks when port, user or client have not been specified.

Submitted by:	Byrne Reese <breese@grandcentral.com>

------------------------------------------------------------------------
r268779 | metasim | 2001-03-08 10:37:50 -0500 (Thu, 08 Mar 2001) | 2 lines

Added property missed in last patch.

------------------------------------------------------------------------
r268778 | bodewig | 2001-03-08 10:17:25 -0500 (Thu, 08 Mar 2001) | 4 lines

Make testcases independent of current working directory - add one for <copy>.

Submitted by:	David Rees <d.rees.l@usa.net>

------------------------------------------------------------------------
r268777 | bodewig | 2001-03-08 08:42:06 -0500 (Thu, 08 Mar 2001) | 4 lines

Workaround for a bug in Kaffee.

Submitted by:	Takashi Okamoto <toraneko@kun.ne.jp>

------------------------------------------------------------------------
r268772 | bodewig | 2001-03-08 06:03:41 -0500 (Thu, 08 Mar 2001) | 4 lines

Make sure zip files, that <zip> is reading from, will be closed.

Submitted by:	David Rees <d.rees.l@usa.net>

------------------------------------------------------------------------
r268759 | glennm | 2001-03-05 09:52:23 -0500 (Mon, 05 Mar 2001) | 2 lines

Displaying default target failed when there wasn't a description.

------------------------------------------------------------------------
r268755 | conor | 2001-03-04 08:35:51 -0500 (Sun, 04 Mar 2001) | 4 lines

Update to Jaxp 1.1

Also - handle spaces in classpaths

------------------------------------------------------------------------
r268754 | glennm | 2001-03-03 17:56:11 -0500 (Sat, 03 Mar 2001) | 2 lines

Added SCCS dirs to default excludes list.

------------------------------------------------------------------------
r268753 | glennm | 2001-03-03 17:31:31 -0500 (Sat, 03 Mar 2001) | 2 lines

Add info about default target to -projecthelp

------------------------------------------------------------------------
r268748 | conor | 2001-03-02 11:01:13 -0500 (Fri, 02 Mar 2001) | 2 lines

Merge after 1.3 release

------------------------------------------------------------------------
r268738 | donaldp | 2001-02-26 21:26:28 -0500 (Mon, 26 Feb 2001) | 4 lines

Readded IContract

Submitted By: Aslak Helles�y <aslak.hellesoy@netcom.no>

------------------------------------------------------------------------
r268736 | metasim | 2001-02-25 07:34:23 -0500 (Sun, 25 Feb 2001) | 3 lines

By Christoph Wilhelms: Externalization of strings and removal of
dependency ordering capability.

------------------------------------------------------------------------
r268730 | donaldp | 2001-02-23 00:14:36 -0500 (Fri, 23 Feb 2001) | 2 lines

Pvcs task name added to default list

------------------------------------------------------------------------
r268729 | donaldp | 2001-02-23 00:13:34 -0500 (Fri, 23 Feb 2001) | 2 lines

Actually add the Pvcs file

------------------------------------------------------------------------
r268727 | donaldp | 2001-02-23 00:06:01 -0500 (Fri, 23 Feb 2001) | 2 lines

Bleh - I really should test that it compiles no ? ;)

------------------------------------------------------------------------
r268726 | donaldp | 2001-02-23 00:03:16 -0500 (Fri, 23 Feb 2001) | 2 lines

Pvcs test buildfile

------------------------------------------------------------------------
r268725 | donaldp | 2001-02-23 00:02:34 -0500 (Fri, 23 Feb 2001) | 2 lines

Pvcs test

------------------------------------------------------------------------
r268719 | donaldp | 2001-02-22 08:04:51 -0500 (Thu, 22 Feb 2001) | 2 lines

Added name for icontract

------------------------------------------------------------------------
r268717 | donaldp | 2001-02-22 07:38:57 -0500 (Thu, 22 Feb 2001) | 4 lines

Added IContract task

Submitted By: <aslak.hellesoy@netcom.no>

------------------------------------------------------------------------
r268700 | metasim | 2001-02-19 08:59:48 -0500 (Mon, 19 Feb 2001) | 2 lines

Added Christoph Wilhelms' "depends" property editor.

------------------------------------------------------------------------
r268698 | bodewig | 2001-02-19 05:09:36 -0500 (Mon, 19 Feb 2001) | 5 lines

Increase timeout in ExecuteWatchdog test to improve its chance to
pass.  The race condition is still there, this only masks the problem
that a Thread that sleeps for TIME_OUT/2 might not terminate within
TIME_OUT.

------------------------------------------------------------------------
r268695 | nico | 2001-02-18 14:25:56 -0500 (Sun, 18 Feb 2001) | 3 lines

Disabled the testcases which really try to access a webserver. Not everyone
has one.

------------------------------------------------------------------------
r268691 | conor | 2001-02-18 08:44:44 -0500 (Sun, 18 Feb 2001) | 2 lines

Merge 1.3 branch changes into MAIN

------------------------------------------------------------------------
r268677 | metasim | 2001-02-15 16:20:17 -0500 (Thu, 15 Feb 2001) | 2 lines

orphaned change

------------------------------------------------------------------------
r268676 | bodewig | 2001-02-15 08:39:59 -0500 (Thu, 15 Feb 2001) | 2 lines

Merge in my patches from the 1.3 branch.

------------------------------------------------------------------------
r268655 | conor | 2001-02-13 08:11:37 -0500 (Tue, 13 Feb 2001) | 2 lines

Merge back Tar changes so they can be tested with Gump

------------------------------------------------------------------------
r268652 | conor | 2001-02-13 07:32:01 -0500 (Tue, 13 Feb 2001) | 2 lines

Merge of 1.3 branch changes into the main branch

------------------------------------------------------------------------
r268627 | rubys | 2001-02-10 10:13:09 -0500 (Sat, 10 Feb 2001) | 3 lines

Add a warn on longfile mode
----------------------------------------------------------------------

------------------------------------------------------------------------
r268623 | donaldp | 2001-02-09 08:59:30 -0500 (Fri, 09 Feb 2001) | 2 lines

Just changed some parameters to conform to ant standard

------------------------------------------------------------------------
r268618 | metasim | 2001-02-09 08:14:03 -0500 (Fri, 09 Feb 2001) | 4 lines

Applied Chris Wilhelm's change to provide a clear log button, and not
to clear the log by default. Also added date to the start and end
build messages.

------------------------------------------------------------------------
r268615 | metasim | 2001-02-09 07:39:58 -0500 (Fri, 09 Feb 2001) | 3 lines

Applied patch from Deryk Sinotte that fixes problem with discontiguous
selections of multiple targets.

------------------------------------------------------------------------
r268583 | conor | 2001-02-05 05:45:55 -0500 (Mon, 05 Feb 2001) | 4 lines

Fix up the location where the toplink element looks for descriptors.

Thanks to much persistence by Cyril Bouteille <CyrilBouteille@yahoo.com>

------------------------------------------------------------------------
r268582 | conor | 2001-02-04 08:59:03 -0500 (Sun, 04 Feb 2001) | 3 lines

Make antlr test file a little better, but it still fails to pass its
junit tests

------------------------------------------------------------------------
r268581 | conor | 2001-02-04 08:58:17 -0500 (Sun, 04 Feb 2001) | 4 lines

Add nested filesets to tar through which file permissions can be set.
This is done through an octal mode attribute. The groupname and username
may also be set. See build.xml for an example usage.

------------------------------------------------------------------------
r268580 | nico | 2001-02-04 08:08:52 -0500 (Sun, 04 Feb 2001) | 2 lines

Added debug-attribute to rmic (Bug #224)

------------------------------------------------------------------------
r268577 | conor | 2001-02-04 05:51:01 -0500 (Sun, 04 Feb 2001) | 5 lines

Enhancements to SoundTask to allow a directory to be specified from which
a random sound will be chosen.

Submitted by:	Diane Holt <holtdl@yahoo.com>

------------------------------------------------------------------------
r268576 | conor | 2001-02-04 05:40:07 -0500 (Sun, 04 Feb 2001) | 7 lines

enhancement to the optional task PropertyFile.

Operations can now be applied to all types. The now and never operations
have become values for the = operation.

Submitted by:	Thomas Christen <chr@active.ch>

------------------------------------------------------------------------
r268575 | conor | 2001-02-04 03:34:38 -0500 (Sun, 04 Feb 2001) | 18 lines

Changes to wlstop and wlrun to work with weblogic 6.0

Use under 5.1 is unchanged. Under WL6.0, a number of new attributes
must be provided. An example of use under WL6.0 is

  <target name="petstore">
    <wlrun taskname="petstore"
           classpath="${weblogic.classes}"
           name="petstoreServer"
           domain="petstore"
           home="${weblogic.home}"
           password="petstorePassword"
           beahome="${bea.home}"/>
  </target>

Thanks to Andrew Sliwkowski and Peter Cardimino of BEA for clarifying how
to get this to run under WL6.0

------------------------------------------------------------------------
r268574 | conor | 2001-02-04 03:30:44 -0500 (Sun, 04 Feb 2001) | 4 lines

Try to maintain the current compression setting rather than just avoiding
compression, since Weblogic 6.0 generates compressed jars whereas 5.1
generates uncompressed jars

------------------------------------------------------------------------
r268573 | conor | 2001-02-03 21:34:28 -0500 (Sat, 03 Feb 2001) | 8 lines

Fixes to AntClassLoader.

Changes AntClassLoader so it does not use the primordial class
loader for system classes. This is needed when the classloader itself was not
loaded with the primordial loader.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>Reviewed by:

------------------------------------------------------------------------
r268570 | donaldp | 2001-02-03 19:50:50 -0500 (Sat, 03 Feb 2001) | 2 lines

Made sure env vars are cleaned and CLASSPATH is not decorated with extra " characters. It is expected that if CLASSPATH is set that it is valid and thus the extra "'s are uneeded.

------------------------------------------------------------------------
r268569 | conor | 2001-02-03 09:45:07 -0500 (Sat, 03 Feb 2001) | 4 lines

Minor format change.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268568 | conor | 2001-02-03 09:24:43 -0500 (Sat, 03 Feb 2001) | 2 lines

Add support for untaring of GNU tar files.

------------------------------------------------------------------------
r268566 | conor | 2001-02-03 09:07:34 -0500 (Sat, 03 Feb 2001) | 3 lines

Handle classes which are on the classpath but which cannot be loaded due to
downstream dependencies.

------------------------------------------------------------------------
r268565 | conor | 2001-02-03 09:06:32 -0500 (Sat, 03 Feb 2001) | 5 lines

Change buildException to always print nested exceptions when printing
its stack trace. Removed the equivalent code from DefaultLogger.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268563 | bodewig | 2001-02-02 12:13:22 -0500 (Fri, 02 Feb 2001) | 2 lines

oops, forgot a file

------------------------------------------------------------------------
r268562 | bodewig | 2001-02-02 12:04:01 -0500 (Fri, 02 Feb 2001) | 4 lines

New task <junitreport> and some improvements of DOMElementWriter

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268561 | bodewig | 2001-02-02 07:36:56 -0500 (Fri, 02 Feb 2001) | 2 lines

<junit> wouldn't write to a file anymore.

------------------------------------------------------------------------
r268558 | bodewig | 2001-02-01 12:14:06 -0500 (Thu, 01 Feb 2001) | 5 lines

perform property expansion on the patterns read from files specified
as includesfile or excludesfile attributes.

Suggested by:	Jason Rosenberg <jason@squaretrade.com>

------------------------------------------------------------------------
r268557 | bodewig | 2001-02-01 10:56:43 -0500 (Thu, 01 Feb 2001) | 4 lines

Some additional enhancements to junit related classes.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268556 | conor | 2001-02-01 10:52:17 -0500 (Thu, 01 Feb 2001) | 2 lines

Test should be >= since we need space for the terminator.

------------------------------------------------------------------------
r268555 | conor | 2001-02-01 10:46:32 -0500 (Thu, 01 Feb 2001) | 8 lines

Add support for long filenames in tar task. The tar task now takes an
attribute "longfile" which can take either the value "truncate" or the
value "gnu". If the attribute is omitted, an exception is thrown (the
current behaviour). Truncation is currently silent but willbe fixed to
give a warning.

Restored building of tar files in the distribution target.

------------------------------------------------------------------------
r268554 | bodewig | 2001-02-01 10:28:21 -0500 (Thu, 01 Feb 2001) | 5 lines

Move constant strings from XMLJunitResultFormatter into a separate
interface - important for a new task that will follow.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268553 | bodewig | 2001-02-01 10:04:41 -0500 (Thu, 01 Feb 2001) | 2 lines

Rename <transform> to <apply>

------------------------------------------------------------------------
r268552 | bodewig | 2001-02-01 08:14:25 -0500 (Thu, 01 Feb 2001) | 2 lines

Fixed javadoc of Zip.addZipfileset

------------------------------------------------------------------------
r268551 | metasim | 2001-01-31 14:32:11 -0500 (Wed, 31 Jan 2001) | 2 lines

Fixed bug with looking up resources under windows.

------------------------------------------------------------------------
r268548 | bodewig | 2001-01-31 10:55:47 -0500 (Wed, 31 Jan 2001) | 4 lines

Make sure the watched process is running before we kill it.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268547 | conor | 2001-01-31 08:32:57 -0500 (Wed, 31 Jan 2001) | 2 lines

Restore version resource

------------------------------------------------------------------------
r268546 | bodewig | 2001-01-31 08:10:46 -0500 (Wed, 31 Jan 2001) | 2 lines

Make <fileset> inside <zip> a plain FileSet and add <zipfileset>.

------------------------------------------------------------------------
r268545 | conor | 2001-01-31 04:42:04 -0500 (Wed, 31 Jan 2001) | 4 lines

Further tuning of the build scripts. The bootstrap now goes into
the bootstrap directory to minimise interference with the CVS lib
directory.

------------------------------------------------------------------------
r268543 | bodewig | 2001-01-30 12:01:39 -0500 (Tue, 30 Jan 2001) | 9 lines

* Added <sysproperty> to <junit>

* fixed a bug that prevented <junit> from logging to logfiles with a
comma in its name in fork mode

* fixed some problems within ExecuteWatchdog

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268541 | bodewig | 2001-01-30 05:56:08 -0500 (Tue, 30 Jan 2001) | 4 lines

Make ZipFileSet resolve srcfile relative to project's basedir.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268540 | bodewig | 2001-01-30 04:00:57 -0500 (Tue, 30 Jan 2001) | 5 lines

Make the Bourne shell wrapper correctly deal with arguments that
contain spaces.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r268534 | bodewig | 2001-01-29 11:04:37 -0500 (Mon, 29 Jan 2001) | 2 lines

Make <junit> work with JUnit 3.5 as well.

------------------------------------------------------------------------
r268532 | bodewig | 2001-01-29 10:42:24 -0500 (Mon, 29 Jan 2001) | 4 lines

(1) Fix <copy> task to point to the "correct" source directory.

(2) I think there are a couple of superfluos @ characters in Constants.java.

------------------------------------------------------------------------
r268530 | donaldp | 2001-01-29 07:42:16 -0500 (Mon, 29 Jan 2001) | 2 lines

Changed source structure so that constants can be retrieved from a separate class built in alternate tree. This negates the need for multiple source trees.

------------------------------------------------------------------------
r268527 | conor | 2001-01-28 20:13:56 -0500 (Sun, 28 Jan 2001) | 7 lines

Allow ant to handle parameters with spaces under Win systems

I added a few other things to Bill's patch, such as setlocal and
endlocal calls.

Submitted by:	Bill Burton [billb@progress.com]

------------------------------------------------------------------------
r268526 | nico | 2001-01-26 03:43:02 -0500 (Fri, 26 Jan 2001) | 2 lines

Support verbose-attribute for jvc (just for completeness)

------------------------------------------------------------------------
r268525 | nico | 2001-01-26 03:32:59 -0500 (Fri, 26 Jan 2001) | 4 lines

Changed back to behaviour before rev1.4.
VSSGET does not work on many systems if working directory and version-arguments
get passed in as single arguments.

------------------------------------------------------------------------
r268524 | conor | 2001-01-26 00:43:46 -0500 (Fri, 26 Jan 2001) | 4 lines

Fix up register DTD calls.

Submitted by:	Josh Lucas <josh@stonecottage.com>

------------------------------------------------------------------------
r268523 | conor | 2001-01-25 09:39:17 -0500 (Thu, 25 Jan 2001) | 15 lines

Reworking of ejbjar to support Weblogic 6. You can now specify
the location of arbitrary DTDs in the ejbjar task

<ejbjar ...>
   <dtd publicId="foo"
        location="file or resource"/>
</ejbjar>

This is not necessary for weblogic as the task "knows" the locations of the
ejb1.1 and ejb2.0 DTD within the weblogic classes for both 5.1 and 6.0

To avoid warnings under WL6, about classes in the system classpath,
the classpath is now split into two using a second nested classpath element
wlclasspath. Current build files will continue to function

------------------------------------------------------------------------
r268520 | metasim | 2001-01-24 14:59:41 -0500 (Wed, 24 Jan 2001) | 2 lines

Updates to reflect some design changes.

------------------------------------------------------------------------
r268519 | metasim | 2001-01-24 14:51:33 -0500 (Wed, 24 Jan 2001) | 2 lines

Incremental update.

------------------------------------------------------------------------
r268518 | metasim | 2001-01-24 14:50:50 -0500 (Wed, 24 Jan 2001) | 3 lines

Fixed bug where currently selected files were not showing up in the displayed
diallog.

------------------------------------------------------------------------
r268517 | glennm | 2001-01-24 11:56:46 -0500 (Wed, 24 Jan 2001) | 11 lines

Resolving package names now occurs with the
use of a private FileSet.  This provides
the use of the default excludes patterns,
which include **/CVS/**, preventing any
.java files in a CVS/Base directory from
being included.

Just in case someone does ever have a
package named blah.CVS, I added the
"defaultexcludes" attribute.

------------------------------------------------------------------------
r268514 | conor | 2001-01-24 07:53:38 -0500 (Wed, 24 Jan 2001) | 6 lines

Update to new build scripts
Correct version string
call bootstrap.bat
Introduce an install-lite target
Move building of distributions files out of dist target

------------------------------------------------------------------------
r268512 | donaldp | 2001-01-23 09:27:10 -0500 (Tue, 23 Jan 2001) | 2 lines

removed debug echoing

------------------------------------------------------------------------
r268509 | donaldp | 2001-01-23 09:07:13 -0500 (Tue, 23 Jan 2001) | 7 lines

Fixed errors wrt

* junit not being on primordial classloader.
* ANT_HOME being overidden
* no install target
* no version data

------------------------------------------------------------------------
r268504 | donaldp | 2001-01-23 00:10:39 -0500 (Tue, 23 Jan 2001) | 4 lines

Checked in alpha version of new build system.

May not fully build on *nix platforms yet.

------------------------------------------------------------------------
r268503 | glennm | 2001-01-22 17:17:58 -0500 (Mon, 22 Jan 2001) | 19 lines

Fixed problem with quiet flag preventing
deletes.

Reported by:		Martin van den Bemt

Fixed double delete message with verbose
flag.

Reported by:		Jason Rosenburg

Added ability to remove empty directories
when using the implicit or nested filesets.
Off by default for now, as that is the
current behaviour.  If there is enough
agreement, we probably want to turn this
on by default.

Requested by:		Lots of people. :-)

------------------------------------------------------------------------
r268502 | glennm | 2001-01-22 16:15:09 -0500 (Mon, 22 Jan 2001) | 2 lines

Fixed empty directory count message

------------------------------------------------------------------------
r268501 | glennm | 2001-01-22 15:55:32 -0500 (Mon, 22 Jan 2001) | 2 lines

Back out CVS directory hack.

------------------------------------------------------------------------
r268500 | glennm | 2001-01-22 12:05:35 -0500 (Mon, 22 Jan 2001) | 2 lines

Hack to ignore CVS directories.

------------------------------------------------------------------------
r268496 | donaldp | 2001-01-20 20:49:03 -0500 (Sat, 20 Jan 2001) | 2 lines

Added ^M's so it is easier for peeps working on windows who check out using unix style linefeeds.

------------------------------------------------------------------------
r268494 | donaldp | 2001-01-20 19:43:22 -0500 (Sat, 20 Jan 2001) | 7 lines

TarEntry.java was validating the maximum length for filenames only in one
place. The tar-task used another constructor. Simply copied the verification
to the other constructor to do the check there also. Now throws a
RuntimeException.

Submitted By: "Nico Seessle" <Nico.Seessle@epost.de>

------------------------------------------------------------------------
r268493 | donaldp | 2001-01-20 19:41:54 -0500 (Sat, 20 Jan 2001) | 4 lines

If directory is specified test if it's a valid one.

Submitted By: "Nico Seessle" <Nico.Seessle@epost.de>

------------------------------------------------------------------------
r268492 | donaldp | 2001-01-20 19:41:25 -0500 (Sat, 20 Jan 2001) | 5 lines

If SQLExec reads the statements from a file this file is now propertly
closed after execution.

Submitted By: "Nico Seessle" <Nico.Seessle@epost.de>

------------------------------------------------------------------------
r268490 | donaldp | 2001-01-20 19:37:25 -0500 (Sat, 20 Jan 2001) | 6 lines

- There was an ugly line-break and system was duplicate.
- Error message for unknown arguments know reads "Unknown argument" instead
of "Unknown arg"

Submitted By: "Nico Seessle" <Nico.Seessle@epost.de>

------------------------------------------------------------------------
r268489 | conor | 2001-01-20 08:50:36 -0500 (Sat, 20 Jan 2001) | 2 lines

Changed <support-classes> to <support> in <ejbjar> tag.

------------------------------------------------------------------------
r268488 | conor | 2001-01-20 08:41:56 -0500 (Sat, 20 Jan 2001) | 2 lines

Remove the concept of a factory method for creating nested elements

------------------------------------------------------------------------
r268487 | conor | 2001-01-20 08:07:29 -0500 (Sat, 20 Jan 2001) | 2 lines

Do not compress jars when rebuild=false

------------------------------------------------------------------------
r268486 | conor | 2001-01-20 07:41:51 -0500 (Sat, 20 Jan 2001) | 30 lines

Allow ejbjar to specify support classes.

You can add support classes to all the generated jar fils by including a
<support-classes> nested element. This is effectively a fileset and
includes the ability to reference another fileset by refid

So
<ejbjar ...>
       <support-classes dir="${build.classes.server}">
            <include name="**/*.class"/>
       </support-classes>
...
</ejbjar>

or

<ejbjar ...>
       <support-classes refid="support.fileset"/>
...
</ejbjar>


Please note the following.
==========================
If your ejbjar task generates multiple jar files, the support classes will be
added to each one.

The nested element name may change. I am using it to test a facility I added
to the core. If it does change, it will change to <support>

------------------------------------------------------------------------
r268485 | conor | 2001-01-20 06:10:25 -0500 (Sat, 20 Jan 2001) | 13 lines

Change to IntrospectionHelper to support creation of nested elements
through a createElement(String elementName) factory method. This has two
applications.

It allows a task to define what nested elements are supported
dynamically, perhaps through a configuration file. This is useful
for tasks that support a plug-in architecture, as I am trying to
achieve with <ejbjar>

As a byproduct, it also allows a task to support nested elements which
cannot be mapped to valid Java method names, such as <support-classes>. The
use of hyphenated compound names is relatively common style in XML DTDs

------------------------------------------------------------------------
r268484 | conor | 2001-01-20 05:43:34 -0500 (Sat, 20 Jan 2001) | 5 lines

Catch NoClassDefFoundErrors. These indicate that while a superclass is available
on the classpath, a class it depends on is not. As this code is currently catching
ClassNotFound exceptions anyway, this is not a major change. It will log a
warning.

------------------------------------------------------------------------
r268483 | bodewig | 2001-01-19 10:17:33 -0500 (Fri, 19 Jan 2001) | 2 lines

Forgot to add a testcase for replace.

------------------------------------------------------------------------
r268482 | bodewig | 2001-01-19 10:04:13 -0500 (Fri, 19 Jan 2001) | 2 lines

And token attribute of <replacefilter> must not be empty either.

------------------------------------------------------------------------
r268481 | bodewig | 2001-01-19 09:55:54 -0500 (Fri, 19 Jan 2001) | 3 lines

Add some sanity checks. If we allow an empty token, we end up in an
endless loop - as demonstrated by unittest test4.

------------------------------------------------------------------------
r268480 | bodewig | 2001-01-19 08:27:00 -0500 (Fri, 19 Jan 2001) | 3 lines

Changed the handling of build.sysclasspath so that Ant should behave
the same way as Ant 1.2 did - if build.sysclasspath has not been set.

------------------------------------------------------------------------
r268478 | jon | 2001-01-17 21:50:32 -0500 (Wed, 17 Jan 2001) | 4 lines

rolling back Josh's changes until he provides a better patch. :-)

-jon

------------------------------------------------------------------------
r268477 | jon | 2001-01-17 20:44:17 -0500 (Wed, 17 Jan 2001) | 8 lines

added ability to define the begin/end tokens for the filtering.

line wrapped ProjectHelper.java to 80 cols.

thanks to Josh Lucas <josh@stonecottage.com>

-jon

------------------------------------------------------------------------
r268476 | metasim | 2001-01-17 17:23:38 -0500 (Wed, 17 Jan 2001) | 2 lines

Added more panels to build wizard, and created state machine framework.

------------------------------------------------------------------------
r268474 | metasim | 2001-01-16 16:45:44 -0500 (Tue, 16 Jan 2001) | 2 lines

Fixed bug where change event was not getting fired.

------------------------------------------------------------------------
r268473 | metasim | 2001-01-16 16:45:12 -0500 (Tue, 16 Jan 2001) | 2 lines

Added property editor for generic Object with no special property editor.

------------------------------------------------------------------------
r268472 | metasim | 2001-01-16 14:21:42 -0500 (Tue, 16 Jan 2001) | 2 lines

Changed semantics of initializing with a null value. Now a default value is created.

------------------------------------------------------------------------
r268471 | metasim | 2001-01-16 14:21:20 -0500 (Tue, 16 Jan 2001) | 2 lines

Added editor for properties of type 'File'.

------------------------------------------------------------------------
r268470 | metasim | 2001-01-16 14:20:49 -0500 (Tue, 16 Jan 2001) | 2 lines

Testing rig. Not totally generallized, but helpful.

------------------------------------------------------------------------
r268469 | metasim | 2001-01-16 13:45:45 -0500 (Tue, 16 Jan 2001) | 2 lines

Initial commit

------------------------------------------------------------------------
r268468 | metasim | 2001-01-16 13:36:00 -0500 (Tue, 16 Jan 2001) | 3 lines

Successfully managed to expose myself to public embarassssment by mispellln'
"wizzzerd" all over the place. :-(

------------------------------------------------------------------------
r268462 | conor | 2001-01-16 08:36:38 -0500 (Tue, 16 Jan 2001) | 5 lines

Handle directories with # in them by passing the parser
an inputstream, rather than a name.

Submitted by:	Yossie Teitz <yossie@reachcast.co.il>

------------------------------------------------------------------------
r268459 | donaldp | 2001-01-16 08:21:57 -0500 (Tue, 16 Jan 2001) | 44 lines

Addition of ZipFileset facilities. Descibed by the author
---
 With these patches, Zip (and derivative tasks such as Jar and War) can
 merge the entries of multiple zip files into a single output zip file.
 The contents of an input zip file may be selectively extracted based on
 include/exclude patterns.

 An included zip file is specified using a <fileset> with a "src" attribute,
 as in:

   <target name="jartest">
       <jar jarfile="utils.jar">
         <fileset
       src="weblogic.jar"
       includes="weblogic/utils/"
       excludes="weblogic/utils/jars/,**/reflect/"
         />
        </jar>
    </target>

 In this example, a subset of the "weblogic/utils" directory is extracted
 from weblogic.jar, into utils.jar.

 The fileset may also contain "prefix" and "fullpath" attributes (the
 functionality of PrefixedFileSet has been retained in the new class
 ZipFileSet).  Prefixes apply to directory-based and zip-based filesets.
 The fullpath attributes applies only to a single file in a directory-based
 fileset.

 The War task may extract entries from a zip file for all of its filesets
 (including the files in "classes" and "lib").


 The motivation for this change is:
 1) There is significant overlap between "jlink" and "zip", and it seemed
    better to combine them.
 2) "jlink" does not support include/exclude patterns which are extremely
    useful for writing packaging-type tasks such as Zip/Jar/War.  This
    was my main motivation.
 3) By adding this functionality to the base task, it can also be used in
    derivative tasks such as Jar and War.
---
Submitted By: Don Ferguson <don@bea.com>

------------------------------------------------------------------------
r268458 | donaldp | 2001-01-16 08:16:46 -0500 (Tue, 16 Jan 2001) | 44 lines

Addition of ZipFileset facilities. Descibed by the author
---
 With these patches, Zip (and derivative tasks such as Jar and War) can
 merge the entries of multiple zip files into a single output zip file.
 The contents of an input zip file may be selectively extracted based on
 include/exclude patterns.

 An included zip file is specified using a <fileset> with a "src" attribute,
 as in:

   <target name="jartest">
       <jar jarfile="utils.jar">
         <fileset
       src="weblogic.jar"
       includes="weblogic/utils/"
       excludes="weblogic/utils/jars/,**/reflect/"
         />
        </jar>
    </target>

 In this example, a subset of the "weblogic/utils" directory is extracted
 from weblogic.jar, into utils.jar.

 The fileset may also contain "prefix" and "fullpath" attributes (the
 functionality of PrefixedFileSet has been retained in the new class
 ZipFileSet).  Prefixes apply to directory-based and zip-based filesets.
 The fullpath attributes applies only to a single file in a directory-based
 fileset.

 The War task may extract entries from a zip file for all of its filesets
 (including the files in "classes" and "lib").


 The motivation for this change is:
 1) There is significant overlap between "jlink" and "zip", and it seemed
    better to combine them.
 2) "jlink" does not support include/exclude patterns which are extremely
    useful for writing packaging-type tasks such as Zip/Jar/War.  This
    was my main motivation.
 3) By adding this functionality to the base task, it can also be used in
    derivative tasks such as Jar and War.
---
Submitted By: Don Ferguson <don@bea.com>

------------------------------------------------------------------------
r268456 | conor | 2001-01-16 08:09:43 -0500 (Tue, 16 Jan 2001) | 2 lines

Make warning about unset properties only appear at VERBOSE level.

------------------------------------------------------------------------
r268455 | conor | 2001-01-16 08:08:30 -0500 (Tue, 16 Jan 2001) | 3 lines

Change ejbjar so "up to date" is only printed in verbose mode.
Submitted by:	Jason Rosenberg <jason@squaretrade.com>

------------------------------------------------------------------------
r268454 | metasim | 2001-01-15 15:57:01 -0500 (Mon, 15 Jan 2001) | 2 lines

Wizzard tweaks.

------------------------------------------------------------------------
r268453 | metasim | 2001-01-15 14:47:32 -0500 (Mon, 15 Jan 2001) | 2 lines

Initial framework for a build-file wizzard.

------------------------------------------------------------------------
r268452 | donaldp | 2001-01-14 20:26:11 -0500 (Sun, 14 Jan 2001) | 4 lines

Enhanced replace task - docs pending.

Submitted By: Thayer Robins <thayer@rocketnetwork.com>

------------------------------------------------------------------------
r268450 | metasim | 2001-01-12 16:01:00 -0500 (Fri, 12 Jan 2001) | 2 lines

Updated

------------------------------------------------------------------------
r268449 | metasim | 2001-01-12 15:42:45 -0500 (Fri, 12 Jan 2001) | 2 lines

Added rough ability to add new tasks (javac only) and properties.

------------------------------------------------------------------------
r268448 | metasim | 2001-01-12 14:02:46 -0500 (Fri, 12 Jan 2001) | 2 lines

Added ability to add new targets.

------------------------------------------------------------------------
r268447 | bodewig | 2001-01-12 10:28:35 -0500 (Fri, 12 Jan 2001) | 4 lines

Updates on the perforce tasks + documentation.

Submitted by:	Les Hughes <leslie.hughes@rubus.com>

------------------------------------------------------------------------
r268446 | glennm | 2001-01-12 10:22:50 -0500 (Fri, 12 Jan 2001) | 8 lines

VAJ IDE integration classes.

These should be moved to a contribution project
when one is created.

Submitted by:	Wolf Siberski
                Christoph Wilhelms

------------------------------------------------------------------------
r268444 | bodewig | 2001-01-12 09:08:51 -0500 (Fri, 12 Jan 2001) | 4 lines

<javac> rewritten to use a factory.

Submitted by:	Jay Glanville <jayglanville@home.com>

------------------------------------------------------------------------
r268443 | conor | 2001-01-12 06:43:08 -0500 (Fri, 12 Jan 2001) | 2 lines

Made CMP warning only at verbose level.

------------------------------------------------------------------------
r268442 | metasim | 2001-01-11 17:30:55 -0500 (Thu, 11 Jan 2001) | 2 lines

Started rewrite of tree model to remove ACS dependency on TreeNode.

------------------------------------------------------------------------
r268440 | metasim | 2001-01-11 14:30:11 -0500 (Thu, 11 Jan 2001) | 3 lines

Fixed bug where properties editor wasn't geting cleared when the project was
closed.

------------------------------------------------------------------------
r268439 | metasim | 2001-01-11 14:26:50 -0500 (Thu, 11 Jan 2001) | 3 lines

Added support for updating display based on property change events in the data
model.

------------------------------------------------------------------------
r268438 | metasim | 2001-01-11 14:24:51 -0500 (Thu, 11 Jan 2001) | 2 lines

Added initial support for creating a new, empty project.

------------------------------------------------------------------------
r268437 | metasim | 2001-01-11 14:22:24 -0500 (Thu, 11 Jan 2001) | 2 lines

Fixed bug where location wasn't getting set.

------------------------------------------------------------------------
r268436 | metasim | 2001-01-11 14:21:58 -0500 (Thu, 11 Jan 2001) | 2 lines

Cleaned up standard ctor.

------------------------------------------------------------------------
r268435 | metasim | 2001-01-11 14:21:00 -0500 (Thu, 11 Jan 2001) | 2 lines

Cleanup and debug support.

------------------------------------------------------------------------
r268434 | donaldp | 2001-01-11 07:13:02 -0500 (Thu, 11 Jan 2001) | 4 lines

Fixed documentation of Loggers and made default value of log level explicit.

Submitted By: "Rosen, Alex" <arosen@silverstream.com>

------------------------------------------------------------------------
r268432 | donaldp | 2001-01-11 06:53:52 -0500 (Thu, 11 Jan 2001) | 4 lines

Add in extra error case when creating directories.

Submitted By: Stuart Roebuck <stuart.roebuck@adolos.co.uk>

------------------------------------------------------------------------
r268431 | donaldp | 2001-01-11 06:21:42 -0500 (Thu, 11 Jan 2001) | 2 lines

Added VSS label task.

------------------------------------------------------------------------
r268430 | rubys | 2001-01-11 04:12:44 -0500 (Thu, 11 Jan 2001) | 2 lines

Remove debug statement - oops!

------------------------------------------------------------------------
r268427 | metasim | 2001-01-10 16:43:35 -0500 (Wed, 10 Jan 2001) | 2 lines

Updated UML diagrams.

------------------------------------------------------------------------
r268426 | rubys | 2001-01-10 16:37:42 -0500 (Wed, 10 Jan 2001) | 3 lines

Restore the default to "last".  Add a warning message if an invalid value
is specified.

------------------------------------------------------------------------
r268425 | metasim | 2001-01-10 15:46:59 -0500 (Wed, 10 Jan 2001) | 3 lines

Added full support for multiple projects open at the same time. Each project
appears as an entry in the "Projects" menu.

------------------------------------------------------------------------
r268424 | bodewig | 2001-01-09 07:24:51 -0500 (Tue, 09 Jan 2001) | 2 lines

Propagate Sam's build.sysclasspath magic to <rmic> as well.

------------------------------------------------------------------------
r268422 | conor | 2001-01-09 04:35:27 -0500 (Tue, 09 Jan 2001) | 6 lines

Change the addition of super classes and super interfaces

All interfaces are now added to the EJB jar, not just those that ultimately
derive from EJBObject. Interfaces and classes whose package names start with
java are omitted. Also simplified the code to load interfaces and super classes.

------------------------------------------------------------------------
r268421 | metasim | 2001-01-08 16:03:11 -0500 (Mon, 08 Jan 2001) | 2 lines

Fixed redraw bug.

------------------------------------------------------------------------
r268420 | metasim | 2001-01-08 16:02:52 -0500 (Mon, 08 Jan 2001) | 2 lines

No longer needed.

------------------------------------------------------------------------
r268419 | metasim | 2001-01-08 14:44:01 -0500 (Mon, 08 Jan 2001) | 3 lines

Added *internal* support multiple projects, and generalized the selection
state mechanism.

------------------------------------------------------------------------
r268418 | bodewig | 2001-01-08 11:51:34 -0500 (Mon, 08 Jan 2001) | 4 lines

Document that Task.execute() can be invoked more than once.

Submitted by:	Rosen, Alex <arosen@silverstream.com>

------------------------------------------------------------------------
r268417 | bodewig | 2001-01-08 11:45:32 -0500 (Mon, 08 Jan 2001) | 3 lines

Resolve confusion between <fileset> and <prefixedfileset> in <zip> and
friends.

------------------------------------------------------------------------
r268416 | bodewig | 2001-01-08 11:40:44 -0500 (Mon, 08 Jan 2001) | 2 lines

Fix some testcases.

------------------------------------------------------------------------
r268415 | bodewig | 2001-01-08 07:52:06 -0500 (Mon, 08 Jan 2001) | 3 lines

Changed <available> to resolve relative resource names the same way as
<property> does.

------------------------------------------------------------------------
r268414 | bodewig | 2001-01-08 07:42:47 -0500 (Mon, 08 Jan 2001) | 5 lines

Add classpath attributes and elements to <property> to specify a
classpath to load resources from.

Submitted by:	Diane Holt <holtdl@yahoo.com>

------------------------------------------------------------------------
r268412 | donaldp | 2001-01-08 00:15:34 -0500 (Mon, 08 Jan 2001) | 2 lines

Add ignores so cvs update output cleaner

------------------------------------------------------------------------
r268411 | conor | 2001-01-08 00:03:11 -0500 (Mon, 08 Jan 2001) | 2 lines

Fix up a minor method name typo

------------------------------------------------------------------------
r268410 | conor | 2001-01-07 23:52:24 -0500 (Sun, 07 Jan 2001) | 2 lines

Give a warning when the weblogic deployment descriptor cannot be found.

------------------------------------------------------------------------
r268408 | conor | 2001-01-07 23:25:26 -0500 (Sun, 07 Jan 2001) | 11 lines

avoid breaking backward comatability
The weblogicDTD attribute in ant 1.2 was used to give the location
Af the weblogic version of the generic ejb-jar DTD. In recent 1.3alpha builds
this role was taken by ejbdtd and the weblogicdtd attribute was now used to
locate the weblogic deployment descriptor's DTD. Whilst sensible, this breaks
backward comatability.

Therefore, I have reverted the weblogicDTD attribute to work as it did in ant
1.2 and it is now a synonym for ejbdtd. A new attribute wldtd is used to locate
the weblogic DTD.

------------------------------------------------------------------------
r268407 | rubys | 2001-01-05 09:26:27 -0500 (Fri, 05 Jan 2001) | 4 lines

Address anomolies where classpath is now being interpreted differently by
different tasks due to my change to javac and the introduction of
${build.sysclasspath}

------------------------------------------------------------------------
r268406 | conor | 2001-01-05 05:55:05 -0500 (Fri, 05 Jan 2001) | 6 lines

Make new TSTAMP code compile with JDK 1.2 (and 1.1)

Thanks Martin.

Reported by: 	Martin POESCHL <Martin.POESCHL@sds.at>

------------------------------------------------------------------------
r268405 | conor | 2001-01-05 04:45:47 -0500 (Fri, 05 Jan 2001) | 19 lines

Add the ability to specify time offsets when generating time/date property
strings.

Example usage:

  <target name="dateformats">
    <tstamp>
      <format property="now" pattern="dd/MM/yyyy HH:mm:ss.SS"/>
      <format property="then" offset="-1" unit="year"
              pattern="dd/MM/yyyy HH:mm:ss.SS"/>
    </tstamp>
    <echo message="now = ${now}, then = ${then}"/>
  </target>

Supported units are millisecond, second, minute, hour, day, week, month,
year. The unit is case insensitive

Based on the suggestion of Thomas Christen <chr@active.ch>

------------------------------------------------------------------------
r268404 | conor | 2001-01-05 03:06:39 -0500 (Fri, 05 Jan 2001) | 4 lines

Fixed up the use of _JAVACMD when using Jikes.

Submitted by:	Jeff Bailey <JBailey@digitalboardwalk.com>

------------------------------------------------------------------------
r268403 | metasim | 2001-01-04 16:11:39 -0500 (Thu, 04 Jan 2001) | 3 lines

Fixed resource problems, and changed mechanism by which resources are passed to
the actions.

------------------------------------------------------------------------
r268402 | metasim | 2001-01-04 16:10:36 -0500 (Thu, 04 Jan 2001) | 2 lines

Initial, non-working commit.

------------------------------------------------------------------------
r268401 | metasim | 2001-01-04 11:13:58 -0500 (Thu, 04 Jan 2001) | 2 lines

Removed reference to ProjectDocument.

------------------------------------------------------------------------
r268398 | bodewig | 2001-01-04 07:37:20 -0500 (Thu, 04 Jan 2001) | 6 lines

Reset the global flags that say we have a MANIFEST.MF/web.xml after
execute has been run.

<jar> would print a warning in Ant's own bootstrap when it zipped
ant.jar for the second time.

------------------------------------------------------------------------
r268397 | conor | 2001-01-04 06:13:17 -0500 (Thu, 04 Jan 2001) | 3 lines

Add some error checking to new TSTAMP format element
Documentation fro tstamp and javac changes

------------------------------------------------------------------------
r268396 | conor | 2001-01-04 05:08:59 -0500 (Thu, 04 Jan 2001) | 5 lines

Provide a failonerror attribute for javac. This defaults to true. If you set it to
false, an error is logged but the build will continue.

Based on the idea by Ken Wood.

------------------------------------------------------------------------
r268394 | rubys | 2001-01-03 11:48:39 -0500 (Wed, 03 Jan 2001) | 11 lines

Added a TraX liaison for the <style> task.  This enables Apache's Xalan2
and Sun's JAXP1.1 implementations to be used.

I don't expect many developers to have multiple XSLT implementations in
their classpath, but if they do, I made the TraX liaison the default
for several reasons:
  1) It is standard
  2) It is the most modern interface
  3) It is designed as an pluggable interface, so in theory (though perhaps
     down the road a bit), it should be the only liaison required.

------------------------------------------------------------------------
r268393 | conor | 2001-01-03 10:18:23 -0500 (Wed, 03 Jan 2001) | 2 lines

Minor logging changes in depend task

------------------------------------------------------------------------
r268392 | conor | 2001-01-03 09:18:52 -0500 (Wed, 03 Jan 2001) | 2 lines

Make licence statements mention Ant in place of Tomcat

------------------------------------------------------------------------
r268391 | bodewig | 2001-01-03 07:49:17 -0500 (Wed, 03 Jan 2001) | 4 lines

Fixed some typos, avoid NullPointerException when dependency cache and
actually existing class files have run out of sync (would try to
access information about a non-existent class file).

------------------------------------------------------------------------
r268390 | conor | 2001-01-03 06:27:42 -0500 (Wed, 03 Jan 2001) | 4 lines

I've committed Rob's timestamp patch with a few minor changes.

Submitted by:	Rob Oxspring <roxspring@yahoo.com>

------------------------------------------------------------------------
r268389 | conor | 2001-01-02 16:57:54 -0500 (Tue, 02 Jan 2001) | 4 lines

Remove duplicate invocation of ant

Submitted by:	Paul Philion <philion@acmerocket.com>

------------------------------------------------------------------------
r268388 | jon | 2001-01-02 14:42:17 -0500 (Tue, 02 Jan 2001) | 3 lines

patch by will stranathan will@thestranathans.com that fixes the path
separator to whatever the system one is.

------------------------------------------------------------------------
r268387 | conor | 2001-01-02 09:08:30 -0500 (Tue, 02 Jan 2001) | 5 lines

Add nested param element to the style task.
Also allow an input and output file to be specified.

Submitted by:	Jeff Martin <jmartin@silacom.com>

------------------------------------------------------------------------
r268386 | conor | 2001-01-02 06:23:37 -0500 (Tue, 02 Jan 2001) | 2 lines

Fixing up "damaged" licence info in some files.

------------------------------------------------------------------------
r268385 | conor | 2000-12-31 03:23:54 -0500 (Sun, 31 Dec 2000) | 2 lines

Fix up copyright statements - increase consistency about placement, etc

------------------------------------------------------------------------
r268384 | donaldp | 2000-12-29 22:34:32 -0500 (Fri, 29 Dec 2000) | 3 lines

updated cygwin support
Submitted By: Bill Burton

------------------------------------------------------------------------
r268383 | rubys | 2000-12-29 09:35:39 -0500 (Fri, 29 Dec 2000) | 3 lines

Control the order in which the system and build classpaths are combined
via a new property: build.sysclasspath.

------------------------------------------------------------------------
r268382 | metasim | 2000-12-24 09:04:24 -0500 (Sun, 24 Dec 2000) | 2 lines

Major package reorganization.

------------------------------------------------------------------------
r268381 | conor | 2000-12-22 06:47:56 -0500 (Fri, 22 Dec 2000) | 6 lines

A fun little task to play a sound at the end of a build.
I got tired of waiting for some else to commit it. I made some
small mods to Nick original proposal.

Submitted by:	Nick Pellow <nick@cortexebusiness.com.au>

------------------------------------------------------------------------
r268380 | conor | 2000-12-20 06:18:13 -0500 (Wed, 20 Dec 2000) | 9 lines

Added the JAXP reference distribution jars to make it easier to build
ant out of the box. Ant should now build with an empty classpath. I haven't made
the changes for Unix scripts yet.

Also separated the building of ant.jar and optional.jar so that local
builds should more closely match distributions. There is a lot of duplication
between a normal build and a distribution build which can probably be readily
removed now.

------------------------------------------------------------------------
r268379 | metasim | 2000-12-19 16:02:28 -0500 (Tue, 19 Dec 2000) | 2 lines

Added UML diagrams for reference.

------------------------------------------------------------------------
r268378 | metasim | 2000-12-19 10:41:25 -0500 (Tue, 19 Dec 2000) | 2 lines

Untabifyin'

------------------------------------------------------------------------
r268376 | metasim | 2000-12-18 22:55:44 -0500 (Mon, 18 Dec 2000) | 2 lines

1 more 2 do

------------------------------------------------------------------------
r268375 | metasim | 2000-12-18 22:55:07 -0500 (Mon, 18 Dec 2000) | 3 lines

Added (draft) instructions for people interesting in implementing new
modules for Antidote.

------------------------------------------------------------------------
r268374 | metasim | 2000-12-18 22:50:12 -0500 (Mon, 18 Dec 2000) | 4 lines

Changed "AntEditor" to "AntModule", and made construct more JavaBean
compliant (primarily a default ctor). Now has "contextualize()" method
that modules must implement.

------------------------------------------------------------------------
r268373 | jon | 2000-12-18 20:51:43 -0500 (Mon, 18 Dec 2000) | 2 lines

added patch by mariusz to fix NPE in UpToDate task

------------------------------------------------------------------------
r268372 | bodewig | 2000-12-18 11:53:33 -0500 (Mon, 18 Dec 2000) | 5 lines

Avoid NullPointerException in <delete> if the current user is not
allowed to list the contents of a directory.

Reported by:	"NIkhil R. Deshpande" <nikhild@flashmail.com>

------------------------------------------------------------------------
r268371 | bodewig | 2000-12-18 11:37:21 -0500 (Mon, 18 Dec 2000) | 3 lines

Add a nested mapper element to <native2ascii> to (1)give it more power
and (2) only convert those files that have actually changed.

------------------------------------------------------------------------
r268370 | bodewig | 2000-12-18 10:53:52 -0500 (Mon, 18 Dec 2000) | 2 lines

Avoid NullPointerException in JDK 1.1

------------------------------------------------------------------------
r268369 | bodewig | 2000-12-18 10:44:01 -0500 (Mon, 18 Dec 2000) | 2 lines

Make testcases work again.

------------------------------------------------------------------------
r268368 | bodewig | 2000-12-18 10:40:37 -0500 (Mon, 18 Dec 2000) | 4 lines

Make the directory for the output of <junit> configurable.

Submitted by:	Stephane Bailliez <sbailliez@imediation.com>

------------------------------------------------------------------------
r268366 | bodewig | 2000-12-18 09:26:49 -0500 (Mon, 18 Dec 2000) | 3 lines

Deprecated the optional <renameext> task as its functionality has been
superseded by the built-in <move> task.

------------------------------------------------------------------------
r268365 | donaldp | 2000-12-18 01:33:33 -0500 (Mon, 18 Dec 2000) | 2 lines

Added a new logger that will not print out target banners if they don't produce any output.

------------------------------------------------------------------------
r268360 | donaldp | 2000-12-15 04:49:30 -0500 (Fri, 15 Dec 2000) | 4 lines

Added the attribute preservelastmodified to copy task.

Sunmitted By: Jaco de Groot <jaco.de.groot@eo.nl>

------------------------------------------------------------------------
r268359 | donaldp | 2000-12-15 04:31:12 -0500 (Fri, 15 Dec 2000) | 2 lines

Changed order of variable includes to make it now work when LOCALCLASSPATH="". The reason is that "blah.jar;" is a valid classpath while ";blah.jar" is not.

------------------------------------------------------------------------
r268358 | donaldp | 2000-12-15 04:26:56 -0500 (Fri, 15 Dec 2000) | 4 lines

Fix for "The output level logic was backward - it would print this line only if you had a low output level."

Submitted by:"Rosen, Alex" <arosen@silverstream.com>

------------------------------------------------------------------------
r268357 | donaldp | 2000-12-15 04:16:43 -0500 (Fri, 15 Dec 2000) | 4 lines

Automagic detection of ANT_HOME for windows NT/2000

Submitted by: "Vincent Bergbauer" <vincent_bergbauer@yahoo.com> via Louis Tribble <louis.tribble@metamata.com>

------------------------------------------------------------------------
r268356 | metasim | 2000-12-14 18:03:25 -0500 (Thu, 14 Dec 2000) | 2 lines

Added task entry in parser config.

------------------------------------------------------------------------
r268353 | bodewig | 2000-12-14 09:54:36 -0500 (Thu, 14 Dec 2000) | 3 lines

Make documentation of <project>'s attributes reflect reality (and vice
versa).

------------------------------------------------------------------------
r268352 | donaldp | 2000-12-13 19:28:16 -0500 (Wed, 13 Dec 2000) | 2 lines

*** empty log message ***

------------------------------------------------------------------------
r268348 | donaldp | 2000-12-13 04:48:33 -0500 (Wed, 13 Dec 2000) | 2 lines

Reverse changes and reinstate fileset + prefixedfileset

------------------------------------------------------------------------
r268344 | donaldp | 2000-12-12 20:33:25 -0500 (Tue, 12 Dec 2000) | 6 lines

Patch to unify handling of prefix filesets between war/jar/zip.
It also removes a number of small errors in zip task.
Deprecated <prefixedfileset> element of war in favour of normal <fileset> element in zip

Submitted By: "Rosen, Alex" <arosen@silverstream.com>

------------------------------------------------------------------------
r268336 | donaldp | 2000-12-10 03:30:53 -0500 (Sun, 10 Dec 2000) | 4 lines

Adapted Signjar so that it does not run every time unless absolutely required (or unable to be determined if required).

Submitted By: keeskuip@technologist.com

------------------------------------------------------------------------
r268334 | donaldp | 2000-12-08 19:33:50 -0500 (Fri, 08 Dec 2000) | 4 lines

Fixed a number of bugs with new Zip modifications.

Submitted By: "Rosen, Alex" <arosen@silverstream.com>

------------------------------------------------------------------------
r268331 | bodewig | 2000-12-07 10:35:55 -0500 (Thu, 07 Dec 2000) | 2 lines

Missed a hardcoded indent character.

------------------------------------------------------------------------
r268330 | bodewig | 2000-12-07 09:52:03 -0500 (Thu, 07 Dec 2000) | 7 lines

Moved the common code from XmlLogger and XMLJUnitResultLogger into a
new class.

Wrap nested text into <![CDATA[ ]]> and replace special characters in
attribute values correctly.
PR: 413

------------------------------------------------------------------------
r268329 | bodewig | 2000-12-07 08:13:32 -0500 (Thu, 07 Dec 2000) | 5 lines

Fixed NullPointerException in <copy> when <mapper> and overwrite have
been used at the same time.

Reported by:	Raphael PIERQUIN <pierquin@agisphere.com>

------------------------------------------------------------------------
r268328 | bodewig | 2000-12-07 07:21:12 -0500 (Thu, 07 Dec 2000) | 2 lines

Allow for zip files that contain nothing but empty directories.

------------------------------------------------------------------------
r268327 | donaldp | 2000-12-07 07:00:55 -0500 (Thu, 07 Dec 2000) | 2 lines

moved PrefixFileSets from War Task to Zip task

------------------------------------------------------------------------
r268325 | donaldp | 2000-12-06 19:45:22 -0500 (Wed, 06 Dec 2000) | 4 lines

Load environment variables either when a task is explictly executed ( <property environment="blah" /> where blah will be prefixed to every variable). Also load it when env elements are specified to exec calls.

Submitted By: Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r268323 | conor | 2000-12-06 09:12:33 -0500 (Wed, 06 Dec 2000) | 3 lines

Change behaviour to log a warning rather than throwing an exception. I had
to pass in the project object to get access to logging, unfortunately.

------------------------------------------------------------------------
r268322 | conor | 2000-12-06 07:12:47 -0500 (Wed, 06 Dec 2000) | 4 lines

Throw a BuildException when an attempt is made to use a property which has
not been set. Any build files which rely on non-set properties being passed
through untranslated will now break.

------------------------------------------------------------------------
r268321 | bodewig | 2000-12-06 05:46:20 -0500 (Wed, 06 Dec 2000) | 4 lines

Make perforce tasks work on Windows 2000 as well.

Reported by:	Craig Kelley <ckelley@HotPOP.com>

------------------------------------------------------------------------
r268309 | conor | 2000-12-05 08:30:28 -0500 (Tue, 05 Dec 2000) | 6 lines

Bring ant.bat into line with changes made to ant.sh by Jon. Specifically
invoke the java.exe from JAVA_HOME/bin if JAVA_HOME is set and JAVACMD is
not.

Also make sure the user's %JAVACMD% value is not altered.

------------------------------------------------------------------------
r268307 | donaldp | 2000-12-05 05:08:57 -0500 (Tue, 05 Dec 2000) | 4 lines

Made win32 scripts similar to unixs by adding .antrc facility

Submitted By: "Craig R. McClanahan" <Craig.McClanahan@eng.sun.com>

------------------------------------------------------------------------
r268304 | jon | 2000-12-05 02:32:14 -0500 (Tue, 05 Dec 2000) | 3 lines

removed requirement for JAVA_HOME to be defined, however,
you will still need to have "java" in your path if it isn't defined.

------------------------------------------------------------------------
r268303 | jon | 2000-12-05 02:14:51 -0500 (Tue, 05 Dec 2000) | 7 lines

added support for cygwin
re-organized things
fixed a couple bugs
correctly set environment variables

all in all, i can now build Ant under cygwin on win98.

------------------------------------------------------------------------
r268296 | jon | 2000-12-04 22:53:15 -0500 (Mon, 04 Dec 2000) | 6 lines

added setQuiet option to emulate a rm -f

i can't actually test this code since i can't even get Ant to compile.

maybe someone else would like to test it for me?

------------------------------------------------------------------------
r268291 | donaldp | 2000-12-02 20:54:34 -0500 (Sat, 02 Dec 2000) | 4 lines

More adaptions of ant for cygwin.

Submitted By: Peter Seibel <peter@javamonkey.com>

------------------------------------------------------------------------
r268290 | donaldp | 2000-12-02 17:09:35 -0500 (Sat, 02 Dec 2000) | 2 lines

Hopefully fixed cygwin stuff...

------------------------------------------------------------------------
r268289 | donaldp | 2000-12-02 14:44:30 -0500 (Sat, 02 Dec 2000) | 2 lines

Patched ant to run under Cygwin. Patch supplied by Peter Seibel <peter@javamonkey.com>

------------------------------------------------------------------------
r268283 | bodewig | 2000-12-01 02:40:44 -0500 (Fri, 01 Dec 2000) | 3 lines

Finally make <taskdef>s with nested classpath elements work wherever
they are.

------------------------------------------------------------------------
r268282 | bodewig | 2000-11-30 12:40:19 -0500 (Thu, 30 Nov 2000) | 4 lines

Partially revert the last patch as it made taskdef work by breaking
property. Now everything is as it has been before, including the
failing taskdef.

------------------------------------------------------------------------
r268281 | bodewig | 2000-11-30 12:27:54 -0500 (Thu, 30 Nov 2000) | 3 lines

Make sure, Taskdef.execute doesn't get called before the nested
elements have been configured.

------------------------------------------------------------------------
r268280 | bodewig | 2000-11-30 11:30:30 -0500 (Thu, 30 Nov 2000) | 2 lines

Better remove debug statements before you commit.

------------------------------------------------------------------------
r268279 | bodewig | 2000-11-30 11:27:14 -0500 (Thu, 30 Nov 2000) | 2 lines

Handle multi line responses of SMTP servers.

------------------------------------------------------------------------
r268278 | bodewig | 2000-11-30 09:20:19 -0500 (Thu, 30 Nov 2000) | 3 lines

Allow the user to specify a FileNameMapper by class name - and set the
classpath to load it from.

------------------------------------------------------------------------
r268277 | bodewig | 2000-11-30 07:41:09 -0500 (Thu, 30 Nov 2000) | 4 lines

Tasks for ClearCase support.

Submitted by:	Curtis White <soaro77@yahoo.com>

------------------------------------------------------------------------
r268276 | bodewig | 2000-11-30 06:19:11 -0500 (Thu, 30 Nov 2000) | 7 lines

Fixed <property resource="...">. The old implementation would serach
for org/apache/tools/ant/taskdefs/RESOURCE when RESOURCE was a
relative filename (this is the main difference between
Class.getResource and ClassLoader.getResource).

Reported by:	Jason Rosenberg <jason@squaretrade.com>

------------------------------------------------------------------------
r268274 | bodewig | 2000-11-30 04:31:41 -0500 (Thu, 30 Nov 2000) | 2 lines

Tell the user that <property resource="..."> failed - if it fails.

------------------------------------------------------------------------
r268269 | bodewig | 2000-11-29 11:33:42 -0500 (Wed, 29 Nov 2000) | 2 lines

Added a nested <mapper> element to <uptodate>

------------------------------------------------------------------------
r268268 | bodewig | 2000-11-29 11:11:33 -0500 (Wed, 29 Nov 2000) | 2 lines

Get rid of javadoc warning.

------------------------------------------------------------------------
r268267 | bodewig | 2000-11-29 11:01:53 -0500 (Wed, 29 Nov 2000) | 18 lines

Various changes to <rmic>.

* uses home brewed FileNameMapper that will do verifications as well.

* improved logging - includes redirecting the rmic output.

* It won't try to compare the timestamp of the file to compile with
some corresponding _Skel file anymore if stub version is 1.2. This bug
resulted in all files being rmic'd on every pass - reported by Elardus
Viljoen <elv@ucs.co.za> on ant-user.

* Doesn't require you build directory to be in the CLASSPATH to use
the verify feature anymore. This has been reported by somebody, but
I've forgotten the name, sorry.

* Improved some setter methods to accept File arguments and use
Commandline instead of a String[] of precalculated size.

------------------------------------------------------------------------
r268266 | bodewig | 2000-11-29 09:42:49 -0500 (Wed, 29 Nov 2000) | 5 lines

Take into account that lastModified times are rounded up to the next
two second interval by Windows.

Submitted by:	Roger Vaughn <rogervaughn@yahoo.com>

------------------------------------------------------------------------
r268264 | bodewig | 2000-11-29 06:50:08 -0500 (Wed, 29 Nov 2000) | 3 lines

Moved the instantiation of the RE matcher to a factory. Users can now
choose an implementation of there own by setting a system property.

------------------------------------------------------------------------
r268263 | bodewig | 2000-11-29 05:36:15 -0500 (Wed, 29 Nov 2000) | 3 lines

Only set the project name if it has one (the name attribute of
<project> has been set).

------------------------------------------------------------------------
r268262 | bodewig | 2000-11-28 12:17:18 -0500 (Tue, 28 Nov 2000) | 4 lines

Added IIOP and IDL options to <rmic>

Submitted by:	John Moore <JohnMoore@PDSI-Software.COM>

------------------------------------------------------------------------
r268261 | bodewig | 2000-11-28 12:06:21 -0500 (Tue, 28 Nov 2000) | 4 lines

New task <javah>.

Submitted by:	Richard Beton <richard.beton@roke.co.uk>

------------------------------------------------------------------------
r268260 | bodewig | 2000-11-28 11:46:43 -0500 (Tue, 28 Nov 2000) | 2 lines

forgot to add the new files with my last commit (new perfoce tasks).

------------------------------------------------------------------------
r268259 | bodewig | 2000-11-28 11:45:40 -0500 (Tue, 28 Nov 2000) | 4 lines

New Perforce tasks.

Submitted by:	Les Hughes <leslie.hughes@rubus.com>

------------------------------------------------------------------------
r268258 | bodewig | 2000-11-28 11:01:13 -0500 (Tue, 28 Nov 2000) | 2 lines

Implementation of the regexp interface for Jakarta-ORO.

------------------------------------------------------------------------
r268257 | bodewig | 2000-11-28 10:10:38 -0500 (Tue, 28 Nov 2000) | 3 lines

New Mapper type for regular expression replacements. Currently only
jakarta-regexp is supported, at least an ORO implementation will follow.

------------------------------------------------------------------------
r268256 | bodewig | 2000-11-28 09:15:21 -0500 (Tue, 28 Nov 2000) | 4 lines

New attribute "autoresponse" for <vssget>.

Submitted by:	Alan Zall <alan@inskey.com>

------------------------------------------------------------------------
r268255 | bodewig | 2000-11-28 08:59:00 -0500 (Tue, 28 Nov 2000) | 4 lines

Make <jar> fail early if a specified manifest file doesn't exist.

Submitted by:	Erik Meade <emeade@geekfarm.org>

------------------------------------------------------------------------
r268254 | bodewig | 2000-11-28 08:43:24 -0500 (Tue, 28 Nov 2000) | 4 lines

Enable <vssget> to use arguments that contain spaces.

Submitted by:   Matthew Geis <matthew.geis@instill.com>

------------------------------------------------------------------------
r268253 | bodewig | 2000-11-28 08:35:48 -0500 (Tue, 28 Nov 2000) | 4 lines

Update of the .NET tasks.

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r268252 | metasim | 2000-11-28 00:06:35 -0500 (Tue, 28 Nov 2000) | 3 lines

Changed AntEditor.getAppContext() to getContext() to be consistent
with other classes.

------------------------------------------------------------------------
r268251 | metasim | 2000-11-28 00:05:13 -0500 (Tue, 28 Nov 2000) | 7 lines

Added infrastructure for generating popup menus from configured
actions. The popup menu will then have options who's status is in sync
with the menu and toolbar actions. Also added finer grained element
selection code so that specific events are generated for specific
element types. As a test, added stubbed out actions for adding new
elements to the build file.

------------------------------------------------------------------------
r268250 | metasim | 2000-11-28 00:01:36 -0500 (Tue, 28 Nov 2000) | 2 lines

Regular update.

------------------------------------------------------------------------
r268249 | metasim | 2000-11-27 22:18:19 -0500 (Mon, 27 Nov 2000) | 2 lines

New "new" icons

------------------------------------------------------------------------
r268248 | metasim | 2000-11-27 21:52:22 -0500 (Mon, 27 Nov 2000) | 2 lines

Added method to provide access to a Target's tasks.

------------------------------------------------------------------------
r268247 | metasim | 2000-11-27 21:51:45 -0500 (Mon, 27 Nov 2000) | 3 lines

Opened up access to the topological sort code so a list targets that
must be called to fulfill a specific target can be determined.

------------------------------------------------------------------------
r268245 | donaldp | 2000-11-27 01:23:34 -0500 (Mon, 27 Nov 2000) | 2 lines

Changed "project.name" to "ant.project.name"

------------------------------------------------------------------------
r268244 | donaldp | 2000-11-26 22:37:24 -0500 (Sun, 26 Nov 2000) | 4 lines

Patched so that project name is available via the property "project.name"

Submitted By: Weiqi Gao <weiqigao@networkusa.net>

------------------------------------------------------------------------
r268241 | metasim | 2000-11-24 23:46:43 -0500 (Fri, 24 Nov 2000) | 2 lines

Always more to do...

------------------------------------------------------------------------
r268240 | metasim | 2000-11-24 23:33:04 -0500 (Fri, 24 Nov 2000) | 2 lines

Added simplistic, non-editable version of context fontification in Console.

------------------------------------------------------------------------
r268239 | metasim | 2000-11-24 23:31:29 -0500 (Fri, 24 Nov 2000) | 2 lines

More rework on the command abstraction code.

------------------------------------------------------------------------
r268238 | metasim | 2000-11-24 23:29:37 -0500 (Fri, 24 Nov 2000) | 2 lines

Changed display name determination.

------------------------------------------------------------------------
r268237 | donaldp | 2000-11-24 21:38:54 -0500 (Fri, 24 Nov 2000) | 2 lines

Used some elisp magic to remove those tabs and replace with spaces.

------------------------------------------------------------------------
r268233 | donaldp | 2000-11-24 20:10:09 -0500 (Fri, 24 Nov 2000) | 2 lines

Removed Project.toBoolean method where appropriate and removed a number of tabs.

------------------------------------------------------------------------
r268232 | metasim | 2000-11-24 12:09:22 -0500 (Fri, 24 Nov 2000) | 5 lines

Rewrote command handling infrastructure, allowing for dynamic mapping
between actions and commands rather than the original hard-coded
mapping. Associations specified in the actions.properties file under
the "<actionID>.command" property.

------------------------------------------------------------------------
r268231 | donaldp | 2000-11-23 21:38:42 -0500 (Thu, 23 Nov 2000) | 2 lines

Committed an optional test task based on testlet framework

------------------------------------------------------------------------
r268230 | donaldp | 2000-11-23 19:19:26 -0500 (Thu, 23 Nov 2000) | 2 lines

Moved Stylebook to optional tasks.

------------------------------------------------------------------------
r268229 | metasim | 2000-11-23 11:37:55 -0500 (Thu, 23 Nov 2000) | 2 lines

Fixed parser exception propogation bug.

------------------------------------------------------------------------
r268228 | bodewig | 2000-11-23 10:44:52 -0500 (Thu, 23 Nov 2000) | 2 lines

Forgot the implementation of <transform> with my last commit.

------------------------------------------------------------------------
r268227 | bodewig | 2000-11-23 10:27:42 -0500 (Thu, 23 Nov 2000) | 2 lines

New task <transform>.

------------------------------------------------------------------------
r268226 | donaldp | 2000-11-23 09:48:19 -0500 (Thu, 23 Nov 2000) | 2 lines

Made sure file ignored command to copy over itself.

------------------------------------------------------------------------
r268225 | donaldp | 2000-11-23 09:10:08 -0500 (Thu, 23 Nov 2000) | 2 lines

Adding start of copy tests

------------------------------------------------------------------------
r268221 | donaldp | 2000-11-23 07:28:05 -0500 (Thu, 23 Nov 2000) | 2 lines

Added a simple Stylebook task.

------------------------------------------------------------------------
r268220 | bodewig | 2000-11-23 06:32:49 -0500 (Thu, 23 Nov 2000) | 4 lines

Added a nested <srcfile> element to <execon> to give the user more
control over the command line. If no element has been specified, the
names for the source files will be put at the end.

------------------------------------------------------------------------
r268218 | conor | 2000-11-21 08:36:13 -0500 (Tue, 21 Nov 2000) | 2 lines

Fix up test cases due to recent changes

------------------------------------------------------------------------
r268217 | metasim | 2000-11-20 20:06:16 -0500 (Mon, 20 Nov 2000) | 2 lines

Cleaned up error reporting for build.xml parse errors.

------------------------------------------------------------------------
r268216 | conor | 2000-11-20 17:56:36 -0500 (Mon, 20 Nov 2000) | 3 lines

Make mkdir throw an exception if a file of the same name already exists when
trying to create a directory.

------------------------------------------------------------------------
r268215 | conor | 2000-11-20 01:25:20 -0500 (Mon, 20 Nov 2000) | 2 lines

Fix up problem with multiple source dirs in javac

------------------------------------------------------------------------
r268214 | conor | 2000-11-19 17:28:01 -0500 (Sun, 19 Nov 2000) | 6 lines

Make the additional JVM args supplied come at the front of the arg list so that
any args, which must be at the front of the JVM arguments, can be specified.
This is specifically to support the -server option of the JVM under Unix.

Reported by:	Cyril Bouteille <CyrilBouteille@yahoo.com>

------------------------------------------------------------------------
r268213 | conor | 2000-11-19 17:13:34 -0500 (Sun, 19 Nov 2000) | 6 lines

Change the message displayed when a task cannot be found. This makes the
message more suitable for ant end-users rather than ant developers.


Submitted by:	Erik Meade <emeade@geekfarm.org>

------------------------------------------------------------------------
r268211 | conor | 2000-11-19 08:51:45 -0500 (Sun, 19 Nov 2000) | 7 lines

Make both ddcreator and ejbc respect the hierarchy of the descriptors.

So, when writing the .ser file, it will be placed into the same relative
directory in which the source .txt file is found in the descriptor hierarchy.
Similary the .ser files will have the correct manifest entires in the generated
manifest file.

------------------------------------------------------------------------
r268210 | conor | 2000-11-19 04:13:47 -0500 (Sun, 19 Nov 2000) | 2 lines

Set task names when running the ddcreator and ejbc tasks

------------------------------------------------------------------------
r268209 | conor | 2000-11-19 04:08:57 -0500 (Sun, 19 Nov 2000) | 3 lines

Set arguments using the Commandline method rather than the deprecated setArgs
method.

------------------------------------------------------------------------
r268208 | conor | 2000-11-19 03:59:23 -0500 (Sun, 19 Nov 2000) | 7 lines

Allow keepgenerated flag to be controlled from the ejbc task. It
defaults to false.

To keep genrated code, use the keepgenerated="true"

Submitted by:	William Turnbull <William.Turnbull@trcinc.com>

------------------------------------------------------------------------
r268207 | metasim | 2000-11-18 23:22:49 -0500 (Sat, 18 Nov 2000) | 2 lines

Removed checking of default ant install location.

------------------------------------------------------------------------
r268206 | metasim | 2000-11-18 23:21:58 -0500 (Sat, 18 Nov 2000) | 2 lines

Added generic attribute editing capability for tasks.

------------------------------------------------------------------------
r268205 | metasim | 2000-11-17 17:39:05 -0500 (Fri, 17 Nov 2000) | 2 lines

Started work on a Properties Bean property editor.

------------------------------------------------------------------------
r268204 | glennm | 2000-11-17 10:03:50 -0500 (Fri, 17 Nov 2000) | 7 lines

Now writes message to the logger, rather than to System.out.
Also introduced logging levels to provide finer control over
when messages are writen out.  The levels simply reflect the
current Project.MSG_* values.

Suggested by:           Wolf Siberski

------------------------------------------------------------------------
r268203 | bodewig | 2000-11-17 05:25:09 -0500 (Fri, 17 Nov 2000) | 17 lines

Changed the copy task to support a nested mapper.

This adds a lot of power to copy and move, we can drop the optional
RenameExt task for example as

<renamext srcdir="src" destdir="dest" fromextension=".java.keep"
          toextension=".java" replace="true" />

can now be written as

<move todir="dest" overwrite="true">
  <fileset dir="src" />
  <mapper type="glob" from="*.java.keep" to="*.java" />
</move>

but more difficult transformations can be done as well.

------------------------------------------------------------------------
r268202 | bodewig | 2000-11-17 05:00:58 -0500 (Fri, 17 Nov 2000) | 3 lines

New DataType mapper, will be used to define a FileNameMapper for tasks
that can support different implementations.

------------------------------------------------------------------------
r268201 | metasim | 2000-11-16 18:14:13 -0500 (Thu, 16 Nov 2000) | 2 lines

Fixed missing LOCALCLASSPATH setter.

------------------------------------------------------------------------
r268200 | metasim | 2000-11-16 17:59:35 -0500 (Thu, 16 Nov 2000) | 2 lines

Fixed string editor so that it property handled multi-line strings.

------------------------------------------------------------------------
r268199 | metasim | 2000-11-16 17:38:43 -0500 (Thu, 16 Nov 2000) | 9 lines

Changed mechanism by which the PropertyEditor editor is instantiated so that it
uses whatever class is retured by BeanDescriptor.getCustomizerClass() rather
than assuming DynamicCustomizer. This will allow BeanSpecific customizers to be
used in leu of the DynamicCustomizer.

Also finally figured out the IllegalAccessException problem with calling the
NodeList methods in the ACSTreeNodeElement classes, which turned out only to
happen when jikes was used for compiling. Implemented a work around.

------------------------------------------------------------------------
r268198 | metasim | 2000-11-16 16:46:33 -0500 (Thu, 16 Nov 2000) | 2 lines

Added icons to project tree view.

------------------------------------------------------------------------
r268197 | metasim | 2000-11-16 15:02:40 -0500 (Thu, 16 Nov 2000) | 3 lines

Initial commit. Add so that that there is at least some rudimentary
documentation on how to run antidote.

------------------------------------------------------------------------
r268196 | metasim | 2000-11-16 14:41:05 -0500 (Thu, 16 Nov 2000) | 2 lines

Added save and saveas action implementation.

------------------------------------------------------------------------
r268195 | metasim | 2000-11-16 13:32:31 -0500 (Thu, 16 Nov 2000) | 4 lines

Added option to turn on notification of emacs on a build error so that emacs
goes to the file and location of the error. Also added the ability to provide a
build file to load at startup from the command line.

------------------------------------------------------------------------
r268194 | bodewig | 2000-11-16 12:05:40 -0500 (Thu, 16 Nov 2000) | 3 lines

New FileNameMapper that does wildcard replacements like DOS's
ren *.foo *.bar. Use it in javac (more to come).

------------------------------------------------------------------------
r268193 | bodewig | 2000-11-16 04:57:47 -0500 (Thu, 16 Nov 2000) | 3 lines

Added a MergingMapper where multiple source files map to a single
target file. Use it in tar, zip, uptodate.

------------------------------------------------------------------------
r268192 | bodewig | 2000-11-16 03:59:26 -0500 (Thu, 16 Nov 2000) | 2 lines

Added logging to SourceFileScanner.

------------------------------------------------------------------------
r268191 | metasim | 2000-11-15 16:25:58 -0500 (Wed, 15 Nov 2000) | 3 lines

Changed mechanism by which BusMembers cancel event propogation so that any type
of event can be cancelled.

------------------------------------------------------------------------
r268190 | bodewig | 2000-11-15 12:45:41 -0500 (Wed, 15 Nov 2000) | 12 lines

First part of the scanDir refactoring. This is just a starter to show
what I want to accomplish.

All tasks using a scanDir method to find the source files that are
newer than there targets should get a similar treatment as <copy>.

The major benefit is not to have the functionality in one place but
the added flexibility you get, when you allow the user to specify a
custom FileNameMapper to a task (not there yet).

Nothing (especially not the names) is carved into stone of course.

------------------------------------------------------------------------
r268189 | bodewig | 2000-11-15 11:40:33 -0500 (Wed, 15 Nov 2000) | 4 lines

Add a passive mode option to <ftp>

Submitted by:	Stuart Roebuck <sr@adolos.com>

------------------------------------------------------------------------
r268188 | bodewig | 2000-11-15 11:01:02 -0500 (Wed, 15 Nov 2000) | 3 lines

Changed a System.out.println to log in <depend>, should probably be
degraded to MSG_VERBOSE sooner or later.

------------------------------------------------------------------------
r268187 | conor | 2000-11-15 07:47:56 -0500 (Wed, 15 Nov 2000) | 4 lines

Handle ejb-ref elements.

Ignore the <home> and <remote> elements in the embedded within <ejb-ref> elements.

------------------------------------------------------------------------
r268186 | conor | 2000-11-15 01:38:34 -0500 (Wed, 15 Nov 2000) | 10 lines

Change weblogic element of ejbjar to support including the CMP descriptor based
on parsing the weblogic descriptor rather than using the naming convention. To
access the new behaviour set oldCMP="false" in the weblogic element.

This should allow the ejbjar task to support jars with more than one CMP bean

Submitted by:	gayre <greg.ayre@destiny.com>

Some minor changes to Main.java - layout and wording.

------------------------------------------------------------------------
r268185 | metasim | 2000-11-14 16:50:36 -0500 (Tue, 14 Nov 2000) | 4 lines

Added ability to define state transition condtions for the enabled state of GUI
actions. As specific events are fired in the GUI the enabled state is updated
for specific actions.

------------------------------------------------------------------------
r268184 | metasim | 2000-11-14 14:55:45 -0500 (Tue, 14 Nov 2000) | 2 lines

Added warning about incompatibility with vm version "Blackdown-1.3.0-RC1".

------------------------------------------------------------------------
r268183 | metasim | 2000-11-14 14:48:12 -0500 (Tue, 14 Nov 2000) | 3 lines

Added TargetMonitor widget which gives a better indication of what targets will
be built if a build is launched. Also fixed a few buglets in the PropertyEditor.

------------------------------------------------------------------------
r268182 | metasim | 2000-11-14 13:47:52 -0500 (Tue, 14 Nov 2000) | 2 lines

Removed Ant specific resource checking.

------------------------------------------------------------------------
r268181 | metasim | 2000-11-14 12:21:22 -0500 (Tue, 14 Nov 2000) | 3 lines

Added scripts for launching Antidote, and updated the build file to make better
use of the Ant build directory for libraries, etc.

------------------------------------------------------------------------
r268180 | bodewig | 2000-11-14 11:20:40 -0500 (Tue, 14 Nov 2000) | 3 lines

Make **/CVS/** a pattern in the list of default excludes instead of
**/CVS/*. This is to support users using cvs edit.

------------------------------------------------------------------------
r268179 | bodewig | 2000-11-14 05:17:00 -0500 (Tue, 14 Nov 2000) | 8 lines

Improved the optional telnet task

1) added an echo attribute to write to suppress output
2) added a timeout mechanism on reads
3) can now send an initial newline before expecting anything from the server

Submitted by:	Scott Carlson <ScottCarlson@email.com>

------------------------------------------------------------------------
r268177 | conor | 2000-11-12 19:29:52 -0500 (Sun, 12 Nov 2000) | 3 lines

Ensure the bean classes can be loaded by appending the classpath,
if specified.

------------------------------------------------------------------------
r268176 | metasim | 2000-11-12 15:00:01 -0500 (Sun, 12 Nov 2000) | 2 lines

Updated after verifying copyright issue on icons.

------------------------------------------------------------------------
r268175 | metasim | 2000-11-12 14:58:53 -0500 (Sun, 12 Nov 2000) | 2 lines

Omitted part of the L&F checkin.

------------------------------------------------------------------------
r268174 | metasim | 2000-11-11 10:16:47 -0500 (Sat, 11 Nov 2000) | 2 lines

Icons replaced due to restriction on outside copyright ownership

------------------------------------------------------------------------
r268173 | conor | 2000-11-11 10:11:41 -0500 (Sat, 11 Nov 2000) | 19 lines

EJBJar changes

1. Change EJBJar so that super classes and super interfaces are included in
   bean jar file. For this to work, the classpath can be specified at the
   ejbjar level. This will be used for the weblogic nested element if it
   is specified. If a classpath is also provided on the weblogic
   nested element, it is concatenated with the task level classpath. Since
   the processing is done in the nested element in any case, current usage
   where the classpath is specified in the nested element is sufficient
   for these checks to work.
2. Allow <classpath> nested elements to be used to specify the classpath. This can
   be used for both the task level and nested element level classpaths.
3. Change the weblogic jar generation to run ejbc only if the interfaces have
   changed. Changes to the bean classes will not cause ejbc to run. This behaviour
   must be enabled by setting the attribute rebuild="false" in the weblogic
   element.

Submitted by:	Brian Towles <brian@towles.com>

------------------------------------------------------------------------
r268172 | metasim | 2000-11-11 09:58:54 -0500 (Sat, 11 Nov 2000) | 6 lines

Dialog window for changing the current Look and Feel.
PR:
Obtained from:
Submitted by:	Erik Meade
Reviewed by:	Simeon Fitch

------------------------------------------------------------------------
r268171 | metasim | 2000-11-10 23:54:05 -0500 (Fri, 10 Nov 2000) | 8 lines

Geatly enhanced the property editor, adding new bean info for the
element types and an additional property editor. The navigator now shows
project, property, target and task nodes.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r268170 | metasim | 2000-11-10 23:52:21 -0500 (Fri, 10 Nov 2000) | 8 lines

Greatly enhanced the property editor, adding new bean info for the
element types and an additional property editor. The navigator now shows
project, property, target and task nodes.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r268169 | metasim | 2000-11-10 23:49:45 -0500 (Fri, 10 Nov 2000) | 6 lines

Greatly enhanced the property editor, adding new bean info for the element types and an additional property editor. The navigator now shows project, property, target and task nodes.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r268168 | metasim | 2000-11-10 15:41:21 -0500 (Fri, 10 Nov 2000) | 3 lines

Started addition of a generic Bean editor/property sheet and supporting
infrastructure for Ant Elements.

------------------------------------------------------------------------
r268167 | bodewig | 2000-11-10 12:07:20 -0500 (Fri, 10 Nov 2000) | 5 lines

Make the buildfile searching only start on demand, introduced a new
command line argument -file.

Suggested by:	Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r268166 | metasim | 2000-11-09 18:14:21 -0500 (Thu, 09 Nov 2000) | 5 lines

Started work on the Ant Construction Set classes (ACS), which will map directly
to DOM elements allowing easier manipulation of the XML and better editing of
Ant projects. NB: The code currently requires the Sun JAXP library (which Ant
needs anyway).

------------------------------------------------------------------------
r268165 | bodewig | 2000-11-09 11:18:50 -0500 (Thu, 09 Nov 2000) | 4 lines

New tasks csc and ilasm for Microsoft's .NET SDK.

Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r268164 | glennm | 2000-11-09 09:45:44 -0500 (Thu, 09 Nov 2000) | 5 lines

Patch to correctly import .java and resources files, and
to add more verbose logging messages.

Submitted by:             Wolf Siberski

------------------------------------------------------------------------
r268161 | bodewig | 2000-11-08 12:01:10 -0500 (Wed, 08 Nov 2000) | 6 lines

Added a new optional telnet task.

Submitted by:	Scott Carlson <scottcarlson@yahoo.com>

Moved optional FTP task to the new net package.

------------------------------------------------------------------------
r268159 | glennm | 2000-11-07 15:31:00 -0500 (Tue, 07 Nov 2000) | 3 lines

Added the vajload, vajexport, and vajimport tasks to
the optional part of the task list.

------------------------------------------------------------------------
r268158 | glennm | 2000-11-07 15:19:49 -0500 (Tue, 07 Nov 2000) | 10 lines

A very nice set of VisualAge for Java integration tasks,
originally written by Wolf Siberski.  A similar set of tasks was
contributed by Peter Kelly, and they formed the inspiration
for adding the VAJImport task.

They only work in the IDE, or as a part of a Tool extension.

Created by:       Wolf Siberski
                         Glenn McAllister

------------------------------------------------------------------------
r268157 | bodewig | 2000-11-07 09:22:43 -0500 (Tue, 07 Nov 2000) | 4 lines

Enable Antidote to select and run targets.

Submitted by:	Simeon Fitch <metasim@yahoo.com>

------------------------------------------------------------------------
r268156 | conor | 2000-11-07 07:17:13 -0500 (Tue, 07 Nov 2000) | 5 lines

Fix up date check on .ser files when the .txt input files are not in the
root of the specified descriptor directory

Submitted by:	Robert Lucier [rlucier@collabria.com]

------------------------------------------------------------------------
r268155 | conor | 2000-11-07 07:15:29 -0500 (Tue, 07 Nov 2000) | 2 lines

Clean up this interface as it is not used in ant.

------------------------------------------------------------------------
r268154 | bodewig | 2000-11-06 09:32:25 -0500 (Mon, 06 Nov 2000) | 4 lines

Make <cab> support libcabinet on non-Windows platforms.

Submitted by:	Nico Seessle <Nico.Seessle@epost.de>

------------------------------------------------------------------------
r268153 | bodewig | 2000-11-06 09:10:59 -0500 (Mon, 06 Nov 2000) | 12 lines

Changes to <propertyfile>

1) documentation.

2) default to String type if type is omitted.

3) use Properties.store (or .save) to write the property file.

Submitted by:	Jesse Tilly <JTilly@hoteltools.com>

I've modified Jesse's original patch to make it compile on JDK 1.1.

------------------------------------------------------------------------
r268152 | bodewig | 2000-11-06 07:52:51 -0500 (Mon, 06 Nov 2000) | 8 lines

Tow Antidote patches:

*) Design document.

*) can now write BuildEvents to console.

Submitted by:	Simeon Fitch <metasim@yahoo.com>

------------------------------------------------------------------------
r268151 | bodewig | 2000-11-06 07:35:14 -0500 (Mon, 06 Nov 2000) | 4 lines

New task antlr. See www.antlr.org.

Submitted by:	Erik Meade <emeade@geekfarm.org>

------------------------------------------------------------------------
r268148 | conor | 2000-11-03 07:04:32 -0500 (Fri, 03 Nov 2000) | 10 lines

The initial checkin of antidote - the ant GUI.

This initial version is mainly to establish the source infrastructure. The
code currently compiles under JDK 1.2+ and provides a basic GUI which is able
to open a build.xml file.

Stay tuned ...

Submitted by:	Simeon Fitch <metasim@yahoo.com>

------------------------------------------------------------------------
r268139 | conor | 2000-11-01 23:39:56 -0500 (Wed, 01 Nov 2000) | 3 lines

Make SQLExec print its output at the task level rather than the single
statement level. All output goes to the output file.

------------------------------------------------------------------------
r268138 | glennm | 2000-11-01 09:58:08 -0500 (Wed, 01 Nov 2000) | 6 lines

Added error message if a single file specified by the file attribute is missing.
Also fixed up the message indicating how many files are being copied to
correctly use "file" and "files".

Reported by:           Diane Holt <holtdl@yahoo.com>

------------------------------------------------------------------------
r268137 | conor | 2000-11-01 00:59:16 -0500 (Wed, 01 Nov 2000) | 6 lines

Fix SQLExec printing of results. It was using the return from getResultSet to
indicate that there are no more result sets but I think it should have been using
the result of getMoreResults(). I have made the appropriate change. I have also
made changes to handle NULL results
Reported by:	Johan Adel�w <johan.adelow@corustechnologies.com>

------------------------------------------------------------------------
r268136 | bodewig | 2000-10-31 08:53:07 -0500 (Tue, 31 Oct 2000) | 2 lines

Added a nested prefixedfileset element to <war>

------------------------------------------------------------------------
r268135 | bodewig | 2000-10-31 07:13:14 -0500 (Tue, 31 Oct 2000) | 2 lines

Added an output attribute to <java>.

------------------------------------------------------------------------
r268134 | bodewig | 2000-10-31 06:12:05 -0500 (Tue, 31 Oct 2000) | 4 lines

Reinstate javadoc's failonerror attribute.

Requested by:	Corey Puffalt <corey@kelman.com>

------------------------------------------------------------------------
r268133 | conor | 2000-10-30 08:35:42 -0500 (Mon, 30 Oct 2000) | 2 lines

Fix minor type in Zip task

------------------------------------------------------------------------
r268131 | conor | 2000-10-29 08:10:28 -0500 (Sun, 29 Oct 2000) | 9 lines

Restore the -d flag for destdir when it is supplied. Whilst this is an option
of the standard doclet, many other doclets also use it. For doclets which do not
like it, simply do not provide a destdir attribute to the javadoc tag.

The check for whether destDir is supplied only operated if the standard doclet
is being used (or using javadoc1)

Based on the observation of Scott M Stark <Scott_Stark@displayscape.com>

------------------------------------------------------------------------
r268130 | conor | 2000-10-28 01:06:10 -0400 (Sat, 28 Oct 2000) | 8 lines

Depend task

This task examines classes to build a dependency map. For any class file
which is out of date with respect to its source, all class files which depend
on that class are deleted, forcing them to be recompiled.

This is a java specific approach.

------------------------------------------------------------------------
r268128 | bodewig | 2000-10-27 10:59:32 -0400 (Fri, 27 Oct 2000) | 16 lines

javadoc correction to ExecTask

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

Make Path use getCanonicalPath throughout.

Submitted by:	Vincent Bergbauer <vincent_bergbauer@yahoo.com>

Remove deprecation warnings in SignJar

Submitted by:	KC Baltz <KBaltz@responsenetworks.com>

Give user a clue if the classic compiler can not be found.

Submitted by:	Erik Meade <emeade@geekfarm.org>

------------------------------------------------------------------------
r268126 | conor | 2000-10-25 08:05:06 -0400 (Wed, 25 Oct 2000) | 2 lines

Make sure files get closed even when there is an exception.

------------------------------------------------------------------------
r268125 | conor | 2000-10-25 07:59:52 -0400 (Wed, 25 Oct 2000) | 4 lines

Added the propertyfile task which can manipulate property files.

Submitted by:	Jeremy Mawson <jeremym@qsipayments.com>

------------------------------------------------------------------------
r268115 | bodewig | 2000-10-20 07:36:07 -0400 (Fri, 20 Oct 2000) | 3 lines

Make <javac> always add +F to the jikes command line if
build.compiler.fulldepend has been set.

------------------------------------------------------------------------
r268112 | bodewig | 2000-10-19 12:07:56 -0400 (Thu, 19 Oct 2000) | 5 lines

and don't swap stderr and stdout either.

The release build is correct BTW, CVS claimed I changed the file fast
enough, but it committed something else, grr.

------------------------------------------------------------------------
r268111 | bodewig | 2000-10-19 11:25:10 -0400 (Thu, 19 Oct 2000) | 2 lines

Better redirect stderr and stdout instead of stderr twice.

------------------------------------------------------------------------
r268110 | bodewig | 2000-10-19 10:52:58 -0400 (Thu, 19 Oct 2000) | 5 lines

Ensure the output of the modern compiler is going to be redirected as
well.

Prepare for a second release candidate build.

------------------------------------------------------------------------
r268108 | conor | 2000-10-19 09:29:44 -0400 (Thu, 19 Oct 2000) | 7 lines

Roll back EJBC changes to the separate helper run in a separate VM. The use of
the class loader was causing some users problems which arise when the system
classpath and the classloader's classpath overlap.

This will remove Jikes support from the ejbc task, but I think the stability of
the task, going into the 1.2 release is more important.

------------------------------------------------------------------------
r268107 | bodewig | 2000-10-19 07:30:19 -0400 (Thu, 19 Oct 2000) | 3 lines

It seems far more plausible to interpret a relative file URI in SYSTEM
entities relative to the build file instead of basedir, doesn't it?

------------------------------------------------------------------------
r268106 | bodewig | 2000-10-19 06:57:48 -0400 (Thu, 19 Oct 2000) | 3 lines

Resolve filenames in SYSTEM entity declarations relative to the
project's basedir.

------------------------------------------------------------------------
r268105 | conor | 2000-10-18 09:36:14 -0400 (Wed, 18 Oct 2000) | 3 lines

Allow ant to be installed in a Windows directory containing spaces such as
c:\Program Files\ant

------------------------------------------------------------------------
r268103 | bodewig | 2000-10-18 04:46:10 -0400 (Wed, 18 Oct 2000) | 2 lines

And no stack trace for classic compiler either.

------------------------------------------------------------------------
r268102 | bodewig | 2000-10-18 04:44:35 -0400 (Wed, 18 Oct 2000) | 2 lines

Don't print stack traces on compilation errors.

------------------------------------------------------------------------
r268101 | conor | 2000-10-17 10:25:39 -0400 (Tue, 17 Oct 2000) | 7 lines

Make sure ejbc task handles situation when build.compiler is not set

I didn't use Jeremy's patch directly since ejbcHelper is only interested if
build.compielr is equal to Jikes

Submitted by:	Jeremy Taylor <jtaylor@lehman.com>

------------------------------------------------------------------------
r268100 | bodewig | 2000-10-17 08:12:44 -0400 (Tue, 17 Oct 2000) | 4 lines

Make MacOS X a valid Unix (in <chmod>'s point of view).

Submitted by:	Stuart Roebuck <sr@adolos.com>

------------------------------------------------------------------------
r268096 | conor | 2000-10-16 09:22:18 -0400 (Mon, 16 Oct 2000) | 5 lines

Make the flatdestdir attribute work when using deployment descriptors
in the root directory

Minor javadoc fix in wlrun

------------------------------------------------------------------------
r268093 | conor | 2000-10-16 05:41:22 -0400 (Mon, 16 Oct 2000) | 2 lines

Provide access to more ejbc options

------------------------------------------------------------------------
r268092 | conor | 2000-10-16 05:40:48 -0400 (Mon, 16 Oct 2000) | 2 lines

Provide more control over running Weblogic.

------------------------------------------------------------------------
r268091 | conor | 2000-10-16 05:38:57 -0400 (Mon, 16 Oct 2000) | 2 lines

Add warning about sytnax change for this task

------------------------------------------------------------------------
r268090 | bodewig | 2000-10-16 05:21:22 -0400 (Mon, 16 Oct 2000) | 5 lines

Don't print the message of a thrown BuildException to stderr twice.

Submitted by:	Diane Holt <holtdl@yahoo.com>,
                Nico Seessle <Nico.Seessle@epost.de>

------------------------------------------------------------------------
r268089 | bodewig | 2000-10-16 05:09:10 -0400 (Mon, 16 Oct 2000) | 5 lines

Better error reporting when <ant> cannot find the build file, grammar
correction.

Submitted by:	Diane Holt <holtdl@yahoo.com>

------------------------------------------------------------------------
r268084 | bodewig | 2000-10-13 05:43:47 -0400 (Fri, 13 Oct 2000) | 8 lines

Reset destDir to null in <copy> if destFile has been set. This allows
a single instance of Copy to be used more than one - like in

ant -Dant.install=../dist/jakarta-ant dist install

where the second time the dist target gets executed would throw an
exception. You can see this in the logs of recent nightly builds of Ant.

------------------------------------------------------------------------
r268083 | bodewig | 2000-10-13 05:24:53 -0400 (Fri, 13 Oct 2000) | 5 lines

Give the user a clue what to do when the "task could not be found"
exception occurs.

Submitted by:	Erik Meade <emeade@geekfarm.org>

------------------------------------------------------------------------
r268082 | bodewig | 2000-10-13 05:14:37 -0400 (Fri, 13 Oct 2000) | 5 lines

Added a location attribute to <property> to provide easy access to the
Project.resolvePath functionality to the user.

Submitted by:	Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r268081 | bodewig | 2000-10-12 12:09:49 -0400 (Thu, 12 Oct 2000) | 2 lines

typo

------------------------------------------------------------------------
r268080 | bodewig | 2000-10-12 11:59:18 -0400 (Thu, 12 Oct 2000) | 5 lines

Added a nested sysproperty element to <java>. This allows the user to
set system properties even in non-fork mode.

Submitted by:	Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r268079 | bodewig | 2000-10-12 11:00:23 -0400 (Thu, 12 Oct 2000) | 5 lines

Made destdir in <javac> optional - don't use the -d switch at all if
this one hasn't been given.

Submitted by:	Alexander Pokahr <5pokahr@informatik.uni-hamburg.de>

------------------------------------------------------------------------
r268078 | bodewig | 2000-10-12 09:38:15 -0400 (Thu, 12 Oct 2000) | 5 lines

Make sure a BuildException thrown inside a <script> doesn't get
wrapped into yet another BuildException.

Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r268077 | bodewig | 2000-10-12 09:29:29 -0400 (Thu, 12 Oct 2000) | 5 lines

Throw an exception if the zip/jar/warfile attribute has been omitted
in Zip.

Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r268075 | bodewig | 2000-10-12 09:22:49 -0400 (Thu, 12 Oct 2000) | 5 lines

Make <javac> use the value of srcdir as destdir if the latter has not
been specified.

Submitted by:	Alexander Pokahr <5pokahr@informatik.uni-hamburg.de>

------------------------------------------------------------------------
r268074 | bodewig | 2000-10-12 02:53:51 -0400 (Thu, 12 Oct 2000) | 5 lines

Made AntClassLoader always add java.* and javax.* to the list of
packages to load via the system classloaders.

This fixes the problem reported by Erik Meade <emeade@geekfarm.org>.

------------------------------------------------------------------------
r268073 | glennm | 2000-10-10 12:27:22 -0400 (Tue, 10 Oct 2000) | 6 lines

Throws BuildException if it tries to resolve a path which
will go further up than the root of the file-system.

Reported by:                                        Noris Boyd
Patch submitted by:                             Nico Seessle

------------------------------------------------------------------------
r268072 | bodewig | 2000-10-10 10:56:35 -0400 (Tue, 10 Oct 2000) | 4 lines

Make <sql> ignore empty "statements".

Submitted by:	Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r268070 | bodewig | 2000-10-06 08:49:08 -0400 (Fri, 06 Oct 2000) | 4 lines

Make the system call a little bit more secure.

Submitted by:	Olivier Louchart-Fletcher <olivier.louchart@netregistry.au.com>

------------------------------------------------------------------------
r268068 | glennm | 2000-10-06 07:24:56 -0400 (Fri, 06 Oct 2000) | 7 lines

Added an includeEmptyDirs attribute to Copy and Move tasks.  The default
action is to include empty directories in any copy and move action.  It makes
a lot more sense for Move, and seems reasonable for Copy.

Fixed up Move to correctly remove the original directories rather than leave
them behind.

------------------------------------------------------------------------
r268067 | bodewig | 2000-10-06 06:54:09 -0400 (Fri, 06 Oct 2000) | 3 lines

Documentation for the perforce task.
Submitted by:	Joe Walker <Joe.Walker@barclaycard.co.uk>

------------------------------------------------------------------------
r268066 | bodewig | 2000-10-06 03:57:44 -0400 (Fri, 06 Oct 2000) | 3 lines

New optional task for the SCC system Perforce.
Submitted by:	Walker Joe <Joe.Walker@barclaycard.co.uk>

------------------------------------------------------------------------
r268065 | bodewig | 2000-10-06 03:40:16 -0400 (Fri, 06 Oct 2000) | 4 lines

(Re)enable support for multiple CVS modules in a single cvs task.

Submitted by:	Josh Lucas <josh@stonecottage.com>

------------------------------------------------------------------------
r268064 | bodewig | 2000-10-06 03:35:54 -0400 (Fri, 06 Oct 2000) | 6 lines

Don't assume it has been the build file if the parser throws a
FileNotFoundException. Could be an external entity or a DTD file as
well.

Submitted by:	Scotte Zinn <szinn@patronix.com>

------------------------------------------------------------------------
r268062 | bodewig | 2000-10-06 03:27:33 -0400 (Fri, 06 Oct 2000) | 2 lines

Fixed what looks like a typo in the error message.

------------------------------------------------------------------------
r268061 | glennm | 2000-10-05 13:19:57 -0400 (Thu, 05 Oct 2000) | 8 lines

Removed dir attribute from Copy and
Move tasks.  Now you can only copy 
or move entire directories with 
nested FileSets.

Prompted by a patch submitted by
Nico Seessle.

------------------------------------------------------------------------
r268059 | bodewig | 2000-10-05 05:12:07 -0400 (Thu, 05 Oct 2000) | 2 lines

Allow the user to specify a classpath to <junit> even if fork="off".

------------------------------------------------------------------------
r268058 | bodewig | 2000-10-05 03:58:06 -0400 (Thu, 05 Oct 2000) | 3 lines

Let jikes use the temporary file solution if the total length of the
command line exceeds 4k.

------------------------------------------------------------------------
r268057 | bodewig | 2000-10-05 03:48:37 -0400 (Thu, 05 Oct 2000) | 3 lines

Make sure files are getting closed.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r268056 | bodewig | 2000-10-04 06:42:00 -0400 (Wed, 04 Oct 2000) | 4 lines

Extended testcase for <filter> to show that Bug #38 (report #184) has
already been fixed.
Submitted by:	Erik Meade <emeade@geekfarm.org>

------------------------------------------------------------------------
r268055 | bodewig | 2000-10-04 05:57:55 -0400 (Wed, 04 Oct 2000) | 4 lines

Made sure that Project.resolveFile would always use the canonical path
of a file.
Submitted by:	Adam Murdoch <adammurdoch@yahoo.com>

------------------------------------------------------------------------
r268054 | bodewig | 2000-10-04 05:46:04 -0400 (Wed, 04 Oct 2000) | 8 lines

Fixed some testcases:

(1) make the Path tests work on Windows even if not working on C:
Submitted by:	Erik Meade <emeade@geekfarm.org>

(2) Take care of deprecation warnings and added functionality for some
of the file handling tasks.

------------------------------------------------------------------------
r268053 | bodewig | 2000-10-04 05:29:17 -0400 (Wed, 04 Oct 2000) | 3 lines

Fixed detection of duplicate entries in <jlink>.
Submitted by:	Matthew Kuperus Heun <matthew.k.heun@gaerospace.com>

------------------------------------------------------------------------
r268052 | bodewig | 2000-10-04 05:18:48 -0400 (Wed, 04 Oct 2000) | 6 lines

Made the old file handling tasks even more deprecated. Made Ant use
the new tasks in its own buildfile.

Fixed a problem with <delete dir=""> when the directory didn't exists
(deltree would ignore this - delete now does so as well).

------------------------------------------------------------------------
r268051 | glennm | 2000-10-04 00:35:34 -0400 (Wed, 04 Oct 2000) | 3 lines

Consolidation of Copyfile, Copydir, Delete, Deltree, and Rename into
Copy, Move, and Delete tasks.

------------------------------------------------------------------------
r268050 | glennm | 2000-10-02 09:52:08 -0400 (Mon, 02 Oct 2000) | 4 lines

Patch to ensure a properties file is always closed after its read. Contributed
by Nico Seessle.
Some cleanup of field access levels, etc. by me.

------------------------------------------------------------------------
r268049 | bodewig | 2000-09-29 11:51:13 -0400 (Fri, 29 Sep 2000) | 13 lines

- Add new attributes onerror= (continue, stop, abort) to <sql>
- Add new nested element <transaction> to <sql> which allows executing
  multiple transactions, multiple files on the same connection.
- Added documentation on sql.html
- Modified AntClassLoader.java to send most of the "loading class..."
  messages to MSG_DEBUG instead of MSG_VERBOSE. So that it does not
  cluter debugging other tasks.
- Add new attributes 'rdbms="product"' and 'version="release"'
  if those versions do not match what is returned by the connection, the
  task will be skipped.

Submitted by:	Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r268048 | bodewig | 2000-09-29 11:40:33 -0400 (Fri, 29 Sep 2000) | 9 lines

Enable redirecting either the output or error or both from a cvs command to a file.

Example usage:
    <target name="diff">
        <cvs command="diff" output="patch.txt"/>
    </target>

Submitted by:	Julian M. Savage <jsavage@fisci.com>

------------------------------------------------------------------------
r268047 | bodewig | 2000-09-29 11:28:12 -0400 (Fri, 29 Sep 2000) | 13 lines

- Javac.getCompileClasspath(true) adds the correct runtime Zip files when
running in the MS VM.  It adds ${java.home}/packages/*.zip instead of
${java.home}/lib/classes.zip

- Javac.doClassicCompile() uses introspection to invoke the classic
compiler.  This allows Javac.java to be compiled under a non-Sun JDK.

- Added location to the BuildExceptions thrown by javac.

Submitted by:	Adam Murdoch <adammurdoch@yahoo.com>

made some methods protected to make Javac easier to extend.

------------------------------------------------------------------------
r268046 | bodewig | 2000-09-28 09:46:34 -0400 (Thu, 28 Sep 2000) | 4 lines

Documentation for the JavaCC task, changed the location where the
generated file will be placed if no directory has been specified.
Submitted by:	Adam Murdoch <adammurdoch@yahoo.com>

------------------------------------------------------------------------
r268045 | bodewig | 2000-09-28 09:44:53 -0400 (Thu, 28 Sep 2000) | 4 lines

Make Execute work for arguments containing spaces under JDK 1.1 under
Windows (where Runtime.exec() doesn't quote them properly).
Submitted by:	Adam Murdoch <adammurdoch@yahoo.com>

------------------------------------------------------------------------
r268044 | bodewig | 2000-09-28 09:41:10 -0400 (Thu, 28 Sep 2000) | 4 lines

Class.forName("") throws an IllegalArgumentException instead of
ClassNotFoundException in JDK 1.1. Make available behavior consistent
by ignoring empty classname attributes.

------------------------------------------------------------------------
r268043 | bodewig | 2000-09-27 11:58:49 -0400 (Wed, 27 Sep 2000) | 3 lines

Add a file attribute to echo to have a simple task that can create
files on the fly.

------------------------------------------------------------------------
r268042 | bodewig | 2000-09-27 11:08:53 -0400 (Wed, 27 Sep 2000) | 3 lines

Added a refid attribute to property.
Submitted by:	Vincent Bergbauer <vincent_bergbauer@yahoo.com>

------------------------------------------------------------------------
r268041 | bodewig | 2000-09-27 05:00:29 -0400 (Wed, 27 Sep 2000) | 2 lines

Make sure the JDBC driver knows how to handle the URL.

------------------------------------------------------------------------
r268040 | bodewig | 2000-09-27 04:12:17 -0400 (Wed, 27 Sep 2000) | 3 lines

Fixed typo that made the filtersfile attribute unusable.
Submitted by:	Gero Vermaas <Gero.Vermaas@sun.com>

------------------------------------------------------------------------
r268039 | bodewig | 2000-09-27 03:42:23 -0400 (Wed, 27 Sep 2000) | 3 lines

Allow the driver for <sql> to be loaded from a different CLASSPATH.
Submitted by:	Julian M. Savage <jsavage@fisci.com>

------------------------------------------------------------------------
r268038 | bodewig | 2000-09-26 07:05:46 -0400 (Tue, 26 Sep 2000) | 7 lines

Loading tasks from a ClassLoader other than the default one now works
on JDK 1.1 as well.

Added org.apache.tools.ant to the list of packages that need to be
loaded via the system class loader as the loaded class wouldn't be an
instance of Task (loaded by default loader) otherwise.

------------------------------------------------------------------------
r268035 | bodewig | 2000-09-25 10:39:29 -0400 (Mon, 25 Sep 2000) | 4 lines

Make JavaCC use the correct path when checking whether the generated
files are up to date.
Submitted by:	Adam Murdoch <adammurdoch@yahoo.com>

------------------------------------------------------------------------
r268034 | bodewig | 2000-09-25 10:35:50 -0400 (Mon, 25 Sep 2000) | 6 lines

Allow sub classes of Zip to hold their own filesets and not tell Zip
about it.

This one enables War to build .war files without content included in
extra filesets.

------------------------------------------------------------------------
r268033 | conor | 2000-09-24 07:50:18 -0400 (Sun, 24 Sep 2000) | 4 lines

Include any inner classes in the generated Jar file.

Submitted by:	Brian Towles <brian@towles.com>

------------------------------------------------------------------------
r268032 | conor | 2000-09-24 07:19:28 -0400 (Sun, 24 Sep 2000) | 4 lines

Allow filters to be set from a file.

Submitted by:	Gero Vermaas <Gero.Vermaas@sun.com>

------------------------------------------------------------------------
r268031 | conor | 2000-09-24 05:31:59 -0400 (Sun, 24 Sep 2000) | 3 lines

Allow sql task to write results to a file.
Submitted by:	Julian M. Savage <jsavage@fisci.com>

------------------------------------------------------------------------
r268030 | conor | 2000-09-24 05:00:07 -0400 (Sun, 24 Sep 2000) | 4 lines

Only print messages from exceptions which are non-null

Submitted by:	Patrick Beard <beard@netscape.com>

------------------------------------------------------------------------
r268027 | conor | 2000-09-21 05:00:34 -0400 (Thu, 21 Sep 2000) | 2 lines

Add the WLJspc task to the registered tasks

------------------------------------------------------------------------
r268026 | bodewig | 2000-09-21 04:46:10 -0400 (Thu, 21 Sep 2000) | 3 lines

Make <junit>s dir attribute work on JDK < 1.3
Reported by:	Peter Nordlund <peter.nordlund@lentus.se>

------------------------------------------------------------------------
r268025 | bodewig | 2000-09-21 03:42:48 -0400 (Thu, 21 Sep 2000) | 2 lines

Cosmetic changes.

------------------------------------------------------------------------
r268024 | bodewig | 2000-09-21 03:19:50 -0400 (Thu, 21 Sep 2000) | 4 lines

Make the handling of nested #PCDATA more predictable by not stripping
anything. The older version depended upon the parser (does it invoke
characters once per #PCDATA section or once per line).

------------------------------------------------------------------------
r268023 | bodewig | 2000-09-20 11:53:31 -0400 (Wed, 20 Sep 2000) | 2 lines

New task <native2ascii>.

------------------------------------------------------------------------
r268021 | bodewig | 2000-09-20 11:07:53 -0400 (Wed, 20 Sep 2000) | 3 lines

Improved output and error checking in <java>.
Submitted by:	Diane Holt <holtdl@yahoo.com>

------------------------------------------------------------------------
r268020 | bodewig | 2000-09-20 10:54:56 -0400 (Wed, 20 Sep 2000) | 3 lines

Make defaultlogger easier to extend.
Submitted by:	<mcclain.looney@webhelp.com>

------------------------------------------------------------------------
r268019 | bodewig | 2000-09-20 10:49:37 -0400 (Wed, 20 Sep 2000) | 9 lines

New task <uptodate> that set's a property if a given target file is
newer than a given set of source files.

I've taken the freedom to merge ideas submitted by William and Hiroaki
and to throw in some of my own.

Submitted by:	William Ferguson <williamf@mincom.com>,
                Hiroaki Nakamura <hnakamur@mc.neweb.ne.jp>

------------------------------------------------------------------------
r268018 | bodewig | 2000-09-20 09:38:52 -0400 (Wed, 20 Sep 2000) | 3 lines

Added unittests for a bunch of tasks.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r268017 | bodewig | 2000-09-20 08:41:09 -0400 (Wed, 20 Sep 2000) | 2 lines

Formatter would close System.out (preventing further output)

------------------------------------------------------------------------
r268016 | bodewig | 2000-09-20 07:56:46 -0400 (Wed, 20 Sep 2000) | 3 lines

extdir attribute/nested element of <javac> was broken when using jikes.
PR: #137 (Bug #35)

------------------------------------------------------------------------
r268014 | bodewig | 2000-09-20 07:31:13 -0400 (Wed, 20 Sep 2000) | 7 lines

<ant> now copies the definitions of data types to the child project as
well.
Reported by:	Jose Alberto Fernandez <JFernandez@viquity.com>

<ant> now checks it isn't calling the target it is nested into.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r268012 | bodewig | 2000-09-19 12:25:40 -0400 (Tue, 19 Sep 2000) | 2 lines

Added dir attribute to <junit> and documentation for the one of <java>.

------------------------------------------------------------------------
r268011 | bodewig | 2000-09-19 12:13:51 -0400 (Tue, 19 Sep 2000) | 5 lines

Added verbose and depend attributes to <javac> along with yet another
undocumented magic property (YAUMP?) build.compiler.fulldepend that
triggers Jikes' +F option.
Submitted by:	Sean Brandt <sean@fuzzymagic.com>

------------------------------------------------------------------------
r268010 | bodewig | 2000-09-19 10:29:44 -0400 (Tue, 19 Sep 2000) | 3 lines

Make <war> use the .war directory layout. Don't ask me where my mind
has been.

------------------------------------------------------------------------
r268009 | bodewig | 2000-09-19 05:09:23 -0400 (Tue, 19 Sep 2000) | 8 lines

Ant will now scan for build.xml in the parent directory (directories)
as well.

Added -debug and Project.MSG_DEBUG to make -verbose less verbose. Many
messages really rather belong into a DEBUG category.

Submitted by:	Jason Dillon <jason@planet57.com>

------------------------------------------------------------------------
r268008 | bodewig | 2000-09-19 02:50:11 -0400 (Tue, 19 Sep 2000) | 5 lines

Put the PATH obtained from extdirs between bootclasspath and
userclasspath when using jikes or jvc to make them match javac's
behavior.
Submitted by:	 Robert Krueger <krueger@signal7.de>

------------------------------------------------------------------------
r268007 | bodewig | 2000-09-18 11:38:38 -0400 (Mon, 18 Sep 2000) | 6 lines

Only set location in BuildException if the task didn't provide it
before.

This will give the correct location for errors in build files invoked
via the <ant> task.

------------------------------------------------------------------------
r268005 | bodewig | 2000-09-18 10:04:59 -0400 (Mon, 18 Sep 2000) | 3 lines

Allow tasks to be added at runtime and only fail if they cannot be
found at runtime.

------------------------------------------------------------------------
r268004 | bodewig | 2000-09-18 05:01:53 -0400 (Mon, 18 Sep 2000) | 3 lines

Treat OS/2 like Win NT with regard to <exec>'s dir attribute.
PR: #126 (Bug #33)

------------------------------------------------------------------------
r268003 | bodewig | 2000-09-18 04:50:08 -0400 (Mon, 18 Sep 2000) | 3 lines

Make filtering of the copy tasks work with leading @ characters.
PR: #129 (bug #32)

------------------------------------------------------------------------
r268002 | bodewig | 2000-09-18 03:55:01 -0400 (Mon, 18 Sep 2000) | 3 lines

Various checks for required attributes and better error messages added.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r268001 | bodewig | 2000-09-18 03:50:44 -0400 (Mon, 18 Sep 2000) | 3 lines

Fixed situation where Class.getClassLoader returns null for the
bootstrap class loader - JDK 1.1.7 on Linux for example.

------------------------------------------------------------------------
r268000 | stefano | 2000-09-16 20:07:14 -0400 (Sat, 16 Sep 2000) | 2 lines

Updated this task so that you can have <classpath> inside that tells the Available where to look for classes and resources. It is completely back compatible so should cause any harm to anybody.

------------------------------------------------------------------------
r267998 | bodewig | 2000-09-15 07:41:19 -0400 (Fri, 15 Sep 2000) | 2 lines

New tasks <war> and <unwar>.

------------------------------------------------------------------------
r267997 | bodewig | 2000-09-15 03:37:11 -0400 (Fri, 15 Sep 2000) | 9 lines

Adapt <ant> to the fact that <property> does its work in execute() and
not in init() now.

Make Microsoft's tools happy by not using "delegate" as a variable
name.

Improve handling of <ant>'s antfile attribute. This should work for
absolute paths now.

------------------------------------------------------------------------
r267996 | bodewig | 2000-09-15 03:10:58 -0400 (Fri, 15 Sep 2000) | 6 lines

When using the temporary file to hold the source file names (in jikes
compilation on Windows) Ant included the command itself as well as all
arguments as source files.
PR: #74 (linked to bug #31)
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r267995 | bodewig | 2000-09-15 02:55:26 -0400 (Fri, 15 Sep 2000) | 3 lines

Fixed message text when a class can not be found.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r267994 | bodewig | 2000-09-14 10:13:39 -0400 (Thu, 14 Sep 2000) | 2 lines

Make <echo> accept #PCDATA.

------------------------------------------------------------------------
r267993 | bodewig | 2000-09-14 10:04:38 -0400 (Thu, 14 Sep 2000) | 6 lines

Provide the SAXParser with the File instead of an InputSource to give
it a chance to parse relative URIs.

PR: 54
Submitted by:	Achim Dannecker <A.Dannecker@gmx.de>

------------------------------------------------------------------------
r267992 | bodewig | 2000-09-14 09:36:45 -0400 (Thu, 14 Sep 2000) | 7 lines

Make <javadoc> ignore .java files in directories containing a "-".

You cannot have a package name with a "-" in it anyway so these files
are something different. In my case I had example files in the
.../doc-files directory and javadoc died because I've used the same
classname (Example) in several places.

------------------------------------------------------------------------
r267991 | bodewig | 2000-09-14 06:49:55 -0400 (Thu, 14 Sep 2000) | 3 lines

Added value attribute to <available>.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267990 | bodewig | 2000-09-14 04:49:39 -0400 (Thu, 14 Sep 2000) | 3 lines

<junit> now works again as it did before tasks started to be
configured at runtime.

------------------------------------------------------------------------
r267989 | bodewig | 2000-09-14 04:13:06 -0400 (Thu, 14 Sep 2000) | 3 lines

Added usefile attribute to <formatter> to allow testoutput to be sent
to stdout instead of a file.

------------------------------------------------------------------------
r267988 | bodewig | 2000-09-14 03:19:52 -0400 (Thu, 14 Sep 2000) | 10 lines

Moved ${} expansion and task evaluation to runtime.

This has a lot of consequences, most notably those listed in
WHATSNEW. This also affects the behavior of several other tasks like
<available> who will now do their job at runtime instead of parser
time as well.

I've changed the version number in build.xml to reflect this bigger
change.

------------------------------------------------------------------------
r267985 | conor | 2000-09-12 08:28:51 -0400 (Tue, 12 Sep 2000) | 4 lines

Task to perform JSP compiles using Weblogic's JSPC compiler.

Submitted by:	Avik.Sengupta@dresdner-bank.com

------------------------------------------------------------------------
r267984 | conor | 2000-09-12 08:26:46 -0400 (Tue, 12 Sep 2000) | 2 lines

Allow commands to be reused by clearing their arguments

------------------------------------------------------------------------
r267983 | bodewig | 2000-09-11 09:08:36 -0400 (Mon, 11 Sep 2000) | 4 lines

Changed -projecthelp to show targets that have a description before
the other targets.
Submitted by:	Marcel Schutte <marcel@schutte.com>

------------------------------------------------------------------------
r267982 | bodewig | 2000-09-11 07:47:12 -0400 (Mon, 11 Sep 2000) | 7 lines

New task <jlink>.

Many thanks to Patrick C. Beard <beard@netscape.com> for allowing his
original jlink code to be placed under the Apache Software License.

Submitted by:	Matthew Kuperus Heun <matthew.k.heun@gaerospace.com>

------------------------------------------------------------------------
r267980 | bodewig | 2000-09-11 06:45:16 -0400 (Mon, 11 Sep 2000) | 4 lines

<replace> shouldn't change the timestamp of files if it doesn't
actually replace anything.
Submitted by:	Scotte Zinn <szinn@patronix.com>

------------------------------------------------------------------------
r267979 | bodewig | 2000-09-11 06:33:49 -0400 (Mon, 11 Sep 2000) | 4 lines

CVS wouldn't work if you used the command attribute to specify
additional arguments (like "update -d -P").
Reported by:         Roger Bj�revall <roger.bjarevall@ideit.com>

------------------------------------------------------------------------
r267978 | conor | 2000-09-11 06:15:00 -0400 (Mon, 11 Sep 2000) | 4 lines

Add error reporting to copyfile and copydir.

Thanks to Diane Holt <holtdl@yahoo.com> for pointing that out.

------------------------------------------------------------------------
r267977 | conor | 2000-09-09 07:48:11 -0400 (Sat, 09 Sep 2000) | 34 lines

Changes to EJBJar task

Make the descriptordir attribute optional.  If it is not there, then it
will default to the original functionality by looking srcdir.

Added an optional basejarname attribute.  If this exists, then there is
no need to prefix your descriptors with the jar name.  If it is not
used, then it will default to using the original naming convention.

Added a optional weblogicdtd attribute for the location of
the weblogic DTD file.  If this is not there, then the original
functionality will be  executed (uses the classpath resource
/weblogic/ejb/deployment/xml/ejb-jar.dtd as the location of the
dtd file).

Added a weblogictoplink element to the ejbjar task.  This
subtask allows you to build TOPLink for WebLogic enabled ejb jar
files. This subclasses the weblogic element so it uses the same
attributes with
the following additions:
    toplinkdescriptor  - this is the name of the xml file to be used by
    (required)           TOPLINK/ejbc.  This does not require the
                         naming prefix as the naming standard
                         (suggested by The ObjectPeople/WebGain) for
                         these files is incompatible with the current
                         naming convention of the ejbjar task.

    toplinkdtd         - the location of the TOPLink DTD file.  If this
    (optional)           is not provided, the web address is used
                         (Unfortunately, this cannot be picked up like
                         the weblogic DTD)

Submitted by:	John Hall <jhall@solant.com>

------------------------------------------------------------------------
r267975 | bodewig | 2000-09-08 03:20:57 -0400 (Fri, 08 Sep 2000) | 3 lines

<project basedir=""> didn't work for absolute filenames.
Reported by:	Gardner, David <david_gardner@mentorg.com>

------------------------------------------------------------------------
r267974 | bodewig | 2000-09-07 07:09:03 -0400 (Thu, 07 Sep 2000) | 3 lines

New task <fail> which does nothing but throw an exception.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r267973 | bodewig | 2000-09-07 05:51:02 -0400 (Thu, 07 Sep 2000) | 3 lines

Removed <filesetref> and <patternsetref> everywhere, <fileset> and
<patternset> support the refid attribute directly instead.

------------------------------------------------------------------------
r267972 | bodewig | 2000-09-06 11:00:15 -0400 (Wed, 06 Sep 2000) | 4 lines

Make the description attribute of Task accesible to build files
(that's what it has been intended for I guess). Add the one for Target
to <anstructure>.

------------------------------------------------------------------------
r267971 | bodewig | 2000-09-06 10:17:19 -0400 (Wed, 06 Sep 2000) | 3 lines

Allow an arbitrary number of arguments to be passed to Ant - even on Win98.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267970 | bodewig | 2000-09-06 10:05:00 -0400 (Wed, 06 Sep 2000) | 3 lines

Removed all nested <classpathref> elements in favor of <classpath
refid="...">.

------------------------------------------------------------------------
r267969 | bodewig | 2000-09-06 08:03:16 -0400 (Wed, 06 Sep 2000) | 6 lines

Added a type attribute to <execon> and <chmod>. It can take the values
"file", "dir" and "both" and deteremines, whether the task should work
on plain files only (the default), directories only or both.
Suggested by:	Peter Donald <donaldp@mad.scientist.com>,
                Kitching Simon <Simon.Kitching@orange.ch>

------------------------------------------------------------------------
r267968 | bodewig | 2000-09-06 07:34:41 -0400 (Wed, 06 Sep 2000) | 4 lines

If the output has not been redirected (via -logfile) write error
messages to stderr instead of stdout.
Suggested by:	Peter Nordlund <peter.nordlund@lentus.se>

------------------------------------------------------------------------
r267967 | conor | 2000-09-06 07:18:52 -0400 (Wed, 06 Sep 2000) | 3 lines

Perl script to Invoke ant
Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r267966 | bodewig | 2000-09-05 10:58:52 -0400 (Tue, 05 Sep 2000) | 2 lines

Javadoc's destDir attribute should now work again.

------------------------------------------------------------------------
r267965 | bodewig | 2000-09-05 10:42:45 -0400 (Tue, 05 Sep 2000) | 3 lines

Problems with the .bat files on Win98.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267964 | bodewig | 2000-09-05 10:35:38 -0400 (Tue, 05 Sep 2000) | 3 lines

-d is not an option of javadoc in 1.2 but of the standard doclet.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267963 | bodewig | 2000-09-05 10:25:13 -0400 (Tue, 05 Sep 2000) | 2 lines

JDK 1.1 compatibility issue.

------------------------------------------------------------------------
r267962 | bodewig | 2000-09-05 10:15:50 -0400 (Tue, 05 Sep 2000) | 5 lines

Add a nested <path> element to <path>. This means one path can include
another path (by reference as well as literally, although I doubt the
latter is of any use). Circular references should be caught.
Suggested by:	Barrie Treloar <Barrie.Treloar@camtech.com.au>

------------------------------------------------------------------------
r267961 | bodewig | 2000-09-05 08:32:32 -0400 (Tue, 05 Sep 2000) | 4 lines

Avoid StringIndexOutOfBoundsException when .java files were found
directly inside one of the source directories (classes in the default
package).

------------------------------------------------------------------------
r267960 | bodewig | 2000-09-05 07:43:22 -0400 (Tue, 05 Sep 2000) | 3 lines

filtering would fail if the number of @ was an uneven number.
Reported by:	Stover, Michael <Michael.Stover@usa.xerox.com>

------------------------------------------------------------------------
r267959 | bodewig | 2000-09-05 04:53:33 -0400 (Tue, 05 Sep 2000) | 4 lines

Added support for data types to be defined at the project level. The
currently implemented data types are <path>, <fileset> and
<patternset>.

------------------------------------------------------------------------
r267957 | bodewig | 2000-09-05 03:11:18 -0400 (Tue, 05 Sep 2000) | 4 lines

Correctly handle the case where one of the defaults.properties files
cannot be found.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r267956 | bodewig | 2000-09-04 11:19:17 -0400 (Mon, 04 Sep 2000) | 4 lines

<javadoc> and <patch> would fail if the execute method was called more
than once on the same instance of the class. This is why the second
<javadoc> in the nightly builds ("ant dist install") failed.

------------------------------------------------------------------------
r267955 | bodewig | 2000-09-04 10:21:56 -0400 (Mon, 04 Sep 2000) | 3 lines

Use line.separator instead of hard coded \n.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r267954 | bodewig | 2000-09-04 10:18:51 -0400 (Mon, 04 Sep 2000) | 4 lines

Added encoding attribute to <javac>.
Submitted by:	Hiroaki Nakamura <hnakamur@mc.neweb.ne.jp>,
                Eric VanLydegraf <ericv@kinzan.com>

------------------------------------------------------------------------
r267953 | bodewig | 2000-09-04 10:06:34 -0400 (Mon, 04 Sep 2000) | 3 lines

Added support for jvc (Microsofts Java compiler) to <javac>.
Submitted by:	Nico Seessle <nico@seessle.de>

------------------------------------------------------------------------
r267952 | bodewig | 2000-09-04 09:29:50 -0400 (Mon, 04 Sep 2000) | 3 lines

Reverting part of my last patch. This one slipped through somehow, too
early to go that far, sorry.

------------------------------------------------------------------------
r267951 | bodewig | 2000-09-04 09:19:54 -0400 (Mon, 04 Sep 2000) | 3 lines

Make <taskdef> and <property> do their job in execute instead of
init. Call execute on tasks living outside of <target>s at parser time.

------------------------------------------------------------------------
r267950 | bodewig | 2000-09-04 08:20:12 -0400 (Mon, 04 Sep 2000) | 2 lines

Added infrastructure to create data types independent of tasks.

------------------------------------------------------------------------
r267948 | conor | 2000-08-30 18:10:38 -0400 (Wed, 30 Aug 2000) | 4 lines

Workaround for Jikes compilation problem

Submitted by:	Paul Philion <philion@acmerocket.com>

------------------------------------------------------------------------
r267947 | conor | 2000-08-30 10:57:49 -0400 (Wed, 30 Aug 2000) | 7 lines

Improvements to Zip and Jar tasks

This patch improves the robustness and error reporting of these tasks
especially when no files are to be included in the archives.

Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r267946 | conor | 2000-08-30 10:34:53 -0400 (Wed, 30 Aug 2000) | 2 lines

Make it fly with 1.1

------------------------------------------------------------------------
r267945 | conor | 2000-08-30 10:29:39 -0400 (Wed, 30 Aug 2000) | 4 lines

Javadoc update

Submitted by:	Jesse Click <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r267944 | conor | 2000-08-30 10:27:25 -0400 (Wed, 30 Aug 2000) | 4 lines

Increase speed of Javadoc task

Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267943 | conor | 2000-08-30 10:15:45 -0400 (Wed, 30 Aug 2000) | 4 lines

New task for sending email

Submitted by:	Twiggs, Glenn <Glenn_Twiggs@bmc.com>

------------------------------------------------------------------------
r267941 | conor | 2000-08-27 10:11:24 -0400 (Sun, 27 Aug 2000) | 2 lines

Set exit code appropriately when build file missing or invalid.

------------------------------------------------------------------------
r267940 | conor | 2000-08-25 07:56:15 -0400 (Fri, 25 Aug 2000) | 5 lines

Change ejbjar so that the deployment descriptors and class files can come from
different directory trees.
Update ejbjar documentation.
Update WhatsNew

------------------------------------------------------------------------
r267939 | conor | 2000-08-22 19:31:31 -0400 (Tue, 22 Aug 2000) | 2 lines

Make expand a matching task.

------------------------------------------------------------------------
r267938 | conor | 2000-08-22 11:54:16 -0400 (Tue, 22 Aug 2000) | 5 lines

Fixes checkout directory under windows (current version lobs off last
character).

Submitted by:	Eric VanLydegraf <ericv@kinzan.com>

------------------------------------------------------------------------
r267937 | conor | 2000-08-22 11:38:33 -0400 (Tue, 22 Aug 2000) | 4 lines

Print Projet help information

Submitted by:	Marcel Schutte <marcel@schutte.com>

------------------------------------------------------------------------
r267936 | conor | 2000-08-21 11:05:55 -0400 (Mon, 21 Aug 2000) | 4 lines

StarTeam checkout task

Submitted by:	Chris Povirk <crisco@ratedg.com>

------------------------------------------------------------------------
r267934 | conor | 2000-08-21 10:36:04 -0400 (Mon, 21 Aug 2000) | 5 lines

Extend optional FTP task
Allow DirectoryScanner to work with remote directories.

Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267933 | conor | 2000-08-17 12:02:21 -0400 (Thu, 17 Aug 2000) | 4 lines

JavaCC and JJTree optional tasks for use with the javacc suite of tools.

Submitted by:	Michael Saunders <michael@amtec.com>

------------------------------------------------------------------------
r267932 | conor | 2000-08-17 11:40:19 -0400 (Thu, 17 Aug 2000) | 4 lines

Add forceoverwrite option to copyfile task

Submitted by:	Uli Stehling <uli.stehling@informationsdesign.de>

------------------------------------------------------------------------
r267931 | conor | 2000-08-15 09:34:19 -0400 (Tue, 15 Aug 2000) | 3 lines

Provide an explanation, at verbose level, of why Javac decides to compile
certain classes.

------------------------------------------------------------------------
r267930 | conor | 2000-08-14 08:30:32 -0400 (Mon, 14 Aug 2000) | 2 lines

Print the ant version when ant is run in verbose mode.

------------------------------------------------------------------------
r267929 | conor | 2000-08-14 07:14:05 -0400 (Mon, 14 Aug 2000) | 6 lines

Upgraded Classloader to allow more control over which classes are loaded
by the system classloader
Upgrade Ejbc task and its helper to use the new facilities of the classloader
Runs the weblogic.ejbc task in the ant VM. Examines the build.compiler setting and
uses Jikes if it is selected.

------------------------------------------------------------------------
r267926 | bodewig | 2000-08-11 08:55:12 -0400 (Fri, 11 Aug 2000) | 2 lines

Added <classpathref> element to <junit>.

------------------------------------------------------------------------
r267924 | bodewig | 2000-08-11 08:29:34 -0400 (Fri, 11 Aug 2000) | 5 lines

Work around a problem with a NullPointerException on IBM JDK
1.3/Linux.

buildFile.getParent() returns null if buildFile is not absolute.

------------------------------------------------------------------------
r267922 | bodewig | 2000-08-10 11:33:18 -0400 (Thu, 10 Aug 2000) | 2 lines

log environment variables we set for the subprocess when -verbose is used.

------------------------------------------------------------------------
r267921 | bodewig | 2000-08-10 08:58:55 -0400 (Thu, 10 Aug 2000) | 4 lines

Removed class attributes of <available>, <rmic> and <taskdef>.

Nothing that has been deprecated in Ant 1.1 should be left over now.

------------------------------------------------------------------------
r267920 | bodewig | 2000-08-10 08:51:38 -0400 (Thu, 10 Aug 2000) | 2 lines

Updated documentation for <chmod> and removed <chmod>'s src attribute.

------------------------------------------------------------------------
r267917 | bodewig | 2000-08-10 06:33:23 -0400 (Thu, 10 Aug 2000) | 3 lines

Documented fileset and patternset, removed the items and ignore
attributes of MatchingTask.

------------------------------------------------------------------------
r267916 | bodewig | 2000-08-10 05:33:04 -0400 (Thu, 10 Aug 2000) | 2 lines

Removed <keysubst> and <expand> which have been deprecated in 1.1.

------------------------------------------------------------------------
r267915 | bodewig | 2000-08-10 04:56:14 -0400 (Thu, 10 Aug 2000) | 3 lines

Avoid NullPointerException in FileSet.
Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>

------------------------------------------------------------------------
r267914 | bodewig | 2000-08-10 04:49:58 -0400 (Thu, 10 Aug 2000) | 2 lines

avoid NullPointerException in DirectoryScanner.scandir.

------------------------------------------------------------------------
r267913 | bodewig | 2000-08-10 04:42:30 -0400 (Thu, 10 Aug 2000) | 6 lines

\ is no special character for Commandline anymore.

Also made Project.resolveFile more consistent. /a would have been an
absolute filename on all platform while \a would be considered a
relative filename on Unix like systems.

------------------------------------------------------------------------
r267912 | bodewig | 2000-08-10 03:57:50 -0400 (Thu, 10 Aug 2000) | 3 lines

Changed antRun to handle arguments containing spaces properly. Removed
the magic that would invoke dir/command.sh instead of command.

------------------------------------------------------------------------
r267911 | bodewig | 2000-08-10 02:51:51 -0400 (Thu, 10 Aug 2000) | 3 lines

Make <genkey> and <signjar> work again - they've been broken since
<exec> became ExecTask instead of Exec.

------------------------------------------------------------------------
r267910 | bodewig | 2000-08-09 11:57:12 -0400 (Wed, 09 Aug 2000) | 2 lines

fixed typo.

------------------------------------------------------------------------
r267909 | bodewig | 2000-08-09 11:50:23 -0400 (Wed, 09 Aug 2000) | 2 lines

Documentation for command line arguments (the nested elements for them).

------------------------------------------------------------------------
r267907 | conor | 2000-08-09 10:45:00 -0400 (Wed, 09 Aug 2000) | 2 lines

Do not try to load from jars which don't exist

------------------------------------------------------------------------
r267905 | conor | 2000-08-09 10:09:49 -0400 (Wed, 09 Aug 2000) | 3 lines

Move addExisting functionality from javac to Path
Fix error in Path constructor

------------------------------------------------------------------------
r267904 | bodewig | 2000-08-09 09:12:13 -0400 (Wed, 09 Aug 2000) | 2 lines

<junit> more or less completely rewritten and documented.

------------------------------------------------------------------------
r267903 | bodewig | 2000-08-09 05:22:12 -0400 (Wed, 09 Aug 2000) | 2 lines

The real patch for exec and JDK 1.3.

------------------------------------------------------------------------
r267901 | bodewig | 2000-08-09 02:29:14 -0400 (Wed, 09 Aug 2000) | 2 lines

Fixed typo (but I swear it compiled before).

------------------------------------------------------------------------
r267900 | bodewig | 2000-08-09 02:20:30 -0400 (Wed, 09 Aug 2000) | 2 lines

Added some (deep) clone methods.

------------------------------------------------------------------------
r267899 | bodewig | 2000-08-08 03:26:05 -0400 (Tue, 08 Aug 2000) | 2 lines

Make Path.append() more forgiving.

------------------------------------------------------------------------
r267898 | bodewig | 2000-08-08 02:29:47 -0400 (Tue, 08 Aug 2000) | 3 lines

Modern compile was broken.
Reported by:	Scott Sutherland <suthsc@ncs.com>

------------------------------------------------------------------------
r267897 | bodewig | 2000-08-07 10:51:45 -0400 (Mon, 07 Aug 2000) | 15 lines

Replace can now work on multi line tokens/values.

Syntax:

<replace file="foo.txt">
     <replacetoken><![CDATA[I am a
multiline
token]]></replacetoken>
     <replacevalue><![CDATA[I am a
multiline
value]]></replacevalue>
</replace>

Submitted by:	Erik Langenbach <erik@desknetinc.com>

------------------------------------------------------------------------
r267896 | bodewig | 2000-08-07 09:58:35 -0400 (Mon, 07 Aug 2000) | 3 lines

Added nested elements and attributes to reference CLASSPATH structures
defined at another place in the same project.

------------------------------------------------------------------------
r267895 | bodewig | 2000-08-07 07:47:12 -0400 (Mon, 07 Aug 2000) | 9 lines

New task <ftp> to do FTP _uploads_.

According to the information on the ORO inc website
<URL:http://www.oroinc.com>, the FTP library this task depends on will
be donated to the Jakarta project. This makes it our best choice among
several different FTP libraries, IMHO.

Submitted by:	Roger Vaughn <rvaughn@seaconinc.com>

------------------------------------------------------------------------
r267894 | bodewig | 2000-08-07 07:17:12 -0400 (Mon, 07 Aug 2000) | 2 lines

Still to Unix centric.

------------------------------------------------------------------------
r267893 | bodewig | 2000-08-07 07:13:38 -0400 (Mon, 07 Aug 2000) | 15 lines

Some cleanup in Javac. Removed duplicate code and used the nested
fileset element of Path to fake extdirs for Jikes.

This should change:

(1) It will scan for all files not only .JAR files in the extdirs
specified. Javac ignores the extension as well.

(2) If no extdirs have been specified, the system property
java.ext.dirs is consulted.

(3) JikesOutputParser has been removed, instead the return code of
jikes determines compilation failures. Expected to behave the same as
before - suggested by Matt Foemmel <mpfoemme@ThoughtWorks.com>.

------------------------------------------------------------------------
r267892 | conor | 2000-08-06 06:19:15 -0400 (Sun, 06 Aug 2000) | 2 lines

Stop ANT_OPTS growing

------------------------------------------------------------------------
r267891 | conor | 2000-08-05 11:30:20 -0400 (Sat, 05 Aug 2000) | 2 lines

Add JIKESPATH and JAVA_HOME warning to the Windows batch files

------------------------------------------------------------------------
r267890 | conor | 2000-08-05 11:11:55 -0400 (Sat, 05 Aug 2000) | 3 lines

Changes the translateline method so that backslash escaping only applies to
the quote characters " and '.

------------------------------------------------------------------------
r267889 | jhunter | 2000-08-04 21:28:49 -0400 (Fri, 04 Aug 2000) | 18 lines

Moved MailMessage from com.oreilly.servlet to org.apache.tools.mail
(imitating org.apache.tools.tar).  Also made it pure copyright ASF.
For those interested in legalities, my understanding is I'm granting
the ASF copyright on this code but have my own copyright on the code
as it existed before the grant.  That means I can include my own code
in my book without following the Apache license, but I can't use
improvements to the ASF code without following the Apache license
(as is perfectly appropriate).

Changed build.xml to no longer build com/**.

-jh-

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r267888 | bodewig | 2000-08-04 10:58:43 -0400 (Fri, 04 Aug 2000) | 2 lines

Make Jikes use the new Execute class instead of calling Runtime.exec itself.

------------------------------------------------------------------------
r267887 | bodewig | 2000-08-04 09:30:56 -0400 (Fri, 04 Aug 2000) | 4 lines

Removed possible NullPointerException in <vssget>. Cleaned up JDK
version detection in Project.
Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>

------------------------------------------------------------------------
r267886 | bodewig | 2000-08-04 06:24:30 -0400 (Fri, 04 Aug 2000) | 4 lines

DirectoryScanner will now only scan directories which are included or
could hold included files. All other directories will only be scanned
when one of the getExcluded... or getNotIncluded... methods is called.

------------------------------------------------------------------------
r267885 | conor | 2000-08-04 06:23:25 -0400 (Fri, 04 Aug 2000) | 3 lines

Add some eror checking to the syntax of the linkoffline attribute
Fix the output of argument list under verbose logging (Thanks to Ken Wood)

------------------------------------------------------------------------
r267884 | bodewig | 2000-08-04 06:08:03 -0400 (Fri, 04 Aug 2000) | 2 lines

Moved the javadoc == 1.1 or 1.2 check out of init().

------------------------------------------------------------------------
r267883 | bodewig | 2000-08-04 02:53:13 -0400 (Fri, 04 Aug 2000) | 3 lines

Removed JDK 1.2+ dependency from <cab> task.
Submitted by:	Roger Vaughn <rvaughn@seaconinc.com>

------------------------------------------------------------------------
r267882 | bodewig | 2000-08-03 07:25:14 -0400 (Thu, 03 Aug 2000) | 2 lines

Did some cleanup.

------------------------------------------------------------------------
r267881 | bodewig | 2000-08-03 06:29:20 -0400 (Thu, 03 Aug 2000) | 3 lines

Mac patches to Execute (regarding working directory).
Submitted by:	beard@netscape.com (Patrick Beard)

------------------------------------------------------------------------
r267880 | bodewig | 2000-08-03 06:12:15 -0400 (Thu, 03 Aug 2000) | 3 lines

New optional task <cab> to create Microsoft CAB archives.
Submitted by:	Roger Vaughn <rvaughn@seaconinc.com>

------------------------------------------------------------------------
r267879 | bodewig | 2000-08-03 05:43:18 -0400 (Thu, 03 Aug 2000) | 3 lines

Added flatten attribute to <copydir>.
Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>

------------------------------------------------------------------------
r267878 | bodewig | 2000-08-03 05:34:05 -0400 (Thu, 03 Aug 2000) | 4 lines

Added missing dot to default extension in <style>, ensured Xalan gets
infile as a file:// URL.
Submitted by:	Brian Zimmer <bzimmer@ignitemedia.com>

------------------------------------------------------------------------
r267877 | bodewig | 2000-08-03 05:13:18 -0400 (Thu, 03 Aug 2000) | 3 lines

Delete the corrupt ZIP-file if <zip> or <jar> tasks fail.
Submitted by:	Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r267876 | bodewig | 2000-08-03 05:00:39 -0400 (Thu, 03 Aug 2000) | 4 lines

Some documentation patches.
Submitted by:	Barrie Treloar <Barrie.Treloar@camtech.com.au>,
                Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r267875 | bodewig | 2000-08-03 04:47:15 -0400 (Thu, 03 Aug 2000) | 2 lines

The "cvs add" I had forgotten, sorry.

------------------------------------------------------------------------
r267874 | bodewig | 2000-08-03 04:46:29 -0400 (Thu, 03 Aug 2000) | 3 lines

New task genkey.
Submitted by:	Peter Donald <donaldp@mad.scientist.com>

------------------------------------------------------------------------
r267872 | conor | 2000-08-02 22:36:25 -0400 (Wed, 02 Aug 2000) | 7 lines

Rewrote the property resolution code so that it handles empty property
lists. I also cleaned it up a little so it doesn't continually restart
resolving all properties from the start of the list and it handles
circular dependencies.

Problem reported by: Arun Katkere <katkere@praja.com>

------------------------------------------------------------------------
r267870 | conor | 2000-08-02 11:44:00 -0400 (Wed, 02 Aug 2000) | 3 lines

Return the actual type rather than the interface type to avoid any introspection
issues

------------------------------------------------------------------------
r267869 | bodewig | 2000-08-02 11:25:33 -0400 (Wed, 02 Aug 2000) | 3 lines

Nested <src> element of <javac> would cause a NullPointerException.
Reported by:	Paul A Bemowski <pbemowski@z-tel.com>

------------------------------------------------------------------------
r267868 | conor | 2000-08-02 10:30:56 -0400 (Wed, 02 Aug 2000) | 28 lines

Change the ejbjar to separate out vendor specific processing into separate
tool classes.

Split the Descriptor handler to a separate class

Allow local DTDs to be loaded to resolve the external entities

Moved all Weblogic specific code into a separate deployment tool object.

Usage for generic jars is now

<ejbjar srcdir="${descriptor.dir}" destdir="${deploymentjar.dir}">
  <include name="**/*-ejb-jar.xml"/>
</ejbjar>


For a weblogic deployment you now add a nested element with the weblogic specific
configs

<ejbjar srcdir="${descriptor.dir}">
  <weblogic destdir="${deploymentjar.dir}"
            classpath="${descriptorbuild.classpath}"
            keepgeneric="false"
            suffix=".jar"/>
  <include name="**/*-ejb-jar.xml"/>
  <exclude name="**/*-weblogic-ejb-jar.xml"/>
</ejbjar>

------------------------------------------------------------------------
r267867 | bodewig | 2000-08-02 08:18:25 -0400 (Wed, 02 Aug 2000) | 3 lines

fixed NullPointerException in <sql>
Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>

------------------------------------------------------------------------
r267866 | bodewig | 2000-08-02 08:06:22 -0400 (Wed, 02 Aug 2000) | 2 lines

Allow parallel execution on windows - now that antRun.bat has been fixed.

------------------------------------------------------------------------
r267865 | conor | 2000-08-02 06:28:28 -0400 (Wed, 02 Aug 2000) | 2 lines

Support more than 9 arguments under Win 95/98

------------------------------------------------------------------------
r267864 | bodewig | 2000-08-02 05:24:24 -0400 (Wed, 02 Aug 2000) | 11 lines

Add nested fileset and filesetref attributes to Path.

This means you can now add somedir/*.jar to the CLASSPATH by
<classpath>
  <fileset dir="somedir">
    <include name="**/*.jar" />
  </fileset>
</classpath>

and probably adjust the pattern if you don't want to recurse the tree.

------------------------------------------------------------------------
r267863 | bodewig | 2000-08-01 09:47:03 -0400 (Tue, 01 Aug 2000) | 2 lines

MSVSS doesn't extend Exec any longer.

------------------------------------------------------------------------
r267862 | bodewig | 2000-08-01 08:47:55 -0400 (Tue, 01 Aug 2000) | 2 lines

Javadoc doesn't extend Exec any longer.

------------------------------------------------------------------------
r267861 | bodewig | 2000-08-01 06:25:58 -0400 (Tue, 01 Aug 2000) | 2 lines

Added maxmemory attribute to <java>.

------------------------------------------------------------------------
r267860 | conor | 2000-08-01 05:59:39 -0400 (Tue, 01 Aug 2000) | 4 lines

Recognize Windows 2000 for ther purposes of exec (so that it behaves
in the same manner as NT)
Submitted by:	Robert Watkins <robert.watkins@mincom.com>

------------------------------------------------------------------------
r267859 | bodewig | 2000-08-01 05:18:40 -0400 (Tue, 01 Aug 2000) | 6 lines

Make Chmod extend ExecuteOn instead of MatchingTask.

It now processes all files in parallel and can take multiple filesets
as well as references to patternsets and filesets. See build.xml for
an example.

------------------------------------------------------------------------
r267858 | bodewig | 2000-07-31 12:21:56 -0400 (Mon, 31 Jul 2000) | 2 lines

Converted <patch> and <cvs> to new framework.

------------------------------------------------------------------------
r267857 | bodewig | 2000-07-31 10:20:11 -0400 (Mon, 31 Jul 2000) | 3 lines

Didn't set the basedir correctly if the attribute to project was
ommitted and the basedir was not the process's working directory.

------------------------------------------------------------------------
r267856 | bodewig | 2000-07-31 09:30:20 -0400 (Mon, 31 Jul 2000) | 11 lines

Added nested <filesetref> element to <execon>.

Using

<execon ...>
  <filesetref refid="otherfileset" />
</execon>

you can reference a fileset with ID="otherfileset" defined anywhere
else in the build file.

------------------------------------------------------------------------
r267855 | bodewig | 2000-07-31 08:32:02 -0400 (Mon, 31 Jul 2000) | 2 lines

Somehow lost the jvm attribute of <java> with last update.

------------------------------------------------------------------------
r267854 | bodewig | 2000-07-31 08:09:32 -0400 (Mon, 31 Jul 2000) | 2 lines

Java rewritten so that it no longer extends Exec.

------------------------------------------------------------------------
r267853 | bodewig | 2000-07-31 04:24:47 -0400 (Mon, 31 Jul 2000) | 4 lines

Improved Jikes support. Added build.compiler.pedantic option for Jikes
+P flag and use JIKESPATH if set.
Submitted by:	Peter Donald <donaldp@mad.scientist.com>

------------------------------------------------------------------------
r267852 | bodewig | 2000-07-31 04:04:06 -0400 (Mon, 31 Jul 2000) | 3 lines

Renamed javacc task to mparse and moved the corresponding class.
Submitted by:	Michael Saunders <michael@amtec.com>

------------------------------------------------------------------------
r267848 | bodewig | 2000-07-28 07:00:30 -0400 (Fri, 28 Jul 2000) | 3 lines

<property file="..."> didn't resolve relative filenames correctly.
Reported by:	Marc Gemis <marc.gemis.mg@belgium.agfa.com>

------------------------------------------------------------------------
r267847 | bodewig | 2000-07-28 05:30:31 -0400 (Fri, 28 Jul 2000) | 3 lines

Available didn't resolve filenames correctly.
Reported by:	Marc Gemis <marc.gemis.mg@belgium.agfa.com>

------------------------------------------------------------------------
r267846 | bodewig | 2000-07-28 04:57:29 -0400 (Fri, 28 Jul 2000) | 5 lines

Added documentation for the sql task. bootstrap.sh and ant complain if
JAVA_HOME is not set. Updated building ant section and README.
Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>,
                Barrie Treloar <Barrie.Treloar@camtech.com.au>

------------------------------------------------------------------------
r267844 | bodewig | 2000-07-26 09:28:26 -0400 (Wed, 26 Jul 2000) | 2 lines

Removed the deprecated versions of Path and EnumeratedAttribute.

------------------------------------------------------------------------
r267843 | conor | 2000-07-26 08:17:30 -0400 (Wed, 26 Jul 2000) | 11 lines

Add the ability to output all EJB jarfiles to a single directory.

Add a new attribute 'flatdestdir'.  Attribute defaults to false, which
maintains the current behaviour. If it is set to true, all jars will
be created directly in the destination dir.

WARNING: If you use this attribute, and have multiple jars with the same
name, they will overwrite each other!

Submitted by:	Tim Fennell <tfenne@rcn.com>

------------------------------------------------------------------------
r267840 | bodewig | 2000-07-26 05:54:53 -0400 (Wed, 26 Jul 2000) | 7 lines

The instance variable conn was shadowed by a local variable in
execute, failed to remove ; from statement with trailing white space,
made class easier to extend for specialized tasks like <plsql>.
Submitted by:	John H. Lee <jlee@c.kiracom.com>,
                Curt Hagenlocher <curt@hagenlocher.org>,
                Jose  Alberto Fernandez <JFernandez@viquity.com>

------------------------------------------------------------------------
r267839 | conor | 2000-07-25 10:08:33 -0400 (Tue, 25 Jul 2000) | 9 lines

Allow paths to be passed to environment variables of exec task.

Example usage
  <target name="exectest">
      <exec command="exectest.bat" dir=".">
        <env key="ANT_TEST" path="../test:../test2"/>
      </exec>
  </target>

------------------------------------------------------------------------
r267838 | bodewig | 2000-07-25 09:55:07 -0400 (Tue, 25 Jul 2000) | 3 lines

Modified <sql> task to accept #PCDATA and added autocommit attribute.
Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>

------------------------------------------------------------------------
r267836 | conor | 2000-07-25 09:15:32 -0400 (Tue, 25 Jul 2000) | 11 lines

Add the concept of a BuildLogger - A BuildListener with the following
- An output level used to filter build events
- Access to the ant output print stream
- An emacs mode.

Update DefaultLogger to the new interface. In its emacs mode, output
is unadorned by the [taskname] tags

Add -logger option to allow the logger class to be changed
Add -emacs option to control the logger's emacsMode setting

------------------------------------------------------------------------
r267835 | bodewig | 2000-07-25 08:08:03 -0400 (Tue, 25 Jul 2000) | 2 lines

Removed all command line switches that didn't start with a -.

------------------------------------------------------------------------
r267834 | bodewig | 2000-07-25 08:03:26 -0400 (Tue, 25 Jul 2000) | 3 lines

Reworked the <exec> and (now so called) <execon> tasks.
Submitted by:	Mariusz Nowostawski <mariusz@marni.otago.ac.nz>

------------------------------------------------------------------------
r267832 | bodewig | 2000-07-25 04:44:13 -0400 (Tue, 25 Jul 2000) | 3 lines

Changed testcases to reflect the new packages of Path and
EnumeratedAttribute.

------------------------------------------------------------------------
r267831 | bodewig | 2000-07-25 04:30:37 -0400 (Tue, 25 Jul 2000) | 3 lines

Reprocess files if stylesheet has changed in style task.
Submitted by:	Russell Gold <russgold@acm.org>

------------------------------------------------------------------------
r267830 | bodewig | 2000-07-25 02:52:44 -0400 (Tue, 25 Jul 2000) | 6 lines

Used the deprecated version of EnumeratedAttribute.
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r267829 | bodewig | 2000-07-25 02:50:17 -0400 (Tue, 25 Jul 2000) | 3 lines

Changed the execSQL method. Interbase's JDBC driver will throw an
SQLException in executeQuery if the query doesn't return a ResultSet.

------------------------------------------------------------------------
r267828 | bodewig | 2000-07-24 12:05:29 -0400 (Mon, 24 Jul 2000) | 2 lines

Moved EnumeratedAttribute to types as well.

------------------------------------------------------------------------
r267827 | bodewig | 2000-07-24 11:53:06 -0400 (Mon, 24 Jul 2000) | 5 lines

Made Path resolve relative paths through Project. Moved it to the
types package on the same instance, so I had to touch a lot of ather
files as well.
Reported by:	Frederic Lavigne <fred@L2FProd.com>

------------------------------------------------------------------------
r267826 | bodewig | 2000-07-24 10:54:49 -0400 (Mon, 24 Jul 2000) | 4 lines

Didn't handle relative paths in project's basedir attribute correctly.
Reported by:	<Glen_Stampoultzis@ansett.com.au>,
                Jesse Glick <Jesse.Glick@netbeans.com>

------------------------------------------------------------------------
r267825 | conor | 2000-07-24 10:27:13 -0400 (Mon, 24 Jul 2000) | 4 lines

Task to execute SQL from a file (or directly in the task)

Submitted by:	Jeff Martin <jeff.martin@synamic.co.uk>

------------------------------------------------------------------------
r267824 | bodewig | 2000-07-24 10:01:26 -0400 (Mon, 24 Jul 2000) | 3 lines

Chmod didn't work if used as a matching task.
Reported by:	Alex Smith <asmith42@hotmail.com>

------------------------------------------------------------------------
r267823 | bodewig | 2000-07-24 09:23:30 -0400 (Mon, 24 Jul 2000) | 4 lines

Added usetimestamp attribute to Get so that it only downloads a file
via HTTP if the source is newer than the local file.
Submitted by:	Steve Loughran <steve_l@iseran.com>

------------------------------------------------------------------------
r267819 | conor | 2000-07-23 11:48:20 -0400 (Sun, 23 Jul 2000) | 3 lines

Remove the copying of support files by the Javac task. This feature has
been deprecated for some time, including the recent release.

------------------------------------------------------------------------
r267818 | conor | 2000-07-23 11:32:58 -0400 (Sun, 23 Jul 2000) | 4 lines

Fix verbose message printed when property overrides are ignored.

Submitted by:	Paul Philion [philion@acmerocket.com]

------------------------------------------------------------------------
r267817 | conor | 2000-07-23 10:20:26 -0400 (Sun, 23 Jul 2000) | 3 lines

Add Javadoc to AntClassLoader
Clean up the Javadoc (a little) in the new FileSet and PatternSet classes

------------------------------------------------------------------------
r267816 | bodewig | 2000-07-21 10:24:35 -0400 (Fri, 21 Jul 2000) | 11 lines

Modified Ant task to be less memory consuming.

I've modified Glenn's initial patch to defer the copying of taskdefs
as well and save the initial p1.init call - this even makes the ant
task faster.

Should be suited for situations where a single instance of the task is
executed more than once as well.

Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267815 | bodewig | 2000-07-21 09:35:46 -0400 (Fri, 21 Jul 2000) | 2 lines

Updated example to match the implementation.

------------------------------------------------------------------------
r267814 | bodewig | 2000-07-21 09:29:57 -0400 (Fri, 21 Jul 2000) | 3 lines

Added an antcall task as a shortcut for ant tasks invoked on the same
buildfile.

------------------------------------------------------------------------
r267813 | bodewig | 2000-07-21 08:48:02 -0400 (Fri, 21 Jul 2000) | 2 lines

Added support for patternset and patternsetref to MatchingTask.

------------------------------------------------------------------------
r267812 | bodewig | 2000-07-21 08:42:57 -0400 (Fri, 21 Jul 2000) | 2 lines

Added a nested patternsetref element to fileset.

------------------------------------------------------------------------
r267811 | bodewig | 2000-07-21 07:44:34 -0400 (Fri, 21 Jul 2000) | 4 lines

Better support for subbuilds in XmlLogger. Output of XmlLogger can be
sent to another file using the XmlLogger.file property.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267810 | bodewig | 2000-07-21 06:19:23 -0400 (Fri, 21 Jul 2000) | 11 lines

Workaround for a problem when compiling many files on Windows.

I've modified Matt's patch a little to kick in only if we are actually
running on Windows and want to compile a lot of files.

Unfortunately File.createTempFile is not available on JDK 1.1. I use
java.util.Random to create a hopefully unique filename for a temporary
file. Hope this works - don't have a Windows box to check.

Submitted by:	mpfoemme@ThoughtWorks.com

------------------------------------------------------------------------
r267809 | bodewig | 2000-07-21 05:43:15 -0400 (Fri, 21 Jul 2000) | 3 lines

Ensure the target file's parent directory exists.
Submitted by:	Russell Gold <russgold@acm.org>

------------------------------------------------------------------------
r267808 | conor | 2000-07-20 09:25:50 -0400 (Thu, 20 Jul 2000) | 2 lines

Initial documentation on the EJB related optional tasks

------------------------------------------------------------------------
r267806 | bodewig | 2000-07-20 06:02:05 -0400 (Thu, 20 Jul 2000) | 3 lines

Optional JUnit task.
Submitted by:	Thomas Haas <thomas.haas@softwired-inc.com>

------------------------------------------------------------------------
r267804 | bodewig | 2000-07-19 12:00:53 -0400 (Wed, 19 Jul 2000) | 2 lines

Execute task that works on multiple files.

------------------------------------------------------------------------
r267803 | bodewig | 2000-07-19 11:26:19 -0400 (Wed, 19 Jul 2000) | 2 lines

Talked about the nested arg element and forgot to include it, tss.

------------------------------------------------------------------------
r267802 | bodewig | 2000-07-19 11:12:36 -0400 (Wed, 19 Jul 2000) | 2 lines

Added fileset and patternset types and made MatchingTask use them.

------------------------------------------------------------------------
r267801 | bodewig | 2000-07-19 09:29:59 -0400 (Wed, 19 Jul 2000) | 2 lines

Fixed some JDK 1.1 problems.

------------------------------------------------------------------------
r267800 | bodewig | 2000-07-19 09:02:42 -0400 (Wed, 19 Jul 2000) | 3 lines

JavaCC task.
Submitted by:	Thomas Haas <thomas.haas@softwired-inc.com>

------------------------------------------------------------------------
r267799 | bodewig | 2000-07-19 09:00:46 -0400 (Wed, 19 Jul 2000) | 10 lines

New Execution Framework.

This new framework should ease development of tasks that need to
execute external processes.

<exec> now invokes ExecTask, a reimplementation of Exec that uses the
new framework but has some additional features.

Submitted by:	Thomas Hass <thomas.haas@softwired-inc.com>

------------------------------------------------------------------------
r267798 | conor | 2000-07-19 08:35:12 -0400 (Wed, 19 Jul 2000) | 5 lines

Provides an Ant Class loader.

This class loader allows a Java task to be run with a separate classpath
without requiring a new java instance to be created.

------------------------------------------------------------------------
r267794 | bodewig | 2000-07-18 03:17:24 -0400 (Tue, 18 Jul 2000) | 6 lines

Quick fix to make the ejb classes compile.

This is by no means a final solution, just a hack to avoid a delay of
the release.
Submitted by:	Scott Sutherland <suthsc@ncs.com>

------------------------------------------------------------------------
r267792 | bodewig | 2000-07-17 05:00:04 -0400 (Mon, 17 Jul 2000) | 3 lines

Added ssdir attribute to vssget.
Submitted by:	Andrew Everitt <Andrew.Everitt@gbr.xerox.com>

------------------------------------------------------------------------
r267791 | bodewig | 2000-07-17 03:11:42 -0400 (Mon, 17 Jul 2000) | 3 lines

Correctly detect missing arguments to Javadoc.
Submitted by:	 Peter Donald <donaldp@mad.scientist.com>

------------------------------------------------------------------------
r267790 | conor | 2000-07-16 06:39:58 -0400 (Sun, 16 Jul 2000) | 4 lines

Handle case where listener cannot be instantiated.

Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267789 | conor | 2000-07-15 02:31:42 -0400 (Sat, 15 Jul 2000) | 14 lines

Restore antRun.bat for Win9x users.

This should allow the exec task to execute on Win9x. I have changed Glen's
patch to test for platfrom != NT rather than == 98 so it will
support 95.

NOTE: There is an important limitation. Only 9 arguments can be
passed to the command being exec'ed when the antRun.bat file is used. This
should only occur when the directory is not . and the platform is not NT.
This was the original reason this was changed (and antRun.bat) deleted.


Submitted by:	Glen Stampoultzis <trinexus@one.net.au>

------------------------------------------------------------------------
r267788 | bodewig | 2000-07-14 11:09:21 -0400 (Fri, 14 Jul 2000) | 2 lines

Have getCompileClasspath return Path instead of String.

------------------------------------------------------------------------
r267787 | conor | 2000-07-14 11:02:33 -0400 (Fri, 14 Jul 2000) | 8 lines

Minor bug fixes in Javadoc.

1. handle package statements that use tabs.
2. Fix minor bug in comment parsing.

The parsing bug was pointed out by Johan Granstrom <johan.granstrom@itec.se> but
I have not used his patch directly.

------------------------------------------------------------------------
r267786 | conor | 2000-07-14 10:35:44 -0400 (Fri, 14 Jul 2000) | 7 lines

Update Jikes support for bootclasspath

Allow the bootclasspath attribute to be used for a Jikes compile.
it is currently ignored if build.compiler == jikes.

Submitted by:	Phil Hanna <author@philhanna.com>

------------------------------------------------------------------------
r267785 | conor | 2000-07-14 09:50:27 -0400 (Fri, 14 Jul 2000) | 11 lines

Task to build EJB 1.1 jars. Currently this task supports the Weblogic
server but it is envisaged that it can be expanded to cover other app
servers.

Note that to build this task you need to define the property ejb.build.
You can do that with

    ant -Dejb.build=1

Submitted by:	Tim Fennell <TFennell@sapient.com>

------------------------------------------------------------------------
r267784 | bodewig | 2000-07-14 08:09:12 -0400 (Fri, 14 Jul 2000) | 3 lines

Optional vssget Task
Submitted by:	Andrew Everitt <Andrew.Everitt@gbr.xerox.com>

------------------------------------------------------------------------
r267783 | bodewig | 2000-07-14 07:49:57 -0400 (Fri, 14 Jul 2000) | 3 lines

Documentation for the Path elements, made nested src element of Javac
use Path as well.

------------------------------------------------------------------------
r267782 | bodewig | 2000-07-14 04:25:52 -0400 (Fri, 14 Jul 2000) | 3 lines

Make rmic, javac and javadoc use Path and add nested elements for
various PATH like structures.

------------------------------------------------------------------------
r267781 | bodewig | 2000-07-14 03:14:43 -0400 (Fri, 14 Jul 2000) | 2 lines

Remove duplicate entries in Path.

------------------------------------------------------------------------
r267780 | bodewig | 2000-07-14 02:55:46 -0400 (Fri, 14 Jul 2000) | 3 lines

set taskname in signjar task
Submitted by:	Peter Donald <pjdonald@latcs2.cs.latrobe.EDU.AU>

------------------------------------------------------------------------
r267779 | bodewig | 2000-07-14 02:30:56 -0400 (Fri, 14 Jul 2000) | 4 lines

Make AntStructure compile under 1.1.
Submitted by:	Andrew B. Sudell <asudell@acm.org>,
                <Glen_Stampoultzis@ansett.com.au>

------------------------------------------------------------------------
r267778 | bodewig | 2000-07-13 12:35:08 -0400 (Thu, 13 Jul 2000) | 18 lines

Added Thomas Haas Path class.

I've added some minor modifications to his class

* Added a String constructor to make it usable as an attribute

* renamed the nested element from element to pathelement

* Used Conor's PathTokenizer to split the path into parts.

The Java task has been modified to use this class both for the
classpath attribute as well as for an nested classpath element -
documentation will follow.

See the runtests target in build.xml for an example of its usage.

Submitted by:	Thomas Haas <thomas.haas@softwired-inc.com>

------------------------------------------------------------------------
r267777 | conor | 2000-07-13 11:23:48 -0400 (Thu, 13 Jul 2000) | 17 lines

New build procedure for Unix based systems

This is the update for the Unix based build scripts. The changes are the
following

Automatic bootstrapping if lib/ant.jar is mising or the bin files
are not present

Removed inclusion of the $HOME/.antrc in the bootstrap.sh although
it is still used in the ant shell script.

Lined up Windows and Unix scripts, including echo statements so it is easier
to make changes affecting both envionments in the future.

Added chmod calls to the install targets so the ant shell scripts are
executable.

------------------------------------------------------------------------
r267776 | bodewig | 2000-07-13 11:23:07 -0400 (Thu, 13 Jul 2000) | 3 lines

Resolve properties loaded from files in a more predictable way.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267775 | bodewig | 2000-07-13 04:11:33 -0400 (Thu, 13 Jul 2000) | 3 lines

Make Rmic work when only one class is specified.
Submitted by:	Phillip Davidov <phillip.davidov@chipdata.com>

------------------------------------------------------------------------
r267771 | bodewig | 2000-07-12 12:04:56 -0400 (Wed, 12 Jul 2000) | 4 lines

Cleanup/bugfixes int the scripts.
Submitted by:	Ken Wood <kwood@i2.com>,
                Matthew Dornquast" <matthew.dornquast@webhelp.com>

------------------------------------------------------------------------
r267770 | conor | 2000-07-12 11:54:17 -0400 (Wed, 12 Jul 2000) | 6 lines

Rework the ant build process for NT/Windows

Change so that
build.bat is used just to build ant itself.
ant.bat should be used to run ant for other projects.

------------------------------------------------------------------------
r267769 | bodewig | 2000-07-12 11:24:24 -0400 (Wed, 12 Jul 2000) | 2 lines

JUnit testcases for EnumeratedAttribute.

------------------------------------------------------------------------
r267768 | bodewig | 2000-07-12 10:19:52 -0400 (Wed, 12 Jul 2000) | 2 lines

First cut at a task that generates a DTD for the currently running Ant.

------------------------------------------------------------------------
r267767 | bodewig | 2000-07-12 10:06:18 -0400 (Wed, 12 Jul 2000) | 2 lines

The new helper class itself.

------------------------------------------------------------------------
r267766 | bodewig | 2000-07-12 10:05:12 -0400 (Wed, 12 Jul 2000) | 3 lines

Added a helper class for enumerated attributes and demonstrated its
usage in FixCRLF.

------------------------------------------------------------------------
r267765 | bodewig | 2000-07-12 09:30:49 -0400 (Wed, 12 Jul 2000) | 3 lines

Added unzip and unjar as aliases of expand and deprecated expand,
making unzip the preferred name.

------------------------------------------------------------------------
r267764 | bodewig | 2000-07-12 08:43:00 -0400 (Wed, 12 Jul 2000) | 2 lines

strip attribute didn't work.

------------------------------------------------------------------------
r267763 | bodewig | 2000-07-12 08:40:28 -0400 (Wed, 12 Jul 2000) | 2 lines

Added unless attribute to target.

------------------------------------------------------------------------
r267762 | bodewig | 2000-07-12 07:51:30 -0400 (Wed, 12 Jul 2000) | 3 lines

Added a taskType attribute in addition to the taskName attribute to
Task. Documented taskname.

------------------------------------------------------------------------
r267761 | bodewig | 2000-07-12 06:46:11 -0400 (Wed, 12 Jul 2000) | 4 lines

Make Tasks aware of the name they are used as - and change the
DefaultLogger to use this name in messages.
Submitted by:	Peter Donald donaldp@mad.scientist.com

------------------------------------------------------------------------
r267760 | bodewig | 2000-07-12 05:55:44 -0400 (Wed, 12 Jul 2000) | 4 lines

Use the correct path to the runtime classes in JDK > 1.1.

Submitted by:	Christopher Elkins <celkins@scardini.com>

------------------------------------------------------------------------
r267759 | bodewig | 2000-07-12 02:36:11 -0400 (Wed, 12 Jul 2000) | 4 lines

Make subprojects aware of custom tasks.

Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267758 | bodewig | 2000-07-11 11:12:30 -0400 (Tue, 11 Jul 2000) | 3 lines

Not all JDKs with version 1.3 have com.sun.tools.javac.Main. IBM's
doesn't, so check and fall back to classic in this case.

------------------------------------------------------------------------
r267757 | bodewig | 2000-07-11 10:15:28 -0400 (Tue, 11 Jul 2000) | 2 lines

Added a JUnit unit test for IntrospectionHelper.

------------------------------------------------------------------------
r267756 | bodewig | 2000-07-11 08:13:10 -0400 (Tue, 11 Jul 2000) | 3 lines

Hope I've got this right this time.
Submitted by:	Sergey V. Udaltsov <Sergey.Udaltsov@artificial-life.com>

------------------------------------------------------------------------
r267755 | bodewig | 2000-07-11 08:00:08 -0400 (Tue, 11 Jul 2000) | 7 lines

Only ensured tablength was even, not it was a power of 2.

Good to know others read my patches.

Submitted by:	Sam Ruby <rubys@us.ibm.com>,
                Fergus Gallagher <Fergus.Gallagher@OrbisUK.com>

------------------------------------------------------------------------
r267754 | bodewig | 2000-07-11 07:28:26 -0400 (Tue, 11 Jul 2000) | 2 lines

Ensure tablength is a positive power of 2 in FixCRLF.

------------------------------------------------------------------------
r267753 | bodewig | 2000-07-11 07:14:48 -0400 (Tue, 11 Jul 2000) | 14 lines


Rewritten the introspection part of ProjectHelper.

1. Moved all introspection activities to a helper class.
2. setter methods can now use parameters of a far richer set of
   types. See the modified patch task as an example.
3. Nested Elements can be created by the task with createElement() or
   by IntrospectionHelper if the task implements void addElement(ObjectType).
4. Documented addText(String) and nested elements in the "Writing Your
   own Task" section and changed the documentation for the setter methods.
5. Added getLocation method to BuildException.
6. Changed the return type of Ant.createProperty from Task to Property
   - as this is what gets returned anyway.

------------------------------------------------------------------------
r267752 | conor | 2000-07-10 07:21:39 -0400 (Mon, 10 Jul 2000) | 4 lines

Missed the getTarget method. In fact this is the one that introduced the problem
because it makes the introspection think there is a property of type Target
rather than string.

------------------------------------------------------------------------
r267751 | conor | 2000-07-10 07:04:22 -0400 (Mon, 10 Jul 2000) | 4 lines

Avoid problems due to changes in JDK 1.3 introspection.
This was discovered by Phil Hanna <author@philhanna.com>
Similar to the problem with the old class attribute (changed to classname)

------------------------------------------------------------------------
r267750 | bodewig | 2000-07-10 03:29:26 -0400 (Mon, 10 Jul 2000) | 2 lines

Take more care with regard to open files/streams.

------------------------------------------------------------------------
r267749 | conor | 2000-07-08 23:48:11 -0400 (Sat, 08 Jul 2000) | 6 lines

Change Project.translatePath to use PathTokenizer

I have changed the Project.translatePath method to use the PathTokenizer. This
adds support for paths of the format C:/blah. These used to translate to C;\blah
but this will now be C:\blah.

------------------------------------------------------------------------
r267748 | conor | 2000-07-08 13:35:51 -0400 (Sat, 08 Jul 2000) | 2 lines

Give Ernst some credit for the Javadoc changes :-)

------------------------------------------------------------------------
r267747 | conor | 2000-07-08 13:18:50 -0400 (Sat, 08 Jul 2000) | 13 lines

Add nested doclet tag to javadoc task

Javadoc now can be used with a doclet like this
<javadoc ...>
   <doclet name="blah"
           path="path/to/blah">
      <param name="-foo" value="blah"/>
      <param name="-bar" value="blahblah"/>
   </doclet>
</javadoc>

param value's are just strings no path translations, etc.

------------------------------------------------------------------------
r267746 | conor | 2000-07-08 08:33:26 -0400 (Sat, 08 Jul 2000) | 7 lines

New signjar task.

For consistency across ant tasks, I changed the method by which the boolean
attributes are set to use the Project.toBoolean method.

Submitted by:	Peter Donald <donaldp@mad.scientist.com>

------------------------------------------------------------------------
r267745 | conor | 2000-07-07 22:58:38 -0400 (Fri, 07 Jul 2000) | 2 lines

Close ZIP files after expand operation is complete.

------------------------------------------------------------------------
r267743 | bodewig | 2000-07-07 07:24:00 -0400 (Fri, 07 Jul 2000) | 7 lines

Added failonerror attribute to Exec.

If this attribute is set to true, a BuildException will be thrown
effectively ending the build process.

Suggested by:	Sebastien Pierre <spierre@rational.com>

------------------------------------------------------------------------
r267742 | bodewig | 2000-07-07 03:20:17 -0400 (Fri, 07 Jul 2000) | 6 lines

Make the length of a TAB customizable.

Suggested by:	Michael B. Allen <Michael_B_Allen@ml.com>
Submitted by:	Vitaly Stulsky <vitaly_stulsky@yahoo.com>
Modified by:	James Sieben <EUSJASI@am1.ericsson.se>

------------------------------------------------------------------------
r267740 | conor | 2000-07-06 12:48:27 -0400 (Thu, 06 Jul 2000) | 12 lines

Move to task level logging

This patch removes the concept of currentTarget and currentTask from the
BuildEvents code. To facilitate this I have moved logging to the task
level which now passes a task pointer to the project's log method.

Task level logging may also allow for more fine grained control of logging
in the future.

I have left the Project's log methods public to allow people's custom
tasks to continue to work. In the future these can become private.

------------------------------------------------------------------------
r267739 | conor | 2000-07-06 08:30:50 -0400 (Thu, 06 Jul 2000) | 7 lines

Add support for multiple source paths to Javac
These can either be specified as path strings or nested elements. The path
strings use the same separator conventions as other paths in Ant.

When using nested elements, each component can be specified in a separate
<src> element.

------------------------------------------------------------------------
r267738 | rubys | 2000-07-05 15:38:31 -0400 (Wed, 05 Jul 2000) | 5 lines

Override the logging of Javadoc output in order to filter out
Generating messages.  Generating messages are set to a priority
of VERBOSE unless they appear after what could be an
informational message.

------------------------------------------------------------------------
r267737 | rubys | 2000-07-05 13:45:55 -0400 (Wed, 05 Jul 2000) | 3 lines

Fix a regression in a verbose message that I introduced recently...
Submitted by: Glenn McAllister

------------------------------------------------------------------------
r267736 | conor | 2000-07-05 11:36:14 -0400 (Wed, 05 Jul 2000) | 10 lines

Tasks for EJB development under Weblogic Server 4.51

This consists of four tasks - (documentation is coming)
ddcreator - converts deployment descriptors form text description to .ser files
ejbc - wrapper around weblogic ejbc compiler
wlrun - a task to run a weblogic server
wlstop - a task to stop a weblogic server

The last two tasks are most useful when they can be run asynchronously (also coming).

------------------------------------------------------------------------
r267735 | conor | 2000-07-05 11:24:28 -0400 (Wed, 05 Jul 2000) | 2 lines

Provide access to the return code of the JavaVM when it is forked.

------------------------------------------------------------------------
r267734 | bodewig | 2000-07-05 06:03:01 -0400 (Wed, 05 Jul 2000) | 3 lines

reintroduced the forseoverwrite attribute to copydir into build.xml
and made it work as well.

------------------------------------------------------------------------
r267732 | rubys | 2000-07-04 14:18:10 -0400 (Tue, 04 Jul 2000) | 8 lines

Various cleanups
1) Nomenclature: nested elements, not nested properties
2) Run task instead of
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r267731 | bodewig | 2000-07-04 06:03:37 -0400 (Tue, 04 Jul 2000) | 3 lines

Add the runtime classes to the compile classpath if using jikes.
Submitted by:	Colin 't Hart <cthart@gbs.com.au>

------------------------------------------------------------------------
r267730 | bodewig | 2000-07-04 05:30:21 -0400 (Tue, 04 Jul 2000) | 3 lines

Make Chmod a MatchingTask.
Submitted by:	Mariusz Nowostawski <mnowostawski@infoscience.otago.ac.nz>

------------------------------------------------------------------------
r267729 | conor | 2000-07-04 05:25:56 -0400 (Tue, 04 Jul 2000) | 7 lines

Add support for docletpath.

I have changed the patch as submitted to treat the docletpath as a classpath rather
than a file.

Submitted by:	Ernst de Haan <ernst@jollem.com>

------------------------------------------------------------------------
r267728 | bodewig | 2000-07-04 04:52:10 -0400 (Tue, 04 Jul 2000) | 3 lines

Make Rmic a matching task.
Submitted by:	David Maclean <david@cm.co.za>

------------------------------------------------------------------------
r267726 | conor | 2000-07-03 08:26:26 -0400 (Mon, 03 Jul 2000) | 3 lines

Have Exec log messages from its error stream with MSG_WARN rather
than having all messages logged at MSG_INFO.

------------------------------------------------------------------------
r267725 | conor | 2000-07-03 08:10:27 -0400 (Mon, 03 Jul 2000) | 12 lines

Clean up ant generated output

- Moved the remaining System.out
  calls to the DefaultLogger
- Cleaned up the default output
- Added System.exit to main()
  tools can still invoke the runBuild
  method without an exit being called.
- Changed javac task logging to stream out a line at a time

Submitted by:	Matt Foemmel <mpfoemme@ThoughtWorks.com>

------------------------------------------------------------------------
r267723 | conor | 2000-07-02 12:18:55 -0400 (Sun, 02 Jul 2000) | 3 lines

Catch IO Exceptions when running Jikes
Based on an observation by Matt Foemmel <mpfoemme@ThoughtWorks.com> a while ago.

------------------------------------------------------------------------
r267719 | rubys | 2000-06-30 11:12:51 -0400 (Fri, 30 Jun 2000) | 3 lines

Setter for fileextension not working
Submitted by: Heinz Richter <heinz.richter@ecmwf.int>

------------------------------------------------------------------------
r267717 | conor | 2000-06-30 09:55:32 -0400 (Fri, 30 Jun 2000) | 3 lines

Change delete failure checks to use return code rather than separate call
to exists

------------------------------------------------------------------------
r267716 | conor | 2000-06-30 08:51:05 -0400 (Fri, 30 Jun 2000) | 2 lines

Detect situations when files and directories cannot be deleted.

------------------------------------------------------------------------
r267715 | conor | 2000-06-30 07:40:23 -0400 (Fri, 30 Jun 2000) | 4 lines

Simple stylesheet for XML log output.

Submitted by:	Matt Foemmel <mpfoemme@ThoughtWorks.com>

------------------------------------------------------------------------
r267714 | conor | 2000-06-30 07:33:03 -0400 (Fri, 30 Jun 2000) | 2 lines

Fixes from Stefan

------------------------------------------------------------------------
r267713 | conor | 2000-06-29 11:45:41 -0400 (Thu, 29 Jun 2000) | 2 lines

Oops - make the new Javadoc work under JDK 1.1

------------------------------------------------------------------------
r267712 | conor | 2000-06-29 11:32:43 -0400 (Thu, 29 Jun 2000) | 4 lines

Update javadoc task to support multiple link and group options.

Submitted by:	Patrick Chanezon <chanezon@netscape.com>

------------------------------------------------------------------------
r267710 | bodewig | 2000-06-29 09:35:33 -0400 (Thu, 29 Jun 2000) | 4 lines

reverted unnecessary change to Task.setProject intorduced with the
Touch patch. Expand and Untar use Project.createTask now.
Submitted by:	Glenn McAllister <glennm@ca.ibm.com>

------------------------------------------------------------------------
r267709 | bodewig | 2000-06-29 06:45:24 -0400 (Thu, 29 Jun 2000) | 2 lines

Fixed typo in comment.

------------------------------------------------------------------------
r267708 | bodewig | 2000-06-29 06:23:41 -0400 (Thu, 29 Jun 2000) | 14 lines

New task Touch. Expand now also retains the time from the Zipfile.

Touch works somewhat like the Unix touch(1) command. It changes the
modification time of files and maybe creates a new file if the
requested one doesn't exist.

In JDK 1.1 only the creation of new files will work, all other cases
generate warning messages.

Expand and Untar reuse Touch to set the modification times of the
expanded files from the information inside the archive.

I had to make Task.setProject public to ease reuse.

------------------------------------------------------------------------
r267706 | bodewig | 2000-06-27 07:12:12 -0400 (Tue, 27 Jun 2000) | 2 lines

Store the modification time of the files inside the ZIP file.

------------------------------------------------------------------------
r267705 | bodewig | 2000-06-27 06:42:24 -0400 (Tue, 27 Jun 2000) | 2 lines

Added forceoverwrite attribute to copydir.

------------------------------------------------------------------------
r267704 | bodewig | 2000-06-27 06:36:02 -0400 (Tue, 27 Jun 2000) | 4 lines

Added -version switch.

Suggested by:	Peter Donald <donaldp@mad.scientist.com>

------------------------------------------------------------------------
r267703 | bodewig | 2000-06-26 08:46:55 -0400 (Mon, 26 Jun 2000) | 12 lines

Add includesfile and excludesfile attributes to MatchingTask.

This adds the ability to keep the patterns for inclusion/exclusion
separate from the buildfile - increasing the readability in some
difficult cases.

The code is based on the patch submitted by Aaron on 2000/05/24 with
some modifications.

Submitted by:	Aaron Knauf <AaronK@geniesystems.com>
Reviewed by:

------------------------------------------------------------------------
r267702 | bodewig | 2000-06-26 06:47:36 -0400 (Mon, 26 Jun 2000) | 4 lines

Propagate a caught Exception inside the thrown BuildException.
Suggested by:	Julien Couvreur <jcouvreur@redcart.com>
Reviewed by:

------------------------------------------------------------------------
r267701 | conor | 2000-06-25 11:18:39 -0400 (Sun, 25 Jun 2000) | 5 lines

Allow the use of the JAVACMD environment variable in ant.bat to modify
how ant's JVM is invoked.

This aligns ant.bat with the ant shell script version.

------------------------------------------------------------------------
r267700 | conor | 2000-06-25 08:36:45 -0400 (Sun, 25 Jun 2000) | 2 lines

Deprecate the implicit copying of support files by Javac.

------------------------------------------------------------------------
r267699 | conor | 2000-06-25 07:45:19 -0400 (Sun, 25 Jun 2000) | 7 lines

Make <replace> a matching task

This is based on the concept in the patch submitted by Charles Tewksbury
although the implementation details are a little different.

Submitted by:	Charles Tewksbury <tewks@adhesive.com>

------------------------------------------------------------------------
r267698 | conor | 2000-06-24 12:01:07 -0400 (Sat, 24 Jun 2000) | 5 lines

Remove System.exit calls.

These have been replaced by propagating BuildExceptions. This will allow ant
to be more easily used from GUIs, IDEs, etc

------------------------------------------------------------------------
r267697 | conor | 2000-06-24 11:17:00 -0400 (Sat, 24 Jun 2000) | 6 lines

Fix handling of $$ in properties
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r267696 | conor | 2000-06-24 08:57:24 -0400 (Sat, 24 Jun 2000) | 6 lines

Fix typo in netrexxc optional task
PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r267695 | conor | 2000-06-24 07:03:35 -0400 (Sat, 24 Jun 2000) | 7 lines

Update NetRexxC task to new build events system

PR:
Obtained from:
Submitted by:	Matt Foemmel <mpfoemme@ThoughtWorks.com>
Reviewed by:

------------------------------------------------------------------------
r267694 | conor | 2000-06-24 06:55:45 -0400 (Sat, 24 Jun 2000) | 23 lines

Add BuildEvents to Ant

The basic idea is to keep the core build engine "clean" and free of any
presentation logic, and to make it easier to extend Ant with other features
without cluttering up the core. To do this, I've defined a BuildListener
interface and added an "addBuildListener" method to Project that can be
used to register listener objects. Listeners could be implemented to
generate reports, send out emails when the build is complete, create a
bill of materials, etc...

The only new functionality visible to the end-user is a "-listener" option
on the command line that will let you specify the name of a class. An
instance of this class will be added as a listener to the project. I've
included a listener that will generate an XML log file, which you can use
by typing the command below.

build -listener org.apache.tools.ant.XmlLogger

PR:
Obtained from:
Submitted by:	Matt Foemmel <mpfoemme@ThoughtWorks.com>
Reviewed by:

------------------------------------------------------------------------
r267693 | jhunter | 2000-06-23 22:46:17 -0400 (Fri, 23 Jun 2000) | 10 lines

Added MailMessage.  Hope people don't mind that I left it in
com.oreilly.servlet.  I did that since it's going to be a mirror
of what's in the larger com.oreilly.servlet package.  I put
it under the Apache license of course, and added the ASF as an
additional copyright holder.  Code can have two copyright holders,
meaning either party can do as they wish with the code.  This lets
the ASF upgrade to Apache License 1.2 sometime in the future, and
lets me be able to use the code without thanking the ASF for code
I wrote.  :-)  Updated build.xml to handle the new package.

------------------------------------------------------------------------
r267692 | rubys | 2000-06-23 17:18:07 -0400 (Fri, 23 Jun 2000) | 3 lines

Fine tune startup (handle liaison being present but processor not in
classpath)

------------------------------------------------------------------------
r267691 | rubys | 2000-06-23 17:00:51 -0400 (Fri, 23 Jun 2000) | 2 lines

Now, commit something that works...

------------------------------------------------------------------------
r267690 | rubys | 2000-06-23 12:47:11 -0400 (Fri, 23 Jun 2000) | 2 lines

Add an XSLT (style) task.  Based on code from Assaf Arkin.

------------------------------------------------------------------------
r267689 | bodewig | 2000-06-23 10:50:34 -0400 (Fri, 23 Jun 2000) | 3 lines

Added date attribute to CVS task.
Submitted by:	Steven_Yelton@adware.com

------------------------------------------------------------------------
r267688 | bodewig | 2000-06-23 10:38:19 -0400 (Fri, 23 Jun 2000) | 3 lines

Several contributed documentation updates. New task patch.
Submitted by:   Gary Murphy <jakarta@hilbertinc.com>

------------------------------------------------------------------------
r267687 | bodewig | 2000-06-23 10:17:17 -0400 (Fri, 23 Jun 2000) | 4 lines

Improved error messages if srcdir doesn't exist.

Submitted by: Peter Nordlund <peter.nordlund@lentus.se>

------------------------------------------------------------------------
r267685 | rubys | 2000-06-21 13:19:08 -0400 (Wed, 21 Jun 2000) | 2 lines

Fix typo.  Thanks Conor!

------------------------------------------------------------------------
r267683 | rubys | 2000-06-18 08:24:47 -0400 (Sun, 18 Jun 2000) | 2 lines

Add a test which will compile and load a task definition.

------------------------------------------------------------------------
r267682 | conor | 2000-06-17 22:22:23 -0400 (Sat, 17 Jun 2000) | 10 lines

Better reporting of errors when JAXP not present.

Catch NoClassDefFoundError as well as NullPointerException and
emit a more meaningful error message.

Change BuildException to accept Errors as well as Exceptions
as cause.

Submitted by:	Stefan Bodewig <bodewig@bost.de>

------------------------------------------------------------------------
r267680 | conor | 2000-06-17 11:38:42 -0400 (Sat, 17 Jun 2000) | 13 lines

Extend CVS Task functionality.

This patch adds quiet and noexec attributes (for the -q and -n
switches) and a command attribute that specifies which CVS command to
execute.

The default command is "checkout" to remain compatible to the existing
behaviour.

Submitted by:
	Wolfgang Werner [wwerner@picturesafe.de]
	update by Stefan Bodewig [bodewig@bost.de]

------------------------------------------------------------------------
r267679 | arnout | 2000-06-17 08:57:48 -0400 (Sat, 17 Jun 2000) | 4 lines

Fix for Tar-time

Submitted by:	Stefan Bodewig <bodewig@bost.de>

------------------------------------------------------------------------
r267678 | rubys | 2000-06-15 21:46:13 -0400 (Thu, 15 Jun 2000) | 3 lines

Make Delete a matchingTask
Submitted by: Tom Dimock <tad1@cornell.edu>

------------------------------------------------------------------------
r267676 | rubys | 2000-06-14 08:42:14 -0400 (Wed, 14 Jun 2000) | 3 lines

Javadoc 1.2 multiple group support
Submitted by: Donald Leslie <Donald_Leslie@lotus.com>

------------------------------------------------------------------------
r267675 | rubys | 2000-06-13 21:40:21 -0400 (Tue, 13 Jun 2000) | 2 lines

log informational messages when classes are not available

------------------------------------------------------------------------
r267673 | rubys | 2000-05-27 18:21:10 -0400 (Sat, 27 May 2000) | 3 lines

Make sure that properies from the command line and/or parent projects
override properties specified in the build.xml file.

------------------------------------------------------------------------
r267671 | arnout | 2000-05-24 10:35:22 -0400 (Wed, 24 May 2000) | 4 lines

Two new tasks, untar & gunzip, to complement the tar & gzip.

Submitted by:	Stefan Bodewig <stefan.bodewig@megabit.net>

------------------------------------------------------------------------
r267670 | arnout | 2000-05-24 02:45:05 -0400 (Wed, 24 May 2000) | 4 lines

Fixed problem when an empty tag was supplied.

Submitted by:	Jean-Noel Gadreau <jngadreau@activcard.com>

------------------------------------------------------------------------
r267667 | rubys | 2000-05-23 08:08:17 -0400 (Tue, 23 May 2000) | 3 lines

Support JDK 1.3 (a.k.a. "modern") compiler.
Submitted by: Robin Green <greenrd@hotmail.com>

------------------------------------------------------------------------
r267665 | arnout | 2000-05-20 06:58:17 -0400 (Sat, 20 May 2000) | 4 lines

Added a "compress" attribute to the Zip and Jar task.

Submitted by:	Stefan Bodewig (bodewig@bost.de)

------------------------------------------------------------------------
r267664 | duncan | 2000-05-10 19:01:07 -0400 (Wed, 10 May 2000) | 4 lines

Hack to make clear that Modern compiler isn't yet implemented. Of course,
a real solution is needed, but I didn't want to see any more unneeded
confusion over this.

------------------------------------------------------------------------
r267663 | arnout | 2000-04-28 04:45:21 -0400 (Fri, 28 Apr 2000) | 4 lines

Properly set the "ant.java.version" property.

Submitted by:	Justyna Horwat

------------------------------------------------------------------------
r267657 | rubys | 2000-04-26 17:21:04 -0400 (Wed, 26 Apr 2000) | 2 lines

Cleanup things missed with JAXP/SAX 1.0 fixes

------------------------------------------------------------------------
r267656 | rubys | 2000-04-26 15:09:17 -0400 (Wed, 26 Apr 2000) | 3 lines

Support JAXP and SAX1.0
Submitted by: Matt Foemmel

------------------------------------------------------------------------
r267651 | rubys | 2000-04-12 12:20:53 -0400 (Wed, 12 Apr 2000) | 3 lines

Ant should not depend on tasks unless they are used.
PR: 217

------------------------------------------------------------------------
r267650 | rubys | 2000-04-01 17:35:25 -0500 (Sat, 01 Apr 2000) | 3 lines

Now make it work with JDK1.2.2.  Thanks Craig for bringing it to my
attention!

------------------------------------------------------------------------
r267648 | rubys | 2000-04-01 09:25:07 -0500 (Sat, 01 Apr 2000) | 4 lines

JavaDoc doesn't use basedir for sourcePath
PR: 61
Obtained from: will+ant@cs.cmu.edu

------------------------------------------------------------------------
r267647 | rubys | 2000-04-01 08:48:04 -0500 (Sat, 01 Apr 2000) | 4 lines

Support UNC filenames (\\server\path\file) on Windows platforms
PR: 131
Submitted by: wolf.siberski@tui.de

------------------------------------------------------------------------
r267646 | rubys | 2000-04-01 08:42:56 -0500 (Sat, 01 Apr 2000) | 4 lines

<available file="name"> doesn't work
PR: 95
Submitted by: mdaniel@scdi.com

------------------------------------------------------------------------
r267645 | rubys | 2000-04-01 07:44:50 -0500 (Sat, 01 Apr 2000) | 3 lines

Restore the ability to define properties and taskdefs outside the scope
of any target.

------------------------------------------------------------------------
r267644 | rubys | 2000-03-29 12:13:31 -0500 (Wed, 29 Mar 2000) | 3 lines

Allow java classes to be called with no arguments
PR: 133

------------------------------------------------------------------------
r267643 | costin | 2000-03-28 15:40:18 -0500 (Tue, 28 Mar 2000) | 7 lines

Added "output" parameter to Ant - it will allow the redirection of output.

PR:
Obtained from:
Submitted by:
Reviewed by:

------------------------------------------------------------------------
r267641 | rubys | 2000-03-22 22:40:32 -0500 (Wed, 22 Mar 2000) | 3 lines

Add a rename task
Submitted by: Thomas Haas <thomas.haas@softwired-inc.com>

------------------------------------------------------------------------
r267640 | rubys | 2000-03-20 10:45:34 -0500 (Mon, 20 Mar 2000) | 3 lines

fixed comments and error message
Submitted by: dIon Gillard <dion@multitask.com.au>

------------------------------------------------------------------------
r267639 | rubys | 2000-03-19 20:51:21 -0500 (Sun, 19 Mar 2000) | 2 lines

Add new tasks to the list...

------------------------------------------------------------------------
r267638 | rubys | 2000-03-19 15:27:44 -0500 (Sun, 19 Mar 2000) | 2 lines

Allow names to be used as id references

------------------------------------------------------------------------
r267637 | rubys | 2000-03-19 12:57:03 -0500 (Sun, 19 Mar 2000) | 10 lines

NetRexxC and supporting taskdefs.

NetRexxC 1.160 or higher needed (due to bugs in the way the compiler
handles error streams).

Note: I changed the package names and converted the calls from using
Introspection to directly calling the compiler.

Submitted by: dIon Gillard <dion@multitask.com.au>

------------------------------------------------------------------------
r267636 | rubys | 2000-03-18 22:35:48 -0500 (Sat, 18 Mar 2000) | 3 lines

Added an *OPTIONAL* task which will allow a script, embedded or external,
to be executed.

------------------------------------------------------------------------
r267635 | rubys | 2000-03-18 20:22:23 -0500 (Sat, 18 Mar 2000) | 2 lines

Provide a reasonable message when only an exception is provided.

------------------------------------------------------------------------
r267628 | rubys | 2000-03-04 15:07:02 -0500 (Sat, 04 Mar 2000) | 3 lines

Allow subclasses to extend scanDir functionality
Submitted by: Jorgen Thelin <ant-dev@sw-technologies.com>

------------------------------------------------------------------------
r267626 | stefano | 2000-03-03 09:15:42 -0500 (Fri, 03 Mar 2000) | 2 lines

called "javadoc" directly to avoid classpath problems that bugged many cocoon devs (it didn't happen to me because  was setting tools.jar in my autoexec.bat... now I have a clean classpath and everything works fine on both 1.2 and 1.1

------------------------------------------------------------------------
r267625 | akv | 2000-03-02 15:40:04 -0500 (Thu, 02 Mar 2000) | 3 lines

(Possibly temporary) Fix for getting Taskdef in build files to actually work.
Fixing this because watchdog is broken.

------------------------------------------------------------------------
r267624 | rubys | 2000-02-28 21:59:57 -0500 (Mon, 28 Feb 2000) | 4 lines

Remove the portion of MatchingTask that duplicates logic present in
the Available task.  This isn't Perl - we want only one clean way to
do things here.

------------------------------------------------------------------------
r267623 | rubys | 2000-02-28 09:10:46 -0500 (Mon, 28 Feb 2000) | 11 lines

Remove special processing for init.

Tested with the latest versions of:
  jakarta-ant
  jakarta-tomcat
  jakarta-tools
  jakarta-watchdog
  xml-xerces
  xml-xalan
  xml-cocoon

------------------------------------------------------------------------
r267621 | rubys | 2000-02-27 21:17:57 -0500 (Sun, 27 Feb 2000) | 6 lines

First installment on \x/ill Uther's changes.

While some (like chmod) are clearly Mac motivated, others (like Javac) are
fixes to bugs that can appear on any platform.
Submitted by: William Uther <will+ant@cs.cmu.edu>

------------------------------------------------------------------------
r267620 | rubys | 2000-02-27 14:13:56 -0500 (Sun, 27 Feb 2000) | 3 lines

Issue a warning if a java source is found to be modified in the future
relative to the clock on the current machine.

------------------------------------------------------------------------
r267619 | rubys | 2000-02-26 20:47:46 -0500 (Sat, 26 Feb 2000) | 6 lines

Emulate extdirs feature with Jikes compiler.

Also fix two files to compile with the more strict Jikes compiler.

Submitted by: Sebastian Kanthak	<sebastian.kanthak@muehlheim.de>

------------------------------------------------------------------------
r267618 | costin | 2000-02-24 16:57:20 -0500 (Thu, 24 Feb 2000) | 7 lines

Added a new property to task: "description".
It can be used to add a short description of what the particular instance
of the task is doing - instead of/in addition to xml comments.

It can be usefull to display it if a task fails, and it's a good way to
document the file.

------------------------------------------------------------------------
r267617 | rubys | 2000-02-24 13:26:49 -0500 (Thu, 24 Feb 2000) | 2 lines

better backwards compatibility

------------------------------------------------------------------------
r267616 | costin | 2000-02-23 20:34:45 -0500 (Wed, 23 Feb 2000) | 5 lines

- Fixed ( workaround)  Deltree - didn't worked on taz or any machine with
/home sym-linked.

- make sure basedir is exposed as a property.

------------------------------------------------------------------------
r267615 | costin | 2000-02-23 19:57:43 -0500 (Wed, 23 Feb 2000) | 8 lines

- Get will try 3 times and has an option to ignore the errors

- build.xml - small changes to allow build from a different directory
( usefull for nightly, which is broken )

- set ant.file == the ant file that is executing ( we also set ant.home
to the home of ant )

------------------------------------------------------------------------
r267614 | costin | 2000-02-23 16:54:32 -0500 (Wed, 23 Feb 2000) | 4 lines

Use createProperty instead of addProperty.

(Thanks Sam )

------------------------------------------------------------------------
r267613 | rubys | 2000-02-23 16:11:17 -0500 (Wed, 23 Feb 2000) | 3 lines

Change design pattern for nested elements from "addBar" to "createBar"
based on a suggestion by Costin.

------------------------------------------------------------------------
r267612 | costin | 2000-02-23 15:46:53 -0500 (Wed, 23 Feb 2000) | 9 lines

- added "deep" properties to <ant> - you can now set properties for the
called antfile

- build.xml: read ~/.ant.properties if exist, it will allow override of local
properties ( you don't have to type -Dfoo=bar each time you run ant )

-  changed dist.dir to ant.dist.dir ( to allow users to set the destinations
per project in ant.properties )

------------------------------------------------------------------------
r267611 | rubys | 2000-02-16 09:31:45 -0500 (Wed, 16 Feb 2000) | 13 lines

This is a simple patch which adds an attribute "classname" as an alias for
the "class" attribute in various taskdefs. This is required for use under
JDK 1.3 (RC1) due to changes in the way introspection works. Don't know
about the final version of 1.3 but changing to "classname" is probably a
good idea in any case. By leaving the setClass method in place, current
build files can continue to be used under JDKs prior to 1.3. It also allows
time for build files to be migrated. Eventually setClass should be removed.

Note: I added a deprecation warning to the output whenever the class
      attribute is used.

Submitted by: Conor MacNeill <conor@m64.com>

------------------------------------------------------------------------
r267610 | rubys | 2000-02-15 22:24:44 -0500 (Tue, 15 Feb 2000) | 7 lines

Accept include and exclude nested XML elements.  Also allows for the
conditional inclusion/exclusion of paths based on the absence/presence
of specified classes in the class path.

If anybody has any better suggestions for the names of the attributes,
please let me know.

------------------------------------------------------------------------
r267609 | rubys | 2000-02-14 22:58:19 -0500 (Mon, 14 Feb 2000) | 2 lines

add support for nested properties

------------------------------------------------------------------------
r267607 | stefano | 2000-02-14 07:19:27 -0500 (Mon, 14 Feb 2000) | 2 lines

improved filtering granularity... now all tasks that use copyfile can turn filtering on and off on a task granularity level, useful to avoid binary corruption by filtering

------------------------------------------------------------------------
r267606 | rubys | 2000-02-13 16:44:00 -0500 (Sun, 13 Feb 2000) | 2 lines

remove debugging code

------------------------------------------------------------------------
r267605 | rubys | 2000-02-13 16:43:34 -0500 (Sun, 13 Feb 2000) | 2 lines

don't rebuild zip/jar files if they are up to date already

------------------------------------------------------------------------
r267604 | stefano | 2000-02-13 13:24:18 -0500 (Sun, 13 Feb 2000) | 25 lines

Several changes:

1)  restructured Project and Task: copyFile should be a project
method rather than a task method for good OO patterns. Well,
actually they should be target-granular but we'll see.

2)  patched all the necessary files to make the above work

3)  removed some unused methods (setAttributes())

4)  added the Filter task that addes token filtering capabilities
to all the copyFile operations. This works more or less as a
superstructure to Replace and KeySubst but automatically and
inherited by all the tasks that use copyFile() methods.

5)  indicated KeySubst as deprecated

6) updated docs to reflect this new behavior

NOTE: behavior is _totally_ back compatible if you don't
specify any <filter> tag.

NOTE2: nothing is carved in stone. If you don't like something
you're welcome to propose fixes.

------------------------------------------------------------------------
r267603 | rubys | 2000-02-12 17:19:18 -0500 (Sat, 12 Feb 2000) | 4 lines

Error assigning char data to a byte (Blackdown JDK 1.2.2).  Fixed by
casting the char to a byte.
Submitted by: Daniel Rall <dlr@finemaltcoding.com>

------------------------------------------------------------------------
r267602 | rubys | 2000-02-12 11:59:26 -0500 (Sat, 12 Feb 2000) | 3 lines

Add a task to convert a text file to local OS conventions.  Can also
be used to adjust tabs and spaces.  See documentation for details.

------------------------------------------------------------------------
r267601 | rubys | 2000-02-11 11:17:03 -0500 (Fri, 11 Feb 2000) | 7 lines

The Tstamp task uses incorrect formatting strings for DSTAMP & TSTAMP:

* Use the month format in DSTAMP (mm is minutes)
* Use the 24-hour hour format in TSTAMP (otherwise, at 7pm the TSTAMP will
be 0700 instead of 1900).
Submitted by: Glenn Twiggs <Glenn_Twiggs@bmc.com>

------------------------------------------------------------------------
r267599 | stefano | 2000-02-10 20:32:54 -0500 (Thu, 10 Feb 2000) | 6 lines

Added the init() method to Task

Added the "if" attribute to Target that executes it if and only if the property specified in the attribute is set

There might be better ways of doing it and don't consider this carved in stone, but it works, it's simple and vital for Cocoon.

------------------------------------------------------------------------
r267598 | stefano | 2000-02-10 20:31:24 -0500 (Thu, 10 Feb 2000) | 4 lines

Added "available" task that sets a property in case a file|class|resource is present in the system

Also, added an init() method to Tasks and cleaned up Property task

------------------------------------------------------------------------
r267597 | stefano | 2000-02-10 13:04:29 -0500 (Thu, 10 Feb 2000) | 2 lines

added Tar task + implementation classes

------------------------------------------------------------------------
r267596 | stefano | 2000-02-09 15:52:42 -0500 (Wed, 09 Feb 2000) | 2 lines

better abstraction on the includes/excludes

------------------------------------------------------------------------
r267595 | rubys | 2000-02-08 21:01:33 -0500 (Tue, 08 Feb 2000) | 3 lines

Javadoc improvements
Submitted by: Daniel Rall <dlr@finemaltcoding.com>

------------------------------------------------------------------------
r267594 | rubys | 2000-02-08 18:45:48 -0500 (Tue, 08 Feb 2000) | 3 lines

Shell portability fixes
Submitted by: Andrew Sudell <asudell@Op.Net>

------------------------------------------------------------------------
r267590 | rubys | 2000-02-06 16:16:57 -0500 (Sun, 06 Feb 2000) | 7 lines

1) Correct potential infinite loops when parsing invalid Java source
2) Correct Stefano's mailing address
3) Correct handling of escaped quotes in strings
4) Return exit code from the exec'd process as it may be useful

Submitted by: Michael Smith <michael@sneakerlabs.com>

------------------------------------------------------------------------
r267589 | rubys | 2000-02-06 14:28:54 -0500 (Sun, 06 Feb 2000) | 6 lines

Fixed javadoc so that it doesn't go into an infinite loop on lines such as:

    tmpExcludes.addElement("**/"+tok.nextToken().trim()+"/**");

(currently found in org.apache.tools.ant.taskdefs.Copydir)

------------------------------------------------------------------------
r267585 | arnout | 2000-02-06 11:16:29 -0500 (Sun, 06 Feb 2000) | 3 lines

Made tasks able to use the new pattern based directory scanning, while
retaining backwards compatibility.

------------------------------------------------------------------------
r267584 | arnout | 2000-02-06 11:13:55 -0500 (Sun, 06 Feb 2000) | 2 lines

Initial checkin

------------------------------------------------------------------------
r267582 | rubys | 2000-02-05 20:17:23 -0500 (Sat, 05 Feb 2000) | 2 lines

Restore support for > 9 parameters on exec calls on Windows

------------------------------------------------------------------------
r267581 | rubys | 2000-02-05 19:26:57 -0500 (Sat, 05 Feb 2000) | 2 lines

Merge classpath+sourcepath for jdk 1.1

------------------------------------------------------------------------
r267579 | rubys | 2000-01-31 09:09:14 -0500 (Mon, 31 Jan 2000) | 2 lines

JDK 1.1.8 apparently doesn't like self referencial imports

------------------------------------------------------------------------
r267578 | rubys | 2000-01-30 12:15:32 -0500 (Sun, 30 Jan 2000) | 2 lines

More ant.home cleanup

------------------------------------------------------------------------
r267577 | rubys | 2000-01-30 11:20:24 -0500 (Sun, 30 Jan 2000) | 2 lines

Ensure quoted strings for javadoc are interpreted properly by the shell

------------------------------------------------------------------------
r267576 | costin | 2000-01-26 23:43:52 -0500 (Wed, 26 Jan 2000) | 13 lines

Added TaskAdapter - allows use of external Beans, without requiring them to
extend Task or have any ideea that Ant will use them.

The only requirement is to have a
   void execute() throws Exception

That allows Tomcat ( and other projects) to define normal Beans and still
be able to script them.

The usage is identical with normal Task-extending Beans.

Also fixed bootstrap.sh.

------------------------------------------------------------------------
r267575 | stefano | 2000-01-26 22:57:32 -0500 (Wed, 26 Jan 2000) | 6 lines

transformed tabs into spaces...

BTW, Sam, my tests show the pumping threads
slow down the process to half of its original speed,
we should use a better method for this...

------------------------------------------------------------------------
r267574 | stefano | 2000-01-26 22:54:43 -0500 (Wed, 26 Jan 2000) | 2 lines

used the new boolean method

------------------------------------------------------------------------
r267573 | stefano | 2000-01-26 22:54:15 -0500 (Wed, 26 Jan 2000) | 2 lines

transformed tabs into spaces for more portable look

------------------------------------------------------------------------
r267572 | stefano | 2000-01-26 22:53:24 -0500 (Wed, 26 Jan 2000) | 2 lines

added ability to fork the JVM for those processes that call System.exit(), also added the JVM arguments

------------------------------------------------------------------------
r267571 | stefano | 2000-01-26 22:51:55 -0500 (Wed, 26 Jan 2000) | 2 lines

cleaner use of the Java API and added the "TODAY" stamp, used mainly in documentation

------------------------------------------------------------------------
r267570 | stefano | 2000-01-26 22:51:14 -0500 (Wed, 26 Jan 2000) | 2 lines

updated task list

------------------------------------------------------------------------
r267569 | stefano | 2000-01-26 22:50:58 -0500 (Wed, 26 Jan 2000) | 2 lines

new task: delete single file (strangely it was missing)

------------------------------------------------------------------------
r267568 | stefano | 2000-01-26 22:50:24 -0500 (Wed, 26 Jan 2000) | 2 lines

centralized and more generic method for evaluating boolean attributes

------------------------------------------------------------------------
r267567 | stefano | 2000-01-26 22:49:21 -0500 (Wed, 26 Jan 2000) | 2 lines

removed these: mixing the GPL with BSD is bad, no matter what...

------------------------------------------------------------------------
r267566 | stefano | 2000-01-26 22:48:46 -0500 (Wed, 26 Jan 2000) | 2 lines

small cleanups

------------------------------------------------------------------------
r267562 | rubys | 2000-01-25 22:46:06 -0500 (Tue, 25 Jan 2000) | 3 lines

Simultaneously consume both the stdout and stderr during exec calls
(StreamPumper code based on org.apache.jasper.compiler.JikesJavaCompiler)

------------------------------------------------------------------------
r267561 | rubys | 2000-01-25 19:54:35 -0500 (Tue, 25 Jan 2000) | 4 lines

Better support for jdk1.2, keep the generated source files and put them in
a separate folder
Submitted by: Ludovic Claude <lc@websitewatchers.com>

------------------------------------------------------------------------
r267560 | rubys | 2000-01-25 18:03:22 -0500 (Tue, 25 Jan 2000) | 5 lines

Main: fixed a pb with the -D parameter
Project: prints the os as well as jdk version
taskdefs.Exec: Fixed issues with Win95
Submitted by: Ludovic Claude <lc@websitewatchers.com>

------------------------------------------------------------------------
r267559 | stefano | 2000-01-23 19:15:08 -0500 (Sun, 23 Jan 2000) | 2 lines

Added the ability to dump everything to a file.

------------------------------------------------------------------------
r267558 | stefano | 2000-01-23 06:39:13 -0500 (Sun, 23 Jan 2000) | 2 lines

new javadoc task now extends exec and spawns another JVM to go around the system.exit() problems

------------------------------------------------------------------------
r267557 | stefano | 2000-01-23 06:38:22 -0500 (Sun, 23 Jan 2000) | 2 lines

removed security manager

------------------------------------------------------------------------
r267554 | rubys | 2000-01-20 23:44:50 -0500 (Thu, 20 Jan 2000) | 3 lines

Copydir shouldn't warn that it is doing what is requested
Submitted by: Glenn Twiggs <Glenn_Twiggs@bmc.com>

------------------------------------------------------------------------
r267551 | rubys | 2000-01-13 21:13:19 -0500 (Thu, 13 Jan 2000) | 3 lines

Misc doc, scoping, style and error recovery issues
Submitted by: Kare Nuorteva <kare@satama.com>

------------------------------------------------------------------------
r267549 | duncan | 2000-01-13 05:42:41 -0500 (Thu, 13 Jan 2000) | 2 lines

initial checkin

------------------------------------------------------------------------
